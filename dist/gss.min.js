/* gss-engine - version 2.0.0 (2015-02-02) - http://gridstylesheets.org */
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a){(function(b){b.GSS=a("../src/GSS"),b.GSS.Document=a("../src/Document"),b.GSS.Parser=a("ccss-compiler")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../src/Document":13,"../src/GSS":15,"ccss-compiler":3}],2:[function(a,b){(function(){!function(a){"use strict";try{!function(){}.bind(a)}catch(c){Object.defineProperty(Function.prototype,"bind",{value:function(a){var b=this;return function(){return b.apply(a,arguments)}},enumerable:!1,configurable:!0,writable:!0})}var d="undefined"!=typeof a.HTMLElement,e=function(a){for(var b=null;a&&a!=Object.prototype;){if(a.tagName){b=a.tagName;break}a=a.prototype}return b||"div"},f=1e-8,g={},h=function(a,b){if(a&&b){if("function"==typeof a[b])return a[b];var c=a.prototype;if(c&&"function"==typeof c[b])return c[b];if(c!==Object.prototype&&c!==Function.prototype)return"function"==typeof a.__super__?h(a.__super__,b):void 0}},i=a.c=function(){return i._api?i._api.apply(this,arguments):void 0};i.debug=!1,i.trace=!1,i.verbose=!1,i.traceAdded=!1,i.GC=!1,i.GEQ=1,i.LEQ=2,i.inherit=function(b){var c=null,f=null;b["extends"]&&(f=b["extends"],delete b["extends"]),b.initialize&&(c=b.initialize,delete b.initialize);var h=c||function(){};Object.defineProperty(h,"__super__",{value:f?f:Object,enumerable:!1,configurable:!0,writable:!1}),b._t&&(g[b._t]=h);var j=h.prototype=Object.create(f?f.prototype:Object.prototype);if(i.extend(j,b),d&&f&&f.prototype instanceof a.HTMLElement){var k=h,l=e(j),m=function(a){return a.__proto__=j,k.apply(a,arguments),j.created&&a.created(),j.decorate&&a.decorate(),a};this.extend(j,{upgrade:m}),h=function(){return m(a.document.createElement(l))},h.prototype=j,this.extend(h,{ctor:k})}return h},i.own=function(b,c,d){return Object.getOwnPropertyNames(b).forEach(c,d||a),b},i.extend=function(a,b){return i.own(b,function(c){var d=Object.getOwnPropertyDescriptor(b,c);try{"function"==typeof d.get||"function"==typeof d.set?Object.defineProperty(a,c,d):"function"==typeof d.value||"_"===c.charAt(0)?(d.writable=!0,d.configurable=!0,d.enumerable=!1,Object.defineProperty(a,c,d)):a[c]=b[c]}catch(e){}}),a},i.traceprint=function(a){i.verbose&&console.log(a)},i.fnenterprint=function(a){console.log("* "+a)},i.fnexitprint=function(a){console.log("- "+a)},i.assert=function(a,b){if(!a)throw new i.InternalError("Assertion failed: "+b)};var j=function(a){return"number"==typeof a?i.Expression.fromConstant(a):a instanceof i.Variable?i.Expression.fromVariable(a):a};i.plus=function(a,b){return a=j(a),b=j(b),a.plus(b)},i.minus=function(a,b){return a=j(a),b=j(b),a.minus(b)},i.times=function(a,b){return a=j(a),b=j(b),a.times(b)},i.divide=function(a,b){return a=j(a),b=j(b),a.divide(b)},i.approx=function(a,b){return a===b?!0:(a=+a,b=+b,0==a?Math.abs(b)<f:0==b?Math.abs(a)<f:Math.abs(a-b)<Math.abs(a)*f)};var k=1;i._inc=function(){return k++},i.parseJSON=function(a){return JSON.parse(a,function(a,b){if("object"!=typeof b||"string"!=typeof b._t)return b;var c=b._t,d=g[c];if(c&&d){var e=h(d,"fromJSON");if(e)return e(b,d)}return b})},"function"==typeof define&&define.amd?define(i):"object"==typeof b&&b.exports?b.exports=i:a.c=i}(this),function(a){"use strict";var b=function(a,b){Object.keys(a).forEach(function(c){b[c]=a[c]})},c={};a.HashTable=a.inherit({initialize:function(){this.size=0,this._store={},this._keyStrMap={},this._deleted=0},set:function(a,b){var c=a.hashCode;"undefined"==typeof this._store[c]&&this.size++,this._store[c]=b,this._keyStrMap[c]=a},get:function(a){if(!this.size)return null;a=a.hashCode;var b=this._store[a];return"undefined"!=typeof b?this._store[a]:null},clear:function(){this.size=0,this._store={},this._keyStrMap={}},_compact:function(){var a={};b(this._store,a),this._store=a},_compactThreshold:100,_perhapsCompact:function(){this._size>30||this._deleted>this._compactThreshold&&(this._compact(),this._deleted=0)},"delete":function(a){a=a.hashCode,this._store.hasOwnProperty(a)&&(this._deleted++,delete this._store[a],this.size>0&&this.size--)},each:function(a,b){if(this.size){this._perhapsCompact();var c=this._store,d=this._keyStrMap;for(var e in this._store)this._store.hasOwnProperty(e)&&a.call(b||null,d[e],c[e])}},escapingEach:function(a,b){if(this.size){this._perhapsCompact();for(var d=this,e=this._store,f=this._keyStrMap,g=c,h=Object.keys(e),i=0;i<h.length;i++)if(function(c){d._store.hasOwnProperty(c)&&(g=a.call(b||null,f[c],e[c]))}(h[i]),g){if(void 0!==g.retval)return g;if(g.brk)break}}},clone:function(){var c=new a.HashTable;return this.size&&(c.size=this.size,b(this._store,c._store),b(this._keyStrMap,c._keyStrMap)),c},equals:function(b){if(b===this)return!0;if(!(b instanceof a.HashTable)||b._size!==this._size)return!1;for(var c=Object.keys(this._store),d=0;d<c.length;d++){var e=c[d];if(this._keyStrMap[e]!==b._keyStrMap[e]||this._store[e]!==b._store[e])return!1}return!0},toString:function(){var a="";return this.each(function(b,c){a+=b+" => "+c+"\n"}),a}})}(this.c||b.parent.exports||{}),function(a){"use strict";a.HashSet=a.inherit({_t:"c.HashSet",initialize:function(){this.storage=[],this.size=0,this.hashCode=a._inc()},add:function(a){var b=this.storage;b.indexOf(a),-1==b.indexOf(a)&&(b[b.length]=a),this.size=this.storage.length},values:function(){return this.storage},has:function(a){var b=this.storage;return-1!=b.indexOf(a)},"delete":function(a){var b=this.storage.indexOf(a);return-1==b?null:(this.storage.splice(b,1)[0],void(this.size=this.storage.length))},clear:function(){this.storage.length=0},each:function(a,b){this.size&&this.storage.forEach(a,b)},escapingEach:function(a,b){this.size&&this.storage.forEach(a,b)},toString:function(){var a=this.size+" {",b=!0;return this.each(function(c){b?b=!1:a+=", ",a+=c}),a+="}\n"},toJSON:function(){var a=[];return this.each(function(b){a[a.length]=b.toJSON()}),{_t:"c.HashSet",data:a}},fromJSON:function(b){var c=new a.HashSet;return b.data&&(c.size=b.data.length,c.storage=b.data),c}})}(this.c||b.parent.exports||{}),function(a){"use strict";a.Error=a.inherit({initialize:function(a){a&&(this._description=a)},_name:"c.Error",_description:"An error has occured in Cassowary",set description(a){this._description=a},get description(){return"("+this._name+") "+this._description},get message(){return this.description},toString:function(){return this.description}});var b=function(b,c){return a.inherit({"extends":a.Error,initialize:function(){a.Error.apply(this,arguments)},_name:b||"",_description:c||""})};a.ConstraintNotFound=b("c.ConstraintNotFound","Tried to remove a constraint never added to the tableu"),a.InternalError=b("c.InternalError"),a.NonExpression=b("c.NonExpression","The resulting expression would be non"),a.NotEnoughStays=b("c.NotEnoughStays","There are not enough stays to give specific values to every variable"),a.RequiredFailure=b("c.RequiredFailure","A required constraint cannot be satisfied"),a.TooDifficult=b("c.TooDifficult","The constraints are too difficult to solve")}(this.c||b.parent.exports||{}),function(a){"use strict";var b=1e3;a.SymbolicWeight=a.inherit({_t:"c.SymbolicWeight",initialize:function(){this.value=0;for(var a=1,c=arguments.length-1;c>=0;--c)this.value+=arguments[c]*a,a*=b},toJSON:function(){return{_t:this._t,value:this.value}}})}(this.c||b.parent.exports||{}),function(a){a.Strength=a.inherit({initialize:function(b,c,d,e){this.name=b,this.symbolicWeight=c instanceof a.SymbolicWeight?c:new a.SymbolicWeight(c,d,e)},get required(){return this===a.Strength.required},toString:function(){return this.name+(this.isRequired?"":":"+this.symbolicWeight)}}),a.Strength.required=new a.Strength("<Required>",1e3,1e3,1e3),a.Strength.strong=new a.Strength("strong",1,0,0),a.Strength.medium=new a.Strength("medium",0,1,0),a.Strength.weak=new a.Strength("weak",0,0,1)}(this.c||("undefined"!=typeof b?b.parent.exports.c:{})),function(a){"use strict";a.AbstractVariable=a.inherit({isDummy:!1,isExternal:!1,isPivotable:!1,isRestricted:!1,_init:function(b,c){this.hashCode=a._inc(),this.name=(c||"")+this.hashCode,b&&("undefined"!=typeof b.name&&(this.name=b.name),"undefined"!=typeof b.value&&(this.value=b.value),"undefined"!=typeof b.prefix&&(this._prefix=b.prefix))},_prefix:"",name:"",value:0,valueOf:function(){return this.value},toJSON:function(){var a={};return this._t&&(a._t=this._t),this.name&&(a.name=this.name),"undefined"!=typeof this.value&&(a.value=this.value),this._prefix&&(a._prefix=this._prefix),this._t&&(a._t=this._t),a},fromJSON:function(b,c){var d=new c;return a.extend(d,b),d},toString:function(){return this._prefix+"["+this.name+":"+this.value+"]"}}),a.Variable=a.inherit({_t:"c.Variable","extends":a.AbstractVariable,initialize:function(b){this._init(b,"v");var c=a.Variable._map;c&&(c[this.name]=this)},isExternal:!0}),a.DummyVariable=a.inherit({_t:"c.DummyVariable","extends":a.AbstractVariable,initialize:function(a){this._init(a,"d")},isDummy:!0,isRestricted:!0,value:"dummy"}),a.ObjectiveVariable=a.inherit({_t:"c.ObjectiveVariable","extends":a.AbstractVariable,initialize:function(a){this._init(a,"o")},value:"obj"}),a.SlackVariable=a.inherit({_t:"c.SlackVariable","extends":a.AbstractVariable,initialize:function(a){this._init(a,"s")},isPivotable:!0,isRestricted:!0,value:"slack"})}(this.c||b.parent.exports||{}),function(a){"use strict";a.Point=a.inherit({initialize:function(b,c,d){if(b instanceof a.Variable)this._x=b;else{var e={value:b};d&&(e.name="x"+d),this._x=new a.Variable(e)}if(c instanceof a.Variable)this._y=c;else{var f={value:c};d&&(f.name="y"+d),this._y=new a.Variable(f)}},get x(){return this._x},set x(b){b instanceof a.Variable?this._x=b:this._x.value=b},get y(){return this._y},set y(b){b instanceof a.Variable?this._y=b:this._y.value=b},toString:function(){return"("+this.x+", "+this.y+")"}})}(this.c||b.parent.exports||{}),function(a){"use strict";var b=function(a,b){return"number"==typeof a?a:b};a.Expression=a.inherit({initialize:function(c,d,e){this.constant=b(e,0),this.terms=new a.HashTable,c instanceof a.AbstractVariable?(d=b(d,1),this.setVariable(c,d)):"number"==typeof c&&(isNaN(c)?console.trace():this.constant=c)},initializeFromHash:function(b,c){return a.verbose&&(console.log("*******************************"),console.log("clone c.initializeFromHash"),console.log("*******************************")),a.GC&&console.log("clone c.Expression"),this.constant=b,this.terms=c.clone(),this},multiplyMe:function(a){this.constant*=a;var b=this.terms;return b.each(function(c,d){b.set(c,d*a)}),this},clone:function(){a.verbose&&(console.log("*******************************"),console.log("clone c.Expression"),console.log("*******************************"));var b=a.Expression.empty();return b.initializeFromHash(this.constant,this.terms),b},times:function(b){if("number"==typeof b)return this.clone().multiplyMe(b);if(this.isConstant)return b.times(this.constant);if(b.isConstant)return this.times(b.constant);throw new a.NonExpression},plus:function(b){return b instanceof a.Expression?this.clone().addExpression(b,1):b instanceof a.Variable?this.clone().addVariable(b,1):void 0},minus:function(b){return b instanceof a.Expression?this.clone().addExpression(b,-1):b instanceof a.Variable?this.clone().addVariable(b,-1):void 0},divide:function(b){if("number"==typeof b){if(a.approx(b,0))throw new a.NonExpression;return this.times(1/b)}if(b instanceof a.Expression){if(!b.isConstant)throw new a.NonExpression;return this.times(1/b.constant)}},addExpression:function(c,d,e,f){return c instanceof a.AbstractVariable&&(c=a.Expression.fromVariable(c)),d=b(d,1),this.constant+=d*c.constant,c.terms.each(function(a,b){this.addVariable(a,b*d,e,f)},this),this},addVariable:function(b,c,d,e){null==c&&(c=1);var f=this.terms.get(b);if(f){var g=f+c;0==g||a.approx(g,0)?(e&&e.noteRemovedVariable(b,d),this.terms["delete"](b)):this.setVariable(b,g)}else a.approx(c,0)||(this.setVariable(b,c),e&&e.noteAddedVariable(b,d));return this},setVariable:function(a,b){return this.terms.set(a,b),this},anyPivotableVariable:function(){if(this.isConstant)throw new a.InternalError("anyPivotableVariable called on a constant");var b=this.terms.escapingEach(function(a){return a.isPivotable?{retval:a}:void 0});return b&&void 0!==b.retval?b.retval:null},substituteOut:function(b,c,d,e){this.setVariable.bind(this);var f=this.terms,g=f.get(b);f["delete"](b),this.constant+=g*c.constant,c.terms.each(function(b,c){var h=f.get(b);if(h){var i=h+g*c;a.approx(i,0)?(e.noteRemovedVariable(b,d),f["delete"](b)):f.set(b,i)}else f.set(b,g*c),e&&e.noteAddedVariable(b,d)})},changeSubject:function(a,b){this.setVariable(a,this.newSubject(b))},newSubject:function(a){var b=1/this.terms.get(a);return this.terms["delete"](a),this.multiplyMe(-b),b},coefficientFor:function(a){return this.terms.get(a)||0},get isConstant(){return 0==this.terms.size},toString:function(){var b="",c=!1;if(!a.approx(this.constant,0)||this.isConstant){if(b+=this.constant,this.isConstant)return b;c=!0}return this.terms.each(function(a,d){c&&(b+=" + "),b+=d+"*"+a,c=!0}),b},equals:function(b){return b===this?!0:b instanceof a.Expression&&b.constant===this.constant&&b.terms.equals(this.terms)},Plus:function(a,b){return a.plus(b)},Minus:function(a,b){return a.minus(b)},Times:function(a,b){return a.times(b)},Divide:function(a,b){return a.divide(b)}}),a.Expression.empty=function(){return new a.Expression(void 0,1,0)},a.Expression.fromConstant=function(b){return new a.Expression(b)},a.Expression.fromValue=function(b){return b=+b,new a.Expression(void 0,b,0)},a.Expression.fromVariable=function(b){return new a.Expression(b,1,0)}}(this.c||b.parent.exports||{}),function(a){"use strict";a.AbstractConstraint=a.inherit({initialize:function(b,c){this.hashCode=a._inc(),this.strength=b||a.Strength.required,this.weight=c||1},isEditConstraint:!1,isInequality:!1,isStayConstraint:!1,get required(){return this.strength===a.Strength.required},toString:function(){return this.strength+" {"+this.weight+"} ("+this.expression+")"}});var b=a.AbstractConstraint.prototype.toString,c=function(b,c,d){a.AbstractConstraint.call(this,c||a.Strength.strong,d),this.variable=b,this.expression=new a.Expression(b,-1,b.value)};a.EditConstraint=a.inherit({"extends":a.AbstractConstraint,initialize:function(){c.apply(this,arguments)},isEditConstraint:!0,toString:function(){return"edit:"+b.call(this)}}),a.StayConstraint=a.inherit({"extends":a.AbstractConstraint,initialize:function(){c.apply(this,arguments)},isStayConstraint:!0,toString:function(){return"stay:"+b.call(this)}});var d=a.Constraint=a.inherit({"extends":a.AbstractConstraint,initialize:function(b,c,d){a.AbstractConstraint.call(this,c,d),this.expression=b}});a.Inequality=a.inherit({"extends":a.Constraint,_cloneOrNewCle:function(b){return b.clone?b.clone():new a.Expression(b)},initialize:function(b,c,e,f,g){var h=b instanceof a.Expression,i=e instanceof a.Expression,j=b instanceof a.AbstractVariable,k=e instanceof a.AbstractVariable,l="number"==typeof b,m="number"==typeof e;if((h||l)&&k){var n=b,o=c,p=e,q=f,r=g;if(d.call(this,this._cloneOrNewCle(n),q,r),o==a.LEQ)this.expression.multiplyMe(-1),this.expression.addVariable(p);else{if(o!=a.GEQ)throw new a.InternalError("Invalid operator in c.Inequality constructor");this.expression.addVariable(p,-1)}}else if(j&&(i||m)){var n=e,o=c,p=b,q=f,r=g;if(d.call(this,this._cloneOrNewCle(n),q,r),o==a.GEQ)this.expression.multiplyMe(-1),this.expression.addVariable(p);else{if(o!=a.LEQ)throw new a.InternalError("Invalid operator in c.Inequality constructor");this.expression.addVariable(p,-1)}}else{if(h&&m){var s=b,o=c,t=e,q=f,r=g;if(d.call(this,this._cloneOrNewCle(s),q,r),o==a.LEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(t));else{if(o!=a.GEQ)throw new a.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(t),-1)}return this}if(l&&i){var s=e,o=c,t=b,q=f,r=g;if(d.call(this,this._cloneOrNewCle(s),q,r),o==a.GEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(t));else{if(o!=a.LEQ)throw new a.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(t),-1)}return this}if(h&&i){var s=b,o=c,t=e,q=f,r=g;if(d.call(this,this._cloneOrNewCle(t),q,r),o==a.GEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(s));else{if(o!=a.LEQ)throw new a.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(s),-1)}}else{if(h)return d.call(this,b,c,e);if(c==a.GEQ)d.call(this,new a.Expression(e),f,g),this.expression.multiplyMe(-1),this.expression.addVariable(b);else{if(c!=a.LEQ)throw new a.InternalError("Invalid operator in c.Inequality constructor");d.call(this,new a.Expression(e),f,g),this.expression.addVariable(b,-1)}}}},isInequality:!0,toString:function(){return d.prototype.toString.call(this)+" >= 0) id: "+this.hashCode}}),a.Equation=a.inherit({"extends":a.Constraint,initialize:function(b,c,e,f){if(b instanceof a.Expression&&!c||c instanceof a.Strength)d.call(this,b,c,e);else if(b instanceof a.AbstractVariable&&c instanceof a.Expression){var g=b,h=c,i=e,j=f;d.call(this,h.clone(),i,j),this.expression.addVariable(g,-1)}else if(b instanceof a.AbstractVariable&&"number"==typeof c){var g=b,k=c,i=e,j=f;d.call(this,new a.Expression(k),i,j),this.expression.addVariable(g,-1)}else if(b instanceof a.Expression&&c instanceof a.AbstractVariable){var h=b,g=c,i=e,j=f;d.call(this,h.clone(),i,j),this.expression.addVariable(g,-1)}else{if(!(b instanceof a.Expression||b instanceof a.AbstractVariable||"number"==typeof b)||!(c instanceof a.Expression||c instanceof a.AbstractVariable||"number"==typeof c))throw"Bad initializer to c.Equation";b=b instanceof a.Expression?b.clone():new a.Expression(b),c=c instanceof a.Expression?c.clone():new a.Expression(c),d.call(this,b,e,f),this.expression.addExpression(c,-1)}a.assert(this.strength instanceof a.Strength,"_strength not set")},toString:function(){return d.prototype.toString.call(this)+" = 0)"}})}(this.c||b.parent.exports||{}),function(a){"use strict";a.EditInfo=a.inherit({initialize:function(a,b,c,d,e){this.constraint=a,this.editPlus=b,this.editMinus=c,this.prevEditConstant=d,this.index=e},toString:function(){return"<cn="+this.constraint+", ep="+this.editPlus+", em="+this.editMinus+", pec="+this.prevEditConstant+", index="+this.index+">"}})}(this.c||b.parent.exports||{}),function(a){"use strict";a.Tableau=a.inherit({initialize:function(){this.columns=new a.HashTable,this.rows=new a.HashTable,this._infeasibleRows=new a.HashSet,this._externalRows=new a.HashSet,this._externalParametricVars=new a.HashSet},noteRemovedVariable:function(b,c){a.trace&&console.log("c.Tableau::noteRemovedVariable: ",b,c);var d=this.columns.get(b);c&&d&&d["delete"](c)},noteAddedVariable:function(a,b){b&&this.insertColVar(a,b)},getInternalInfo:function(){var a="Tableau Information:\n";return a+="Rows: "+this.rows.size,a+=" (= "+(this.rows.size-1)+" constraints)",a+="\nColumns: "+this.columns.size,a+="\nInfeasible Rows: "+this._infeasibleRows.size,a+="\nExternal basic variables: "+this._externalRows.size,a+="\nExternal parametric variables: ",a+=this._externalParametricVars.size,a+="\n"},toString:function(){var a="Tableau:\n";return this.rows.each(function(b,c){a+=b,a+=" <==> ",a+=c,a+="\n"}),a+="\nColumns:\n",a+=this.columns,a+="\nInfeasible rows: ",a+=this._infeasibleRows,a+="External basic variables: ",a+=this._externalRows,a+="External parametric variables: ",a+=this._externalParametricVars},insertColVar:function(b,c){var d=this.columns.get(b);d||(d=new a.HashSet,this.columns.set(b,d)),d.add(c)},addRow:function(b,c){a.trace&&a.fnenterprint("addRow: "+b+", "+c),this.rows.set(b,c),c.terms.each(function(a){this.insertColVar(a,b),a.isExternal&&this._externalParametricVars.add(a)},this),b.isExternal&&this._externalRows.add(b),a.trace&&a.traceprint(this.toString())},removeColumn:function(b){a.trace&&a.fnenterprint("removeColumn:"+b);var c=this.columns.get(b);c?(this.columns["delete"](b),c.each(function(a){var c=this.rows.get(a);c.terms["delete"](b)},this)):a.trace&&console.log("Could not find var",b,"in columns"),b.isExternal&&(this._externalRows["delete"](b),this._externalParametricVars["delete"](b))},removeRow:function(b){a.trace&&a.fnenterprint("removeRow:"+b);var c=this.rows.get(b);return a.assert(null!=c),c.terms.each(function(c){var d=this.columns.get(c);null!=d&&(a.trace&&console.log("removing from varset:",b),d["delete"](b))},this),this._infeasibleRows["delete"](b),b.isExternal&&this._externalRows["delete"](b),this.rows["delete"](b),a.trace&&a.fnexitprint("returning "+c),c},substituteOut:function(b,c){a.trace&&a.fnenterprint("substituteOut:"+b+", "+c),a.trace&&a.traceprint(this.toString());var d=this.columns.get(b);d.each(function(a){var d=this.rows.get(a);d.substituteOut(b,c,a,this),a.isRestricted&&d.constant<0&&this._infeasibleRows.add(a)},this),b.isExternal&&(this._externalRows.add(b),this._externalParametricVars["delete"](b)),this.columns["delete"](b)},columnsHasKey:function(a){return!!this.columns.get(a)}})}(this.c||b.parent.exports||{}),function(a){var b=a.Tableau,c=b.prototype,d=1e-8,e=a.Strength.weak;a.SimplexSolver=a.inherit({"extends":a.Tableau,initialize:function(){a.Tableau.call(this),this._stayMinusErrorVars=[],this._stayPlusErrorVars=[],this._errorVars=new a.HashTable,this._markerVars=new a.HashTable,this._objective=new a.ObjectiveVariable({name:"Z"}),this._editVarMap=new a.HashTable,this._editVarList=[],this._slackCounter=0,this._artificialCounter=0,this._dummyCounter=0,this.autoSolve=!0,this._needsSolving=!1,this._optimizeCount=0,this.rows.set(this._objective,a.Expression.empty()),this._editVariableStack=[0],a.trace&&a.traceprint("objective expr == "+this.rows.get(this._objective))},add:function(){for(var a=0;a<arguments.length;a++)this.addConstraint(arguments[a]);return this},_addEditConstraint:function(b,c,d){var e=this._editVarMap.size,f=c[0],g=c[1],h=new a.EditInfo(b,f,g,d,e);this._editVarMap.set(b.variable,h),this._editVarList[e]={v:b.variable,info:h}},addConstraint:function(b){a.trace&&a.fnenterprint("addConstraint: "+b);var c=new Array(2),d=new Array(1),e=this.newExpression(b,c,d);return d=d[0],this.tryAddingDirectly(e)||this.addWithArtificialVariable(e),this._needsSolving=!0,b.isEditConstraint&&this._addEditConstraint(b,c,d),this.autoSolve&&(this.optimize(this._objective),this._setExternalVariables()),this},addConstraintNoException:function(b){a.trace&&a.fnenterprint("addConstraintNoException: "+b);try{return this.addConstraint(b),!0}catch(c){return!1}},addEditVar:function(b,c,d){return a.trace&&a.fnenterprint("addEditVar: "+b+" @ "+c+" {"+d+"}"),this.addConstraint(new a.EditConstraint(b,c||a.Strength.strong,d))},beginEdit:function(){return a.assert(this._editVarMap.size>0,"_editVarMap.size > 0"),this._infeasibleRows.clear(),this._resetStayConstants(),this._editVariableStack[this._editVariableStack.length]=this._editVarMap.size,this},endEdit:function(){return a.assert(this._editVarMap.size>0,"_editVarMap.size > 0"),this.resolve(),this._editVariableStack.pop(),this.removeEditVarsTo(this._editVariableStack[this._editVariableStack.length-1]),this},removeAllEditVars:function(){return this.removeEditVarsTo(0)},removeEditVarsTo:function(b){try{for(var c=this._editVarList.length,d=b;c>d;d++)this._editVarList[d]&&this.removeConstraint(this._editVarMap.get(this._editVarList[d].v).constraint);return this._editVarList.length=b,a.assert(this._editVarMap.size==b,"_editVarMap.size == n"),this}catch(e){throw new a.InternalError("Constraint not found in removeEditVarsTo")}},addPointStays:function(b){return a.trace&&console.log("addPointStays",b),b.forEach(function(a,b){this.addStay(a.x,e,Math.pow(2,b)),this.addStay(a.y,e,Math.pow(2,b))},this),this},addStay:function(b,c,d){var f=new a.StayConstraint(b,c||e,d||1);return this.addConstraint(f)},removeConstraint:function(b){a.trace&&a.fnenterprint("removeConstraintInternal: "+b),a.trace&&a.traceprint(this.toString()),this._needsSolving=!0,this._resetStayConstants();var c=this.rows.get(this._objective),d=this._errorVars.get(b);a.trace&&a.traceprint("eVars == "+d),null!=d&&d.each(function(e){var f=this.rows.get(e);null==f?c.addVariable(e,-b.weight*b.strength.symbolicWeight.value,this._objective,this):c.addExpression(f,-b.weight*b.strength.symbolicWeight.value,this._objective,this),a.trace&&a.traceprint("now eVars == "+d)},this);var e=this._markerVars.get(b);if(this._markerVars["delete"](b),null==e)throw new a.InternalError("Constraint not found in removeConstraintInternal");if(a.trace&&a.traceprint("Looking to remove var "+e),null==this.rows.get(e)){var f=this.columns.get(e);a.trace&&a.traceprint("Must pivot -- columns are "+f);var g=null,h=0;f.each(function(b){if(b.isRestricted){var c=this.rows.get(b),d=c.coefficientFor(e);if(a.trace&&a.traceprint("Marker "+e+"'s coefficient in "+c+" is "+d),0>d){var f=-c.constant/d;(null==g||h>f||a.approx(f,h)&&b.hashCode<g.hashCode)&&(h=f,g=b)}}},this),null==g&&(a.trace&&a.traceprint("exitVar is still null"),f.each(function(a){if(a.isRestricted){var b=this.rows.get(a),c=b.coefficientFor(e),d=b.constant/c;(null==g||h>d)&&(h=d,g=a)}},this)),null==g&&(0==f.size?this.removeColumn(e):f.escapingEach(function(a){return a!=this._objective?(g=a,{brk:!0}):void 0},this)),null!=g&&this.pivot(e,g)}if(null!=this.rows.get(e)&&this.removeRow(e),null!=d&&d.each(function(a){a!=e&&this.removeColumn(a)},this),b.isStayConstraint){if(null!=d)for(var i=0;i<this._stayPlusErrorVars.length;i++)d["delete"](this._stayPlusErrorVars[i]),d["delete"](this._stayMinusErrorVars[i])}else if(b.isEditConstraint){a.assert(null!=d,"eVars != null");var j=this._editVarMap.get(b.variable);this.removeColumn(j.editMinus),this._editVarMap["delete"](b.variable)}return null!=d&&this._errorVars["delete"](d),this.autoSolve&&(this.optimize(this._objective),this._setExternalVariables()),this},reset:function(){throw a.trace&&a.fnenterprint("reset"),new a.InternalError("reset not implemented")},resolveArray:function(b){a.trace&&a.fnenterprint("resolveArray"+b);var c=b.length;this._editVarMap.each(function(a,d){var e=d.index;c>e&&this.suggestValue(a,b[e])},this),this.resolve()},resolvePair:function(a,b){this.suggestValue(this._editVarList[0].v,a),this.suggestValue(this._editVarList[1].v,b),this.resolve()},resolve:function(){a.trace&&a.fnenterprint("resolve()"),this.dualOptimize(),this._setExternalVariables(),this._infeasibleRows.clear(),this._resetStayConstants()},suggestValue:function(b,c){a.trace&&console.log("suggestValue("+b+", "+c+")");var d=this._editVarMap.get(b);if(!d)throw new a.Error("suggestValue for variable "+b+", but var is not an edit variable");var e=c-d.prevEditConstant;return d.prevEditConstant=c,this.deltaEditConstant(e,d.editPlus,d.editMinus),this},solve:function(){return this._needsSolving&&(this.optimize(this._objective),this._setExternalVariables()),this},setEditedValue:function(b,c){if(!this.columnsHasKey(b)&&null==this.rows.get(b))return b.value=c,this;if(!a.approx(c,b.value)){this.addEditVar(b),this.beginEdit();try{this.suggestValue(b,c)}catch(d){throw new a.InternalError("Error in setEditedValue")}this.endEdit()}return this},addVar:function(b){if(!this.columnsHasKey(b)&&null==this.rows.get(b)){try{this.addStay(b)}catch(c){throw new a.InternalError("Error in addVar -- required failure is impossible")}a.trace&&a.traceprint("added initial stay on "+b)}return this},getInternalInfo:function(){var a=c.getInternalInfo.call(this);return a+="\nSolver info:\n",a+="Stay Error Variables: ",a+=this._stayPlusErrorVars.length+this._stayMinusErrorVars.length,a+=" ("+this._stayPlusErrorVars.length+" +, ",a+=this._stayMinusErrorVars.length+" -)\n",a+="Edit Variables: "+this._editVarMap.size,a+="\n"},getDebugInfo:function(){return this.toString()+this.getInternalInfo()+"\n"},toString:function(){var a=c.getInternalInfo.call(this);return a+="\n_stayPlusErrorVars: ",a+="["+this._stayPlusErrorVars+"]",a+="\n_stayMinusErrorVars: ",a+="["+this._stayMinusErrorVars+"]",a+="\n",a+="_editVarMap:\n"+this._editVarMap,a+="\n"},addWithArtificialVariable:function(b){a.trace&&a.fnenterprint("addWithArtificialVariable: "+b);var c=new a.SlackVariable({value:++this._artificialCounter,prefix:"a"}),d=new a.ObjectiveVariable({name:"az"}),e=b.clone();a.trace&&a.traceprint("before addRows:\n"+this),this.addRow(d,e),this.addRow(c,b),a.trace&&a.traceprint("after addRows:\n"+this),this.optimize(d);var f=this.rows.get(d);if(a.trace&&a.traceprint("azTableauRow.constant == "+f.constant),!a.approx(f.constant,0))throw this.removeRow(d),this.removeColumn(c),new a.RequiredFailure;var g=this.rows.get(c);if(null!=g){if(g.isConstant)return this.removeRow(c),void this.removeRow(d);var h=g.anyPivotableVariable();this.pivot(h,c)}a.assert(null==this.rows.get(c),"rowExpression(av) == null"),this.removeColumn(c),this.removeRow(d)},tryAddingDirectly:function(b){a.trace&&a.fnenterprint("tryAddingDirectly: "+b);var c=this.chooseSubject(b);return null==c?(a.trace&&a.fnexitprint("returning false"),!1):(b.newSubject(c),this.columnsHasKey(c)&&this.substituteOut(c,b),this.addRow(c,b),a.trace&&a.fnexitprint("returning true"),!0)},chooseSubject:function(b){a.trace&&a.fnenterprint("chooseSubject: "+b);var c=null,d=!1,e=!1,f=b.terms,g=f.escapingEach(function(a,b){if(d){if(!a.isRestricted&&!this.columnsHasKey(a))return{retval:a}}else if(a.isRestricted){if(!e&&!a.isDummy&&0>b){var f=this.columns.get(a);(null==f||1==f.size&&this.columnsHasKey(this._objective))&&(c=a,e=!0)}}else c=a,d=!0},this);if(g&&void 0!==g.retval)return g.retval;if(null!=c)return c;var h=0,g=f.escapingEach(function(a,b){return a.isDummy?void(this.columnsHasKey(a)||(c=a,h=b)):{retval:null}},this);if(g&&void 0!==g.retval)return g.retval;if(!a.approx(b.constant,0))throw new a.RequiredFailure;return h>0&&b.multiplyMe(-1),c},deltaEditConstant:function(b,c,d){a.trace&&a.fnenterprint("deltaEditConstant :"+b+", "+c+", "+d);var e=this.rows.get(c);if(null!=e)return e.constant+=b,void(e.constant<0&&this._infeasibleRows.add(c));var f=this.rows.get(d);if(null!=f)return f.constant+=-b,void(f.constant<0&&this._infeasibleRows.add(d));var g=this.columns.get(d);g||console.log("columnVars is null -- tableau is:\n"+this),g.each(function(a){var c=this.rows.get(a),e=c.coefficientFor(d);c.constant+=e*b,a.isRestricted&&c.constant<0&&this._infeasibleRows.add(a)},this)},dualOptimize:function(){a.trace&&a.fnenterprint("dualOptimize:");for(var b=this.rows.get(this._objective);this._infeasibleRows.size;){var c=this._infeasibleRows.values()[0];this._infeasibleRows["delete"](c);var d=null,e=this.rows.get(c);if(e&&e.constant<0){var f,g=Number.MAX_VALUE,h=e.terms;if(h.each(function(c,e){if(e>0&&c.isPivotable){var h=b.coefficientFor(c);f=h/e,(g>f||a.approx(f,g)&&c.hashCode<d.hashCode)&&(d=c,g=f)}}),g==Number.MAX_VALUE)throw new a.InternalError("ratio == nil (MAX_VALUE) in dualOptimize");this.pivot(d,c)}}},newExpression:function(b,c,d){a.trace&&(a.fnenterprint("newExpression: "+b),a.traceprint("cn.isInequality == "+b.isInequality),a.traceprint("cn.required == "+b.required));var e=b.expression,f=a.Expression.fromConstant(e.constant),g=new a.SlackVariable,h=new a.DummyVariable,i=new a.SlackVariable,j=new a.SlackVariable,k=e.terms;if(k.each(function(a,b){var c=this.rows.get(a);c?f.addExpression(c,b):f.addVariable(a,b)},this),b.isInequality){if(a.trace&&a.traceprint("Inequality, adding slack"),++this._slackCounter,g=new a.SlackVariable({value:this._slackCounter,prefix:"s"}),f.setVariable(g,-1),this._markerVars.set(b,g),!b.required){++this._slackCounter,i=new a.SlackVariable({value:this._slackCounter,
prefix:"em"}),f.setVariable(i,1);var l=this.rows.get(this._objective);l.setVariable(i,b.strength.symbolicWeight.value*b.weight),this.insertErrorVar(b,i),this.noteAddedVariable(i,this._objective)}}else if(b.required)a.trace&&a.traceprint("Equality, required"),++this._dummyCounter,h=new a.DummyVariable({value:this._dummyCounter,prefix:"d"}),c[0]=h,c[1]=h,d[0]=e.constant,f.setVariable(h,1),this._markerVars.set(b,h),a.trace&&a.traceprint("Adding dummyVar == d"+this._dummyCounter);else{a.trace&&a.traceprint("Equality, not required"),++this._slackCounter,j=new a.SlackVariable({value:this._slackCounter,prefix:"ep"}),i=new a.SlackVariable({value:this._slackCounter,prefix:"em"}),f.setVariable(j,-1),f.setVariable(i,1),this._markerVars.set(b,j);var l=this.rows.get(this._objective);a.trace&&console.log(l);var m=b.strength.symbolicWeight.value*b.weight;0==m&&(a.trace&&a.traceprint("cn == "+b),a.trace&&a.traceprint("adding "+j+" and "+i+" with swCoeff == "+m)),l.setVariable(j,m),this.noteAddedVariable(j,this._objective),l.setVariable(i,m),this.noteAddedVariable(i,this._objective),this.insertErrorVar(b,i),this.insertErrorVar(b,j),b.isStayConstraint?(this._stayPlusErrorVars[this._stayPlusErrorVars.length]=j,this._stayMinusErrorVars[this._stayMinusErrorVars.length]=i):b.isEditConstraint&&(c[0]=j,c[1]=i,d[0]=e.constant)}return f.constant<0&&f.multiplyMe(-1),a.trace&&a.fnexitprint("returning "+f),f},optimize:function(b){a.trace&&a.fnenterprint("optimize: "+b),a.trace&&a.traceprint(this.toString()),this._optimizeCount++;var c=this.rows.get(b);a.assert(null!=c,"zRow != null");for(var e,f,g=null,h=null;;){if(e=0,f=c.terms,f.escapingEach(function(a,b){return a.isPivotable&&e>b?(e=b,g=a,{brk:1}):void 0},this),e>=-d)return;a.trace&&console.log("entryVar:",g,"objectiveCoeff:",e);var i=Number.MAX_VALUE,j=this.columns.get(g),k=0;if(j.each(function(b){if(a.trace&&a.traceprint("Checking "+b),b.isPivotable){var c=this.rows.get(b),d=c.coefficientFor(g);a.trace&&a.traceprint("pivotable, coeff = "+d),0>d&&(k=-c.constant/d,(i>k||a.approx(k,i)&&b.hashCode<h.hashCode)&&(i=k,h=b))}},this),i==Number.MAX_VALUE)throw new a.InternalError("Objective function is unbounded in optimize");this.pivot(g,h),a.trace&&a.traceprint(this.toString())}},pivot:function(b,c){a.trace&&console.log("pivot: ",b,c);var d=!1;d&&console.time(" SimplexSolver::pivot"),null==b&&console.warn("pivot: entryVar == null"),null==c&&console.warn("pivot: exitVar == null"),d&&console.time("  removeRow");var e=this.removeRow(c);d&&console.timeEnd("  removeRow"),d&&console.time("  changeSubject"),e.changeSubject(c,b),d&&console.timeEnd("  changeSubject"),d&&console.time("  substituteOut"),this.substituteOut(b,e),d&&console.timeEnd("  substituteOut"),d&&console.time("  addRow"),this.addRow(b,e),d&&console.timeEnd("  addRow"),d&&console.timeEnd(" SimplexSolver::pivot")},_resetStayConstants:function(){a.trace&&console.log("_resetStayConstants");for(var b=this._stayPlusErrorVars,c=b.length,d=0;c>d;d++){var e=this.rows.get(b[d]);null===e&&(e=this.rows.get(this._stayMinusErrorVars[d])),null!=e&&(e.constant=0)}},_setExternalVariables:function(){a.trace&&a.fnenterprint("_setExternalVariables:"),a.trace&&a.traceprint(this.toString());var b={};this._externalParametricVars.each(function(c){null!=this.rows.get(c)?a.trace&&console.log("Error: variable"+c+" in _externalParametricVars is basic"):(c.value=0,b[c.name]=0)},this),this._externalRows.each(function(a){var c=this.rows.get(a);a.value!=c.constant&&(a.value=c.constant,b[a.name]=c.constant)},this),this._changed=b,this._needsSolving=!1,this._informCallbacks(),this.onsolved()},onsolved:function(){},_informCallbacks:function(){if(this._callbacks){var a=this._changed;this._callbacks.forEach(function(b){b(a)})}},_addCallback:function(a){var b=this._callbacks||(this._callbacks=[]);b[b.length]=a},insertErrorVar:function(b,c){a.trace&&a.fnenterprint("insertErrorVar:"+b+", "+c);var d=this._errorVars.get(c);d||(d=new a.HashSet,this._errorVars.set(b,d)),d.add(c)}})}(this.c||b.parent.exports||{}),function(a){"use strict";a.Timer=a.inherit({initialize:function(){this.isRunning=!1,this._elapsedMs=0},start:function(){return this.isRunning=!0,this._startReading=new Date,this},stop:function(){return this.isRunning=!1,this._elapsedMs+=new Date-this._startReading,this},reset:function(){return this.isRunning=!1,this._elapsedMs=0,this},elapsedTime:function(){return this.isRunning?(this._elapsedMs+(new Date-this._startReading))/1e3:this._elapsedMs/1e3}})}(this.c||b.parent.exports||{}),this.c.parser=function(){function a(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var b={parse:function(b,c){function d(a){O>M||(M>O&&(O=M,P=[]),P.push(a))}function e(){var a,b,c,d,e;if(d=M,e=M,a=s(),null!==a){for(b=[],c=f();null!==c;)b.push(c),c=f();null!==b?(c=s(),null!==c?a=[a,b,c]:(a=null,M=e)):(a=null,M=e)}else a=null,M=e;return null!==a&&(a=function(a,b){return b}(d,a[1])),null===a&&(M=d),a}function f(){var a,b,c,d;return c=M,d=M,a=I(),null!==a?(b=l(),null!==b?a=[a,b]:(a=null,M=d)):(a=null,M=d),null!==a&&(a=function(a,b){return b}(c,a[0])),null===a&&(M=c),a}function g(){var a;return b.length>M?(a=b.charAt(M),M++):(a=null,0===N&&d("any character")),a}function h(){var a;return/^[a-zA-Z]/.test(b.charAt(M))?(a=b.charAt(M),M++):(a=null,0===N&&d("[a-zA-Z]")),null===a&&(36===b.charCodeAt(M)?(a="$",M++):(a=null,0===N&&d('"$"')),null===a&&(95===b.charCodeAt(M)?(a="_",M++):(a=null,0===N&&d('"_"')))),a}function i(){var a;return N++,/^[\t\x0B\f \xA0\uFEFF]/.test(b.charAt(M))?(a=b.charAt(M),M++):(a=null,0===N&&d("[\\t\\x0B\\f \\xA0\\uFEFF]")),N--,0===N&&null===a&&d("whitespace"),a}function j(){var a;return/^[\n\r\u2028\u2029]/.test(b.charAt(M))?(a=b.charAt(M),M++):(a=null,0===N&&d("[\\n\\r\\u2028\\u2029]")),a}function k(){var a;return N++,10===b.charCodeAt(M)?(a="\n",M++):(a=null,0===N&&d('"\\n"')),null===a&&("\r\n"===b.substr(M,2)?(a="\r\n",M+=2):(a=null,0===N&&d('"\\r\\n"')),null===a&&(13===b.charCodeAt(M)?(a="\r",M++):(a=null,0===N&&d('"\\r"')),null===a&&(8232===b.charCodeAt(M)?(a="\u2028",M++):(a=null,0===N&&d('"\\u2028"')),null===a&&(8233===b.charCodeAt(M)?(a="\u2029",M++):(a=null,0===N&&d('"\\u2029"')))))),N--,0===N&&null===a&&d("end of line"),a}function l(){var a,c,e;return e=M,a=s(),null!==a?(59===b.charCodeAt(M)?(c=";",M++):(c=null,0===N&&d('";"')),null!==c?a=[a,c]:(a=null,M=e)):(a=null,M=e),null===a&&(e=M,a=r(),null!==a?(c=k(),null!==c?a=[a,c]:(a=null,M=e)):(a=null,M=e),null===a&&(e=M,a=s(),null!==a?(c=m(),null!==c?a=[a,c]:(a=null,M=e)):(a=null,M=e))),a}function m(){var a,c;return c=M,N++,b.length>M?(a=b.charAt(M),M++):(a=null,0===N&&d("any character")),N--,null===a?a="":(a=null,M=c),a}function n(){var a;return N++,a=o(),null===a&&(a=q()),N--,0===N&&null===a&&d("comment"),a}function o(){var a,c,e,f,h,i,j;if(h=M,"/*"===b.substr(M,2)?(a="/*",M+=2):(a=null,0===N&&d('"/*"')),null!==a){for(c=[],i=M,j=M,N++,"*/"===b.substr(M,2)?(e="*/",M+=2):(e=null,0===N&&d('"*/"')),N--,null===e?e="":(e=null,M=j),null!==e?(f=g(),null!==f?e=[e,f]:(e=null,M=i)):(e=null,M=i);null!==e;)c.push(e),i=M,j=M,N++,"*/"===b.substr(M,2)?(e="*/",M+=2):(e=null,0===N&&d('"*/"')),N--,null===e?e="":(e=null,M=j),null!==e?(f=g(),null!==f?e=[e,f]:(e=null,M=i)):(e=null,M=i);null!==c?("*/"===b.substr(M,2)?(e="*/",M+=2):(e=null,0===N&&d('"*/"')),null!==e?a=[a,c,e]:(a=null,M=h)):(a=null,M=h)}else a=null,M=h;return a}function p(){var a,c,e,f,h,i,k;if(h=M,"/*"===b.substr(M,2)?(a="/*",M+=2):(a=null,0===N&&d('"/*"')),null!==a){for(c=[],i=M,k=M,N++,"*/"===b.substr(M,2)?(e="*/",M+=2):(e=null,0===N&&d('"*/"')),null===e&&(e=j()),N--,null===e?e="":(e=null,M=k),null!==e?(f=g(),null!==f?e=[e,f]:(e=null,M=i)):(e=null,M=i);null!==e;)c.push(e),i=M,k=M,N++,"*/"===b.substr(M,2)?(e="*/",M+=2):(e=null,0===N&&d('"*/"')),null===e&&(e=j()),N--,null===e?e="":(e=null,M=k),null!==e?(f=g(),null!==f?e=[e,f]:(e=null,M=i)):(e=null,M=i);null!==c?("*/"===b.substr(M,2)?(e="*/",M+=2):(e=null,0===N&&d('"*/"')),null!==e?a=[a,c,e]:(a=null,M=h)):(a=null,M=h)}else a=null,M=h;return a}function q(){var a,c,e,f,h,i,k;if(h=M,"//"===b.substr(M,2)?(a="//",M+=2):(a=null,0===N&&d('"//"')),null!==a){for(c=[],i=M,k=M,N++,e=j(),N--,null===e?e="":(e=null,M=k),null!==e?(f=g(),null!==f?e=[e,f]:(e=null,M=i)):(e=null,M=i);null!==e;)c.push(e),i=M,k=M,N++,e=j(),N--,null===e?e="":(e=null,M=k),null!==e?(f=g(),null!==f?e=[e,f]:(e=null,M=i)):(e=null,M=i);null!==c?(e=j(),null===e&&(e=m()),null!==e?a=[a,c,e]:(a=null,M=h)):(a=null,M=h)}else a=null,M=h;return a}function r(){var a,b;for(a=[],b=i(),null===b&&(b=p(),null===b&&(b=q()));null!==b;)a.push(b),b=i(),null===b&&(b=p(),null===b&&(b=q()));return a}function s(){var a,b;for(a=[],b=i(),null===b&&(b=k(),null===b&&(b=n()));null!==b;)a.push(b),b=i(),null===b&&(b=k(),null===b&&(b=n()));return a}function t(){var a,b;return b=M,a=v(),null===a&&(a=u()),null!==a&&(a=function(a,b){return{type:"NumericLiteral",value:b}}(b,a)),null===a&&(M=b),a}function u(){var a,c,e;if(e=M,/^[0-9]/.test(b.charAt(M))?(c=b.charAt(M),M++):(c=null,0===N&&d("[0-9]")),null!==c)for(a=[];null!==c;)a.push(c),/^[0-9]/.test(b.charAt(M))?(c=b.charAt(M),M++):(c=null,0===N&&d("[0-9]"));else a=null;return null!==a&&(a=function(a,b){return parseInt(b.join(""))}(e,a)),null===a&&(M=e),a}function v(){var a,c,e,f,g;return f=M,g=M,a=u(),null!==a?(46===b.charCodeAt(M)?(c=".",M++):(c=null,0===N&&d('"."')),null!==c?(e=u(),null!==e?a=[a,c,e]:(a=null,M=g)):(a=null,M=g)):(a=null,M=g),null!==a&&(a=function(a,b){return parseFloat(b.join(""))}(f,a)),null===a&&(M=f),a}function w(){var a,c,e,f;if(f=M,/^[\-+]/.test(b.charAt(M))?(a=b.charAt(M),M++):(a=null,0===N&&d("[\\-+]")),a=null!==a?a:"",null!==a){if(/^[0-9]/.test(b.charAt(M))?(e=b.charAt(M),M++):(e=null,0===N&&d("[0-9]")),null!==e)for(c=[];null!==e;)c.push(e),/^[0-9]/.test(b.charAt(M))?(e=b.charAt(M),M++):(e=null,0===N&&d("[0-9]"));else c=null;null!==c?a=[a,c]:(a=null,M=f)}else a=null,M=f;return a}function x(){var a,b;return N++,b=M,a=y(),null!==a&&(a=function(a,b){return b}(b,a)),null===a&&(M=b),N--,0===N&&null===a&&d("identifier"),a}function y(){var a,b,c,e,f;if(N++,e=M,f=M,a=h(),null!==a){for(b=[],c=h();null!==c;)b.push(c),c=h();null!==b?a=[a,b]:(a=null,M=f)}else a=null,M=f;return null!==a&&(a=function(a,b,c){return b+c.join("")}(e,a[0],a[1])),null===a&&(M=e),N--,0===N&&null===a&&d("identifier"),a}function z(){var a,c,e,f,g,h,i;return h=M,a=x(),null!==a&&(a=function(a,b){return{type:"Variable",name:b}}(h,a)),null===a&&(M=h),null===a&&(a=t(),null===a&&(h=M,i=M,40===b.charCodeAt(M)?(a="(",M++):(a=null,0===N&&d('"("')),null!==a?(c=s(),null!==c?(e=I(),null!==e?(f=s(),null!==f?(41===b.charCodeAt(M)?(g=")",M++):(g=null,0===N&&d('")"')),null!==g?a=[a,c,e,f,g]:(a=null,M=i)):(a=null,M=i)):(a=null,M=i)):(a=null,M=i)):(a=null,M=i),null!==a&&(a=function(a,b){return b}(h,a[2])),null===a&&(M=h))),a}function A(){var a,b,c,d,e;return a=z(),null===a&&(d=M,e=M,a=B(),null!==a?(b=s(),null!==b?(c=A(),null!==c?a=[a,b,c]:(a=null,M=e)):(a=null,M=e)):(a=null,M=e),null!==a&&(a=function(a,b,c){return{type:"UnaryExpression",operator:b,expression:c}}(d,a[0],a[2])),null===a&&(M=d)),a}function B(){var a;return 43===b.charCodeAt(M)?(a="+",M++):(a=null,0===N&&d('"+"')),null===a&&(45===b.charCodeAt(M)?(a="-",M++):(a=null,0===N&&d('"-"')),null===a&&(33===b.charCodeAt(M)?(a="!",M++):(a=null,0===N&&d('"!"')))),a}function C(){var a,b,c,d,e,f,g,h,i;if(g=M,h=M,a=A(),null!==a){for(b=[],i=M,c=s(),null!==c?(d=D(),null!==d?(e=s(),null!==e?(f=A(),null!==f?c=[c,d,e,f]:(c=null,M=i)):(c=null,M=i)):(c=null,M=i)):(c=null,M=i);null!==c;)b.push(c),i=M,c=s(),null!==c?(d=D(),null!==d?(e=s(),null!==e?(f=A(),null!==f?c=[c,d,e,f]:(c=null,M=i)):(c=null,M=i)):(c=null,M=i)):(c=null,M=i);null!==b?a=[a,b]:(a=null,M=h)}else a=null,M=h;return null!==a&&(a=function(a,b,c){for(var d=b,e=0;e<c.length;e++)d={type:"MultiplicativeExpression",operator:c[e][1],left:d,right:c[e][3]};return d}(g,a[0],a[1])),null===a&&(M=g),a}function D(){var a;return 42===b.charCodeAt(M)?(a="*",M++):(a=null,0===N&&d('"*"')),null===a&&(47===b.charCodeAt(M)?(a="/",M++):(a=null,0===N&&d('"/"'))),a}function E(){var a,b,c,d,e,f,g,h,i;if(g=M,h=M,a=C(),null!==a){for(b=[],i=M,c=s(),null!==c?(d=F(),null!==d?(e=s(),null!==e?(f=C(),null!==f?c=[c,d,e,f]:(c=null,M=i)):(c=null,M=i)):(c=null,M=i)):(c=null,M=i);null!==c;)b.push(c),i=M,c=s(),null!==c?(d=F(),null!==d?(e=s(),null!==e?(f=C(),null!==f?c=[c,d,e,f]:(c=null,M=i)):(c=null,M=i)):(c=null,M=i)):(c=null,M=i);null!==b?a=[a,b]:(a=null,M=h)}else a=null,M=h;return null!==a&&(a=function(a,b,c){for(var d=b,e=0;e<c.length;e++)d={type:"AdditiveExpression",operator:c[e][1],left:d,right:c[e][3]};return d}(g,a[0],a[1])),null===a&&(M=g),a}function F(){var a;return 43===b.charCodeAt(M)?(a="+",M++):(a=null,0===N&&d('"+"')),null===a&&(45===b.charCodeAt(M)?(a="-",M++):(a=null,0===N&&d('"-"'))),a}function G(){var a,b,c,d,e,f,g,h,i;if(g=M,h=M,a=E(),null!==a){for(b=[],i=M,c=s(),null!==c?(d=H(),null!==d?(e=s(),null!==e?(f=E(),null!==f?c=[c,d,e,f]:(c=null,M=i)):(c=null,M=i)):(c=null,M=i)):(c=null,M=i);null!==c;)b.push(c),i=M,c=s(),null!==c?(d=H(),null!==d?(e=s(),null!==e?(f=E(),null!==f?c=[c,d,e,f]:(c=null,M=i)):(c=null,M=i)):(c=null,M=i)):(c=null,M=i);null!==b?a=[a,b]:(a=null,M=h)}else a=null,M=h;return null!==a&&(a=function(a,b,c){for(var d=b,e=0;e<c.length;e++)d={type:"Inequality",operator:c[e][1],left:d,right:c[e][3]};return d}(g,a[0],a[1])),null===a&&(M=g),a}function H(){var a;return"<="===b.substr(M,2)?(a="<=",M+=2):(a=null,0===N&&d('"<="')),null===a&&(">="===b.substr(M,2)?(a=">=",M+=2):(a=null,0===N&&d('">="')),null===a&&(60===b.charCodeAt(M)?(a="<",M++):(a=null,0===N&&d('"<"')),null===a&&(62===b.charCodeAt(M)?(a=">",M++):(a=null,0===N&&d('">"'))))),a}function I(){var a,c,e,f,g,h,i,j,k;if(i=M,j=M,a=G(),null!==a){for(c=[],k=M,e=s(),null!==e?("=="===b.substr(M,2)?(f="==",M+=2):(f=null,0===N&&d('"=="')),null!==f?(g=s(),null!==g?(h=G(),null!==h?e=[e,f,g,h]:(e=null,M=k)):(e=null,M=k)):(e=null,M=k)):(e=null,M=k);null!==e;)c.push(e),k=M,e=s(),null!==e?("=="===b.substr(M,2)?(f="==",M+=2):(f=null,0===N&&d('"=="')),null!==f?(g=s(),null!==g?(h=G(),null!==h?e=[e,f,g,h]:(e=null,M=k)):(e=null,M=k)):(e=null,M=k)):(e=null,M=k);null!==c?a=[a,c]:(a=null,M=j)}else a=null,M=j;return null!==a&&(a=function(a,b,c){for(var d=b,e=0;e<c.length;e++)d={type:"Equality",operator:c[e][1],left:d,right:c[e][3]};return d}(i,a[0],a[1])),null===a&&(M=i),a}function J(a){a.sort();for(var b=null,c=[],d=0;d<a.length;d++)a[d]!==b&&(c.push(a[d]),b=a[d]);return c}function K(){for(var a=1,c=1,d=!1,e=0;e<Math.max(M,O);e++){var f=b.charAt(e);"\n"===f?(d||a++,c=1,d=!1):"\r"===f||"\u2028"===f||"\u2029"===f?(a++,c=1,d=!0):(c++,d=!1)}return{line:a,column:c}}var L={start:e,Statement:f,SourceCharacter:g,IdentifierStart:h,WhiteSpace:i,LineTerminator:j,LineTerminatorSequence:k,EOS:l,EOF:m,Comment:n,MultiLineComment:o,MultiLineCommentNoLineTerminator:p,SingleLineComment:q,_:r,__:s,Literal:t,Integer:u,Real:v,SignedInteger:w,Identifier:x,IdentifierName:y,PrimaryExpression:z,UnaryExpression:A,UnaryOperator:B,MultiplicativeExpression:C,MultiplicativeOperator:D,AdditiveExpression:E,AdditiveOperator:F,InequalityExpression:G,InequalityOperator:H,LinearExpression:I};if(void 0!==c){if(void 0===L[c])throw new Error("Invalid rule name: "+a(c)+".")}else c="start";var M=0,N=0,O=0,P=[],Q=L[c]();if(null===Q||M!==b.length){var R=Math.max(M,O),S=R<b.length?b.charAt(R):null,T=K();throw new this.SyntaxError(J(P),S,R,T.line,T.column)}return Q},toSource:function(){return this._source}};return b.SyntaxError=function(b,c,d,e,f){function g(b,c){var d,e;switch(b.length){case 0:d="end of input";break;case 1:d=b[0];break;default:d=b.slice(0,b.length-1).join(", ")+" or "+b[b.length-1]}return e=c?a(c):"end of input","Expected "+d+" but "+e+" found."}this.name="SyntaxError",this.expected=b,this.found=c,this.message=g(b,c),this.offset=d,this.line=e,this.column=f},b.SyntaxError.prototype=Error.prototype,b}(),function(a){"use strict";var b=new a.SimplexSolver,c={},d={},e=a.Strength.weak;a.Strength.medium,a.Strength.strong,a.Strength.required;var f=function(g){if(d[g])return d[g];switch(g.type){case"Inequality":var h="<="==g.operator?a.LEQ:a.GEQ,i=new a.Inequality(f(g.left),h,f(g.right),e);return b.addConstraint(i),i;case"Equality":var i=new a.Equation(f(g.left),f(g.right),e);return b.addConstraint(i),i;case"MultiplicativeExpression":var i=a.times(f(g.left),f(g.right));return b.addConstraint(i),i;case"AdditiveExpression":return"+"==g.operator?a.plus(f(g.left),f(g.right)):a.minus(f(g.left),f(g.right));case"NumericLiteral":return new a.Expression(g.value);case"Variable":return c[g.name]||(c[g.name]=new a.Variable({name:g.name})),c[g.name];case"UnaryExpression":console.log("UnaryExpression...WTF?")}},g=function(a){return a.map(f)};a._api=function(){var c=Array.prototype.slice.call(arguments);if(1==c.length){if("string"==typeof c[0]){var d=a.parser.parse(c[0]);return g(d)}"function"==typeof c[0]&&b._addCallback(c[0])}}}(this.c||b.parent.exports||{})}).call("undefined"!=typeof b?b.compiled=!0&&b:this)},{}],3:[function(a,b){var c,d,e,f,g,h,i,j;"undefined"!=typeof window&&null!==window?(e=a("./parser"),f=a("./scoper")):(e=a("../lib/parser"),f=a("../lib/scoper")),g=a("vfl-compiler"),i=a("vgl-compiler"),c=a("error-reporter"),d=function(a){var b,d,g,h,i,j;j=null;try{j=e.parse(a)}catch(k){d=k,g=new c(a),i=d.message,h=d.line,b=d.column,g.reportError(i,h,b)}return f(j)},h=function(a,b,c){var e,f,h,i,j,k,l,m,n,o,p,q,r,s;for(null==c&&(c=[]),h=[],i=g.parse("@"+a+" "+b),q=i.statements,m=0,o=q.length;o>m;m++)k=q[m],h=h.concat(d(k).commands);if(c.length>0&&i.selectors.length>0){for(j="",r=i.selectors,e=n=0,p=r.length;p>n;e=++n)l=r[e],j+=l,e!==i.selectors.length-1&&(j+=", ");j+=" {}",f=d(j).commands[0],f[2]=c,h.push(f),("undefined"!=typeof window&&null!==window&&null!=(s=window.GSS)?s.console:void 0)&&window.GSS.console.row("@"+a,i.statements.concat([j]),b)}return{commands:h}},j=function(a,b,c){var e,f,g,h,j;for(null==c&&(c=[]),e=[],g=i.parse("@"+a+" "+b),h=0,j=g.length;j>h;h++)f=g[h],e=e.concat(d(f).commands);return{commands:c.concat(e)}},e.hooks={directives:{h:h,v:h,horizontal:h,vertical:h,"grid-template":j,"grid-rows":j,"grid-cols":j}},b.exports={parse:d,scope:f}},{"../lib/parser":5,"../lib/scoper":6,"./parser":5,"./scoper":6,"error-reporter":7,"vfl-compiler":10,"vgl-compiler":8}],4:[function(a,b){var c,d;d=function(a){var b,c,e,f;for(b=[],e=0,f=a.length;f>e;e++)c=a[e],"object"!=typeof c?b.push(c):c instanceof Array&&b.push(d(c));return b},c=function(){function a(a,b,c,d){this.parser=a,this._lineNumber=b,this._columnNumber=c,this._Error=d()}return a._toString=function(a){return"[object String]"===Object.prototype.toString.call(a)?a:"[object Array]"===Object.prototype.toString.call(a)?a.join(""):""},a._unpack2DExpression=function(a){var b,c,d,e,f,g,h;if(d={"bottom-left":["left","bottom"],"bottom-right":["right","bottom"],center:["center-x","center-y"],"intrinsic-size":["intrinsic-width","intrinsic-height"],position:["x","y"],size:["width","height"],"top-left":["left","top"],"top-right":["right","top"]},b=[a],f=a[2],e=d[f],null!=e)for(b=[],g=0,h=e.length;h>g;g++)c=e[g],a=a.slice(),a[2]=c,b.push(a);return b},a.prototype._Error=null,a.prototype._columnNumber=function(){},a.prototype._lineNumber=function(){},a.prototype.reverseFilterNest=function(a){var b,c,e,f,g,h,i,j,k,l;for(f=a.length,b=f-1;b>0;){if(g=a[b],c=a[b-1],","===g[0]){for(i=[","],l=g.slice(1,g.length),j=0,k=l.length;k>j;j++)h=l[j],e=d(c),i.push(this.reverseFilterNest([e,h]));a[b]=i}else"$pseudo"===g[0]&&","===c[0]?"first"===g[1]&&"virtual"===c[1][0]?a[b]=c[1]:"last"===g[1]&&"virtual"===c[c.length-1][0]&&(a[b]=c[c.length-1]):g.splice(1,0,c);b--}return a[f-1]},a.prototype.nestedDualTermCommands=function(a,b){var c,d,e,f,g;for(e=a,c=f=0,g=b.length;g>f;c=++f)d=b[c],e=[b[c][1],e,b[c][3]];return e},a.prototype.createSelectorCommaCommand=function(a,b){var c,d,e,f,g,h;for(e=","===a[0]?a:[",",a],c=g=0,h=b.length;h>g;c=++g)d=b[c],f=b[c][3],","===f[0]?(f.splice(0,1),e=e.concat(f)):e.push(f);return e},a.prototype.mergeCommands=function(a){var b,c,d,e;for(b=[],d=0,e=a.length;e>d;d++)c=a[d],b=b.concat(c.commands);return{commands:b}},a.prototype.splatifyIfNeeded=function(a,b){return b.splats?this.splatExpander(a,b):[a,b]},a.prototype.splatExpander=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;for(n=b.splats,k=b.postfix,i=null,p=0,t=n.length;t>p;p++){for(m=n[p],l=m.prefix,f=m.from,o=m.to,e=[],g=f;o>=g;)e.push(l+g),g++;if(i){for(j=[],q=0,u=i.length;u>q;q++)for(h=i[q],r=0,v=e.length;v>r;r++)d=e[r],j.push(h+d);i=j}else i=e}for(c=[","],s=0,w=i.length;w>s;s++)h=i[s],k&&(h+=k),c.push([a,h]);return c},a.prototype.constraint=function(b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;for(f=[],g=b,(null==d||0===d.length)&&(d=[]),j=p=0,r=c.length;r>p;j=++p){for(k=c[j],l=c[j][1],m=c[j][3],i=a._unpack2DExpression(g),o=a._unpack2DExpression(m),i.length>o.length?o.push(o[0]):i.length<o.length&&i.push(i[0]),j=q=0,s=o.length;s>q;j=++q)n=o[j],h=i[j],null!=h&&null!=n&&(e=[l,h,n].concat(d),f.push(e));g=m}return{commands:f}},a.prototype.inlineConstraint=function(a,b,c){var d;return a=a.join("").trim(),c=c.join("").trim(),d=this.parser.parse("&["+a+"] "+b+" "+c)},a.prototype.inlineSet=function(a,b){var c;return a=a.join("").trim(),b=b.join("").trim(),c=[["set",a,b]],{commands:c}},a.prototype.directive=function(a,b,c){var d,e;return(e=this.parser.hooks.directives[a])?e(a,b,c):(d=["directive",a,b],c&&d.push(c),{commands:[d]})},a.prototype.variable=function(b,c,d){var e,f;if(f=a._toString(d),null!=c&&0!==c.length){switch(f){case"left":f="x";break;case"top":f="y";break;case"cx":f="center-x";break;case"cy":f="center-y"}if(-1!==c.toString().indexOf("::window"))switch(f){case"right":f="width";break;case"bottom":f="height"}}return e=null!=c?["get",c,f]:["get",f],b?["-",0,e]:e},a.prototype.integer=function(a){return parseInt(a.join(""),10)},a.prototype.signedInteger=function(a,b){return null==b&&(b=0),parseInt(""+a+b,10)},a.prototype.signedReal=function(a,b){return null==b&&(b=0),parseFloat(""+a+b)},a.prototype.selector=function(){return{id:function(b){var c;return c=a._toString(b),["$id",c]},virtual:function(b){var c;return c=a._toString(b),["virtual",c]},"class":function(b){var c;return c=a._toString(b),["$class",c]},tag:function(b){var c;return c=a._toString(b),["$tag",c]},all:function(b){var c;return c=a._toString(b),["$all",c]}}},a.prototype.querySelectorAllParts=function(){return{withoutParens:function(b){return a._toString(b)},withParens:function(b){var c;return c=a._toString(b),"("+c+")"}}},a.prototype.strengthAndWeight=function(){var a=this;return{valid:function(a,b){return null==b||0===b.length?[a]:[a,b]},invalid:function(){throw new a._Error("Invalid Strength or Weight",null,null,null,a._lineNumber(),a._columnNumber())}}},a.prototype.virtualElement=function(a){return{commands:[["virtual"].concat(a)]}},a.prototype.stay=function(b){var c,d,e,f,g,h,i,j;for(h=["stay"].concat(b),f=a._unpack2DExpression(h[1]),d=[],g=i=0,j=f.length;j>i;g=++i)e=f[g],c=h.slice(),c[1]=f[g],d.push(c);return{commands:d}},a.prototype.stayVariable=function(a){return a},a.prototype.conditional=function(a){var b;return b=[a],{commands:b}},a}(),b.exports=c},{}],5:[function(a,b){b.exports=function(){function b(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c}function c(a,b,c,d,e,f){this.message=a,this.expected=b,this.found=c,this.offset=d,this.line=e,this.column=f,this.name="SyntaxError"}function d(b){function d(){return f(vh).line}function e(){return f(vh).column}function f(a){function c(a,c,d){var e,f;for(e=c;d>e;e++)f=b.charAt(e),"\n"===f?(a.seenCR||a.line++,a.column=1,a.seenCR=!1):"\r"===f||"\u2028"===f||"\u2029"===f?(a.line++,a.column=1,a.seenCR=!0):(a.column++,a.seenCR=!1)}return wh!==a&&(wh>a&&(wh=0,xh={line:1,column:1,seenCR:!1}),c(xh,wh,a),wh=a),xh}function g(a){yh>uh||(uh>yh&&(yh=uh,zh=[]),zh.push(a))}function h(a,d,e){function g(a){var b=1;for(a.sort(function(a,b){return a.description<b.description?-1:a.description>b.description?1:0});b<a.length;)a[b-1]===a[b]?a.splice(b,1):b++}function h(a,b){function c(a){function b(a){return a.charCodeAt(0).toString(16).toUpperCase()}return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(a){return"\\x0"+b(a)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(a){return"\\x"+b(a)}).replace(/[\u0180-\u0FFF]/g,function(a){return"\\u0"+b(a)}).replace(/[\u1080-\uFFFF]/g,function(a){return"\\u"+b(a)})}var d,e,f,g=new Array(a.length);for(f=0;f<a.length;f++)g[f]=a[f].description;return d=a.length>1?g.slice(0,-1).join(", ")+" or "+g[a.length-1]:g[0],e=b?'"'+c(b)+'"':"end of input","Expected "+d+" but "+e+" found."}var i=f(e),j=e<b.length?b.charAt(e):null;return null!==d&&g(d),new c(null!==a?a:h(d,j),d,j,e,i.line,i.column)}function i(){var a,b,c,d;return a=uh,b=da(),b!==Qa?(c=j(),c!==Qa?(d=da(),d!==Qa?(vh=a,b=Ua(c),a=b):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta),a}function j(){var a,b,c,d;if(a=uh,b=da(),b!==Qa){for(c=[],d=k();d!==Qa;)c.push(d),d=k();c!==Qa?(vh=a,b=Va(c),a=b):(uh=a,a=Ta)}else uh=a,a=Ta;return a}function k(){var a,b,c,d,e;return a=uh,b=da(),b!==Qa?(c=l(),c!==Qa?(d=Y(),d!==Qa?(e=da(),e!==Qa?(vh=a,b=Ua(c),a=b):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta),a}function l(){var a;return a=t(),a===Qa&&(a=r(),a===Qa&&(a=s(),a===Qa&&(a=q(),a===Qa&&(a=Ja(),a===Qa&&(a=m(),a===Qa&&(a=La(),a===Qa&&(a=v()))))))),a}function m(){var a,b,c,d;if(Ah++,a=uh,b=o(),b!==Qa){if(c=[],d=n(),d!==Qa)for(;d!==Qa;)c.push(d),d=n();else c=Ta;c!==Qa?(vh=a,b=Xa(b,c),a=b):(uh=a,a=Ta)}else uh=a,a=Ta;return a===Qa&&(a=uh,b=o(),b!==Qa&&(vh=a,b=Ya(b)),a=b),Ah--,a===Qa&&(b=Qa,0===Ah&&g(Wa)),a}function n(){var a,b,c;return a=uh,b=da(),b!==Qa?(c=p(),c!==Qa?(vh=a,b=Za(c),a=b):(uh=a,a=Ta)):(uh=a,a=Ta),a}function o(){var a,c,d,e,f,h,i,k,l,m;if(a=uh,b.substr(uh,3)===$a?(c=$a,uh+=3):(c=Qa,0===Ah&&g(_a)),c!==Qa?(d=ca(),d!==Qa?(e=w(),e!==Qa?(f=da(),f!==Qa?(123===b.charCodeAt(uh)?(h=ab,uh++):(h=Qa,0===Ah&&g(bb)),h!==Qa?(i=da(),i!==Qa?(k=j(),k!==Qa?(l=da(),l!==Qa?(125===b.charCodeAt(uh)?(m=cb,uh++):(m=Qa,0===Ah&&g(db)),m!==Qa?(vh=a,c=eb(e,k),a=c):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta),a===Qa)if(a=uh,b.substr(uh,3)===$a?(c=$a,uh+=3):(c=Qa,0===Ah&&g(_a)),c!==Qa){for(d=[],fb.test(b.charAt(uh))?(e=b.charAt(uh),uh++):(e=Qa,0===Ah&&g(gb));e!==Qa;)d.push(e),fb.test(b.charAt(uh))?(e=b.charAt(uh),uh++):(e=Qa,0===Ah&&g(gb));d!==Qa?(e=da(),e!==Qa?(123===b.charCodeAt(uh)?(f=ab,uh++):(f=Qa,0===Ah&&g(bb)),f!==Qa?(h=da(),h!==Qa?(i=j(),i!==Qa?(k=da(),k!==Qa?(125===b.charCodeAt(uh)?(l=cb,uh++):(l=Qa,0===Ah&&g(db)),l!==Qa?(vh=a,c=hb(i),a=c):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)}else uh=a,a=Ta;return a}function p(){var a,c,d,e,f,h,i,k,l,m;if(a=uh,b.substr(uh,5)===ib?(c=ib,uh+=5):(c=Qa,0===Ah&&g(jb)),c!==Qa?(d=ca(),d!==Qa?(e=w(),e===Qa&&(e=kb),e!==Qa?(f=da(),f!==Qa?(123===b.charCodeAt(uh)?(h=ab,uh++):(h=Qa,0===Ah&&g(bb)),h!==Qa?(i=da(),i!==Qa?(k=j(),k!==Qa?(l=da(),l!==Qa?(125===b.charCodeAt(uh)?(m=cb,uh++):(m=Qa,0===Ah&&g(db)),m!==Qa?(vh=a,c=lb(e,k),a=c):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta),a===Qa)if(a=uh,b.substr(uh,5)===ib?(c=ib,uh+=5):(c=Qa,0===Ah&&g(jb)),c!==Qa){for(d=[],fb.test(b.charAt(uh))?(e=b.charAt(uh),uh++):(e=Qa,0===Ah&&g(gb));e!==Qa;)d.push(e),fb.test(b.charAt(uh))?(e=b.charAt(uh),uh++):(e=Qa,0===Ah&&g(gb));d!==Qa?(e=da(),e!==Qa?(123===b.charCodeAt(uh)?(f=ab,uh++):(f=Qa,0===Ah&&g(bb)),f!==Qa?(h=da(),h!==Qa?(i=j(),i!==Qa?(k=da(),k!==Qa?(125===b.charCodeAt(uh)?(l=cb,uh++):(l=Qa,0===Ah&&g(db)),l!==Qa?(vh=a,c=mb(i),a=c):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)}else uh=a,a=Ta;return a}function q(){var a,b,c,d,e,f,h,i;if(Ah++,a=uh,b=B(),b!==Qa){for(c=[],d=uh,e=da(),e!==Qa?(f=A(),f!==Qa?(h=da(),h!==Qa?(i=B(),i!==Qa?(e=[e,f,h,i],d=e):(uh=d,d=Ta)):(uh=d,d=Ta)):(uh=d,d=Ta)):(uh=d,d=Ta);d!==Qa;)c.push(d),d=uh,e=da(),e!==Qa?(f=A(),f!==Qa?(h=da(),h!==Qa?(i=B(),i!==Qa?(e=[e,f,h,i],d=e):(uh=d,d=Ta)):(uh=d,d=Ta)):(uh=d,d=Ta)):(uh=d,d=Ta);c!==Qa?(d=da(),d!==Qa?(e=Ga(),e===Qa&&(e=kb),e!==Qa?(vh=a,b=ob(b,c,e),a=b):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)}else uh=a,a=Ta;return Ah--,a===Qa&&(b=Qa,0===Ah&&g(nb)),a}function r(){var a,c,d,e,f,h,i,j,k,l;if(Ah++,a=uh,c=da(),c!==Qa){if(d=[],qb.test(b.charAt(uh))?(e=b.charAt(uh),uh++):(e=Qa,0===Ah&&g(rb)),e!==Qa)for(;e!==Qa;)d.push(e),qb.test(b.charAt(uh))?(e=b.charAt(uh),uh++):(e=Qa,0===Ah&&g(rb));else d=Ta;if(d!==Qa)if(e=ca(),e!==Qa)if(58===b.charCodeAt(uh)?(f=sb,uh++):(f=Qa,0===Ah&&g(tb)),f!==Qa)if(h=ca(),h!==Qa)if(i=A(),i!==Qa){if(j=[],ub.test(b.charAt(uh))?(k=b.charAt(uh),uh++):(k=Qa,0===Ah&&g(vb)),k!==Qa)for(;k!==Qa;)j.push(k),ub.test(b.charAt(uh))?(k=b.charAt(uh),uh++):(k=Qa,0===Ah&&g(vb));else j=Ta;j!==Qa?(k=uh,Ah++,59===b.charCodeAt(uh)?(l=xb,uh++):(l=Qa,0===Ah&&g(yb)),Ah--,l!==Qa?(uh=k,k=wb):k=Ta,k!==Qa?(vh=a,c=zb(d,i,j),a=c):(uh=a,a=Ta)):(uh=a,a=Ta)}else uh=a,a=Ta;else uh=a,a=Ta;else uh=a,a=Ta;else uh=a,a=Ta;else uh=a,a=Ta}else uh=a,a=Ta;return Ah--,a===Qa&&(c=Qa,0===Ah&&g(pb)),a}function s(){var a,c,d,e,f,h,i,j;if(Ah++,a=uh,c=da(),c!==Qa){if(d=[],qb.test(b.charAt(uh))?(e=b.charAt(uh),uh++):(e=Qa,0===Ah&&g(rb)),e!==Qa)for(;e!==Qa;)d.push(e),qb.test(b.charAt(uh))?(e=b.charAt(uh),uh++):(e=Qa,0===Ah&&g(rb));else d=Ta;if(d!==Qa)if(e=ca(),e!==Qa)if(58===b.charCodeAt(uh)?(f=sb,uh++):(f=Qa,0===Ah&&g(tb)),f!==Qa){if(h=[],ub.test(b.charAt(uh))?(i=b.charAt(uh),uh++):(i=Qa,0===Ah&&g(vb)),i!==Qa)for(;i!==Qa;)h.push(i),ub.test(b.charAt(uh))?(i=b.charAt(uh),uh++):(i=Qa,0===Ah&&g(vb));else h=Ta;h!==Qa?(i=uh,Ah++,59===b.charCodeAt(uh)?(j=xb,uh++):(j=Qa,0===Ah&&g(yb)),Ah--,j!==Qa?(uh=i,i=wb):i=Ta,i!==Qa?(vh=a,c=Bb(d,h),a=c):(uh=a,a=Ta)):(uh=a,a=Ta)}else uh=a,a=Ta;else uh=a,a=Ta;else uh=a,a=Ta}else uh=a,a=Ta;return Ah--,a===Qa&&(c=Qa,0===Ah&&g(Ab)),a}function t(){var a,c,d,e,f,h;return a=uh,c=u(),c!==Qa?(d=da(),d!==Qa?(e=j(),e!==Qa?(f=da(),f!==Qa?(125===b.charCodeAt(uh)?(h=cb,uh++):(h=Qa,0===Ah&&g(db)),h!==Qa?(vh=a,c=Cb(c,e),a=c):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta),a}function u(){var a,c,d,e;return a=uh,c=ga(),c!==Qa?(d=da(),d!==Qa?(123===b.charCodeAt(uh)?(e=ab,uh++):(e=Qa,0===Ah&&g(bb)),e!==Qa?(vh=a,c=Db(c),a=c):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta),a}function v(){var a,c,d,e,f,h,i,k,l;if(Ah++,a=uh,64===b.charCodeAt(uh)?(c=Fb,uh++):(c=Qa,0===Ah&&g(Gb)),c!==Qa){if(d=[],Hb.test(b.charAt(uh))?(e=b.charAt(uh),uh++):(e=Qa,0===Ah&&g(Ib)),e!==Qa)for(;e!==Qa;)d.push(e),Hb.test(b.charAt(uh))?(e=b.charAt(uh),uh++):(e=Qa,0===Ah&&g(Ib));else d=Ta;if(d!==Qa){if(e=[],Jb.test(b.charAt(uh))?(f=b.charAt(uh),uh++):(f=Qa,0===Ah&&g(Kb)),f!==Qa)for(;f!==Qa;)e.push(f),Jb.test(b.charAt(uh))?(f=b.charAt(uh),uh++):(f=Qa,0===Ah&&g(Kb));else e=Ta;e!==Qa?(123===b.charCodeAt(uh)?(f=ab,uh++):(f=Qa,0===Ah&&g(bb)),f!==Qa?(h=da(),h!==Qa?(i=j(),i!==Qa?(k=da(),k!==Qa?(125===b.charCodeAt(uh)?(l=cb,uh++):(l=Qa,0===Ah&&g(db)),l!==Qa?(vh=a,c=Lb(d,e,i),a=c):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)}else uh=a,a=Ta}else uh=a,a=Ta;if(a===Qa)if(a=uh,64===b.charCodeAt(uh)?(c=Fb,uh++):(c=Qa,0===Ah&&g(Gb)),c!==Qa){if(d=[],Hb.test(b.charAt(uh))?(e=b.charAt(uh),uh++):(e=Qa,0===Ah&&g(Ib)),e!==Qa)for(;e!==Qa;)d.push(e),Hb.test(b.charAt(uh))?(e=b.charAt(uh),uh++):(e=Qa,0===Ah&&g(Ib));else d=Ta;if(d!==Qa){if(e=[],ub.test(b.charAt(uh))?(f=b.charAt(uh),uh++):(f=Qa,0===Ah&&g(vb)),f!==Qa)for(;f!==Qa;)e.push(f),ub.test(b.charAt(uh))?(f=b.charAt(uh),uh++):(f=Qa,0===Ah&&g(vb));else e=Ta;e!==Qa?(f=uh,Ah++,59===b.charCodeAt(uh)?(h=xb,uh++):(h=Qa,0===Ah&&g(yb)),Ah--,h!==Qa?(uh=f,f=wb):f=Ta,f!==Qa?(vh=a,c=Mb(d,e),a=c):(uh=a,a=Ta)):(uh=a,a=Ta)}else uh=a,a=Ta}else uh=a,a=Ta;return Ah--,a===Qa&&(c=Qa,
0===Ah&&g(Eb)),a}function w(){var a,b,c,d,e,f,g,h;if(a=uh,b=y(),b!==Qa){for(c=[],d=uh,e=da(),e!==Qa?(f=x(),f!==Qa?(g=da(),g!==Qa?(h=y(),h!==Qa?(e=[e,f,g,h],d=e):(uh=d,d=Ta)):(uh=d,d=Ta)):(uh=d,d=Ta)):(uh=d,d=Ta);d!==Qa;)c.push(d),d=uh,e=da(),e!==Qa?(f=x(),f!==Qa?(g=da(),g!==Qa?(h=y(),h!==Qa?(e=[e,f,g,h],d=e):(uh=d,d=Ta)):(uh=d,d=Ta)):(uh=d,d=Ta)):(uh=d,d=Ta);c!==Qa?(vh=a,b=Nb(b,c),a=b):(uh=a,a=Ta)}else uh=a,a=Ta;return a}function x(){var a,c;return a=uh,b.substr(uh,3)===Ob?(c=Ob,uh+=3):(c=Qa,0===Ah&&g(Pb)),c===Qa&&(b.substr(uh,3)===Qb?(c=Qb,uh+=3):(c=Qa,0===Ah&&g(Rb)),c===Qa&&(b.substr(uh,3)===Sb?(c=Sb,uh+=3):(c=Qa,0===Ah&&g(Tb)),c===Qa&&(b.substr(uh,2)===Ub?(c=Ub,uh+=2):(c=Qa,0===Ah&&g(Vb))))),c!==Qa&&(vh=a,c=Wb()),a=c,a===Qa&&(a=uh,b.substr(uh,2)===Xb?(c=Xb,uh+=2):(c=Qa,0===Ah&&g(Yb)),c===Qa&&(b.substr(uh,2)===Zb?(c=Zb,uh+=2):(c=Qa,0===Ah&&g($b)),c===Qa&&(b.substr(uh,2)===_b?(c=_b,uh+=2):(c=Qa,0===Ah&&g(ac)),c===Qa&&(b.substr(uh,2)===bc?(c=bc,uh+=2):(c=Qa,0===Ah&&g(cc))))),c!==Qa&&(vh=a,c=dc()),a=c),a}function y(){var a,b,c,d,e,f,g,h;if(a=uh,b=C(),b!==Qa){for(c=[],d=uh,e=da(),e!==Qa?(f=z(),f!==Qa?(g=da(),g!==Qa?(h=C(),h!==Qa?(e=[e,f,g,h],d=e):(uh=d,d=Ta)):(uh=d,d=Ta)):(uh=d,d=Ta)):(uh=d,d=Ta);d!==Qa;)c.push(d),d=uh,e=da(),e!==Qa?(f=z(),f!==Qa?(g=da(),g!==Qa?(h=C(),h!==Qa?(e=[e,f,g,h],d=e):(uh=d,d=Ta)):(uh=d,d=Ta)):(uh=d,d=Ta)):(uh=d,d=Ta);c!==Qa?(vh=a,b=ec(b,c),a=b):(uh=a,a=Ta)}else uh=a,a=Ta;return a}function z(){var a,c;return a=A(),a===Qa&&(a=uh,b.substr(uh,2)===fc?(c=fc,uh+=2):(c=Qa,0===Ah&&g(gc)),c!==Qa&&(vh=a,c=hc()),a=c,a===Qa&&(a=uh,61===b.charCodeAt(uh)?(c=ic,uh++):(c=Qa,0===Ah&&g(jc)),c!==Qa&&(vh=a,c=kc()),a=c,a===Qa&&(a=uh,b.substr(uh,2)===lc?(c=lc,uh+=2):(c=Qa,0===Ah&&g(mc)),c!==Qa&&(vh=a,c=nc()),a=c))),a}function A(){var a,c;return Ah++,a=uh,b.substr(uh,2)===pc?(c=pc,uh+=2):(c=Qa,0===Ah&&g(qc)),c!==Qa&&(vh=a,c=rc()),a=c,a===Qa&&(a=uh,b.substr(uh,2)===sc?(c=sc,uh+=2):(c=Qa,0===Ah&&g(tc)),c===Qa&&(b.substr(uh,2)===uc?(c=uc,uh+=2):(c=Qa,0===Ah&&g(vc))),c!==Qa&&(vh=a,c=wc()),a=c,a===Qa&&(a=uh,b.substr(uh,2)===xc?(c=xc,uh+=2):(c=Qa,0===Ah&&g(yc)),c===Qa&&(b.substr(uh,2)===zc?(c=zc,uh+=2):(c=Qa,0===Ah&&g(Ac))),c!==Qa&&(vh=a,c=Bc()),a=c,a===Qa&&(a=uh,60===b.charCodeAt(uh)?(c=Cc,uh++):(c=Qa,0===Ah&&g(Dc)),c!==Qa&&(vh=a,c=Ec()),a=c,a===Qa&&(a=uh,62===b.charCodeAt(uh)?(c=Fc,uh++):(c=Qa,0===Ah&&g(Gc)),c!==Qa&&(vh=a,c=Hc()),a=c)))),Ah--,a===Qa&&(c=Qa,0===Ah&&g(oc)),a}function B(){var a,b,c,d,e,f,g,h;if(a=uh,b=E(),b!==Qa){for(c=[],d=uh,e=da(),e!==Qa?(f=D(),f!==Qa?(g=da(),g!==Qa?(h=E(),h!==Qa?(e=[e,f,g,h],d=e):(uh=d,d=Ta)):(uh=d,d=Ta)):(uh=d,d=Ta)):(uh=d,d=Ta);d!==Qa;)c.push(d),d=uh,e=da(),e!==Qa?(f=D(),f!==Qa?(g=da(),g!==Qa?(h=E(),h!==Qa?(e=[e,f,g,h],d=e):(uh=d,d=Ta)):(uh=d,d=Ta)):(uh=d,d=Ta)):(uh=d,d=Ta);c!==Qa?(vh=a,b=ec(b,c),a=b):(uh=a,a=Ta)}else uh=a,a=Ta;return a}function C(){var a,b,c,d,e,f,g,h;if(a=uh,b=F(),b!==Qa){for(c=[],d=uh,e=da(),e!==Qa?(f=D(),f!==Qa?(g=da(),g!==Qa?(h=F(),h!==Qa?(e=[e,f,g,h],d=e):(uh=d,d=Ta)):(uh=d,d=Ta)):(uh=d,d=Ta)):(uh=d,d=Ta);d!==Qa;)c.push(d),d=uh,e=da(),e!==Qa?(f=D(),f!==Qa?(g=da(),g!==Qa?(h=F(),h!==Qa?(e=[e,f,g,h],d=e):(uh=d,d=Ta)):(uh=d,d=Ta)):(uh=d,d=Ta)):(uh=d,d=Ta);c!==Qa?(vh=a,b=ec(b,c),a=b):(uh=a,a=Ta)}else uh=a,a=Ta;return a}function D(){var a,c;return a=uh,43===b.charCodeAt(uh)?(c=Ic,uh++):(c=Qa,0===Ah&&g(Jc)),c!==Qa&&(vh=a,c=Kc()),a=c,a===Qa&&(a=uh,45===b.charCodeAt(uh)?(c=Lc,uh++):(c=Qa,0===Ah&&g(Mc)),c!==Qa&&(vh=a,c=Nc()),a=c),a}function E(){var a,b,c,d,e,f,g,h;if(a=uh,b=H(),b!==Qa){for(c=[],d=uh,e=da(),e!==Qa?(f=G(),f!==Qa?(g=da(),g!==Qa?(h=H(),h!==Qa?(e=[e,f,g,h],d=e):(uh=d,d=Ta)):(uh=d,d=Ta)):(uh=d,d=Ta)):(uh=d,d=Ta);d!==Qa;)c.push(d),d=uh,e=da(),e!==Qa?(f=G(),f!==Qa?(g=da(),g!==Qa?(h=H(),h!==Qa?(e=[e,f,g,h],d=e):(uh=d,d=Ta)):(uh=d,d=Ta)):(uh=d,d=Ta)):(uh=d,d=Ta);c!==Qa?(vh=a,b=ec(b,c),a=b):(uh=a,a=Ta)}else uh=a,a=Ta;return a}function F(){var a,b,c,d,e,f,g,h;if(a=uh,b=I(),b!==Qa){for(c=[],d=uh,e=da(),e!==Qa?(f=G(),f!==Qa?(g=da(),g!==Qa?(h=I(),h!==Qa?(e=[e,f,g,h],d=e):(uh=d,d=Ta)):(uh=d,d=Ta)):(uh=d,d=Ta)):(uh=d,d=Ta);d!==Qa;)c.push(d),d=uh,e=da(),e!==Qa?(f=G(),f!==Qa?(g=da(),g!==Qa?(h=I(),h!==Qa?(e=[e,f,g,h],d=e):(uh=d,d=Ta)):(uh=d,d=Ta)):(uh=d,d=Ta)):(uh=d,d=Ta);c!==Qa?(vh=a,b=ec(b,c),a=b):(uh=a,a=Ta)}else uh=a,a=Ta;return a}function G(){var a,c;return a=uh,42===b.charCodeAt(uh)?(c=Oc,uh++):(c=Qa,0===Ah&&g(Pc)),c!==Qa&&(vh=a,c=Qc()),a=c,a===Qa&&(a=uh,47===b.charCodeAt(uh)?(c=Rc,uh++):(c=Qa,0===Ah&&g(Sc)),c!==Qa&&(vh=a,c=Tc()),a=c),a}function H(){var a,c,d,e,f,h;return a=J(),a===Qa&&(a=N(),a===Qa&&(a=uh,40===b.charCodeAt(uh)?(c=Uc,uh++):(c=Qa,0===Ah&&g(Vc)),c!==Qa?(d=da(),d!==Qa?(e=B(),e!==Qa?(f=da(),f!==Qa?(41===b.charCodeAt(uh)?(h=Wc,uh++):(h=Qa,0===Ah&&g(Xc)),h!==Qa?(vh=a,c=Yc(e),a=c):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta))),a}function I(){var a,c,d,e,f,h;return a=J(),a===Qa&&(a=N(),a===Qa&&(a=K(),a===Qa&&(a=uh,b.substr(uh,4)===Zc?(c=Zc,uh+=4):(c=Qa,0===Ah&&g($c)),c!==Qa&&(vh=a,c=_c()),a=c,a===Qa&&(a=uh,b.substr(uh,5)===ad?(c=ad,uh+=5):(c=Qa,0===Ah&&g(bd)),c!==Qa&&(vh=a,c=cd()),a=c,a===Qa&&(a=uh,b.substr(uh,4)===dd?(c=dd,uh+=4):(c=Qa,0===Ah&&g(ed)),c!==Qa&&(vh=a,c=fd()),a=c,a===Qa&&(a=uh,b.substr(uh,9)===gd?(c=gd,uh+=9):(c=Qa,0===Ah&&g(hd)),c!==Qa&&(vh=a,c=id()),a=c,a===Qa&&(a=uh,40===b.charCodeAt(uh)?(c=Uc,uh++):(c=Qa,0===Ah&&g(Vc)),c!==Qa?(d=da(),d!==Qa?(e=w(),e!==Qa?(f=da(),f!==Qa?(41===b.charCodeAt(uh)?(h=Wc,uh++):(h=Qa,0===Ah&&g(Xc)),h!==Qa?(vh=a,c=jd(e),a=c):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)))))))),a}function J(){var a,c,d,e,f,h;if(Ah++,a=uh,45===b.charCodeAt(uh)?(c=Lc,uh++):(c=Qa,0===Ah&&g(Mc)),c===Qa&&(c=kb),c!==Qa)if(d=ea(),d===Qa&&(d=kb),d!==Qa)if(91===b.charCodeAt(uh)?(e=ld,uh++):(e=Qa,0===Ah&&g(md)),e!==Qa){if(f=[],h=L(),h!==Qa)for(;h!==Qa;)f.push(h),h=L();else f=Ta;f!==Qa?(93===b.charCodeAt(uh)?(h=nd,uh++):(h=Qa,0===Ah&&g(od)),h!==Qa?(vh=a,c=pd(c,d,f),a=c):(uh=a,a=Ta)):(uh=a,a=Ta)}else uh=a,a=Ta;else uh=a,a=Ta;else uh=a,a=Ta;return a===Qa&&(a=uh,c=za(),c===Qa&&(c=kb),c!==Qa?(d=M(),d!==Qa?(vh=a,c=qd(c,d),a=c):(uh=a,a=Ta)):(uh=a,a=Ta)),Ah--,a===Qa&&(c=Qa,0===Ah&&g(kd)),a}function K(){var a,c,d,e;if(a=uh,rd.test(b.charAt(uh))?(c=b.charAt(uh),uh++):(c=Qa,0===Ah&&g(sd)),c!==Qa){for(d=[],td.test(b.charAt(uh))?(e=b.charAt(uh),uh++):(e=Qa,0===Ah&&g(ud));e!==Qa;)d.push(e),td.test(b.charAt(uh))?(e=b.charAt(uh),uh++):(e=Qa,0===Ah&&g(ud));d!==Qa?(rd.test(b.charAt(uh))?(e=b.charAt(uh),uh++):(e=Qa,0===Ah&&g(sd)),e!==Qa?(vh=a,c=vd(d),a=c):(uh=a,a=Ta)):(uh=a,a=Ta)}else uh=a,a=Ta;return a}function L(){var a;return wd.test(b.charAt(uh))?(a=b.charAt(uh),uh++):(a=Qa,0===Ah&&g(xd)),a}function M(){var a,c,d,e,f;if(a=uh,yd.test(b.charAt(uh))?(c=b.charAt(uh),uh++):(c=Qa,0===Ah&&g(zd)),c!==Qa){for(d=[],Ad.test(b.charAt(uh))?(e=b.charAt(uh),uh++):(e=Qa,0===Ah&&g(Bd));e!==Qa;)d.push(e),Ad.test(b.charAt(uh))?(e=b.charAt(uh),uh++):(e=Qa,0===Ah&&g(Bd));d!==Qa?(vh=a,c=Cd(c,d),a=c):(uh=a,a=Ta)}else uh=a,a=Ta;if(a===Qa){if(a=uh,c=[],Dd.test(b.charAt(uh))?(d=b.charAt(uh),uh++):(d=Qa,0===Ah&&g(Ed)),d!==Qa)for(;d!==Qa;)c.push(d),Dd.test(b.charAt(uh))?(d=b.charAt(uh),uh++):(d=Qa,0===Ah&&g(Ed));else c=Ta;if(c!==Qa)if(yd.test(b.charAt(uh))?(d=b.charAt(uh),uh++):(d=Qa,0===Ah&&g(zd)),d!==Qa){if(e=[],Ad.test(b.charAt(uh))?(f=b.charAt(uh),uh++):(f=Qa,0===Ah&&g(Bd)),f!==Qa)for(;f!==Qa;)e.push(f),Ad.test(b.charAt(uh))?(f=b.charAt(uh),uh++):(f=Qa,0===Ah&&g(Bd));else e=Ta;e!==Qa?(vh=a,c=Fd(c,d,e),a=c):(uh=a,a=Ta)}else uh=a,a=Ta;else uh=a,a=Ta}return a}function N(){var a,b,c;return a=uh,b=P(),b!==Qa?(c=O(),c!==Qa?(vh=a,b=Id(b,c),a=b):(uh=a,a=Ta)):(uh=a,a=Ta),a===Qa&&(a=uh,b=P(),b!==Qa&&(vh=a,b=Jd(b)),a=b),a}function O(){var a;return b.substr(uh,2)===Kd?(a=Kd,uh+=2):(a=Qa,0===Ah&&g(Ld)),a===Qa&&(b.substr(uh,2)===Md?(a=Md,uh+=2):(a=Qa,0===Ah&&g(Nd)),a===Qa&&(b.substr(uh,2)===Od?(a=Od,uh+=2):(a=Qa,0===Ah&&g(Pd)),a===Qa&&(b.substr(uh,2)===Od?(a=Od,uh+=2):(a=Qa,0===Ah&&g(Pd)),a===Qa&&(37===b.charCodeAt(uh)?(a=Qd,uh++):(a=Qa,0===Ah&&g(Rd)),a===Qa&&(b.substr(uh,3)===Sd?(a=Sd,uh+=3):(a=Qa,0===Ah&&g(Td)),a===Qa&&(b.substr(uh,2)===Ud?(a=Ud,uh+=2):(a=Qa,0===Ah&&g(Vd)),a===Qa&&(b.substr(uh,2)===Wd?(a=Wd,uh+=2):(a=Qa,0===Ah&&g(Xd)),a===Qa&&(b.substr(uh,4)===Yd?(a=Yd,uh+=4):(a=Qa,0===Ah&&g(Zd)),a===Qa&&(b.substr(uh,4)===$d?(a=$d,uh+=4):(a=Qa,0===Ah&&g(_d)),a===Qa&&(b.substr(uh,2)===ae?(a=ae,uh+=2):(a=Qa,0===Ah&&g(be)),a===Qa&&(b.substr(uh,2)===ce?(a=ce,uh+=2):(a=Qa,0===Ah&&g(de)),a===Qa&&(b.substr(uh,2)===ee?(a=ee,uh+=2):(a=Qa,0===Ah&&g(fe)),a===Qa&&(b.substr(uh,2)===ge?(a=ge,uh+=2):(a=Qa,0===Ah&&g(he)),a===Qa&&(b.substr(uh,2)===ie?(a=ie,uh+=2):(a=Qa,0===Ah&&g(je)))))))))))))))),a}function P(){var a;return a=S(),a===Qa&&(a=Q(),a===Qa&&(a=T(),a===Qa&&(a=R()))),a}function Q(){var a,c,d;if(a=uh,c=[],ke.test(b.charAt(uh))?(d=b.charAt(uh),uh++):(d=Qa,0===Ah&&g(le)),d!==Qa)for(;d!==Qa;)c.push(d),ke.test(b.charAt(uh))?(d=b.charAt(uh),uh++):(d=Qa,0===Ah&&g(le));else c=Ta;return c!==Qa&&(vh=a,c=me(c)),a=c}function R(){var a,c,d;return a=uh,ne.test(b.charAt(uh))?(c=b.charAt(uh),uh++):(c=Qa,0===Ah&&g(oe)),c!==Qa?(d=Q(),d===Qa&&(d=kb),d!==Qa?(vh=a,c=pe(c,d),a=c):(uh=a,a=Ta)):(uh=a,a=Ta),a}function S(){var a,c,d,e,f;for(a=uh,c=[],ke.test(b.charAt(uh))?(d=b.charAt(uh),uh++):(d=Qa,0===Ah&&g(le));d!==Qa;)c.push(d),ke.test(b.charAt(uh))?(d=b.charAt(uh),uh++):(d=Qa,0===Ah&&g(le));if(c!==Qa)if(46===b.charCodeAt(uh)?(d=qe,uh++):(d=Qa,0===Ah&&g(re)),d!==Qa){if(e=[],ke.test(b.charAt(uh))?(f=b.charAt(uh),uh++):(f=Qa,0===Ah&&g(le)),f!==Qa)for(;f!==Qa;)e.push(f),ke.test(b.charAt(uh))?(f=b.charAt(uh),uh++):(f=Qa,0===Ah&&g(le));else e=Ta;e!==Qa?(vh=a,c=se(c,e),a=c):(uh=a,a=Ta)}else uh=a,a=Ta;else uh=a,a=Ta;return a}function T(){var a,c,d;return a=uh,ne.test(b.charAt(uh))?(c=b.charAt(uh),uh++):(c=Qa,0===Ah&&g(oe)),c!==Qa?(d=S(),d!==Qa?(vh=a,c=te(c,d),a=c):(uh=a,a=Ta)):(uh=a,a=Ta),a}function U(){var a;return b.length>uh?(a=b.charAt(uh),uh++):(a=Qa,0===Ah&&g(ue)),a}function V(){var a,c;return Ah++,we.test(b.charAt(uh))?(a=b.charAt(uh),uh++):(a=Qa,0===Ah&&g(xe)),Ah--,a===Qa&&(c=Qa,0===Ah&&g(ve)),a}function W(){var a;return ye.test(b.charAt(uh))?(a=b.charAt(uh),uh++):(a=Qa,0===Ah&&g(ze)),a}function X(){var a,c;return Ah++,10===b.charCodeAt(uh)?(a=Be,uh++):(a=Qa,0===Ah&&g(Ce)),a===Qa&&(b.substr(uh,2)===De?(a=De,uh+=2):(a=Qa,0===Ah&&g(Ee)),a===Qa&&(13===b.charCodeAt(uh)?(a=Fe,uh++):(a=Qa,0===Ah&&g(Ge)),a===Qa&&(8232===b.charCodeAt(uh)?(a=He,uh++):(a=Qa,0===Ah&&g(Ie)),a===Qa&&(8233===b.charCodeAt(uh)?(a=Je,uh++):(a=Qa,0===Ah&&g(Ke)))))),Ah--,a===Qa&&(c=Qa,0===Ah&&g(Ae)),a}function Y(){var a,c,d;return a=uh,c=da(),c!==Qa?(59===b.charCodeAt(uh)?(d=xb,uh++):(d=Qa,0===Ah&&g(yb)),d!==Qa?(c=[c,d],a=c):(uh=a,a=Ta)):(uh=a,a=Ta),a===Qa&&(a=uh,c=ca(),c!==Qa?(d=X(),d!==Qa?(c=[c,d],a=c):(uh=a,a=Ta)):(uh=a,a=Ta),a===Qa&&(a=uh,c=da(),c!==Qa?(d=Z(),d!==Qa?(c=[c,d],a=c):(uh=a,a=Ta)):(uh=a,a=Ta))),a}function Z(){var a,c;return a=uh,Ah++,b.length>uh?(c=b.charAt(uh),uh++):(c=Qa,0===Ah&&g(ue)),Ah--,c===Qa?a=wb:(uh=a,a=Ta),a}function $(){var a,b;return Ah++,a=_(),a===Qa&&(a=ba()),Ah--,a===Qa&&(b=Qa,0===Ah&&g(Le)),a}function _(){var a,c,d,e,f,h;if(a=uh,b.substr(uh,2)===Me?(c=Me,uh+=2):(c=Qa,0===Ah&&g(Ne)),c!==Qa){for(d=[],e=uh,f=uh,Ah++,b.substr(uh,2)===Oe?(h=Oe,uh+=2):(h=Qa,0===Ah&&g(Pe)),Ah--,h===Qa?f=wb:(uh=f,f=Ta),f!==Qa?(h=U(),h!==Qa?(f=[f,h],e=f):(uh=e,e=Ta)):(uh=e,e=Ta);e!==Qa;)d.push(e),e=uh,f=uh,Ah++,b.substr(uh,2)===Oe?(h=Oe,uh+=2):(h=Qa,0===Ah&&g(Pe)),Ah--,h===Qa?f=wb:(uh=f,f=Ta),f!==Qa?(h=U(),h!==Qa?(f=[f,h],e=f):(uh=e,e=Ta)):(uh=e,e=Ta);d!==Qa?(b.substr(uh,2)===Oe?(e=Oe,uh+=2):(e=Qa,0===Ah&&g(Pe)),e!==Qa?(c=[c,d,e],a=c):(uh=a,a=Ta)):(uh=a,a=Ta)}else uh=a,a=Ta;return a}function aa(){var a,c,d,e,f,h;if(a=uh,b.substr(uh,2)===Me?(c=Me,uh+=2):(c=Qa,0===Ah&&g(Ne)),c!==Qa){for(d=[],e=uh,f=uh,Ah++,b.substr(uh,2)===Oe?(h=Oe,uh+=2):(h=Qa,0===Ah&&g(Pe)),h===Qa&&(h=W()),Ah--,h===Qa?f=wb:(uh=f,f=Ta),f!==Qa?(h=U(),h!==Qa?(f=[f,h],e=f):(uh=e,e=Ta)):(uh=e,e=Ta);e!==Qa;)d.push(e),e=uh,f=uh,Ah++,b.substr(uh,2)===Oe?(h=Oe,uh+=2):(h=Qa,0===Ah&&g(Pe)),h===Qa&&(h=W()),Ah--,h===Qa?f=wb:(uh=f,f=Ta),f!==Qa?(h=U(),h!==Qa?(f=[f,h],e=f):(uh=e,e=Ta)):(uh=e,e=Ta);d!==Qa?(b.substr(uh,2)===Oe?(e=Oe,uh+=2):(e=Qa,0===Ah&&g(Pe)),e!==Qa?(c=[c,d,e],a=c):(uh=a,a=Ta)):(uh=a,a=Ta)}else uh=a,a=Ta;return a}function ba(){var a,c,d,e,f,h;if(a=uh,b.substr(uh,2)===Qe?(c=Qe,uh+=2):(c=Qa,0===Ah&&g(Re)),c!==Qa){for(d=[],e=uh,f=uh,Ah++,h=W(),Ah--,h===Qa?f=wb:(uh=f,f=Ta),f!==Qa?(h=U(),h!==Qa?(f=[f,h],e=f):(uh=e,e=Ta)):(uh=e,e=Ta);e!==Qa;)d.push(e),e=uh,f=uh,Ah++,h=W(),Ah--,h===Qa?f=wb:(uh=f,f=Ta),f!==Qa?(h=U(),h!==Qa?(f=[f,h],e=f):(uh=e,e=Ta)):(uh=e,e=Ta);d!==Qa?(e=W(),e===Qa&&(e=Z()),e!==Qa?(c=[c,d,e],a=c):(uh=a,a=Ta)):(uh=a,a=Ta)}else uh=a,a=Ta;return a}function ca(){var a,b;for(a=[],b=V(),b===Qa&&(b=aa(),b===Qa&&(b=ba()));b!==Qa;)a.push(b),b=V(),b===Qa&&(b=aa(),b===Qa&&(b=ba()));return a}function da(){var a,b;for(a=[],b=V(),b===Qa&&(b=X(),b===Qa&&(b=$()));b!==Qa;)a.push(b),b=V(),b===Qa&&(b=X(),b===Qa&&(b=$()));return a}function ea(){var a,b,c;return a=uh,b=ja(),b!==Qa?(c=fa(),c!==Qa?(vh=a,b=Se(b,c),a=b):(uh=a,a=Ta)):(uh=a,a=Ta),a===Qa&&(a=fa(),a===Qa&&(a=uh,b=ia(),b!==Qa?(c=ca(),c!==Qa?(vh=a,b=Te(b),a=b):(uh=a,a=Ta)):(uh=a,a=Ta))),a}function fa(){var a,c,d,e,f,h;return a=uh,40===b.charCodeAt(uh)?(c=Uc,uh++):(c=Qa,0===Ah&&g(Vc)),c!==Qa?(d=da(),d!==Qa?(e=ga(),e!==Qa?(f=da(),f!==Qa?(41===b.charCodeAt(uh)?(h=Wc,uh++):(h=Qa,0===Ah&&g(Xc)),h!==Qa?(vh=a,c=Ue(e),a=c):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta),a}function ga(){var a,c,d,e,f,h,i,j;if(a=uh,c=ha(),c!==Qa){if(d=[],e=uh,f=da(),f!==Qa?(44===b.charCodeAt(uh)?(h=Ve,uh++):(h=Qa,0===Ah&&g(We)),h!==Qa?(i=da(),i!==Qa?(j=ha(),j!==Qa?(f=[f,h,i,j],e=f):(uh=e,e=Ta)):(uh=e,e=Ta)):(uh=e,e=Ta)):(uh=e,e=Ta),e!==Qa)for(;e!==Qa;)d.push(e),e=uh,f=da(),f!==Qa?(44===b.charCodeAt(uh)?(h=Ve,uh++):(h=Qa,0===Ah&&g(We)),h!==Qa?(i=da(),i!==Qa?(j=ha(),j!==Qa?(f=[f,h,i,j],e=f):(uh=e,e=Ta)):(uh=e,e=Ta)):(uh=e,e=Ta)):(uh=e,e=Ta);else d=Ta;d!==Qa?(vh=a,c=Xe(c,d),a=c):(uh=a,a=Ta)}else uh=a,a=Ta;return a===Qa&&(a=ha()),a}function ha(){var a,b,c;if(a=uh,b=[],c=na(),c!==Qa)for(;c!==Qa;)b.push(c),c=na();else b=Ta;return b!==Qa&&(vh=a,b=Ye(b)),a=b}function ia(){var a,b,c;if(a=uh,b=[],c=la(),c!==Qa)for(;c!==Qa;)b.push(c),c=la();else b=Ta;return b!==Qa&&(vh=a,b=Ye(b)),a=b}function ja(){var a,b,c;if(a=uh,b=[],c=ka(),c!==Qa)for(;c!==Qa;)b.push(c),c=ka();else b=Ta;return b!==Qa&&(vh=a,b=Ye(b)),a=b}function ka(){var a,b;return Ah++,a=za(),a===Qa&&(a=ta(),a===Qa&&(a=va(),a===Qa&&(a=wa(),a===Qa&&(a=xa(),a===Qa&&(a=ya(),a===Qa&&(a=Ba())))))),Ah--,a===Qa&&(b=Qa,0===Ah&&g(Ze)),a}function la(){var a,b;return Ah++,a=ka(),a===Qa&&(a=fa()),Ah--,a===Qa&&(b=Qa,0===Ah&&g($e)),a}function ma(){var a;return a=la(),a===Qa&&(a=Da()),a}function na(){var a,b;return a=ma(),a===Qa&&(a=uh,b=oa(),b!==Qa&&(vh=a,b=_e(b)),a=b),a}function oa(){var a,c,d,e;if(Ah++,a=uh,c=ca(),c!==Qa){if(d=[],bf.test(b.charAt(uh))?(e=b.charAt(uh),uh++):(e=Qa,0===Ah&&g(cf)),e!==Qa)for(;e!==Qa;)d.push(e),bf.test(b.charAt(uh))?(e=b.charAt(uh),uh++):(e=Qa,0===Ah&&g(cf));else d=Ta;d!==Qa?(e=ca(),e!==Qa?(vh=a,c=df(d),a=c):(uh=a,a=Ta)):(uh=a,a=Ta)}else uh=a,a=Ta;if(a===Qa){if(a=uh,c=[],32===b.charCodeAt(uh)?(d=Gd,uh++):(d=Qa,0===Ah&&g(Hd)),d!==Qa)for(;d!==Qa;)c.push(d),32===b.charCodeAt(uh)?(d=Gd,uh++):(d=Qa,0===Ah&&g(Hd));else c=Ta;c!==Qa?(d=uh,Ah++,ef.test(b.charAt(uh))?(e=b.charAt(uh),uh++):(e=Qa,0===Ah&&g(ff)),Ah--,e!==Qa?(uh=d,d=wb):d=Ta,d!==Qa?(vh=a,c=gf(),a=c):(uh=a,a=Ta)):(uh=a,a=Ta)}return Ah--,a===Qa&&(c=Qa,0===Ah&&g(af)),a}function pa(){var a,b,c,d;if(a=uh,b=[],c=qa(),c!==Qa)for(;c!==Qa;)b.push(c),c=qa();else b=Ta;if(b!==Qa){for(c=[],d=sa();d!==Qa;)c.push(d),d=sa();c!==Qa?(vh=a,b=hf(b,c),a=b):(uh=a,a=Ta)}else uh=a,a=Ta;return a}function qa(){var a,b,c;if(Ah++,a=uh,b=[],c=sa(),c!==Qa)for(;c!==Qa;)b.push(c),c=sa();else b=Ta;return b!==Qa?(c=ra(),c!==Qa?(vh=a,b=kf(b,c),a=b):(uh=a,a=Ta)):(uh=a,a=Ta),Ah--,a===Qa&&(b=Qa,0===Ah&&g(jf)),a}function ra(){var a,c,d,e,f;if(Ah++,a=uh,c=[],ke.test(b.charAt(uh))?(d=b.charAt(uh),uh++):(d=Qa,0===Ah&&g(le)),d!==Qa)for(;d!==Qa;)c.push(d),ke.test(b.charAt(uh))?(d=b.charAt(uh),uh++):(d=Qa,0===Ah&&g(le));else c=Ta;if(c!==Qa)if(b.substr(uh,3)===mf?(d=mf,uh+=3):(d=Qa,0===Ah&&g(nf)),d!==Qa){if(e=[],ke.test(b.charAt(uh))?(f=b.charAt(uh),uh++):(f=Qa,0===Ah&&g(le)),f!==Qa)for(;f!==Qa;)e.push(f),ke.test(b.charAt(uh))?(f=b.charAt(uh),uh++):(f=Qa,0===Ah&&g(le));else e=Ta;e!==Qa?(vh=a,c=of(c,e),a=c):(uh=a,a=Ta)}else uh=a,a=Ta;else uh=a,a=Ta;return Ah--,a===Qa&&(c=Qa,0===Ah&&g(lf)),a}function sa(){var a,b,c;return a=uh,b=uh,Ah++,c=ra(),Ah--,c===Qa?b=wb:(uh=b,b=Ta),b!==Qa?(c=Fa(),c!==Qa?(vh=a,b=pf(c),a=b):(uh=a,a=Ta)):(uh=a,a=Ta),a}function ta(){var a,c,d,e;return a=uh,qf.test(b.charAt(uh))?(c=b.charAt(uh),uh++):(c=Qa,0===Ah&&g(rf)),c!==Qa?(d=pa(),d===Qa&&(d=ua()),d!==Qa?(qf.test(b.charAt(uh))?(e=b.charAt(uh),uh++):(e=Qa,0===Ah&&g(rf)),e!==Qa?(vh=a,c=sf(d),a=c):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta),a}function ua(){var a,c,d;if(a=uh,c=[],tf.test(b.charAt(uh))?(d=b.charAt(uh),uh++):(d=Qa,0===Ah&&g(uf)),d!==Qa)for(;d!==Qa;)c.push(d),tf.test(b.charAt(uh))?(d=b.charAt(uh),uh++):(d=Qa,0===Ah&&g(uf));else c=Ta;return c!==Qa&&(vh=a,c=vf(c)),a=c}function va(){var a,c;return a=uh,c=Ea(),c!==Qa&&(vh=a,c=wf(c)),a=c,a===Qa&&(a=uh,42===b.charCodeAt(uh)?(c=Oc,uh++):(c=Qa,0===Ah&&g(Pc)),c!==Qa&&(vh=a,c=xf()),a=c),a}function wa(){var a,c,d;return a=uh,35===b.charCodeAt(uh)?(c=yf,uh++):(c=Qa,0===Ah&&g(zf)),c!==Qa?(d=pa(),d===Qa&&(d=Ea()),d!==Qa?(vh=a,c=Af(d),a=c):(uh=a,a=Ta)):(uh=a,a=Ta),a}function xa(){var a,c,d;return a=uh,46===b.charCodeAt(uh)?(c=qe,uh++):(c=Qa,0===Ah&&g(re)),c!==Qa?(d=pa(),d===Qa&&(d=Ea()),d!==Qa?(vh=a,c=Bf(d),a=c):(uh=a,a=Ta)):(uh=a,a=Ta),a}function ya(){var a,b;return a=uh,b=Aa(),b!==Qa&&(vh=a,b=Cf(b)),a=b}function za(){var a,c,d,e;if(a=uh,36===b.charCodeAt(uh)?(c=Df,uh++):(c=Qa,0===Ah&&g(Ef)),c!==Qa&&(vh=a,c=Ff()),a=c,a===Qa&&(a=uh,38===b.charCodeAt(uh)?(c=Gf,uh++):(c=Qa,0===Ah&&g(Hf)),c!==Qa?(d=uh,Ah++,If.test(b.charAt(uh))?(e=b.charAt(uh),uh++):(e=Qa,0===Ah&&g(Jf)),Ah--,e!==Qa?(uh=d,d=wb):d=Ta,d!==Qa?(vh=a,c=Kf(),a=c):(uh=a,a=Ta)):(uh=a,a=Ta),a===Qa)){if(a=uh,c=[],94===b.charCodeAt(uh)?(d=Lf,uh++):(d=Qa,0===Ah&&g(Mf)),d!==Qa)for(;d!==Qa;)c.push(d),94===b.charCodeAt(uh)?(d=Lf,uh++):(d=Qa,0===Ah&&g(Mf));else c=Ta;c!==Qa&&(vh=a,c=Nf(c)),a=c}return a}function Aa(){var a,c;return b.substr(uh,10)===Of?(a=Of,uh+=10):(a=Qa,0===Ah&&g(Pf)),a===Qa&&(b.substr(uh,6)===Qf?(a=Qf,uh+=6):(a=Qa,0===Ah&&g(Rf)),a===Qa&&(b.substr(uh,7)===Sf?(a=Sf,uh+=7):(a=Qa,0===Ah&&g(Tf)),a===Qa&&(b.substr(uh,8)===Uf?(a=Uf,uh+=8):(a=Qa,0===Ah&&g(Vf))))),a===Qa&&(a=uh,b.substr(uh,8)===Wf?(c=Wf,uh+=8):(c=Qa,0===Ah&&g(Xf)),c===Qa&&(b.substr(uh,10)===Yf?(c=Yf,uh+=10):(c=Qa,0===Ah&&g(Zf))),c!==Qa&&(vh=a,c=$f()),a=c,a===Qa&&(a=uh,b.substr(uh,6)===_f?(c=_f,uh+=6):(c=Qa,0===Ah&&g(ag)),c===Qa&&(b.substr(uh,2)===bg?(c=bg,uh+=2):(c=Qa,0===Ah&&g(cg))),c!==Qa&&(vh=a,c=dg()),a=c)),a}function Ba(){var a,c,d,e;return a=uh,b.substr(uh,2)===bg?(c=bg,uh+=2):(c=Qa,0===Ah&&g(cg)),c===Qa&&(58===b.charCodeAt(uh)?(c=sb,uh++):(c=Qa,0===Ah&&g(tb))),c!==Qa?(d=Ea(),d!==Qa?(e=Ca(),e===Qa&&(e=kb),e!==Qa?(vh=a,c=eg(c,d,e),a=c):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta),a}function Ca(){var a,c,d,e;if(a=uh,40===b.charCodeAt(uh)?(c=Uc,uh++):(c=Qa,0===Ah&&g(Vc)),c!==Qa){for(d=[],fg.test(b.charAt(uh))?(e=b.charAt(uh),uh++):(e=Qa,0===Ah&&g(gg));e!==Qa;)d.push(e),fg.test(b.charAt(uh))?(e=b.charAt(uh),uh++):(e=Qa,0===Ah&&g(gg));d!==Qa?(41===b.charCodeAt(uh)?(e=Wc,uh++):(e=Qa,0===Ah&&g(Xc)),e!==Qa?(vh=a,c=hg(d),a=c):(uh=a,a=Ta)):(uh=a,a=Ta)}else uh=a,a=Ta;return a}function Da(){var a,c,d,e,f,h;if(a=uh,91===b.charCodeAt(uh)?(c=ld,uh++):(c=Qa,0===Ah&&g(md)),c!==Qa){if(d=[],ig.test(b.charAt(uh))?(e=b.charAt(uh),uh++):(e=Qa,0===Ah&&g(jg)),e!==Qa)for(;e!==Qa;)d.push(e),ig.test(b.charAt(uh))?(e=b.charAt(uh),uh++):(e=Qa,0===Ah&&g(jg));else d=Ta;if(d!==Qa){if(e=[],kg.test(b.charAt(uh))?(f=b.charAt(uh),uh++):(f=Qa,0===Ah&&g(lg)),f!==Qa)for(;f!==Qa;)e.push(f),kg.test(b.charAt(uh))?(f=b.charAt(uh),uh++):(f=Qa,0===Ah&&g(lg));else e=Ta;if(e!==Qa){if(f=[],mg.test(b.charAt(uh))?(h=b.charAt(uh),uh++):(h=Qa,0===Ah&&g(ng)),h!==Qa)for(;h!==Qa;)f.push(h),mg.test(b.charAt(uh))?(h=b.charAt(uh),uh++):(h=Qa,0===Ah&&g(ng));else f=Ta;f!==Qa?(93===b.charCodeAt(uh)?(h=nd,uh++):(h=Qa,0===Ah&&g(od)),h!==Qa?(vh=a,c=og(d,e,f),a=c):(uh=a,a=Ta)):(uh=a,a=Ta)}else uh=a,a=Ta}else uh=a,a=Ta}else uh=a,a=Ta;if(a===Qa)if(a=uh,91===b.charCodeAt(uh)?(c=ld,uh++):(c=Qa,0===Ah&&g(md)),c!==Qa){if(d=[],mg.test(b.charAt(uh))?(e=b.charAt(uh),uh++):(e=Qa,0===Ah&&g(ng)),e!==Qa)for(;e!==Qa;)d.push(e),mg.test(b.charAt(uh))?(e=b.charAt(uh),uh++):(e=Qa,0===Ah&&g(ng));else d=Ta;d!==Qa?(93===b.charCodeAt(uh)?(e=nd,uh++):(e=Qa,0===Ah&&g(od)),e!==Qa?(vh=a,c=pg(d),a=c):(uh=a,a=Ta)):(uh=a,a=Ta)}else uh=a,a=Ta;return a}function Ea(){var a,b,c;if(a=uh,b=[],c=Fa(),c!==Qa)for(;c!==Qa;)b.push(c),c=Fa();else b=Ta;return b!==Qa&&(vh=a,b=qg(b)),a=b}function Fa(){var a;return Ad.test(b.charAt(uh))?(a=b.charAt(uh),uh++):(a=Qa,0===Ah&&g(Bd)),a}function Ga(){var a,c,d,e;return Ah++,a=uh,33===b.charCodeAt(uh)?(c=sg,uh++):(c=Qa,0===Ah&&g(tg)),c!==Qa?(d=Ia(),d!==Qa?(e=Ha(),e===Qa&&(e=kb),e!==Qa?(vh=a,c=ug(d,e),a=c):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta),a===Qa&&(a=uh,33===b.charCodeAt(uh)?(c=sg,uh++):(c=Qa,0===Ah&&g(tg)),c!==Qa?(b.length>uh?(d=b.charAt(uh),uh++):(d=Qa,0===Ah&&g(ue)),d===Qa&&(d=kb),d!==Qa?(vh=a,c=vg(),a=c):(uh=a,a=Ta)):(uh=a,a=Ta)),Ah--,a===Qa&&(c=Qa,0===Ah&&g(rg)),a}function Ha(){var a,c,d;if(a=uh,c=[],ke.test(b.charAt(uh))?(d=b.charAt(uh),uh++):(d=Qa,0===Ah&&g(le)),d!==Qa)for(;d!==Qa;)c.push(d),ke.test(b.charAt(uh))?(d=b.charAt(uh),uh++):(d=Qa,0===Ah&&g(le));else c=Ta;return c!==Qa&&(vh=a,c=wg(c)),a=c}function Ia(){var a,c,d;if(a=uh,b.substr(uh,8)===xg?(c=xg,uh+=8):(c=Qa,0===Ah&&g(yg)),c===Qa&&(b.substr(uh,8)===zg?(c=zg,uh+=8):(c=Qa,0===Ah&&g(Ag)),c===Qa&&(b.substr(uh,8)===Bg?(c=Bg,uh+=8):(c=Qa,0===Ah&&g(Cg)))),c!==Qa&&(vh=a,c=Dg()),a=c,a===Qa&&(a=uh,b.substr(uh,7)===Eg?(c=Eg,uh+=7):(c=Qa,0===Ah&&g(Fg)),c===Qa&&(b.substr(uh,7)===Gg?(c=Gg,uh+=7):(c=Qa,0===Ah&&g(Hg)),c===Qa&&(b.substr(uh,7)===Ig?(c=Ig,uh+=7):(c=Qa,0===Ah&&g(Jg)))),c!==Qa&&(vh=a,c=Dg()),a=c,a===Qa&&(a=uh,b.substr(uh,6)===Kg?(c=Kg,uh+=6):(c=Qa,0===Ah&&g(Lg)),c===Qa&&(b.substr(uh,6)===Mg?(c=Mg,uh+=6):(c=Qa,0===Ah&&g(Ng)),c===Qa&&(b.substr(uh,6)===Og?(c=Og,uh+=6):(c=Qa,0===Ah&&g(Pg)))),c!==Qa&&(vh=a,c=Qg()),a=c,a===Qa&&(a=uh,b.substr(uh,6)===Rg?(c=Rg,uh+=6):(c=Qa,0===Ah&&g(Sg)),c===Qa&&(b.substr(uh,6)===Tg?(c=Tg,uh+=6):(c=Qa,0===Ah&&g(Ug)),c===Qa&&(b.substr(uh,6)===Vg?(c=Vg,uh+=6):(c=Qa,0===Ah&&g(Wg)))),c!==Qa&&(vh=a,c=Xg()),a=c,a===Qa&&(a=uh,b.substr(uh,4)===Yg?(c=Yg,uh+=4):(c=Qa,0===Ah&&g(Zg)),c===Qa&&(b.substr(uh,4)===$g?(c=$g,uh+=4):(c=Qa,0===Ah&&g(_g)),c===Qa&&(b.substr(uh,4)===ah?(c=ah,uh+=4):(c=Qa,0===Ah&&g(bh)))),c!==Qa&&(vh=a,c=ch()),a=c,a===Qa))))){if(a=uh,c=[],dh.test(b.charAt(uh))?(d=b.charAt(uh),uh++):(d=Qa,0===Ah&&g(eh)),d!==Qa)for(;d!==Qa;)c.push(d),dh.test(b.charAt(uh))?(d=b.charAt(uh),uh++):(d=Qa,0===Ah&&g(eh));else c=Ta;c!==Qa&&(vh=a,c=fh(c)),a=c}return a}function Ja(){var a,c,d,e,f,h;if(a=uh,64===b.charCodeAt(uh)?(c=Fb,uh++):(c=Qa,0===Ah&&g(Gb)),c!==Qa)if(b.substr(uh,12)===gh?(d=gh,uh+=12):(d=Qa,0===Ah&&g(hh)),d===Qa&&(b.substr(uh,7)===ih?(d=ih,uh+=7):(d=Qa,0===Ah&&g(jh))),d!==Qa)if(e=da(),e!==Qa){if(f=[],h=Ka(),h!==Qa)for(;h!==Qa;)f.push(h),h=Ka();else f=Ta;f!==Qa?(vh=a,c=kh(f),a=c):(uh=a,a=Ta)}else uh=a,a=Ta;else uh=a,a=Ta;else uh=a,a=Ta;return a}function Ka(){var a,c,d,e,f;if(a=uh,34===b.charCodeAt(uh)?(c=lh,uh++):(c=Qa,0===Ah&&g(mh)),c!==Qa){if(d=[],tf.test(b.charAt(uh))?(e=b.charAt(uh),uh++):(e=Qa,0===Ah&&g(uf)),e!==Qa)for(;e!==Qa;)d.push(e),tf.test(b.charAt(uh))?(e=b.charAt(uh),uh++):(e=Qa,0===Ah&&g(uf));else d=Ta;d!==Qa?(34===b.charCodeAt(uh)?(e=lh,uh++):(e=Qa,0===Ah&&g(mh)),e!==Qa?(f=da(),f!==Qa?(vh=a,c=nh(d),a=c):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)}else uh=a,a=Ta;return a}function La(){var a,b,c,d;if(a=uh,b=Na(),b!==Qa){if(c=[],d=Ma(),d!==Qa)for(;d!==Qa;)c.push(d),d=Ma();else c=Ta;c!==Qa?(vh=a,b=oh(c),a=b):(uh=a,a=Ta)}else uh=a,a=Ta;return a}function Ma(){var a,c,d,e,f;return a=uh,c=da(),c!==Qa?(d=J(),d!==Qa?(e=da(),e!==Qa?(44===b.charCodeAt(uh)?(f=Ve,uh++):(f=Qa,0===Ah&&g(We)),f===Qa&&(f=kb),f!==Qa?(vh=a,c=ph(d),a=c):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta)):(uh=a,a=Ta),a}function Na(){var a;return b.substr(uh,10)===qh?(a=qh,uh+=10):(a=Qa,0===Ah&&g(rh)),a===Qa&&(b.substr(uh,5)===sh?(a=sh,uh+=5):(a=Qa,0===Ah&&g(th))),a}var Oa,Pa=arguments.length>1?arguments[1]:{},Qa={},Ra={start:i},Sa=i,Ta=Qa,Ua=function(a){return a},Va=function(a){return Ch.mergeCommands(a)},Wa={type:"other",description:"IfElseStatement"},Xa=function(a,b){return{commands:[a.concat(b)]}},Ya=function(a){return{commands:[a]}},Za=function(a){return a},$a="@if",_a={type:"literal",value:"@if",description:'"@if"'},ab="{",bb={type:"literal",value:"{",description:'"{"'},cb="}",db={type:"literal",value:"}",description:'"}"'},eb=function(a,b){return["if",a,b.commands]},fb=/^[^{]/,gb={type:"class",value:"[^{]",description:"[^{]"},hb=function(){throw new Ch._Error("Invalid If Clause",null,null,null,Ch._lineNumber(),Ch._columnNumber())},ib="@else",jb={type:"literal",value:"@else",description:'"@else"'},kb=null,lb=function(a,b){return[a||!0,b.commands]},mb=function(){throw new Ch._Error("Invalid Else Clause",null,null,null,Ch._lineNumber(),Ch._columnNumber())},nb={type:"other",description:"ConstraintStatement"},ob=function(a,b,c){return Ch.constraint(a,b,c)},pb={type:"other",description:"InlineConstraintStatement"},qb=/^[^:&$\^)(\][@ ]/,rb={type:"class",value:"[^:&$\\^)(\\][@ ]",description:"[^:&$\\^)(\\][@ ]"},sb=":",tb={type:"literal",value:":",description:'":"'},ub=/^[^;]/,vb={type:"class",value:"[^;]",description:"[^;]"},wb=void 0,xb=";",yb={type:"literal",value:";",description:'";"'},zb=function(a,b,c){return Ch.inlineConstraint(a,b,c)},Ab={type:"other",description:"Inline Set"},Bb=function(a,b){return Ch.inlineSet(a,b)},Cb=function(a,b){return{commands:[["rule",a,b.commands]]}},Db=function(a){return a},Eb={type:"other",description:"Directive"},Fb="@",Gb={type:"literal",value:"@",description:'"@"'},Hb=/^[^ {}]/,Ib={type:"class",value:"[^ {}]",description:"[^ {}]"},Jb=/^[^{};]/,Kb={type:"class",value:"[^{};]",description:"[^{};]"},Lb=function(a,b,c){return Ch.directive(a.join(""),b.join("").trim(),c.commands)},Mb=function(a,b){return Ch.directive(a.join(""),b.join("").trim())},Nb=function(a,b){return Ch.nestedDualTermCommands(a,b)},Ob="AND",Pb={type:"literal",value:"AND",description:'"AND"'},Qb="and",Rb={type:"literal",value:"and",description:'"and"'},Sb="And",Tb={type:"literal",value:"And",description:'"And"'},Ub="&&",Vb={type:"literal",value:"&&",description:'"&&"'},Wb=function(){return"&&"},Xb="OR",Yb={type:"literal",value:"OR",description:'"OR"'},Zb="or",$b={type:"literal",value:"or",description:'"or"'},_b="Or",ac={type:"literal",value:"Or",description:'"Or"'},bc="||",cc={type:"literal",value:"||",description:'"||"'},dc=function(){return"||"},ec=function(a,b){return Ch.nestedDualTermCommands(a,b)},fc="!=",gc={type:"literal",value:"!=",description:'"!="'},hc=function(){return"!="},ic="=",jc={type:"literal",value:"=",description:'"="'},kc=function(){return"="},lc="~=",mc={type:"literal",value:"~=",description:'"~="'},nc=function(){return"~="},oc={type:"other",description:"Constraint Operator"},pc="==",qc={type:"literal",value:"==",description:'"=="'},rc=function(){return"=="},sc="<=",tc={type:"literal",value:"<=",description:'"<="'},uc="=<",vc={type:"literal",value:"=<",description:'"=<"'},wc=function(){return"<="},xc=">=",yc={type:"literal",value:">=",description:'">="'},zc="=>",Ac={type:"literal",value:"=>",description:'"=>"'},Bc=function(){return">="},Cc="<",Dc={type:"literal",value:"<",description:'"<"'},Ec=function(){return"<"},Fc=">",Gc={type:"literal",value:">",description:'">"'},Hc=function(){return">"},Ic="+",Jc={type:"literal",value:"+",description:'"+"'},Kc=function(){return"+"},Lc="-",Mc={type:"literal",value:"-",description:'"-"'},Nc=function(){return"-"},Oc="*",Pc={type:"literal",value:"*",description:'"*"'},Qc=function(){return"*"},Rc="/",Sc={type:"literal",value:"/",description:'"/"'},Tc=function(){return"/"},Uc="(",Vc={type:"literal",value:"(",description:'"("'},Wc=")",Xc={type:"literal",value:")",description:'")"'},Yc=function(a){return a},Zc="true",$c={type:"literal",value:"true",description:'"true"'},_c=function(){return!0},ad="false",bd={type:"literal",value:"false",description:'"false"'},cd=function(){return!1},dd="null",ed={type:"literal",value:"null",description:'"null"'},fd=function(){return null},gd="undefined",hd={type:"literal",value:"undefined",description:'"undefined"'},id=function(){return void 0},jd=function(a){return a},kd={type:"other",description:"variable"},ld="[",md={type:"literal",value:"[",description:'"["'},nd="]",od={type:"literal",value:"]",description:'"]"'},pd=function(a,b,c){return Ch.variable(a,b,c)},qd=function(a,b){return Ch.variable(!1,a,b)},rd=/^["']/,sd={type:"class",value:"[\"']",description:"[\"']"},td=/^[^"']/,ud={type:"class",value:"[^\"']",description:"[^\"']"},vd=function(a){return a.join("")},wd=/^[a-zA-Z0-9#.\-_$]/,xd={type:"class",value:"[a-zA-Z0-9#.\\-_$]",description:"[a-zA-Z0-9#.\\-_$]"},yd=/^[a-zA-Z]/,zd={type:"class",value:"[a-zA-Z]",description:"[a-zA-Z]"},Ad=/^[a-zA-Z0-9\-_]/,Bd={type:"class",value:"[a-zA-Z0-9\\-_]",description:"[a-zA-Z0-9\\-_]"},Cd=function(a,b){return a+b.join("")},Dd=/^[\-]/,Ed={type:"class",value:"[\\-]",description:"[\\-]"},Fd=function(a,b,c){return a.join("")+b+c.join("")},Gd=" ",Hd={type:"literal",value:" ",description:'" "'},Id=function(a,b){return[b,a]},Jd=function(a){return a},Kd="px",Ld={type:"literal",value:"px",description:'"px"'},Md="em",Nd={type:"literal",value:"em",description:'"em"'},Od="vh",Pd={type:"literal",value:"vh",description:'"vh"'},Qd="%",Rd={type:"literal",value:"%",description:'"%"'},Sd="rem",Td={type:"literal",value:"rem",description:'"rem"'},Ud="ex",Vd={type:"literal",value:"ex",description:'"ex"'},Wd="ch",Xd={type:"literal",value:"ch",description:'"ch"'},Yd="vmin",Zd={type:"literal",value:"vmin",description:'"vmin"'},$d="vmax",_d={type:"literal",value:"vmax",description:'"vmax"'},ae="cm",be={type:"literal",value:"cm",description:'"cm"'},ce="mm",de={type:"literal",value:"mm",description:'"mm"'},ee="in",fe={type:"literal",value:"in",description:'"in"'},ge="pt",he={type:"literal",value:"pt",description:'"pt"'},ie="pc",je={type:"literal",value:"pc",description:'"pc"'},ke=/^[0-9]/,le={type:"class",value:"[0-9]",description:"[0-9]"},me=function(a){return Ch.integer(a)},ne=/^[\-+]/,oe={type:"class",value:"[\\-+]",description:"[\\-+]"},pe=function(a,b){return Ch.signedInteger(a,b)},qe=".",re={type:"literal",value:".",description:'"."'},se=function(a,b){return parseFloat(a.join("")+"."+b.join(""))},te=function(a,b){return Ch.signedReal(a,b)},ue={type:"any",description:"any character"},ve={type:"other",description:"whitespace"},we=/^[\t\x0B\f \xA0\uFEFF]/,xe={type:"class",value:"[\\t\\x0B\\f \\xA0\\uFEFF]",description:"[\\t\\x0B\\f \\xA0\\uFEFF]"},ye=/^[\n\r\u2028\u2029]/,ze={type:"class",value:"[\\n\\r\\u2028\\u2029]",description:"[\\n\\r\\u2028\\u2029]"},Ae={type:"other",description:"end of line"},Be="\n",Ce={type:"literal",value:"\n",description:'"\\n"'},De="\r\n",Ee={type:"literal",value:"\r\n",description:'"\\r\\n"'},Fe="\r",Ge={type:"literal",value:"\r",description:'"\\r"'},He="\u2028",Ie={type:"literal",value:"\u2028",description:'"\\u2028"'},Je="\u2029",Ke={type:"literal",value:"\u2029",description:'"\\u2029"'},Le={type:"other",description:"comment"},Me="/*",Ne={type:"literal",value:"/*",description:'"/*"'},Oe="*/",Pe={type:"literal",value:"*/",description:'"*/"'},Qe="//",Re={type:"literal",value:"//",description:'"//"'},Se=function(a,b){return[a,b]},Te=function(a){return a},Ue=function(a){return a},Ve=",",We={type:"literal",value:",",description:'","'},Xe=function(a,b){return Ch.createSelectorCommaCommand(a,b)},Ye=function(a){return Ch.reverseFilterNest(a)},Ze={type:"other",
description:"NoParanSelector"},$e={type:"other",description:"SimpleSelector"},_e=function(a){return[a]},af={type:"other",description:"Combinator"},bf=/^[><+~!]/,cf={type:"class",value:"[><+~!]",description:"[><+~!]"},df=function(a){return a.join("")},ef=/^[^{,)]/,ff={type:"class",value:"[^{,)]",description:"[^{,)]"},gf=function(){return" "},hf=function(a,b){return{splats:a,postfix:b.join("")}},jf={type:"other",description:"Splat"},kf=function(a,b){return b.prefix=a.join(""),b},lf={type:"other",description:"Range"},mf="...",nf={type:"literal",value:"...",description:'"..."'},of=function(a,b){return a=Number(a.join("")),b=Number(b.join("")),{from:a,to:b}},pf=function(a){return a},qf=/^["]/,rf={type:"class",value:'["]',description:'["]'},sf=function(a){return Ch.splatifyIfNeeded("virtual",a)},tf=/^[^"]/,uf={type:"class",value:'[^"]',description:'[^"]'},vf=function(a){return a.join("")},wf=function(a){return["tag",a]},xf=function(){return["tag","*"]},yf="#",zf={type:"literal",value:"#",description:'"#"'},Af=function(a){return Ch.splatifyIfNeeded("#",a)},Bf=function(a){return Ch.splatifyIfNeeded(".",a)},Cf=function(a){return[a]},Df="$",Ef={type:"literal",value:"$",description:'"$"'},Ff=function(){return["$"]},Gf="&",Hf={type:"literal",value:"&",description:'"&"'},If=/^[^&]/,Jf={type:"class",value:"[^&]",description:"[^&]"},Kf=function(){return["&"]},Lf="^",Mf={type:"literal",value:"^",description:'"^"'},Nf=function(a){var b=a.length;return b>1?["^",b]:["^"]},Of="::document",Pf={type:"literal",value:"::document",description:'"::document"'},Qf="::host",Rf={type:"literal",value:"::host",description:'"::host"'},Sf="::scope",Tf={type:"literal",value:"::scope",description:'"::scope"'},Uf="::parent",Vf={type:"literal",value:"::parent",description:'"::parent"'},Wf="::window",Xf={type:"literal",value:"::window",description:'"::window"'},Yf="::viewport",Zf={type:"literal",value:"::viewport",description:'"::viewport"'},$f=function(){return"::window"},_f="::this",ag={type:"literal",value:"::this",description:'"::this"'},bg="::",cg={type:"literal",value:"::",description:'"::"'},dg=function(){return"&"},eg=function(a,b,c){return c?[a+b,c]:[a+b]},fg=/^[^)]/,gg={type:"class",value:"[^)]",description:"[^)]"},hg=function(a){return a.join("")},ig=/^[^~|=!\^$&*\]]/,jg={type:"class",value:"[^~|=!\\^$&*\\]]",description:"[^~|=!\\^$&*\\]]"},kg=/^[~|=!\^$&*]/,lg={type:"class",value:"[~|=!\\^$&*]",description:"[~|=!\\^$&*]"},mg=/^[^\]]/,ng={type:"class",value:"[^\\]]",description:"[^\\]]"},og=function(a,b,c){return["["+b.join("")+"]",a.join("").trim(),c.join("").trim()]},pg=function(a){return["[]",a.join("")]},qg=function(a){return a.join("")},rg={type:"other",description:"Strength and Weight"},sg="!",tg={type:"literal",value:"!",description:'"!"'},ug=function(a,b){return Ch.strengthAndWeight().valid(a,b)},vg=function(){return Ch.strengthAndWeight().invalid()},wg=function(a){return Number(a.join(""))},xg="required",yg={type:"literal",value:"required",description:'"required"'},zg="REQUIRED",Ag={type:"literal",value:"REQUIRED",description:'"REQUIRED"'},Bg="Required",Cg={type:"literal",value:"Required",description:'"Required"'},Dg=function(){return"require"},Eg="require",Fg={type:"literal",value:"require",description:'"require"'},Gg="REQUIRE",Hg={type:"literal",value:"REQUIRE",description:'"REQUIRE"'},Ig="Require",Jg={type:"literal",value:"Require",description:'"Require"'},Kg="strong",Lg={type:"literal",value:"strong",description:'"strong"'},Mg="STRONG",Ng={type:"literal",value:"STRONG",description:'"STRONG"'},Og="Strong",Pg={type:"literal",value:"Strong",description:'"Strong"'},Qg=function(){return"strong"},Rg="medium",Sg={type:"literal",value:"medium",description:'"medium"'},Tg="MEDIUM",Ug={type:"literal",value:"MEDIUM",description:'"MEDIUM"'},Vg="Medium",Wg={type:"literal",value:"Medium",description:'"Medium"'},Xg=function(){return"medium"},Yg="weak",Zg={type:"literal",value:"weak",description:'"weak"'},$g="WEAK",_g={type:"literal",value:"WEAK",description:'"WEAK"'},ah="Weak",bh={type:"literal",value:"Weak",description:'"Weak"'},ch=function(){return"weak"},dh=/^[a-zA-Z\-_]/,eh={type:"class",value:"[a-zA-Z\\-_]",description:"[a-zA-Z\\-_]"},fh=function(a){return a.join("").toLowerCase()},gh="-gss-virtual",hh={type:"literal",value:"-gss-virtual",description:'"-gss-virtual"'},ih="virtual",jh={type:"literal",value:"virtual",description:'"virtual"'},kh=function(a){return Ch.virtualElement(a)},lh='"',mh={type:"literal",value:'"',description:'"\\""'},nh=function(a){return a.join("")},oh=function(a){return Ch.stay(a)},ph=function(a){return Ch.stayVariable(a)},qh="@-gss-stay",rh={type:"literal",value:"@-gss-stay",description:'"@-gss-stay"'},sh="@stay",th={type:"literal",value:"@stay",description:'"@stay"'},uh=0,vh=0,wh=0,xh={line:1,column:1,seenCR:!1},yh=0,zh=[],Ah=0;if("startRule"in Pa){if(!(Pa.startRule in Ra))throw new Error("Can't start parsing from rule \""+Pa.startRule+'".');Sa=Ra[Pa.startRule]}var Bh=this,Ch=function(){var b=function(){return d()},f=function(){return e()},g=function(){return c},h=a("./grammar");return new h(Bh,b,f,g)}();if(Oa=Sa(),Oa!==Qa&&uh===b.length)return Oa;throw Oa!==Qa&&uh<b.length&&g({type:"end",description:"end of input"}),h(null,zh,yh)}return b(c,Error),{SyntaxError:c,parse:d}}()},{"./grammar":4}],6:[function(a,b){var c,d,e,f;b.exports=function(a){var b;return b=[{_parentScope:void 0,_childScopes:[],_unscopedVars:[]}],c(a,b),d(b),a},c=function(a,b){var c,d,f,g,h;if(null!=a.commands){for(g=a.commands,h=[],d=0,f=g.length;f>d;d++)c=g[d],h.push(e(c,b));return h}},e=function(a,b,c){var d,f,g,h,i,j,k,l,m,n;for(null==c&&(c=1),g=!1,h=a[0],"rule"===h?(a._isScope=!0,j=a,i=b[b.length-1],i._childScopes.push(j),j._parentScope=i,j._childScopes=[],j._unscopedVars=[],b.push(j)):("get"===h||"virtual"===h)&&(d=b[b.length-c],d&&2===a.length&&(a._varKey=a.toString(),d._unscopedVars.push(a))),n=a.slice(0,+a.length+1||9e9),f=l=0,m=n.length;m>l;f=++l)k=n[f],k instanceof Array&&("rule"===h&&1===f?e(k,b,2):e(k,b,c));return a._isScope?b.pop():void 0},d=function(a){var b,c,d,e,g;for(e=a[0]._childScopes,g=[],c=0,d=e.length;d>c;c++)b=e[c],g.push(f(b));return g},f=function(a){var b,c,d,e,g,h,i,j,k,l,m,n,o,p,q,r,s,t;for(p=a._childScopes,j=0,m=p.length;m>j;j++)b=p[j],f(b);if((null!=(q=a._unscopedVars)?q.length:void 0)>0){for(r=a._unscopedVars,t=[],k=0,n=r.length;n>k;k++){for(h=r[k],e=0,c=0,g=a._parentScope;g;){for(e++,s=g._unscopedVars,l=0,o=s.length;o>l;l++)i=s[l],i._varKey===h._varKey&&(c=e);g=g._parentScope}c>0&&"^"!==h[1][0]?(d=["^"],c>1&&d.push(c),t.push(h.splice(1,0,d))):t.push(void 0)}return t}}},{}],7:[function(a,b){var c,d=function(a,b){return function(){return a.apply(b,arguments)}};c=function(){function a(a){if(this.reportError=d(this.reportError,this),null==a)throw new Error("Source code not provided");if("[object String]"!==Object.prototype.toString.call(a))throw new TypeError("Source code must be a string");this._sourceCode=a}return a.prototype._sourceCode=null,a.prototype.reportError=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;if(null==a)throw new Error("Message not provided");if("[object String]"!==Object.prototype.toString.call(a))throw new TypeError("Message must be a string");if(0===a.length)throw new Error("Message must not be empty");if(null==b)throw new Error("Line number not provided");if("[object Number]"!==Object.prototype.toString.call(b))throw new TypeError("Line number must be a number");if(0>=b)throw new RangeError("Line number is invalid");if(null==c)throw new Error("Column number not provided");if("[object Number]"!==Object.prototype.toString.call(c))throw new TypeError("Column number must be a number");if(0>=c)throw new RangeError("Column number is invalid");if(m=this._sourceCode.split("\n"),b>m.length)throw new RangeError("Line number is out of range");if(f=m[b-1],c>f.length)throw new RangeError("Column number is out of range");for(g=[],g.push("Error on line "+b+", column "+c+": "+a),g.push(""),s=b-1,p=b+1,s-1>=0&&(r=s-1),p-1<=m.length-1&&(o=p-1),k=null!=o?p:b,n=(""+k).length,h=""+Array(c).join("-")+"^",e=[],e.push([s,m[r],null!=r]),e.push([b,f,!0]),e.push(["^",h,!0]),e.push([p,m[o],null!=o]),t=0,u=e.length;u>t;t++)j=e[t],i=j[0],l=j[1],d=j[2],q=Array(n-(""+i).length+1).join(" "),i=""+q+i,d&&g.push(""+i+" : "+l);throw console.error(g.join("\n")),new Error(a)},a}(),b.exports=c},{}],8:[function(a,b){var c,d;d="undefined"!=typeof window&&null!==window?a("./parser").parse:a("../lib/parser").parse,c=a("error-reporter"),b.exports={parse:function(a){var b,e,f,g,h,i;i=null;try{i=d(a)}catch(j){e=j,f=new c(a),h=e.message,g=e.line,b=e.column,f.reportError(h,g,b)}return i}}},{"../lib/parser":9,"./parser":9,"error-reporter":7}],9:[function(a,b){b.exports=function(){function a(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c}function b(a,b,c,d,e,f){this.message=a,this.expected=b,this.found=c,this.offset=d,this.line=e,this.column=f,this.name="SyntaxError"}function c(a){function c(b){function c(b,c,d){var e,f;for(e=c;d>e;e++)f=a.charAt(e),"\n"===f?(b.seenCR||b.line++,b.column=1,b.seenCR=!1):"\r"===f||"\u2028"===f||"\u2029"===f?(b.line++,b.column=1,b.seenCR=!0):(b.column++,b.seenCR=!1)}return Sd!==b&&(Sd>b&&(Sd=0,Td={line:1,column:1,seenCR:!1}),c(Td,Sd,b),Sd=b),Td}function d(a){Ud>Qd||(Qd>Ud&&(Ud=Qd,Vd=[]),Vd.push(a))}function e(d,e,f){function g(a){var b=1;for(a.sort(function(a,b){return a.description<b.description?-1:a.description>b.description?1:0});b<a.length;)a[b-1]===a[b]?a.splice(b,1):b++}function h(a,b){function c(a){function b(a){return a.charCodeAt(0).toString(16).toUpperCase()}return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(a){return"\\x0"+b(a)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(a){return"\\x"+b(a)}).replace(/[\u0180-\u0FFF]/g,function(a){return"\\u0"+b(a)}).replace(/[\u1080-\uFFFF]/g,function(a){return"\\u"+b(a)})}var d,e,f,g=new Array(a.length);for(f=0;f<a.length;f++)g[f]=a[f].description;return d=a.length>1?g.slice(0,-1).join(", ")+" or "+g[a.length-1]:g[0],e=b?'"'+c(b)+'"':"end of input","Expected "+d+" but "+e+" found."}var i=c(f),j=f<a.length?a.charAt(f):null;return null!==e&&g(e),new b(null!==d?d:h(e,j),e,j,f,i.line,i.column)}function f(){var a,b,c,d;if(a=Qd,b=H(),b!==K){for(c=[],d=g();d!==K;)c.push(d),d=g();c!==K?(d=H(),d!==K?(Rd=a,b=O(),a=b):(Qd=a,a=N)):(Qd=a,a=N)}else Qd=a,a=N;return a}function g(){var b,c,e,f,g;return b=Qd,64===a.charCodeAt(Qd)?(c=P,Qd++):(c=K,0===Wd&&d(Q)),c!==K?(e=h(),e!==K?(f=A(),f!==K?(g=H(),g!==K?(Rd=b,c=R(e),b=c):(Qd=b,b=N)):(Qd=b,b=N)):(Qd=b,b=N)):(Qd=b,b=N),b}function h(){var a;return a=i(),a===K&&(a=j()),a}function i(){var b,c,e,f,g,h,i,j,k,l;if(Wd++,b=Qd,a.substr(Qd,5)===T?(c=T,Qd+=5):(c=K,0===Wd&&d(U)),c===K&&(a.substr(Qd,10)===V?(c=V,Qd+=10):(c=K,0===Wd&&d(W))),c!==K)if(e=p(),e!==K)if(f=H(),f!==K)if(34===a.charCodeAt(Qd)?(g=X,Qd++):(g=K,0===Wd&&d(Y)),g!==K)if(h=q(),h!==K)if(34===a.charCodeAt(Qd)?(i=X,Qd++):(i=K,0===Wd&&d(Y)),i!==K)if(j=H(),j!==K){for(k=[],l=z();l!==K;)k.push(l),l=z();k!==K?(Rd=b,c=Z(e,h,k),b=c):(Qd=b,b=N)}else Qd=b,b=N;else Qd=b,b=N;else Qd=b,b=N;else Qd=b,b=N;else Qd=b,b=N;else Qd=b,b=N;else Qd=b,b=N;return Wd--,b===K&&(c=K,0===Wd&&d(S)),b}function j(){var b,c,e,f,g,h,i;if(Wd++,b=Qd,a.substr(Qd,5)===T?(c=T,Qd+=5):(c=K,0===Wd&&d(U)),c===K&&(a.substr(Qd,10)===V?(c=V,Qd+=10):(c=K,0===Wd&&d(W))),c!==K)if(a.substr(Qd,8)===_?(e=_,Qd+=8):(e=K,0===Wd&&d(aa)),e!==K)if(f=H(),f!==K){if(g=[],ba.test(a.charAt(Qd))?(h=a.charAt(Qd),Qd++):(h=K,0===Wd&&d(ca)),h!==K)for(;h!==K;)g.push(h),ba.test(a.charAt(Qd))?(h=a.charAt(Qd),Qd++):(h=K,0===Wd&&d(ca));else g=N;if(g!==K){if(h=[],i=k(),i!==K)for(;i!==K;)h.push(i),i=k();else h=N;h!==K?(i=l(),i!==K?(Rd=b,c=da(g,h,i),b=c):(Qd=b,b=N)):(Qd=b,b=N)}else Qd=b,b=N}else Qd=b,b=N;else Qd=b,b=N;else Qd=b,b=N;return Wd--,b===K&&(c=K,0===Wd&&d($)),b}function k(){var b,c,e,f,g,h;if(Wd++,b=Qd,c=H(),c!==K)if(34===a.charCodeAt(Qd)?(e=X,Qd++):(e=K,0===Wd&&d(Y)),e!==K){if(f=[],g=o(),g!==K)for(;g!==K;)f.push(g),g=o();else f=N;f!==K?(34===a.charCodeAt(Qd)?(g=X,Qd++):(g=K,0===Wd&&d(Y)),g!==K?(h=H(),h!==K?(Rd=b,c=fa(f),b=c):(Qd=b,b=N)):(Qd=b,b=N)):(Qd=b,b=N)}else Qd=b,b=N;else Qd=b,b=N;return Wd--,b===K&&(c=K,0===Wd&&d(ea)),b}function l(){var a,b,c;for(Wd++,a=Qd,b=[],c=m();c!==K;)b.push(c),c=m();return b!==K&&(Rd=a,b=ha(b)),a=b,Wd--,a===K&&(b=K,0===Wd&&d(ga)),a}function m(){var b,c,e,f,g,h;if(Wd++,b=Qd,c=H(),c!==K){if(e=[],f=u(),f!==K)for(;f!==K;)e.push(f),f=u();else e=N;if(e!==K)if(40===a.charCodeAt(Qd)?(f=ja,Qd++):(f=K,0===Wd&&d(ka)),f!==K){if(g=[],h=n(),h!==K)for(;h!==K;)g.push(h),h=n();else g=N;g!==K?(41===a.charCodeAt(Qd)?(h=la,Qd++):(h=K,0===Wd&&d(ma)),h!==K?(Rd=b,c=na(e,g),b=c):(Qd=b,b=N)):(Qd=b,b=N)}else Qd=b,b=N;else Qd=b,b=N}else Qd=b,b=N;return Wd--,b===K&&(c=K,0===Wd&&d(ia)),b}function n(){var b;return oa.test(a.charAt(Qd))?(b=a.charAt(Qd),Qd++):(b=K,0===Wd&&d(pa)),b}function o(){var b,c,e,f,g;if(Wd++,b=Qd,c=[],48===a.charCodeAt(Qd)?(e=ra,Qd++):(e=K,0===Wd&&d(sa)),e!==K)for(;e!==K;)c.push(e),48===a.charCodeAt(Qd)?(e=ra,Qd++):(e=K,0===Wd&&d(sa));else c=N;if(c===K){if(c=[],49===a.charCodeAt(Qd)?(e=ta,Qd++):(e=K,0===Wd&&d(ua)),e!==K)for(;e!==K;)c.push(e),49===a.charCodeAt(Qd)?(e=ta,Qd++):(e=K,0===Wd&&d(ua));else c=N;if(c===K){if(c=[],50===a.charCodeAt(Qd)?(e=va,Qd++):(e=K,0===Wd&&d(wa)),e!==K)for(;e!==K;)c.push(e),50===a.charCodeAt(Qd)?(e=va,Qd++):(e=K,0===Wd&&d(wa));else c=N;if(c===K){if(c=[],51===a.charCodeAt(Qd)?(e=xa,Qd++):(e=K,0===Wd&&d(ya)),e!==K)for(;e!==K;)c.push(e),51===a.charCodeAt(Qd)?(e=xa,Qd++):(e=K,0===Wd&&d(ya));else c=N;if(c===K){if(c=[],52===a.charCodeAt(Qd)?(e=za,Qd++):(e=K,0===Wd&&d(Aa)),e!==K)for(;e!==K;)c.push(e),52===a.charCodeAt(Qd)?(e=za,Qd++):(e=K,0===Wd&&d(Aa));else c=N;if(c===K){if(c=[],53===a.charCodeAt(Qd)?(e=Ba,Qd++):(e=K,0===Wd&&d(Ca)),e!==K)for(;e!==K;)c.push(e),53===a.charCodeAt(Qd)?(e=Ba,Qd++):(e=K,0===Wd&&d(Ca));else c=N;if(c===K){if(c=[],54===a.charCodeAt(Qd)?(e=Da,Qd++):(e=K,0===Wd&&d(Ea)),e!==K)for(;e!==K;)c.push(e),54===a.charCodeAt(Qd)?(e=Da,Qd++):(e=K,0===Wd&&d(Ea));else c=N;if(c===K){if(c=[],55===a.charCodeAt(Qd)?(e=Fa,Qd++):(e=K,0===Wd&&d(Ga)),e!==K)for(;e!==K;)c.push(e),55===a.charCodeAt(Qd)?(e=Fa,Qd++):(e=K,0===Wd&&d(Ga));else c=N;if(c===K){if(c=[],56===a.charCodeAt(Qd)?(e=Ha,Qd++):(e=K,0===Wd&&d(Ia)),e!==K)for(;e!==K;)c.push(e),56===a.charCodeAt(Qd)?(e=Ha,Qd++):(e=K,0===Wd&&d(Ia));else c=N;if(c===K){if(c=[],57===a.charCodeAt(Qd)?(e=Ja,Qd++):(e=K,0===Wd&&d(Ka)),e!==K)for(;e!==K;)c.push(e),57===a.charCodeAt(Qd)?(e=Ja,Qd++):(e=K,0===Wd&&d(Ka));else c=N;if(c===K){if(c=[],97===a.charCodeAt(Qd)?(e=La,Qd++):(e=K,0===Wd&&d(Ma)),e!==K)for(;e!==K;)c.push(e),97===a.charCodeAt(Qd)?(e=La,Qd++):(e=K,0===Wd&&d(Ma));else c=N;if(c===K){if(c=[],98===a.charCodeAt(Qd)?(e=Na,Qd++):(e=K,0===Wd&&d(Oa)),e!==K)for(;e!==K;)c.push(e),98===a.charCodeAt(Qd)?(e=Na,Qd++):(e=K,0===Wd&&d(Oa));else c=N;if(c===K){if(c=[],99===a.charCodeAt(Qd)?(e=Pa,Qd++):(e=K,0===Wd&&d(Qa)),e!==K)for(;e!==K;)c.push(e),99===a.charCodeAt(Qd)?(e=Pa,Qd++):(e=K,0===Wd&&d(Qa));else c=N;if(c===K){if(c=[],100===a.charCodeAt(Qd)?(e=Ra,Qd++):(e=K,0===Wd&&d(Sa)),e!==K)for(;e!==K;)c.push(e),100===a.charCodeAt(Qd)?(e=Ra,Qd++):(e=K,0===Wd&&d(Sa));else c=N;if(c===K){if(c=[],101===a.charCodeAt(Qd)?(e=Ta,Qd++):(e=K,0===Wd&&d(Ua)),e!==K)for(;e!==K;)c.push(e),101===a.charCodeAt(Qd)?(e=Ta,Qd++):(e=K,0===Wd&&d(Ua));else c=N;if(c===K){if(c=Qd,e=[],102===a.charCodeAt(Qd)?(f=Va,Qd++):(f=K,0===Wd&&d(Wa)),f!==K)for(;f!==K;)e.push(f),102===a.charCodeAt(Qd)?(f=Va,Qd++):(f=K,0===Wd&&d(Wa));else e=N;if(e!==K){if(f=[],103===a.charCodeAt(Qd)?(g=Xa,Qd++):(g=K,0===Wd&&d(Ya)),g!==K)for(;g!==K;)f.push(g),103===a.charCodeAt(Qd)?(g=Xa,Qd++):(g=K,0===Wd&&d(Ya));else f=N;f!==K?(e=[e,f],c=e):(Qd=c,c=N)}else Qd=c,c=N;if(c===K){if(c=[],104===a.charCodeAt(Qd)?(e=Za,Qd++):(e=K,0===Wd&&d($a)),e!==K)for(;e!==K;)c.push(e),104===a.charCodeAt(Qd)?(e=Za,Qd++):(e=K,0===Wd&&d($a));else c=N;if(c===K){if(c=[],105===a.charCodeAt(Qd)?(e=_a,Qd++):(e=K,0===Wd&&d(ab)),e!==K)for(;e!==K;)c.push(e),105===a.charCodeAt(Qd)?(e=_a,Qd++):(e=K,0===Wd&&d(ab));else c=N;if(c===K){if(c=[],106===a.charCodeAt(Qd)?(e=bb,Qd++):(e=K,0===Wd&&d(cb)),e!==K)for(;e!==K;)c.push(e),106===a.charCodeAt(Qd)?(e=bb,Qd++):(e=K,0===Wd&&d(cb));else c=N;if(c===K){if(c=[],107===a.charCodeAt(Qd)?(e=db,Qd++):(e=K,0===Wd&&d(eb)),e!==K)for(;e!==K;)c.push(e),107===a.charCodeAt(Qd)?(e=db,Qd++):(e=K,0===Wd&&d(eb));else c=N;if(c===K){if(c=[],108===a.charCodeAt(Qd)?(e=fb,Qd++):(e=K,0===Wd&&d(gb)),e!==K)for(;e!==K;)c.push(e),108===a.charCodeAt(Qd)?(e=fb,Qd++):(e=K,0===Wd&&d(gb));else c=N;if(c===K){if(c=[],109===a.charCodeAt(Qd)?(e=hb,Qd++):(e=K,0===Wd&&d(ib)),e!==K)for(;e!==K;)c.push(e),109===a.charCodeAt(Qd)?(e=hb,Qd++):(e=K,0===Wd&&d(ib));else c=N;if(c===K){if(c=[],110===a.charCodeAt(Qd)?(e=jb,Qd++):(e=K,0===Wd&&d(kb)),e!==K)for(;e!==K;)c.push(e),110===a.charCodeAt(Qd)?(e=jb,Qd++):(e=K,0===Wd&&d(kb));else c=N;if(c===K){if(c=[],111===a.charCodeAt(Qd)?(e=lb,Qd++):(e=K,0===Wd&&d(mb)),e!==K)for(;e!==K;)c.push(e),111===a.charCodeAt(Qd)?(e=lb,Qd++):(e=K,0===Wd&&d(mb));else c=N;if(c===K){if(c=[],112===a.charCodeAt(Qd)?(e=nb,Qd++):(e=K,0===Wd&&d(ob)),e!==K)for(;e!==K;)c.push(e),112===a.charCodeAt(Qd)?(e=nb,Qd++):(e=K,0===Wd&&d(ob));else c=N;if(c===K){if(c=[],113===a.charCodeAt(Qd)?(e=pb,Qd++):(e=K,0===Wd&&d(qb)),e!==K)for(;e!==K;)c.push(e),113===a.charCodeAt(Qd)?(e=pb,Qd++):(e=K,0===Wd&&d(qb));else c=N;if(c===K){if(c=[],114===a.charCodeAt(Qd)?(e=rb,Qd++):(e=K,0===Wd&&d(sb)),e!==K)for(;e!==K;)c.push(e),114===a.charCodeAt(Qd)?(e=rb,Qd++):(e=K,0===Wd&&d(sb));else c=N;if(c===K){if(c=[],115===a.charCodeAt(Qd)?(e=tb,Qd++):(e=K,0===Wd&&d(ub)),e!==K)for(;e!==K;)c.push(e),115===a.charCodeAt(Qd)?(e=tb,Qd++):(e=K,0===Wd&&d(ub));else c=N;if(c===K){if(c=[],116===a.charCodeAt(Qd)?(e=vb,Qd++):(e=K,0===Wd&&d(wb)),e!==K)for(;e!==K;)c.push(e),116===a.charCodeAt(Qd)?(e=vb,Qd++):(e=K,0===Wd&&d(wb));else c=N;if(c===K){if(c=[],117===a.charCodeAt(Qd)?(e=xb,Qd++):(e=K,0===Wd&&d(yb)),e!==K)for(;e!==K;)c.push(e),117===a.charCodeAt(Qd)?(e=xb,Qd++):(e=K,0===Wd&&d(yb));else c=N;if(c===K){if(c=[],118===a.charCodeAt(Qd)?(e=zb,Qd++):(e=K,0===Wd&&d(Ab)),e!==K)for(;e!==K;)c.push(e),118===a.charCodeAt(Qd)?(e=zb,Qd++):(e=K,0===Wd&&d(Ab));else c=N;if(c===K){if(c=[],119===a.charCodeAt(Qd)?(e=Bb,Qd++):(e=K,0===Wd&&d(Cb)),e!==K)for(;e!==K;)c.push(e),119===a.charCodeAt(Qd)?(e=Bb,Qd++):(e=K,0===Wd&&d(Cb));else c=N;if(c===K){if(c=[],120===a.charCodeAt(Qd)?(e=Db,Qd++):(e=K,0===Wd&&d(Eb)),e!==K)for(;e!==K;)c.push(e),120===a.charCodeAt(Qd)?(e=Db,Qd++):(e=K,0===Wd&&d(Eb));else c=N;if(c===K){if(c=[],121===a.charCodeAt(Qd)?(e=Fb,Qd++):(e=K,0===Wd&&d(Gb)),e!==K)for(;e!==K;)c.push(e),121===a.charCodeAt(Qd)?(e=Fb,Qd++):(e=K,0===Wd&&d(Gb));else c=N;if(c===K){if(c=[],122===a.charCodeAt(Qd)?(e=Hb,Qd++):(e=K,0===Wd&&d(Ib)),e!==K)for(;e!==K;)c.push(e),122===a.charCodeAt(Qd)?(e=Hb,Qd++):(e=K,0===Wd&&d(Ib));else c=N;if(c===K){if(c=[],65===a.charCodeAt(Qd)?(e=Jb,Qd++):(e=K,0===Wd&&d(Kb)),e!==K)for(;e!==K;)c.push(e),65===a.charCodeAt(Qd)?(e=Jb,Qd++):(e=K,0===Wd&&d(Kb));else c=N;if(c===K){if(c=[],66===a.charCodeAt(Qd)?(e=Lb,Qd++):(e=K,0===Wd&&d(Mb)),e!==K)for(;e!==K;)c.push(e),66===a.charCodeAt(Qd)?(e=Lb,Qd++):(e=K,0===Wd&&d(Mb));else c=N;if(c===K){if(c=[],67===a.charCodeAt(Qd)?(e=Nb,Qd++):(e=K,0===Wd&&d(Ob)),e!==K)for(;e!==K;)c.push(e),67===a.charCodeAt(Qd)?(e=Nb,Qd++):(e=K,0===Wd&&d(Ob));else c=N;if(c===K){if(c=[],68===a.charCodeAt(Qd)?(e=Pb,Qd++):(e=K,0===Wd&&d(Qb)),e!==K)for(;e!==K;)c.push(e),68===a.charCodeAt(Qd)?(e=Pb,Qd++):(e=K,0===Wd&&d(Qb));else c=N;if(c===K){if(c=[],69===a.charCodeAt(Qd)?(e=Rb,Qd++):(e=K,0===Wd&&d(Sb)),e!==K)for(;e!==K;)c.push(e),69===a.charCodeAt(Qd)?(e=Rb,Qd++):(e=K,0===Wd&&d(Sb));else c=N;if(c===K){if(c=[],70===a.charCodeAt(Qd)?(e=Tb,Qd++):(e=K,0===Wd&&d(Ub)),e!==K)for(;e!==K;)c.push(e),70===a.charCodeAt(Qd)?(e=Tb,Qd++):(e=K,0===Wd&&d(Ub));else c=N;if(c===K){if(c=[],71===a.charCodeAt(Qd)?(e=Vb,Qd++):(e=K,0===Wd&&d(Wb)),e!==K)for(;e!==K;)c.push(e),71===a.charCodeAt(Qd)?(e=Vb,Qd++):(e=K,0===Wd&&d(Wb));else c=N;if(c===K){if(c=[],72===a.charCodeAt(Qd)?(e=Xb,Qd++):(e=K,0===Wd&&d(Yb)),e!==K)for(;e!==K;)c.push(e),72===a.charCodeAt(Qd)?(e=Xb,Qd++):(e=K,0===Wd&&d(Yb));else c=N;if(c===K){if(c=[],73===a.charCodeAt(Qd)?(e=Zb,Qd++):(e=K,0===Wd&&d($b)),e!==K)for(;e!==K;)c.push(e),73===a.charCodeAt(Qd)?(e=Zb,Qd++):(e=K,0===Wd&&d($b));else c=N;if(c===K){if(c=[],74===a.charCodeAt(Qd)?(e=_b,Qd++):(e=K,0===Wd&&d(ac)),e!==K)for(;e!==K;)c.push(e),74===a.charCodeAt(Qd)?(e=_b,Qd++):(e=K,0===Wd&&d(ac));else c=N;if(c===K){if(c=[],75===a.charCodeAt(Qd)?(e=bc,Qd++):(e=K,0===Wd&&d(cc)),e!==K)for(;e!==K;)c.push(e),75===a.charCodeAt(Qd)?(e=bc,Qd++):(e=K,0===Wd&&d(cc));else c=N;if(c===K){if(c=[],76===a.charCodeAt(Qd)?(e=dc,Qd++):(e=K,0===Wd&&d(ec)),e!==K)for(;e!==K;)c.push(e),76===a.charCodeAt(Qd)?(e=dc,Qd++):(e=K,0===Wd&&d(ec));else c=N;if(c===K){if(c=[],77===a.charCodeAt(Qd)?(e=fc,Qd++):(e=K,0===Wd&&d(gc)),e!==K)for(;e!==K;)c.push(e),77===a.charCodeAt(Qd)?(e=fc,Qd++):(e=K,0===Wd&&d(gc));else c=N;if(c===K){if(c=[],78===a.charCodeAt(Qd)?(e=hc,Qd++):(e=K,0===Wd&&d(ic)),e!==K)for(;e!==K;)c.push(e),78===a.charCodeAt(Qd)?(e=hc,Qd++):(e=K,0===Wd&&d(ic));else c=N;if(c===K){if(c=[],79===a.charCodeAt(Qd)?(e=jc,Qd++):(e=K,0===Wd&&d(kc)),e!==K)for(;e!==K;)c.push(e),79===a.charCodeAt(Qd)?(e=jc,Qd++):(e=K,0===Wd&&d(kc));else c=N;if(c===K){if(c=[],80===a.charCodeAt(Qd)?(e=lc,Qd++):(e=K,0===Wd&&d(mc)),e!==K)for(;e!==K;)c.push(e),80===a.charCodeAt(Qd)?(e=lc,Qd++):(e=K,0===Wd&&d(mc));else c=N;if(c===K){if(c=[],81===a.charCodeAt(Qd)?(e=nc,Qd++):(e=K,0===Wd&&d(oc)),e!==K)for(;e!==K;)c.push(e),81===a.charCodeAt(Qd)?(e=nc,Qd++):(e=K,0===Wd&&d(oc));else c=N;if(c===K){if(c=[],82===a.charCodeAt(Qd)?(e=pc,Qd++):(e=K,0===Wd&&d(qc)),e!==K)for(;e!==K;)c.push(e),82===a.charCodeAt(Qd)?(e=pc,Qd++):(e=K,0===Wd&&d(qc));else c=N;if(c===K){if(c=[],83===a.charCodeAt(Qd)?(e=rc,Qd++):(e=K,0===Wd&&d(sc)),e!==K)for(;e!==K;)c.push(e),83===a.charCodeAt(Qd)?(e=rc,Qd++):(e=K,0===Wd&&d(sc));else c=N;if(c===K){if(c=[],84===a.charCodeAt(Qd)?(e=tc,Qd++):(e=K,0===Wd&&d(uc)),e!==K)for(;e!==K;)c.push(e),84===a.charCodeAt(Qd)?(e=tc,Qd++):(e=K,0===Wd&&d(uc));else c=N;if(c===K){if(c=[],85===a.charCodeAt(Qd)?(e=vc,Qd++):(e=K,0===Wd&&d(wc)),e!==K)for(;e!==K;)c.push(e),85===a.charCodeAt(Qd)?(e=vc,Qd++):(e=K,0===Wd&&d(wc));else c=N;if(c===K){if(c=[],86===a.charCodeAt(Qd)?(e=xc,Qd++):(e=K,0===Wd&&d(yc)),e!==K)for(;e!==K;)c.push(e),86===a.charCodeAt(Qd)?(e=xc,Qd++):(e=K,0===Wd&&d(yc));else c=N;if(c===K){if(c=[],87===a.charCodeAt(Qd)?(e=zc,Qd++):(e=K,0===Wd&&d(Ac)),e!==K)for(;e!==K;)c.push(e),87===a.charCodeAt(Qd)?(e=zc,Qd++):(e=K,0===Wd&&d(Ac));else c=N;if(c===K){if(c=[],88===a.charCodeAt(Qd)?(e=Bc,Qd++):(e=K,0===Wd&&d(Cc)),e!==K)for(;e!==K;)c.push(e),88===a.charCodeAt(Qd)?(e=Bc,Qd++):(e=K,0===Wd&&d(Cc));else c=N;if(c===K){if(c=[],89===a.charCodeAt(Qd)?(e=Dc,Qd++):(e=K,0===Wd&&d(Ec)),e!==K)for(;e!==K;)c.push(e),89===a.charCodeAt(Qd)?(e=Dc,Qd++):(e=K,0===Wd&&d(Ec));else c=N;if(c===K)if(c=[],90===a.charCodeAt(Qd)?(e=Fc,Qd++):(e=K,0===Wd&&d(Gc)),e!==K)for(;e!==K;)c.push(e),90===a.charCodeAt(Qd)?(e=Fc,Qd++):(e=K,0===Wd&&d(Gc));else c=N}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}return c!==K&&(Rd=b,c=Hc(c)),b=c,b===K&&(b=Qd,46===a.charCodeAt(Qd)?(c=Ic,Qd++):(c=K,0===Wd&&d(Jc)),c!==K&&(Rd=b,c=Kc()),b=c),Wd--,b===K&&(c=K,0===Wd&&d(qa)),b}function p(){var b,c;return Wd++,b=Qd,a.substr(Qd,4)===Mc?(c=Mc,Qd+=4):(c=K,0===Wd&&d(Nc)),c!==K&&(Rd=b,c=Oc()),b=c,b===K&&(b=Qd,a.substr(Qd,4)===Pc?(c=Pc,Qd+=4):(c=K,0===Wd&&d(Qc)),c!==K&&(Rd=b,c=Rc()),b=c),Wd--,b===K&&(c=K,0===Wd&&d(Lc)),b}function q(){var a,b,c,e,f;if(Wd++,a=Qd,b=s(),b===K&&(b=Tc),b!==K)if(c=r(),c!==K){for(e=[],f=r();f!==K;)e.push(f),f=r();e!==K?(Rd=a,b=Uc(b,c,e),a=b):(Qd=a,a=N)}else Qd=a,a=N;else Qd=a,a=N;return Wd--,a===K&&(b=K,0===Wd&&d(Sc)),a}function r(){var a,b,c,e,f,g;if(Wd++,a=Qd,b=H(),b!==K){if(c=[],e=t(),e!==K)for(;e!==K;)c.push(e),e=t();else c=N;c!==K?(e=H(),e!==K?(f=s(),f===K&&(f=Tc),f!==K?(g=H(),g!==K?(Rd=a,b=Wc(c,f),a=b):(Qd=a,a=N)):(Qd=a,a=N)):(Qd=a,a=N)):(Qd=a,a=N)}else Qd=a,a=N;return Wd--,a===K&&(b=K,0===Wd&&d(Vc)),a}function s(){var b,c,e,f,g;if(Wd++,b=Qd,c=Qd,45===a.charCodeAt(Qd)?(e=Yc,Qd++):(e=K,0===Wd&&d(Zc)),e===K&&(126===a.charCodeAt(Qd)?(e=$c,Qd++):(e=K,0===Wd&&d(_c))),e!==K){if(f=[],ad.test(a.charAt(Qd))?(g=a.charAt(Qd),Qd++):(g=K,0===Wd&&d(bd)),g!==K)for(;g!==K;)f.push(g),ad.test(a.charAt(Qd))?(g=a.charAt(Qd),Qd++):(g=K,0===Wd&&d(bd));else f=N;f===K&&(45===a.charCodeAt(Qd)?(f=Yc,Qd++):(f=K,0===Wd&&d(Zc))),f===K&&(f=Tc),f!==K?(45===a.charCodeAt(Qd)?(g=Yc,Qd++):(g=K,0===Wd&&d(Zc)),g===K&&(126===a.charCodeAt(Qd)?(g=$c,Qd++):(g=K,0===Wd&&d(_c))),g===K&&(g=Tc),g!==K?(e=[e,f,g],c=e):(Qd=c,c=N)):(Qd=c,c=N)}else Qd=c,c=N;return c!==K&&(Rd=b,c=cd(c)),b=c,Wd--,b===K&&(c=K,0===Wd&&d(Xc)),b}function t(){var b;return dd.test(a.charAt(Qd))?(b=a.charAt(Qd),Qd++):(b=K,0===Wd&&d(ed)),b}function u(){var b;return fd.test(a.charAt(Qd))?(b=a.charAt(Qd),Qd++):(b=K,0===Wd&&d(gd)),b}function v(){var b;return a.length>Qd?(b=a.charAt(Qd),Qd++):(b=K,0===Wd&&d(hd)),b}function w(){var b,c;return Wd++,jd.test(a.charAt(Qd))?(b=a.charAt(Qd),Qd++):(b=K,0===Wd&&d(kd)),Wd--,b===K&&(c=K,0===Wd&&d(id)),b}function x(){var b;return ld.test(a.charAt(Qd))?(b=a.charAt(Qd),Qd++):(b=K,0===Wd&&d(md)),b}function y(){var b,c;return Wd++,10===a.charCodeAt(Qd)?(b=od,Qd++):(b=K,0===Wd&&d(pd)),b===K&&(a.substr(Qd,2)===qd?(b=qd,Qd+=2):(b=K,0===Wd&&d(rd)),b===K&&(13===a.charCodeAt(Qd)?(b=sd,Qd++):(b=K,0===Wd&&d(td)),b===K&&(8232===a.charCodeAt(Qd)?(b=ud,Qd++):(b=K,0===Wd&&d(vd)),b===K&&(8233===a.charCodeAt(Qd)?(b=wd,Qd++):(b=K,0===Wd&&d(xd)))))),Wd--,b===K&&(c=K,0===Wd&&d(nd)),b}function z(){var b;return yd.test(a.charAt(Qd))?(b=a.charAt(Qd),Qd++):(b=K,0===Wd&&d(zd)),b}function A(){var b,c,e;return Wd++,b=Qd,c=H(),c!==K?(59===a.charCodeAt(Qd)?(e=Bd,Qd++):(e=K,0===Wd&&d(Cd)),e!==K?(c=[c,e],b=c):(Qd=b,b=N)):(Qd=b,b=N),b===K&&(b=Qd,c=G(),c!==K?(e=y(),e!==K?(c=[c,e],b=c):(Qd=b,b=N)):(Qd=b,b=N),b===K&&(b=Qd,c=H(),c!==K?(e=B(),e!==K?(c=[c,e],b=c):(Qd=b,b=N)):(Qd=b,b=N))),Wd--,b===K&&(c=K,0===Wd&&d(Ad)),b}function B(){var b,c;return b=Qd,Wd++,a.length>Qd?(c=a.charAt(Qd),Qd++):(c=K,0===Wd&&d(hd)),Wd--,c===K?b=Dd:(Qd=b,b=N),b}function C(){var a,b;return Wd++,a=D(),a===K&&(a=F()),Wd--,a===K&&(b=K,0===Wd&&d(Ed)),a}function D(){var b,c,e,f,g,h;if(Wd++,b=Qd,a.substr(Qd,2)===Gd?(c=Gd,Qd+=2):(c=K,0===Wd&&d(Hd)),c!==K){for(e=[],f=Qd,g=Qd,Wd++,a.substr(Qd,2)===Id?(h=Id,Qd+=2):(h=K,0===Wd&&d(Jd)),Wd--,h===K?g=Dd:(Qd=g,g=N),g!==K?(h=v(),h!==K?(g=[g,h],f=g):(Qd=f,f=N)):(Qd=f,f=N);f!==K;)e.push(f),f=Qd,g=Qd,Wd++,a.substr(Qd,2)===Id?(h=Id,Qd+=2):(h=K,0===Wd&&d(Jd)),Wd--,h===K?g=Dd:(Qd=g,g=N),g!==K?(h=v(),h!==K?(g=[g,h],f=g):(Qd=f,f=N)):(Qd=f,f=N);e!==K?(a.substr(Qd,2)===Id?(f=Id,Qd+=2):(f=K,0===Wd&&d(Jd)),f!==K?(c=[c,e,f],b=c):(Qd=b,b=N)):(Qd=b,b=N)}else Qd=b,b=N;return Wd--,b===K&&(c=K,0===Wd&&d(Fd)),b}function E(){var b,c,e,f,g,h;if(Wd++,b=Qd,a.substr(Qd,2)===Gd?(c=Gd,Qd+=2):(c=K,0===Wd&&d(Hd)),c!==K){for(e=[],f=Qd,g=Qd,Wd++,a.substr(Qd,2)===Id?(h=Id,Qd+=2):(h=K,0===Wd&&d(Jd)),h===K&&(h=x()),Wd--,h===K?g=Dd:(Qd=g,g=N),g!==K?(h=v(),h!==K?(g=[g,h],f=g):(Qd=f,f=N)):(Qd=f,f=N);f!==K;)e.push(f),f=Qd,g=Qd,Wd++,a.substr(Qd,2)===Id?(h=Id,Qd+=2):(h=K,0===Wd&&d(Jd)),h===K&&(h=x()),Wd--,h===K?g=Dd:(Qd=g,g=N),g!==K?(h=v(),h!==K?(g=[g,h],f=g):(Qd=f,f=N)):(Qd=f,f=N);e!==K?(a.substr(Qd,2)===Id?(f=Id,Qd+=2):(f=K,0===Wd&&d(Jd)),f!==K?(c=[c,e,f],b=c):(Qd=b,b=N)):(Qd=b,b=N)}else Qd=b,b=N;return Wd--,b===K&&(c=K,0===Wd&&d(Kd)),b}function F(){var b,c,e,f,g,h;if(Wd++,b=Qd,a.substr(Qd,2)===Md?(c=Md,Qd+=2):(c=K,0===Wd&&d(Nd)),c!==K){for(e=[],f=Qd,g=Qd,Wd++,h=x(),Wd--,h===K?g=Dd:(Qd=g,g=N),g!==K?(h=v(),h!==K?(g=[g,h],f=g):(Qd=f,f=N)):(Qd=f,f=N);f!==K;)e.push(f),f=Qd,g=Qd,Wd++,h=x(),Wd--,h===K?g=Dd:(Qd=g,g=N),g!==K?(h=v(),h!==K?(g=[g,h],f=g):(Qd=f,f=N)):(Qd=f,f=N);e!==K?(f=x(),f===K&&(f=B()),f!==K?(c=[c,e,f],b=c):(Qd=b,b=N)):(Qd=b,b=N)}else Qd=b,b=N;return Wd--,b===K&&(c=K,0===Wd&&d(Ld)),b}function G(){var a,b;for(Wd++,a=[],b=w(),b===K&&(b=E(),b===K&&(b=F()));b!==K;)a.push(b),b=w(),b===K&&(b=E(),b===K&&(b=F()));return Wd--,a===K&&(b=K,0===Wd&&d(Od)),a}function H(){var a,b;for(Wd++,a=[],b=w(),b===K&&(b=y(),b===K&&(b=C()));b!==K;)a.push(b),b=w(),b===K&&(b=y(),b===K&&(b=C()));return Wd--,a===K&&(b=K,0===Wd&&d(Pd)),a}var I,J=arguments.length>1?arguments[1]:{},K={},L={start:f},M=f,N=K,O=function(){return Xd.getResults()},P="@",Q={type:"literal",value:"@",description:'"@"'},R=function(a){return a},S={type:"other",description:"grid-rows / grid-cols"},T="grid-",U={type:"literal",value:"grid-",description:'"grid-"'},V="-gss-grid-",W={type:"literal",value:"-gss-grid-",description:'"-gss-grid-"'},X='"',Y={type:"literal",value:'"',description:'"\\""'},Z=function(a,b,c){var d;d="@"+["v","h"][a]+" "+b+" in(::) chain-"+Xd.size[a]+"(::["+Xd.size[a]+"]) chain-"+Xd.size[1-a]+" chain-"+Xd.pos[a]+"(::["+Xd.pos[a]+"]) "+Xd.trim(c),Xd.addVFL(d.trim())},$={type:"other",description:"grid-template"},_="template",aa={type:"literal",value:"template",description:'"template"'},ba=/^[0-9a-zA-Z\-_]/,ca={type:"class",value:"[0-9a-zA-Z\\-_]",description:"[0-9a-zA-Z\\-_]"},da=function(a,b,c){Xd.addTemplate(b,Xd.stringify(a),c)},ea={type:"other",description:"template line"},fa=function(a){return Xd.processHZones(a)},ga={type:"other",description:"Template Options"},ha=function(a){var b={};return a&&(b={},a.forEach(function(a){b[a.key]=a.value})),b},ia={type:"other",description:"TemplateOption"},ja="(",ka={type:"literal",value:"(",description:'"("'},la=")",ma={type:"literal",value:")",description:'")"'},na=function(a,b){return{key:a.join(""),value:b.join("")}},oa=/^[^>=<!)]/,pa={type:"class",value:"[^>=<!)]",description:"[^>=<!)]"},qa={type:"other",description:"Template Zone"},ra="0",sa={type:"literal",value:"0",description:'"0"'},ta="1",ua={type:"literal",value:"1",description:'"1"'},va="2",wa={type:"literal",value:"2",description:'"2"'},xa="3",ya={type:"literal",value:"3",description:'"3"'},za="4",Aa={type:"literal",value:"4",description:'"4"'},Ba="5",Ca={type:"literal",value:"5",description:'"5"'},Da="6",Ea={type:"literal",value:"6",description:'"6"'},Fa="7",Ga={type:"literal",value:"7",description:'"7"'},Ha="8",Ia={type:"literal",value:"8",description:'"8"'},Ja="9",Ka={type:"literal",value:"9",description:'"9"'},La="a",Ma={type:"literal",value:"a",description:'"a"'},Na="b",Oa={type:"literal",value:"b",description:'"b"'},Pa="c",Qa={type:"literal",value:"c",description:'"c"'},Ra="d",Sa={type:"literal",value:"d",description:'"d"'},Ta="e",Ua={type:"literal",value:"e",description:'"e"'},Va="f",Wa={type:"literal",value:"f",description:'"f"'},Xa="g",Ya={type:"literal",value:"g",description:'"g"'},Za="h",$a={type:"literal",value:"h",description:'"h"'},_a="i",ab={type:"literal",value:"i",description:'"i"'},bb="j",cb={type:"literal",value:"j",description:'"j"'},db="k",eb={type:"literal",value:"k",description:'"k"'},fb="l",gb={type:"literal",value:"l",description:'"l"'},hb="m",ib={type:"literal",value:"m",description:'"m"'},jb="n",kb={type:"literal",value:"n",description:'"n"'},lb="o",mb={type:"literal",value:"o",description:'"o"'},nb="p",ob={type:"literal",value:"p",description:'"p"'},pb="q",qb={type:"literal",value:"q",description:'"q"'},rb="r",sb={type:"literal",value:"r",description:'"r"'},tb="s",ub={type:"literal",value:"s",description:'"s"'},vb="t",wb={type:"literal",value:"t",description:'"t"'},xb="u",yb={type:"literal",value:"u",description:'"u"'},zb="v",Ab={type:"literal",value:"v",description:'"v"'},Bb="w",Cb={type:"literal",value:"w",description:'"w"'},Db="x",Eb={type:"literal",value:"x",description:'"x"'},Fb="y",Gb={type:"literal",value:"y",description:'"y"'},Hb="z",Ib={type:"literal",value:"z",description:'"z"'},Jb="A",Kb={type:"literal",value:"A",description:'"A"'},Lb="B",Mb={type:"literal",value:"B",description:'"B"'},Nb="C",Ob={type:"literal",value:"C",description:'"C"'},Pb="D",Qb={type:"literal",
value:"D",description:'"D"'},Rb="E",Sb={type:"literal",value:"E",description:'"E"'},Tb="F",Ub={type:"literal",value:"F",description:'"F"'},Vb="G",Wb={type:"literal",value:"G",description:'"G"'},Xb="H",Yb={type:"literal",value:"H",description:'"H"'},Zb="I",$b={type:"literal",value:"I",description:'"I"'},_b="J",ac={type:"literal",value:"J",description:'"J"'},bc="K",cc={type:"literal",value:"K",description:'"K"'},dc="L",ec={type:"literal",value:"L",description:'"L"'},fc="M",gc={type:"literal",value:"M",description:'"M"'},hc="N",ic={type:"literal",value:"N",description:'"N"'},jc="O",kc={type:"literal",value:"O",description:'"O"'},lc="P",mc={type:"literal",value:"P",description:'"P"'},nc="Q",oc={type:"literal",value:"Q",description:'"Q"'},pc="R",qc={type:"literal",value:"R",description:'"R"'},rc="S",sc={type:"literal",value:"S",description:'"S"'},tc="T",uc={type:"literal",value:"T",description:'"T"'},vc="U",wc={type:"literal",value:"U",description:'"U"'},xc="V",yc={type:"literal",value:"V",description:'"V"'},zc="W",Ac={type:"literal",value:"W",description:'"W"'},Bc="X",Cc={type:"literal",value:"X",description:'"X"'},Dc="Y",Ec={type:"literal",value:"Y",description:'"Y"'},Fc="Z",Gc={type:"literal",value:"Z",description:'"Z"'},Hc=function(a){return{xspan:a.length,name:a[0],x:a}},Ic=".",Jc={type:"literal",value:".",description:'"."'},Kc=function(){var a=Xd.getBlankName();return{xspan:1,name:a,x:[a]}},Lc={type:"other",description:"Row or Col Dimension"},Mc="rows",Nc={type:"literal",value:"rows",description:'"rows"'},Oc=function(){return 0},Pc="cols",Qc={type:"literal",value:"cols",description:'"cols"'},Rc=function(){return 1},Sc={type:"other",description:"1D Line"},Tc=null,Uc=function(a,b,c){var d;return d="|",a&&(d+=a),d+=b,c.forEach(function(a){d+=a}),d+="|"},Vc={type:"other",description:"!D LineChunk"},Wc=function(a,b){var c;return a=Xd.trim(a),c='["'+a+'"]',Xd.addVirtual(a),b&&(c+=b),c},Xc={type:"other",description:"1D Connection"},Yc="-",Zc={type:"literal",value:"-",description:'"-"'},$c="~",_c={type:"literal",value:"~",description:'"~"'},ad=/^[0-9]/,bd={type:"class",value:"[0-9]",description:"[0-9]"},cd=function(a){return Xd.stringify(a)},dd=/^[a-zA-Z0-9#_$:]/,ed={type:"class",value:"[a-zA-Z0-9#_$:]",description:"[a-zA-Z0-9#_$:]"},fd=/^[a-zA-Z0-9#.\-_$:]/,gd={type:"class",value:"[a-zA-Z0-9#.\\-_$:]",description:"[a-zA-Z0-9#.\\-_$:]"},hd={type:"any",description:"any character"},id={type:"other",description:"whitespace"},jd=/^[\t\x0B\f \xA0\uFEFF]/,kd={type:"class",value:"[\\t\\x0B\\f \\xA0\\uFEFF]",description:"[\\t\\x0B\\f \\xA0\\uFEFF]"},ld=/^[\n\r\u2028\u2029]/,md={type:"class",value:"[\\n\\r\\u2028\\u2029]",description:"[\\n\\r\\u2028\\u2029]"},nd={type:"other",description:"end of line"},od="\n",pd={type:"literal",value:"\n",description:'"\\n"'},qd="\r\n",rd={type:"literal",value:"\r\n",description:'"\\r\\n"'},sd="\r",td={type:"literal",value:"\r",description:'"\\r"'},ud="\u2028",vd={type:"literal",value:"\u2028",description:'"\\u2028"'},wd="\u2029",xd={type:"literal",value:"\u2029",description:'"\\u2029"'},yd=/^[a-zA-Z0-9 .,#:+?!\^=()_\-$*\/\\""'[\]]/,zd={type:"class",value:'[a-zA-Z0-9 .,#:+?!\\^=()_\\-$*\\/\\\\""\'[\\]]',description:'[a-zA-Z0-9 .,#:+?!\\^=()_\\-$*\\/\\\\""\'[\\]]'},Ad={type:"other",description:"End of Statement"},Bd=";",Cd={type:"literal",value:";",description:'";"'},Dd=void 0,Ed={type:"other",description:"Comment"},Fd={type:"other",description:"MultiLineComment"},Gd="/*",Hd={type:"literal",value:"/*",description:'"/*"'},Id="*/",Jd={type:"literal",value:"*/",description:'"*/"'},Kd={type:"other",description:"MultiLineCommentNoLineTerminator"},Ld={type:"other",description:"Single Line Comment"},Md="//",Nd={type:"literal",value:"//",description:'"//"'},Od={type:"other",description:"Whitespace / Comment"},Pd={type:"other",description:"Whitespace / Comment / Newline"},Qd=0,Rd=0,Sd=0,Td={line:1,column:1,seenCR:!1},Ud=0,Vd=[],Wd=0;if("startRule"in J){if(!(J.startRule in L))throw new Error("Can't start parsing from rule \""+J.startRule+'".');M=L[J.startRule]}var Xd,Yd,Zd,$d,_d,ae,be;if(Xd=Yd=this,be=0,Xd.getBlankName=function(){return be++,"blank-"+be},Xd.size=["width","height"],Xd.pos=["x","y"],Xd.getResults=function(){var a=$d.sort().join(" ");return a=0==a.length?_d:["@virtual "+a].concat(_d),{ccss:a,vfl:Zd}},ae=[],Xd.addAST=function(a){ae.push(a)},_d=[],Xd.addCCSS=function(a){_d.push(a)},$d=[],Xd.addVirtual=function(a){-1===$d.indexOf(a)&&$d.push('"'+a+'"')},Zd=[],Xd.addVFL=function(a){Zd.push(a)},Xd.addTemplate=function(a,b,c){var d,e,f;e=b+"-",d=Xd.processHLines(a),d.name=b,f=c["in"]?c["in"]:"::";var g,h,i,j,k;i={},k=!1,j=c.gap,j&&(k=!0,i.top=j,i.right=j,i.bottom=j,i.left=j,i.h=j,i.v=j),j=c["h-gap"],j&&(k=!0,i.right=j,i.left=j,i.h=j),j=c["v-gap"],j&&(k=!0,i.top=j,i.bottom=j,i.v=j),j=c["outer-gap"],j&&(k=!0,i.top=j,i.right=j,i.bottom=j,i.left=j),j=c["top-gap"],j&&(k=!0,i.top=j),j=c["right-gap"],j&&(k=!0,i.right=j),j=c["bottom-gap"],j&&(k=!0,i.bottom=j),j=c["left-gap"],j&&(k=!0,i.left=j),h=k?"<=":"==",g="::["+b+"-md-width] "+h+" ",i.right||i.left||i.h?(g+="("+f+"[width]",i.right&&(g+=" - "+i.right),i.left&&(g+=" - "+i.left),i.h&&d.yspan>1&&(g+=" - "+i.h,d.yspan>2&&(g+=" * "+(d.yspan-1))),g+=")"):g+=f+"[width]",d.yspan>1&&(g+=" / "+d.yspan),g+=" !require",Xd.addCCSS(g),g="::["+b+"-md-height] "+h+" ",i.top||i.bottom||i.v?(g+="("+f+"[height]",i.top&&(g+=" - "+i.top),i.bottom&&(g+=" - "+i.bottom),i.v&&d.xspan>1&&(g+=" - "+i.v,d.xspan>2&&(g+=" * "+(d.xspan-1))),g+=")"):g+=f+"[height]",d.xspan>1&&(g+=" / "+d.xspan),g+=" !require",Xd.addCCSS(g);var l,m;for(var n in d.widths)Xd.addVirtual(e+n),l=d.widths[n],m='"'+e+n+'"[width] == ',m+="::["+d.name+"-md-width]",l>1&&(m+=" * "+l,i.h&&(m+=" + "+i.h,l>2&&(m+=" * "+(l-1)))),Xd.addCCSS(m);var o,p;for(var n in d.heights)o=d.heights[n],p='"'+e+n+'"[height] == ',p+="::["+d.name+"-md-height]",o>1&&(p+=" * "+o,i.v&&(p+=" + "+i.v,o>2&&(p+=" * "+(o-1)))),Xd.addCCSS(p);var q;d.v.forEach(function(a){a=a.split("%-v-%"),q='@v ["'+e+a[0]+'"]',i.v&&(q+="-"),q+='["'+e+a[1]+'"]',i.v&&(q+=" gap("+i.v+")"),Xd.addVFL(q)}),d.h.forEach(function(a){a=a.split("%-h-%"),q='@h ["'+e+a[0]+'"]',i.h&&(q+="-"),q+='["'+e+a[1]+'"]',i.h&&(q+=" gap("+i.h+")"),Xd.addVFL(q)});var r;return r=[],d.cols[0].y.forEach(function(a){return r.indexOf(a)>-1?null:(r.push(a),q="@h |",i.left&&(q+="-"),q+='["'+e+a+'"] in('+f+")",i.left&&(q+=" gap("+i.left+")"),void Xd.addVFL(q))}),r=[],d.rows[0].x.forEach(function(a){return r.indexOf(a)>-1?null:(r.push(a),q="@v |",i.top&&(q+="-"),q+='["'+e+a+'"] in('+f+")",i.top&&(q+=" gap("+i.top+")"),void Xd.addVFL(q))}),r=[],d.cols[d.cols.length-1].y.forEach(function(a){return r.indexOf(a)>-1?null:(r.push(a),q='@h ["'+e+a+'"]',i.right&&(q+="-"),q+="| in("+f+")",i.right&&(q+=" gap("+i.right+")"),void Xd.addVFL(q))}),r=[],d.rows[d.rows.length-1].x.forEach(function(a){return r.indexOf(a)>-1?null:(r.push(a),q='@v ["'+e+a+'"]',i.bottom&&(q+="-"),q+="| in("+f+")",i.bottom&&(q+=" gap("+i.bottom+")"),void Xd.addVFL(q))}),Xd.addAST(d),d},Xd.processHZones=function(a){var b,c,d,e,f,g,h,i;return b=0,e=[],g={},f=[],h=0,a.forEach(function(a){i=!1,c=a.name,"-DOT-"===c&&(i=!1,h++,c+=h),f=f.concat(a.x),delete a.x,d&&d!==c&&e.push([d,c].join("%-h-%")),g[a.name]=a.xspan,b+=a.xspan,d=c}),{xspan:b,x:f,h:e,widths:g}},Xd.processHLines=function(a){var b,c,d,e;return e={heights:{},widths:{},v:[],h:[]},b=[],c=0,a.forEach(function(a){d=0;for(var f in a.widths)e.widths[f]=a.widths[f];a.h.forEach(function(a){-1===e.h.indexOf(a)&&e.h.push(a)}),a.x.forEach(function(a){var c;b[d]||(b[d]={y:[]}),c=b[d],c.y.push(a),d++}),c++}),b.forEach(function(a){var b,c,d,f,g,h;h=[],c=0,d=null,g=0,a.y.forEach(function(h){b=h,c++,a.y[g+1]!==b&&(e.heights[h]=c,c=0),d&&d!==b&&(f=[d,b].join("%-v-%"),-1===e.v.indexOf(f)&&e.v.push(f)),d=b,g++})}),e.yspan=b.length,e.xspan=a.length,e.cols=b,e.rows=a,e},Xd.trim=function(a){return"string"==typeof a?a.trim():a instanceof Array?a.join("").trim():""},Xd.flatten=function(a,b){for(var c=-1,d=a?a.length:0,e=[];++c<d;){var f=a[c];f instanceof Array?Array.prototype.push.apply(e,b?f:Xd.flatten(f)):e.push(f)}return e},Xd.stringify=function(a){return Xd.trim(Xd.flatten(a))},I=M(),I!==K&&Qd===a.length)return I;throw I!==K&&Qd<a.length&&d({type:"end",description:"end of input"}),e(null,Vd,Ud)}return a(b,Error),{SyntaxError:b,parse:c}}()},{}],10:[function(a,b,c){arguments[4][8][0].apply(c,arguments)},{"../lib/parser":11,"./parser":11,dup:8,"error-reporter":12}],11:[function(a,b){b.exports=function(){function a(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c}function b(a,b,c,d,e,f){this.message=a,this.expected=b,this.found=c,this.offset=d,this.line=e,this.column=f,this.name="SyntaxError"}function c(a){function c(){return e(yd).line}function d(){return e(yd).column}function e(b){function c(b,c,d){var e,f;for(e=c;d>e;e++)f=a.charAt(e),"\n"===f?(b.seenCR||b.line++,b.column=1,b.seenCR=!1):"\r"===f||"\u2028"===f||"\u2029"===f?(b.line++,b.column=1,b.seenCR=!0):(b.column++,b.seenCR=!1)}return zd!==b&&(zd>b&&(zd=0,Ad={line:1,column:1,seenCR:!1}),c(Ad,zd,b),zd=b),Ad}function f(a){Bd>xd||(xd>Bd&&(Bd=xd,Cd=[]),Cd.push(a))}function g(c,d,f){function g(a){var b=1;for(a.sort(function(a,b){return a.description<b.description?-1:a.description>b.description?1:0});b<a.length;)a[b-1]===a[b]?a.splice(b,1):b++}function h(a,b){function c(a){function b(a){return a.charCodeAt(0).toString(16).toUpperCase()}return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(a){return"\\x0"+b(a)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(a){return"\\x"+b(a)}).replace(/[\u0180-\u0FFF]/g,function(a){return"\\u0"+b(a)}).replace(/[\u1080-\uFFFF]/g,function(a){return"\\u"+b(a)})}var d,e,f,g=new Array(a.length);for(f=0;f<a.length;f++)g[f]=a[f].description;return d=a.length>1?g.slice(0,-1).join(", ")+" or "+g[a.length-1]:g[0],e=b?'"'+c(b)+'"':"end of input","Expected "+d+" but "+e+" found."}var i=e(f),j=f<a.length?a.charAt(f):null;return null!==d&&g(d),new b(null!==c?c:h(d,j),d,j,f,i.line,i.column)}function h(){var a,b,c,d;if(a=xd,b=$(),b!==ba){for(c=[],d=i();d!==ba;)c.push(d),d=i();c!==ba?(d=$(),d!==ba?(yd=a,b=fa(),a=b):(xd=a,a=ea)):(xd=a,a=ea)}else xd=a,a=ea;return a}function i(){var a,b,c,d;return a=xd,b=j(),b!==ba?(c=T(),c!==ba?(d=$(),d!==ba?(yd=a,b=ga(b),a=b):(xd=a,a=ea)):(xd=a,a=ea)):(xd=a,a=ea),a}function j(){var a,b,c,d,e,f,g,h,i,j;if(a=xd,b=k(),b!==ba)if(c=$(),c!==ba)if(d=t(),d!==ba){for(e=[],f=xd,g=$(),g!==ba?(h=H(),h===ba&&(h=ha),h!==ba?(i=$(),i!==ba?(j=t(),j!==ba?(g=[g,h,i,j],f=g):(xd=f,f=ea)):(xd=f,f=ea)):(xd=f,f=ea)):(xd=f,f=ea);f!==ba;)e.push(f),f=xd,g=$(),g!==ba?(h=H(),h===ba&&(h=ha),h!==ba?(i=$(),i!==ba?(j=t(),j!==ba?(g=[g,h,i,j],f=g):(xd=f,f=ea)):(xd=f,f=ea)):(xd=f,f=ea)):(xd=f,f=ea);e!==ba?(f=$(),f!==ba?(g=l(),g!==ba?(yd=a,b=ia(b,d,e,g),a=b):(xd=a,a=ea)):(xd=a,a=ea)):(xd=a,a=ea)}else xd=a,a=ea;else xd=a,a=ea;else xd=a,a=ea;return a}function k(){var b,c;return b=xd,a.substr(xd,11)===ja?(c=ja,xd+=11):(c=ba,0===Dd&&f(ka)),c===ba&&(a.substr(xd,16)===la?(c=la,xd+=16):(c=ba,0===Dd&&f(ma)),c===ba&&(a.substr(xd,7)===na?(c=na,xd+=7):(c=ba,0===Dd&&f(oa)),c===ba&&(a.substr(xd,2)===pa?(c=pa,xd+=2):(c=ba,0===Dd&&f(qa))))),c!==ba&&(yd=b,c=ra()),b=c,b===ba&&(b=xd,a.substr(xd,9)===sa?(c=sa,xd+=9):(c=ba,0===Dd&&f(ta)),c===ba&&(a.substr(xd,14)===ua?(c=ua,xd+=14):(c=ba,0===Dd&&f(va)),c===ba&&(a.substr(xd,7)===wa?(c=wa,xd+=7):(c=ba,0===Dd&&f(xa)),c===ba&&(a.substr(xd,2)===ya?(c=ya,xd+=2):(c=ba,0===Dd&&f(za))))),c!==ba&&(yd=b,c=Aa()),b=c),b}function l(){var a,b,c;for(a=xd,b=[],c=m();c!==ba;)b.push(c),c=m();return b!==ba&&(yd=a,b=Ba(b)),a=b}function m(){var b,c,d,e,g,h;if(Dd++,b=xd,c=$(),c!==ba?(d=o(),d!==ba?(yd=b,c=Da(d),b=c):(xd=b,b=ea)):(xd=b,b=ea),b===ba){if(b=xd,c=$(),c!==ba)if(a.substr(xd,2)===Ea?(d=Ea,xd+=2):(d=ba,0===Dd&&f(Fa)),d!==ba)if(40===a.charCodeAt(xd)?(e=Ga,xd++):(e=ba,0===Dd&&f(Ha)),e!==ba){if(g=[],Ia.test(a.charAt(xd))?(h=a.charAt(xd),xd++):(h=ba,0===Dd&&f(Ja)),h!==ba)for(;h!==ba;)g.push(h),Ia.test(a.charAt(xd))?(h=a.charAt(xd),xd++):(h=ba,0===Dd&&f(Ja));else g=ea;g!==ba?(41===a.charCodeAt(xd)?(h=Ka,xd++):(h=ba,0===Dd&&f(La)),h!==ba?(yd=b,c=Ma(g),b=c):(xd=b,b=ea)):(xd=b,b=ea)}else xd=b,b=ea;else xd=b,b=ea;else xd=b,b=ea;if(b===ba){if(b=xd,c=$(),c!==ba)if(a.substr(xd,2)===Ea?(d=Ea,xd+=2):(d=ba,0===Dd&&f(Fa)),d!==ba)if(40===a.charCodeAt(xd)?(e=Ga,xd++):(e=ba,0===Dd&&f(Ha)),e!==ba){if(g=[],Na.test(a.charAt(xd))?(h=a.charAt(xd),xd++):(h=ba,0===Dd&&f(Oa)),h!==ba)for(;h!==ba;)g.push(h),Na.test(a.charAt(xd))?(h=a.charAt(xd),xd++):(h=ba,0===Dd&&f(Oa));else g=ea;g!==ba?(41===a.charCodeAt(xd)?(h=Ka,xd++):(h=ba,0===Dd&&f(La)),h!==ba?(yd=b,c=Pa(g),b=c):(xd=b,b=ea)):(xd=b,b=ea)}else xd=b,b=ea;else xd=b,b=ea;else xd=b,b=ea;if(b===ba){if(b=xd,c=$(),c!==ba){if(d=[],e=L(),e!==ba)for(;e!==ba;)d.push(e),e=L();else d=ea;if(d!==ba)if(40===a.charCodeAt(xd)?(e=Ga,xd++):(e=ba,0===Dd&&f(Ha)),e!==ba){if(g=[],h=n(),h!==ba)for(;h!==ba;)g.push(h),h=n();else g=ea;g!==ba?(41===a.charCodeAt(xd)?(h=Ka,xd++):(h=ba,0===Dd&&f(La)),h!==ba?(yd=b,c=Qa(d,g),b=c):(xd=b,b=ea)):(xd=b,b=ea)}else xd=b,b=ea;else xd=b,b=ea}else xd=b,b=ea;b===ba&&(b=xd,c=$(),c!==ba?(d=K(),d!==ba?(yd=b,c=Ra(d),b=c):(xd=b,b=ea)):(xd=b,b=ea))}}}return Dd--,b===ba&&(c=ba,0===Dd&&f(Ca)),b}function n(){var b,c;return Sa.test(a.charAt(xd))?(b=a.charAt(xd),xd++):(b=ba,0===Dd&&f(Ta)),b===ba&&(b=xd,Ua.test(a.charAt(xd))?(c=a.charAt(xd),xd++):(c=ba,0===Dd&&f(Va)),c!==ba&&(yd=b,c=Wa()),b=c),b}function o(){var b,c,d,e;if(Dd++,b=xd,a.substr(xd,6)===Ya?(c=Ya,xd+=6):(c=ba,0===Dd&&f(Za)),c!==ba){if(d=[],e=L(),e!==ba)for(;e!==ba;)d.push(e),e=L();else d=ea;d!==ba?(e=p(),e===ba&&(e=ha),e!==ba?(yd=b,c=$a(d,e),b=c):(xd=b,b=ea)):(xd=b,b=ea)}else xd=b,b=ea;return Dd--,b===ba&&(c=ba,0===Dd&&f(Xa)),b}function p(){var b,c,d,e;if(Dd++,b=xd,40===a.charCodeAt(xd)?(c=Ga,xd++):(c=ba,0===Dd&&f(Ha)),c!==ba){if(d=[],e=q(),e!==ba)for(;e!==ba;)d.push(e),e=q();else d=ea;d!==ba?(41===a.charCodeAt(xd)?(e=Ka,xd++):(e=ba,0===Dd&&f(La)),e!==ba?(yd=b,c=ab(d),b=c):(xd=b,b=ea)):(xd=b,b=ea)}else xd=b,b=ea;return b===ba&&(b=xd,a.substr(xd,2)===bb?(c=bb,xd+=2):(c=ba,0===Dd&&f(cb)),c!==ba&&(yd=b,c=db()),b=c),Dd--,b===ba&&(c=ba,0===Dd&&f(_a)),b}function q(){var b,c,d,e;return b=xd,c=r(),c!==ba?(d=Z(),d===ba&&(d=ha),d!==ba?(44===a.charCodeAt(xd)?(e=eb,xd++):(e=ba,0===Dd&&f(fb)),e===ba&&(e=ha),e!==ba?(yd=b,c=gb(c),b=c):(xd=b,b=ea)):(xd=b,b=ea)):(xd=b,b=ea),b}function r(){var a,b,c,d,e,f,g,h;return a=xd,b=A(),b!==ba?(c=Z(),c!==ba?(d=s(),d===ba&&(d=ha),d!==ba?(e=Z(),e===ba&&(e=ha),e!==ba?(f=A(),f===ba&&(f=ha),f!==ba?(g=Z(),g===ba&&(g=ha),g!==ba?(h=K(),h===ba&&(h=ha),h!==ba?(yd=a,b=hb(b,d,f,h),a=b):(xd=a,a=ea)):(xd=a,a=ea)):(xd=a,a=ea)):(xd=a,a=ea)):(xd=a,a=ea)):(xd=a,a=ea)):(xd=a,a=ea),a===ba&&(a=xd,b=A(),b===ba&&(b=ha),b!==ba?(c=Z(),c===ba&&(c=ha),c!==ba?(d=s(),d!==ba?(e=Z(),e===ba&&(e=ha),e!==ba?(f=A(),f===ba&&(f=ha),f!==ba?(g=Z(),g===ba&&(g=ha),g!==ba?(h=K(),h===ba&&(h=ha),h!==ba?(yd=a,b=hb(b,d,f,h),a=b):(xd=a,a=ea)):(xd=a,a=ea)):(xd=a,a=ea)):(xd=a,a=ea)):(xd=a,a=ea)):(xd=a,a=ea)):(xd=a,a=ea),a===ba&&(a=xd,b=A(),b===ba&&(b=ha),b!==ba?(c=Z(),c===ba&&(c=ha),c!==ba?(d=s(),d===ba&&(d=ha),d!==ba?(e=Z(),e===ba&&(e=ha),e!==ba?(f=A(),f===ba&&(f=ha),f!==ba?(g=Z(),g===ba&&(g=ha),g!==ba?(h=K(),h!==ba?(yd=a,b=hb(b,d,f,h),a=b):(xd=a,a=ea)):(xd=a,a=ea)):(xd=a,a=ea)):(xd=a,a=ea)):(xd=a,a=ea)):(xd=a,a=ea)):(xd=a,a=ea))),a}function s(){var b,c;if(b=[],ib.test(a.charAt(xd))?(c=a.charAt(xd),xd++):(c=ba,0===Dd&&f(jb)),c!==ba)for(;c!==ba;)b.push(c),ib.test(a.charAt(xd))?(c=a.charAt(xd),xd++):(c=ba,0===Dd&&f(jb));else b=ea;return b}function t(){var b,c;return Dd++,b=w(),b===ba&&(b=u(),b===ba&&(b=xd,c=x(),c!==ba&&(yd=b,c=lb(c)),b=c,b===ba&&(b=xd,124===a.charCodeAt(xd)?(c=mb,xd++):(c=ba,0===Dd&&f(nb)),c!==ba&&(yd=b,c=ob()),b=c))),Dd--,b===ba&&(c=ba,0===Dd&&f(kb)),b}function u(){var b,c,d,e,g,h,i,j;if(b=xd,40===a.charCodeAt(xd)?(c=Ga,xd++):(c=ba,0===Dd&&f(Ha)),c!==ba)if(d=Z(),d!==ba){if(e=[],g=L(),g!==ba)for(;g!==ba;)e.push(g),g=L();else e=ea;e!==ba?(g=Z(),g!==ba?(h=y(),h===ba&&(h=ha),h!==ba?(i=Z(),i!==ba?(41===a.charCodeAt(xd)?(j=Ka,xd++):(j=ba,0===Dd&&f(La)),j!==ba?(yd=b,c=pb(e,h),b=c):(xd=b,b=ea)):(xd=b,b=ea)):(xd=b,b=ea)):(xd=b,b=ea)):(xd=b,b=ea)}else xd=b,b=ea;else xd=b,b=ea;return b===ba&&(b=v()),b}function v(){var b,c,d,e,g,h,i,j;if(b=xd,40===a.charCodeAt(xd)?(c=Ga,xd++):(c=ba,0===Dd&&f(Ha)),c!==ba)if(d=Z(),d!==ba){for(e=[],qb.test(a.charAt(xd))?(g=a.charAt(xd),xd++):(g=ba,0===Dd&&f(rb));g!==ba;)e.push(g),qb.test(a.charAt(xd))?(g=a.charAt(xd),xd++):(g=ba,0===Dd&&f(rb));e!==ba?(g=Z(),g!==ba?(h=y(),h===ba&&(h=ha),h!==ba?(i=Z(),i!==ba?(41===a.charCodeAt(xd)?(j=Ka,xd++):(j=ba,0===Dd&&f(La)),j!==ba?(yd=b,c=sb(e,h),b=c):(xd=b,b=ea)):(xd=b,b=ea)):(xd=b,b=ea)):(xd=b,b=ea)):(xd=b,b=ea)}else xd=b,b=ea;else xd=b,b=ea;return b}function w(){var b,c,d,e,g,h;return b=xd,c=u(),c!==ba?(d=$(),d!==ba?(e=H(),e===ba&&(e=ha),e!==ba?(g=$(),g!==ba?(a.substr(xd,3)===tb?(h=tb,xd+=3):(h=ba,0===Dd&&f(ub)),h!==ba?(yd=b,c=vb(c,e),b=c):(xd=b,b=ea)):(xd=b,b=ea)):(xd=b,b=ea)):(xd=b,b=ea)):(xd=b,b=ea),b}function x(){var b,c,d,e,g,h;if(Dd++,b=xd,60===a.charCodeAt(xd)?(c=xb,xd++):(c=ba,0===Dd&&f(yb)),c!==ba)if(d=Z(),d===ba&&(d=ha),d!==ba){if(e=[],zb.test(a.charAt(xd))?(g=a.charAt(xd),xd++):(g=ba,0===Dd&&f(Ab)),g!==ba)for(;g!==ba;)e.push(g),zb.test(a.charAt(xd))?(g=a.charAt(xd),xd++):(g=ba,0===Dd&&f(Ab));else e=ea;e!==ba?(g=Z(),g===ba&&(g=ha),g!==ba?(62===a.charCodeAt(xd)?(h=Bb,xd++):(h=ba,0===Dd&&f(Cb)),h!==ba?(yd=b,c=Db(e),b=c):(xd=b,b=ea)):(xd=b,b=ea)):(xd=b,b=ea)}else xd=b,b=ea;else xd=b,b=ea;return Dd--,b===ba&&(c=ba,0===Dd&&f(wb)),b}function y(){var b,c,d,e,g,h,i,j,k,l;if(Dd++,b=xd,40===a.charCodeAt(xd)?(c=Ga,xd++):(c=ba,0===Dd&&f(Ha)),c!==ba){if(d=[],e=xd,g=A(),g!==ba?(h=z(),h!==ba?(i=K(),i===ba&&(i=ha),i!==ba?(j=Z(),j===ba&&(j=ha),j!==ba?(k=G(),k!==ba?(l=Z(),l===ba&&(l=ha),l!==ba?(g=[g,h,i,j,k,l],e=g):(xd=e,e=ea)):(xd=e,e=ea)):(xd=e,e=ea)):(xd=e,e=ea)):(xd=e,e=ea)):(xd=e,e=ea),e!==ba)for(;e!==ba;)d.push(e),e=xd,g=A(),g!==ba?(h=z(),h!==ba?(i=K(),i===ba&&(i=ha),i!==ba?(j=Z(),j===ba&&(j=ha),j!==ba?(k=G(),k!==ba?(l=Z(),l===ba&&(l=ha),l!==ba?(g=[g,h,i,j,k,l],e=g):(xd=e,e=ea)):(xd=e,e=ea)):(xd=e,e=ea)):(xd=e,e=ea)):(xd=e,e=ea)):(xd=e,e=ea);else d=ea;d!==ba?(41===a.charCodeAt(xd)?(e=Ka,xd++):(e=ba,0===Dd&&f(La)),e!==ba?(yd=b,c=Fb(d),b=c):(xd=b,b=ea)):(xd=b,b=ea)}else xd=b,b=ea;return Dd--,b===ba&&(c=ba,0===Dd&&f(Eb)),b}function z(){var a,b;if(Dd++,a=[],b=B(),b===ba&&(b=D(),b===ba&&(b=E(),b===ba&&(b=F(),b===ba&&(b=C())))),b!==ba)for(;b!==ba;)a.push(b),b=B(),b===ba&&(b=D(),b===ba&&(b=E(),b===ba&&(b=F(),b===ba&&(b=C()))));else a=ea;return Dd--,a===ba&&(b=ba,0===Dd&&f(Gb)),a}function A(){var b,c,d,e;return b=xd,c=Z(),c===ba&&(c=ha),c!==ba?(a.substr(xd,2)===Hb?(d=Hb,xd+=2):(d=ba,0===Dd&&f(Ib)),d===ba&&(a.substr(xd,2)===Jb?(d=Jb,xd+=2):(d=ba,0===Dd&&f(Kb)),d===ba&&(60===a.charCodeAt(xd)?(d=xb,xd++):(d=ba,0===Dd&&f(yb)),d===ba&&(a.substr(xd,2)===Lb?(d=Lb,xd+=2):(d=ba,0===Dd&&f(Mb)),d===ba&&(62===a.charCodeAt(xd)?(d=Bb,xd++):(d=ba,0===Dd&&f(Cb)),d===ba&&(d=xd,a.substr(xd,2)===Nb?(e=Nb,xd+=2):(e=ba,0===Dd&&f(Ob)),e!==ba&&(yd=d,e=Pb()),d=e,d===ba&&(d=xd,a.substr(xd,2)===Qb?(e=Qb,xd+=2):(e=ba,0===Dd&&f(Rb)),e!==ba&&(yd=d,e=Sb()),d=e)))))),d!==ba?(e=Z(),e===ba&&(e=ha),e!==ba?(yd=b,c=Tb(d),b=c):(xd=b,b=ea)):(xd=b,b=ea)):(xd=b,b=ea),b}function B(){var b,c,d;return b=xd,Ub.test(a.charAt(xd))?(c=a.charAt(xd),xd++):(c=ba,0===Dd&&f(Vb)),c!==ba?(d=Z(),d===ba&&(d=ha),d!==ba?(yd=b,c=Wb(c),b=c):(xd=b,b=ea)):(xd=b,b=ea),b}function C(){var a,b,c;if(a=xd,b=[],c=L(),c!==ba)for(;c!==ba;)b.push(c),c=L();else b=ea;return b!==ba?(c=Z(),c===ba&&(c=ha),c!==ba?(yd=a,b=Xb(b),a=b):(xd=a,a=ea)):(xd=a,a=ea),a}function D(){var a,b,c;if(a=xd,b=[],c=M(),c!==ba)for(;c!==ba;)b.push(c),c=M();else b=ea;return b!==ba?(c=Z(),c===ba&&(c=ha),c!==ba?(yd=a,b=Yb(b),a=b):(xd=a,a=ea)):(xd=a,a=ea),a}function E(){var b,c,d,e,g;if(b=xd,91===a.charCodeAt(xd)?(c=Zb,xd++):(c=ba,0===Dd&&f($b)),c!==ba){if(d=[],e=L(),e!==ba)for(;e!==ba;)d.push(e),e=L();else d=ea;d!==ba?(93===a.charCodeAt(xd)?(e=_b,xd++):(e=ba,0===Dd&&f(ac)),e!==ba?(g=Z(),g===ba&&(g=ha),g!==ba?(yd=b,c=bc(d),b=c):(xd=b,b=ea)):(xd=b,b=ea)):(xd=b,b=ea)}else xd=b,b=ea;return b}function F(){var b,c,d,e,g,h;if(b=xd,c=[],d=L(),d!==ba)for(;d!==ba;)c.push(d),d=L();else c=ea;if(c!==ba)if(91===a.charCodeAt(xd)?(d=Zb,xd++):(d=ba,0===Dd&&f($b)),d!==ba){if(e=[],g=L(),g!==ba)for(;g!==ba;)e.push(g),g=L();else e=ea;e!==ba?(93===a.charCodeAt(xd)?(g=_b,xd++):(g=ba,0===Dd&&f(ac)),g!==ba?(h=Z(),h===ba&&(h=ha),h!==ba?(yd=b,c=cc(c,e),b=c):(xd=b,b=ea)):(xd=b,b=ea)):(xd=b,b=ea)}else xd=b,b=ea;else xd=b,b=ea;return b}function G(){var b,c;return b=xd,44===a.charCodeAt(xd)?(c=eb,xd++):(c=ba,0===Dd&&f(fb)),c===ba&&(c=ha),c!==ba&&(yd=b,c=dc()),b=c}function H(){var b,c,d,e,g,h;return Dd++,b=xd,45===a.charCodeAt(xd)?(c=fc,xd++):(c=ba,0===Dd&&f(gc)),c!==ba?(d=Z(),d!==ba?(e=J(),e!==ba?(g=Z(),g!==ba?(45===a.charCodeAt(xd)?(h=fc,xd++):(h=ba,0===Dd&&f(gc)),h!==ba?(yd=b,c=hc(e),b=c):(xd=b,b=ea)):(xd=b,b=ea)):(xd=b,b=ea)):(xd=b,b=ea)):(xd=b,b=ea),b===ba&&(b=xd,45===a.charCodeAt(xd)?(c=fc,xd++):(c=ba,0===Dd&&f(gc)),c!==ba&&(yd=b,c=ic()),b=c,b===ba&&(b=xd,126===a.charCodeAt(xd)?(c=jc,xd++):(c=ba,0===Dd&&f(kc)),c!==ba?(d=Z(),d!==ba?(e=J(),e!==ba?(g=Z(),g!==ba?(126===a.charCodeAt(xd)?(h=jc,xd++):(h=ba,0===Dd&&f(kc)),h!==ba?(yd=b,c=lc(e),b=c):(xd=b,b=ea)):(xd=b,b=ea)):(xd=b,b=ea)):(xd=b,b=ea)):(xd=b,b=ea),b===ba&&(b=xd,126===a.charCodeAt(xd)?(c=jc,xd++):(c=ba,0===Dd&&f(kc)),c!==ba?(45===a.charCodeAt(xd)?(d=fc,xd++):(d=ba,0===Dd&&f(gc)),d!==ba?(126===a.charCodeAt(xd)?(e=jc,xd++):(e=ba,0===Dd&&f(kc)),e!==ba?(yd=b,c=mc(),b=c):(xd=b,b=ea)):(xd=b,b=ea)):(xd=b,b=ea),b===ba&&(b=xd,126===a.charCodeAt(xd)?(c=jc,xd++):(c=ba,0===Dd&&f(kc)),c!==ba&&(yd=b,c=nc()),b=c,b===ba&&(b=xd,c=oc,c!==ba&&(yd=b,c=pc()),b=c))))),Dd--,b===ba&&(c=ba,0===Dd&&f(ec)),b}function I(){var b,c,d;if(b=xd,c=[],38===a.charCodeAt(xd)?(d=qc,xd++):(d=ba,0===Dd&&f(rc)),d!==ba)for(;d!==ba;)c.push(d),38===a.charCodeAt(xd)?(d=qc,xd++):(d=ba,0===Dd&&f(rc));else c=ea;if(c!==ba&&(yd=b,c=sc(c)),b=c,b===ba){if(b=xd,c=[],94===a.charCodeAt(xd)?(d=tc,xd++):(d=ba,0===Dd&&f(uc)),d!==ba)for(;d!==ba;)c.push(d),94===a.charCodeAt(xd)?(d=tc,xd++):(d=ba,0===Dd&&f(uc));else c=ea;if(c!==ba&&(yd=b,c=vc(c)),b=c,b===ba){if(b=xd,c=[],36===a.charCodeAt(xd)?(d=wc,xd++):(d=ba,0===Dd&&f(xc)),d!==ba)for(;d!==ba;)c.push(d),36===a.charCodeAt(xd)?(d=wc,xd++):(d=ba,0===Dd&&f(xc));else c=ea;c!==ba&&(yd=b,c=yc(c)),b=c}}return b}function J(){var b,c,d,e,g;if(Dd++,b=xd,c=I(),c!==ba){if(d=[],Ac.test(a.charAt(xd))?(e=a.charAt(xd),xd++):(e=ba,0===Dd&&f(Bc)),e!==ba)for(;e!==ba;)d.push(e),Ac.test(a.charAt(xd))?(e=a.charAt(xd),xd++):(e=ba,0===Dd&&f(Bc));else d=ea;d!==ba?(yd=b,c=Cc(c,d),b=c):(xd=b,b=ea)}else xd=b,b=ea;if(b===ba){if(b=xd,c=[],Ac.test(a.charAt(xd))?(d=a.charAt(xd),xd++):(d=ba,0===Dd&&f(Bc)),d!==ba)for(;d!==ba;)c.push(d),Ac.test(a.charAt(xd))?(d=a.charAt(xd),xd++):(d=ba,0===Dd&&f(Bc));else c=ea;if(c!==ba&&(yd=b,c=Dc(c)),b=c,b===ba){for(b=xd,c=[],Ec.test(a.charAt(xd))?(d=a.charAt(xd),xd++):(d=ba,0===Dd&&f(Fc));d!==ba;)c.push(d),Ec.test(a.charAt(xd))?(d=a.charAt(xd),xd++):(d=ba,0===Dd&&f(Fc));if(c!==ba)if(91===a.charCodeAt(xd)?(d=Zb,xd++):(d=ba,0===Dd&&f($b)),d!==ba){if(e=[],Gc.test(a.charAt(xd))?(g=a.charAt(xd),xd++):(g=ba,0===Dd&&f(Hc)),g!==ba)for(;g!==ba;)e.push(g),Gc.test(a.charAt(xd))?(g=a.charAt(xd),xd++):(g=ba,0===Dd&&f(Hc));else e=ea;e!==ba?(93===a.charCodeAt(xd)?(g=_b,xd++):(g=ba,0===Dd&&f(ac)),g!==ba?(yd=b,c=Ic(c,e),b=c):(xd=b,b=ea)):(xd=b,b=ea)}else xd=b,b=ea;else xd=b,b=ea}}return Dd--,b===ba&&(c=ba,0===Dd&&f(zc)),b}function K(){var b,c,d,e,g;if(Dd++,b=xd,33===a.charCodeAt(xd)?(c=Kc,xd++):(c=ba,0===Dd&&f(Lc)),c!==ba){if(d=[],Mc.test(a.charAt(xd))?(e=a.charAt(xd),xd++):(e=ba,0===Dd&&f(Nc)),e!==ba)for(;e!==ba;)d.push(e),Mc.test(a.charAt(xd))?(e=a.charAt(xd),xd++):(e=ba,0===Dd&&f(Nc));else d=ea;if(d===ba&&(d=ha),d!==ba){if(e=[],Oc.test(a.charAt(xd))?(g=a.charAt(xd),xd++):(g=ba,0===Dd&&f(Pc)),g!==ba)for(;g!==ba;)e.push(g),Oc.test(a.charAt(xd))?(g=a.charAt(xd),xd++):(g=ba,0===Dd&&f(Pc));else e=ea;e===ba&&(e=ha),e!==ba?(yd=b,c=Qc(d,e),b=c):(xd=b,b=ea)}else xd=b,b=ea}else xd=b,b=ea;return b===ba&&(b=xd,33===a.charCodeAt(xd)?(c=Kc,xd++):(c=ba,0===Dd&&f(Lc)),c!==ba?(a.length>xd?(d=a.charAt(xd),xd++):(d=ba,0===Dd&&f(Rc)),d===ba&&(d=ha),d!==ba?(yd=b,c=Sc(),b=c):(xd=b,b=ea)):(xd=b,b=ea)),Dd--,b===ba&&(c=ba,0===Dd&&f(Jc)),b}function L(){var b;return Tc.test(a.charAt(xd))?(b=a.charAt(xd),xd++):(b=ba,0===Dd&&f(Uc)),b}function M(){var a;return a=O(),a===ba&&(a=N()),a}function N(){var b,c,d;if(b=xd,c=[],Oc.test(a.charAt(xd))?(d=a.charAt(xd),xd++):(d=ba,0===Dd&&f(Pc)),d!==ba)for(;d!==ba;)c.push(d),Oc.test(a.charAt(xd))?(d=a.charAt(xd),xd++):(d=ba,0===Dd&&f(Pc));else c=ea;return c!==ba&&(yd=b,c=Vc(c)),b=c}function O(){var b,c,d,e,g;return b=xd,c=xd,d=N(),d!==ba?(46===a.charCodeAt(xd)?(e=Wc,xd++):(e=ba,0===Dd&&f(Xc)),e!==ba?(g=N(),g!==ba?(d=[d,e,g],c=d):(xd=c,c=ea)):(xd=c,c=ea)):(xd=c,c=ea),c!==ba&&(yd=b,c=Yc(c)),b=c}function P(){var b;return a.length>xd?(b=a.charAt(xd),xd++):(b=ba,0===Dd&&f(Rc)),b}function Q(){var b,c;return Dd++,$c.test(a.charAt(xd))?(b=a.charAt(xd),xd++):(b=ba,0===Dd&&f(_c)),Dd--,b===ba&&(c=ba,0===Dd&&f(Zc)),b}function R(){var b;return ad.test(a.charAt(xd))?(b=a.charAt(xd),xd++):(b=ba,0===Dd&&f(bd)),b}function S(){var b,c;return Dd++,10===a.charCodeAt(xd)?(b=dd,xd++):(b=ba,0===Dd&&f(ed)),b===ba&&(a.substr(xd,2)===fd?(b=fd,xd+=2):(b=ba,0===Dd&&f(gd)),b===ba&&(13===a.charCodeAt(xd)?(b=hd,xd++):(b=ba,0===Dd&&f(id)),b===ba&&(8232===a.charCodeAt(xd)?(b=jd,xd++):(b=ba,0===Dd&&f(kd)),b===ba&&(8233===a.charCodeAt(xd)?(b=ld,xd++):(b=ba,0===Dd&&f(md)))))),Dd--,b===ba&&(c=ba,0===Dd&&f(cd)),b}function T(){var b,c,d;return b=xd,c=$(),c!==ba?(59===a.charCodeAt(xd)?(d=nd,xd++):(d=ba,0===Dd&&f(od)),d!==ba?(c=[c,d],b=c):(xd=b,b=ea)):(xd=b,b=ea),b===ba&&(b=xd,c=Z(),c!==ba?(d=S(),d!==ba?(c=[c,d],b=c):(xd=b,b=ea)):(xd=b,b=ea),b===ba&&(b=xd,c=$(),c!==ba?(d=U(),d!==ba?(c=[c,d],b=c):(xd=b,b=ea)):(xd=b,b=ea))),b}function U(){var b,c;return b=xd,Dd++,a.length>xd?(c=a.charAt(xd),xd++):(c=ba,0===Dd&&f(Rc)),Dd--,c===ba?b=pd:(xd=b,b=ea),b}function V(){var a,b;return Dd++,a=W(),a===ba&&(a=Y()),Dd--,a===ba&&(b=ba,0===Dd&&f(qd)),a}function W(){var b,c,d,e,g,h;if(b=xd,a.substr(xd,2)===rd?(c=rd,xd+=2):(c=ba,0===Dd&&f(sd)),c!==ba){for(d=[],e=xd,g=xd,Dd++,a.substr(xd,2)===td?(h=td,xd+=2):(h=ba,0===Dd&&f(ud)),Dd--,h===ba?g=pd:(xd=g,g=ea),g!==ba?(h=P(),h!==ba?(g=[g,h],e=g):(xd=e,e=ea)):(xd=e,e=ea);e!==ba;)d.push(e),e=xd,g=xd,Dd++,a.substr(xd,2)===td?(h=td,xd+=2):(h=ba,0===Dd&&f(ud)),Dd--,h===ba?g=pd:(xd=g,g=ea),g!==ba?(h=P(),h!==ba?(g=[g,h],e=g):(xd=e,e=ea)):(xd=e,e=ea);d!==ba?(a.substr(xd,2)===td?(e=td,xd+=2):(e=ba,0===Dd&&f(ud)),e!==ba?(c=[c,d,e],b=c):(xd=b,b=ea)):(xd=b,b=ea)}else xd=b,b=ea;return b}function X(){var b,c,d,e,g,h;if(b=xd,a.substr(xd,2)===rd?(c=rd,xd+=2):(c=ba,0===Dd&&f(sd)),c!==ba){for(d=[],e=xd,g=xd,Dd++,a.substr(xd,2)===td?(h=td,xd+=2):(h=ba,0===Dd&&f(ud)),h===ba&&(h=R()),Dd--,h===ba?g=pd:(xd=g,g=ea),g!==ba?(h=P(),h!==ba?(g=[g,h],e=g):(xd=e,e=ea)):(xd=e,e=ea);e!==ba;)d.push(e),e=xd,g=xd,Dd++,a.substr(xd,2)===td?(h=td,xd+=2):(h=ba,0===Dd&&f(ud)),h===ba&&(h=R()),Dd--,h===ba?g=pd:(xd=g,g=ea),g!==ba?(h=P(),h!==ba?(g=[g,h],e=g):(xd=e,e=ea)):(xd=e,e=ea);d!==ba?(a.substr(xd,2)===td?(e=td,xd+=2):(e=ba,0===Dd&&f(ud)),e!==ba?(c=[c,d,e],b=c):(xd=b,b=ea)):(xd=b,b=ea)}else xd=b,b=ea;return b}function Y(){var b,c,d,e,g,h;if(b=xd,a.substr(xd,2)===vd?(c=vd,xd+=2):(c=ba,0===Dd&&f(wd)),c!==ba){for(d=[],e=xd,g=xd,Dd++,h=R(),Dd--,h===ba?g=pd:(xd=g,g=ea),g!==ba?(h=P(),h!==ba?(g=[g,h],e=g):(xd=e,e=ea)):(xd=e,e=ea);e!==ba;)d.push(e),e=xd,g=xd,Dd++,h=R(),Dd--,h===ba?g=pd:(xd=g,g=ea),g!==ba?(h=P(),h!==ba?(g=[g,h],e=g):(xd=e,e=ea)):(xd=e,e=ea);d!==ba?(e=R(),e===ba&&(e=U()),e!==ba?(c=[c,d,e],b=c):(xd=b,b=ea)):(xd=b,b=ea)}else xd=b,b=ea;return b}function Z(){var a,b;for(a=[],b=Q(),b===ba&&(b=X(),b===ba&&(b=Y()));b!==ba;)a.push(b),b=Q(),b===ba&&(b=X(),b===ba&&(b=Y()));return a}function $(){var a,b;for(a=[],b=Q(),b===ba&&(b=S(),b===ba&&(b=V()));b!==ba;)a.push(b),b=Q(),b===ba&&(b=S(),b===ba&&(b=V()));return a}var _,aa=arguments.length>1?arguments[1]:{},ba={},ca={start:h},da=h,ea=ba,fa=function(){return Ed.getResults()},ga=function(a){return a},ha=null,ia=function(a,b,c,d){var e,f,g,h,i,j,k,l,m;Ed.addSplatIfNeeded(b,a,d),f=b,m=b,l=m.view,h=[],"|"!==l&&h.push(l),Ed.addPreds(l,b.preds,a);for(var n=0;n<c.length;n++)e=c[n][1],k=c[n][3],Ed.addSplatIfNeeded(k,a,d),j=k.view,"|"!==j&&h.push(j),Ed.addPreds(j,c[n][3].preds,a),f=[e,f,j],m.isPoint&&k.isPoint||(i=("|"==l||"|"===j)&&!(m.isPoint||k.isPoint),g=Ed.getLeftVar(l,a,d,m)+" "+Ed.getConnectionString(e,a,d,i)+" "+Ed.getRightVar(j,a,d,k)+Ed.getTrailingOptions(d)+Ed.getSW(d),Ed.addC(g.trim())),m=k,l=j;return Ed.addChains(h,d),{vfl:a,o:d}},ja="@horizontal",ka={type:"literal",value:"@horizontal",description:'"@horizontal"'},la="@-gss-horizontal",ma={type:"literal",value:"@-gss-horizontal",description:'"@-gss-horizontal"'},na="@-gss-h",oa={type:"literal",value:"@-gss-h",description:'"@-gss-h"'},pa="@h",qa={type:"literal",value:"@h",description:'"@h"'},ra=function(){return 0},sa="@vertical",ta={type:"literal",value:"@vertical",description:'"@vertical"'},ua="@-gss-vertical",va={type:"literal",value:"@-gss-vertical",description:'"@-gss-vertical"'},wa="@-gss-v",xa={type:"literal",value:"@-gss-v",description:'"@-gss-v"'},ya="@v",za={type:"literal",value:"@v",description:'"@v"'},Aa=function(){return 1},Ba=function(a){var b={};b.chains=[];for(var c=0;c<a.length;c++)a[c].chain?b.chains.push(a[c].chain):b[a[c].key]=a[c].value;return b},Ca={type:"other",description:"Option"},Da=function(a){return a},Ea="in",Fa={type:"literal",value:"in",description:'"in"'},Ga="(",Ha={type:"literal",value:"(",description:'"("'},Ia=/^[^) ]/,Ja={type:"class",value:"[^) ]",description:"[^) ]"},Ka=")",La={type:"literal",value:")",description:'")"'},Ma=function(a){return{key:"in",value:a.join("")}},Na=/^[^)]/,Oa={type:"class",value:"[^)]",description:"[^)]"},Pa=function(a){return{key:"in",value:"("+a.join("")+")"}},Qa=function(a,b){return{key:a.join(""),value:b.join("")}},Ra=function(a){return{key:"sw",value:a}},Sa=/^[^>=<!)]/,Ta={type:"class",value:"[^>=<!)]",description:"[^>=<!)]"},Ua=/^[>=<!]/,Va={type:"class",value:"[>=<!]",description:"[>=<!]"},Wa=function(){throw new b("invalid character in option",null,null,null,c(),d())},Xa={type:"other",description:"Chain"},Ya="chain-",Za={type:"literal",value:"chain-",description:'"chain-"'},$a=function(a,b){return{chain:[a.join(""),b]}},_a={type:"other",description:"ChainPredicate"},ab=function(a){return a.raw="",a.forEach(function(b){a.raw+=b.raw}),a},bb="()",cb={type:"literal",value:"()",description:'"()"'},db=function(){return{raw:""}},eb=",",fb={type:"literal",value:",",description:'","'},gb=function(a){return a.raw=a.headEq+a.value+a.tailEq+a.s,a},hb=function(a,b,c,d){return{headEq:Ed.join(a),value:Ed.join(b),tailEq:Ed.join(c),s:Ed.join(d)}},ib=/^[^>=<!) ]/,jb={type:"class",value:"[^>=<!) ]",description:"[^>=<!) ]"},kb={type:"other",description:"VFL Element"},lb=function(a){return{view:"|",isPoint:!0,pos:a}},mb="|",nb={type:"literal",value:"|",description:'"|"'},ob=function(){return{view:"|"}},pb=function(a,b){return a=Ed.stringify(a),Ed.addSelector(a),{view:a,preds:b}},qb=/^[^()]/,rb={type:"class",value:"[^()]",description:"[^()]"},sb=function(a,b){return a="("+Ed.stringify(a)+")",Ed.addSelector(a),{view:a,preds:b}},tb="...",ub={type:"literal",value:"...",description:'"..."'},vb=function(a,b){return a.isSplat=!0,a.connection=b,a},wb={type:"other",description:"Point"},xb="<",yb={type:"literal",value:"<",description:'"<"'},zb=/^[^>]/,Ab={type:"class",value:"[^>]",description:"[^>]"},Bb=">",Cb={type:"literal",value:">",description:'">"'},Db=function(a){return Ed.stringify(a)},Eb={type:"other",description:"Predicate"},Fb=function(a){return a},Gb={type:"other",description:"Predicate Expression"
},Hb="==",Ib={type:"literal",value:"==",description:'"=="'},Jb="<=",Kb={type:"literal",value:"<=",description:'"<="'},Lb=">=",Mb={type:"literal",value:">=",description:'">="'},Nb="=<",Ob={type:"literal",value:"=<",description:'"=<"'},Pb=function(){return"<="},Qb="=>",Rb={type:"literal",value:"=>",description:'"=>"'},Sb=function(){return">="},Tb=function(a){return a},Ub=/^[+\-\/*]/,Vb={type:"class",value:"[+\\-\\/*]",description:"[+\\-\\/*]"},Wb=function(a){return a},Xb=function(a){return["view",a.join("")]},Yb=function(a){return a.join("")},Zb="[",$b={type:"literal",value:"[",description:'"["'},_b="]",ac={type:"literal",value:"]",description:'"]"'},bc=function(a){return"["+a.join("")+"]"},cc=function(a,b){return a.join("")+"["+b.join("")+"]"},dc=function(){return""},ec={type:"other",description:"VFL Connection"},fc="-",gc={type:"literal",value:"-",description:'"-"'},hc=function(a){return{op:"==",gap:a}},ic=function(){return{op:"==",gap:"__STANDARD__"}},jc="~",kc={type:"literal",value:"~",description:'"~"'},lc=function(a){return{op:"<=",gap:a}},mc=function(){return{op:"<=",gap:"__STANDARD__"}},nc=function(){return{op:"<="}},oc="",pc=function(){return{op:"=="}},qc="&",rc={type:"literal",value:"&",description:'"&"'},sc=function(a){if(a.length>1)throw new b("Invalid local variable scope",null,null,null,c(),d());return a.join("")},tc="^",uc={type:"literal",value:"^",description:'"^"'},vc=function(a){return a.join("")},wc="$",xc={type:"literal",value:"$",description:'"$"'},yc=function(a){if(a.length>1)throw new b("Invalid global variable scope",null,null,null,c(),d());return a.join("")},zc={type:"other",description:"VFL Connection Gap"},Ac=/^[a-zA-Z0-9_]/,Bc={type:"class",value:"[a-zA-Z0-9_]",description:"[a-zA-Z0-9_]"},Cc=function(a,b){return a+b.join("")},Dc=function(a){return a.join("")},Ec=/^[^[]/,Fc={type:"class",value:"[^[]",description:"[^[]"},Gc=/^[^\]]/,Hc={type:"class",value:"[^\\]]",description:"[^\\]]"},Ic=function(a,b){return a.join("")+"["+b.join("")+"]"},Jc={type:"other",description:"Strength / Weight"},Kc="!",Lc={type:"literal",value:"!",description:'"!"'},Mc=/^[a-zA-Z]/,Nc={type:"class",value:"[a-zA-Z]",description:"[a-zA-Z]"},Oc=/^[0-9]/,Pc={type:"class",value:"[0-9]",description:"[0-9]"},Qc=function(a,b){var c;return c="!"+Ed.join(a)+Ed.join(b),c.trim()},Rc={type:"any",description:"any character"},Sc=function(){throw new b("Invalid Strength or Weight",null,null,null,c(),d())},Tc=/^[a-zA-Z0-9#.\-_$:""&]/,Uc={type:"class",value:'[a-zA-Z0-9#.\\-_$:""&]',description:'[a-zA-Z0-9#.\\-_$:""&]'},Vc=function(a){return parseInt(a.join(""),10)},Wc=".",Xc={type:"literal",value:".",description:'"."'},Yc=function(a){return parseFloat(a.join(""))},Zc={type:"other",description:"whitespace"},$c=/^[\t\x0B\f \xA0\uFEFF]/,_c={type:"class",value:"[\\t\\x0B\\f \\xA0\\uFEFF]",description:"[\\t\\x0B\\f \\xA0\\uFEFF]"},ad=/^[\n\r\u2028\u2029]/,bd={type:"class",value:"[\\n\\r\\u2028\\u2029]",description:"[\\n\\r\\u2028\\u2029]"},cd={type:"other",description:"end of line"},dd="\n",ed={type:"literal",value:"\n",description:'"\\n"'},fd="\r\n",gd={type:"literal",value:"\r\n",description:'"\\r\\n"'},hd="\r",id={type:"literal",value:"\r",description:'"\\r"'},jd="\u2028",kd={type:"literal",value:"\u2028",description:'"\\u2028"'},ld="\u2029",md={type:"literal",value:"\u2029",description:'"\\u2029"'},nd=";",od={type:"literal",value:";",description:'";"'},pd=void 0,qd={type:"other",description:"comment"},rd="/*",sd={type:"literal",value:"/*",description:'"/*"'},td="*/",ud={type:"literal",value:"*/",description:'"*/"'},vd="//",wd={type:"literal",value:"//",description:'"//"'},xd=0,yd=0,zd=0,Ad={line:1,column:1,seenCR:!1},Bd=0,Cd=[],Dd=0;if("startRule"in aa){if(!(aa.startRule in ca))throw new Error("Can't start parsing from rule \""+aa.startRule+'".');da=ca[aa.startRule]}var Ed,Fd,Gd,Hd,Id,Jd,Kd,Ld,Md,Nd,Od;if(Ed=Fd=this,Ed.trickleDownOptions=["name"],Od=Ed.sizeVarNames=["width","height"],Hd=Ed.leftVarNames=["right","bottom"],Id=Ed.superLeftVarNames=["left","top"],Jd=Ed.rightVarNames=["left","top"],Kd=Ed.superRightVarNames=["right","bottom"],Gd=Ed.cs=[],Ed.addC=function(a){Gd.push(a)},Ed.selectors=[],Ed.addSelector=function(a){-1===Ed.selectors.indexOf(a)&&Ed.selectors.push(a)},Ed.addSplatIfNeeded=function(a,b,c){var d,e,f;a.connection?(e=a.connection.op,f=a.connection.gap):(e="==",f=0),a.isSplat&&(d=a.view+" { &["+Hd[b]+"] ",d+=Ed.getConnectionString(a.connection,b,c,!1)+" ",d+="&:next["+Jd[b]+"]; }",Ed.addC(d))},Ed.addPreds=function(a,b,c){var d,e,f,g,h;if(b)for(var i=0;i<b.length;i++){d=b[i],f=d[0],e=a+"["+Od[c]+"] "+f+" ",g=d[1];for(var j=0;j<g.length;j++)h=g[j],"view"===h[0]&&(h=h[1]+"["+Od[c]+"]"),e+=h+" ";d[2]&&(e+=d[2]),Gd.push(e.trim())}},Ed.defaultChainObject={headEq:"==",value:"",tailEq:"",s:""},Ed.chainTailEqMap={"<=":">=",">=":"<=","==":"==","<":">",">":"<"},Ed.addChains=function(a,b){var c,d,e,f,g,h,i;if(c=b.chains)for(var j=0;j<c.length;j++){d=c[j],e=d[0],f=d[1],""!==f&&f||(f=[Ed.defaultChainObject]);for(var k=0;k<f.length;k++){i=f[k],g="";for(var l=0;l<a.length-1;l++)h=a[l],""===i.headEq&&(i.headEq=Ed.defaultChainObject.headEq),g+=" "+h+"["+e+"] "+i.headEq,""!==i.value&&(g+=" "+i.value,a.length>1?(""===i.tailEq&&(i.tailEq=Ed.chainTailEqMap[i.headEq]),g+=" "+i.tailEq):(g+=" "+i.s,Gd.push(g.trim())));a.length>1&&(g+=" "+a[a.length-1]+"["+e+"]",g+=Ed.getTrailingOptions(b),g+=" "+i.s,Gd.push(g.trim()))}}},Md=function(a){return void 0===a["in"]?"::this":a["in"]},Ed.getLeftVar=function(a,b,c,d){var e;return d.isPoint?d.pos:("|"===a?(a=Md(c),e=Id[b]):(d.isSplat&&(a+=":last","("===a[0]&&(a="("+a+")")),e=Hd[b]),a+"["+e+"]")},Ed.getRightVar=function(a,b,c,d){var e;return d.isPoint?d.pos:("|"===a?(a=Md(c),e=Kd[b]):(d.isSplat&&(a+=":first","("===a[0]&&(a="("+a+")")),e=Jd[b]),a+"["+e+"]")},Ld=["[hgap]","[vgap]"],Nd=function(a,b,c,d){return void 0===a?"":("__STANDARD__"===a&&(a=d&&c["outer-gap"]?c["outer-gap"]:c.gap?c.gap:Ld[b]),"+ "+a)},Ed.getConnectionString=function(a,b,c,d){return(Nd(a.gap,b,c,d)+" "+a.op).trim()},Ed.getTrailingOptions=function(a){var b="";return a&&Ed.trickleDownOptions.forEach(function(c){null!=a[c]&&(b=b+" "+c+"("+a[c]+")")}),b},Ed.getSW=function(a){return a.sw?" "+a.sw.trim():""},Ed.getResults=function(){return{statements:this.cs,selectors:Ed.selectors}},Ed.flatten=function(a,b){if("string"==typeof a)return a;for(var c=-1,d=a?a.length:0,e=[];++c<d;){var f=a[c];f instanceof Array?Array.prototype.push.apply(e,b?f:Ed.flatten(f)):e.push(f)}return e},Ed.trim=function(a){return"string"==typeof a?a.trim():a instanceof Array?a.join("").trim():""},Ed.join=function(a){return a?a.join?a.join(""):a:""},Ed.stringify=function(a){return a?Ed.trim(Ed.join(Ed.flatten(a))):""},_=da(),_!==ba&&xd===a.length)return _;throw _!==ba&&xd<a.length&&f({type:"end",description:"end of input"}),g(null,Cd,Bd)}return a(b,Error),{SyntaxError:b,parse:c}}()},{}],12:[function(a,b,c){arguments[4][7][0].apply(c,arguments)},{dup:7}],13:[function(a,b){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;d=a("./Engine"),c=function(b){function c(a,b,e){var f;null==e&&(e=document),c.__super__.constructor.apply(this,arguments),this.scope=this.getScopeElement(e),d[this.identify(this.scope)]=this,9===this.scope.nodeType&&(f=this.scope.readyState,"complete"===f||"loaded"===f||"interactive"===f&&!document.documentMode?setTimeout(function(a){return function(){return a.engine.running?void 0:a.engine.compile()}}(this),10):(document.addEventListener("DOMContentLoaded",this.engine,!1),document.addEventListener("readystatechange",this.engine,!1),window.addEventListener("load",this.engine,!1))),this.input.Selector.observe(this.engine),this.scope.addEventListener("scroll",this.engine,!0),"undefined"!=typeof window&&null!==window&&window.addEventListener("resize",this.engine,!0)}return e(c,b),c.Measurement=a("./document/types/Measurement"),c.Primitive=a("./document/types/Primitive"),c.prototype.Input=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}return e(c,b),c.prototype.Selector=a("./document/commands/Selector"),c.prototype.Stylesheet=a("./document/commands/Stylesheet"),c.prototype.Unit=a("./document/commands/Unit"),c}(d.prototype.Input),c.prototype.Output=function(b){function d(){return d.__super__.constructor.apply(this,arguments)}return e(d,b),d.prototype.Style=a("./document/Style"),d.prototype.Properties=a("./document/properties/Styles"),d.prototype.Unit=a("./document/commands/Unit"),d.prototype.Gradient=a("./document/types/Gradient"),d.prototype.Matrix=a("./document/types/Matrix"),d.prototype.Easing=a("./document/types/Easing"),d.prototype.Color=a("./document/types/Color"),d.prototype.URL=a("./document/types/URL"),d.prototype.Number=c.Primitive.Number,d.prototype.Integer=c.Primitive.Integer,d.prototype.String=c.Primitive.String,d.prototype.Strings=c.Primitive.Strings,d.prototype.Size=c.Primitive.Size,d.prototype.Position=c.Primitive.Position,d.prototype.Length=c.Measurement.Length,d.prototype.Time=c.Measurement.Time,d.prototype.Frequency=c.Measurement.Frequency,d.prototype.Angle=c.Measurement.Angle,d.prototype.Percentage=c.Measurement.Percentage,d}(d.prototype.Output),c.prototype.Data=function(b){function d(){return d.__super__.constructor.apply(this,arguments)}return e(d,b),d.prototype.immediate=!0,d.prototype.Properties=a("./document/properties/Getters"),d.prototype.Length=c.Measurement.Length,d.prototype.Time=c.Measurement.Time,d.prototype.Frequency=c.Measurement.Frequency,d.prototype.Angle=c.Measurement.Angle,d.prototype.Percentage=c.Measurement.Percentage,d.prototype.perform=function(){return arguments.length<4&&this.data.subscribers&&(this.console.start("Measure",this.values),this.each(this.scope,"measure"),this.console.end(this.changes)),this.commit()},d.prototype.subscribe=function(a,b){var c,d,e;return(c=this.identity.solve(a))&&1===c.nodeType&&(b=b.replace(/^intrinsic-/,""),d=this.getPath(a,b),this.engine.values.hasOwnProperty(d)||(null!=(e=this.engine.updating.solution)?e.hasOwnProperty(d):void 0))?c.style[b]="":void 0},d.prototype.unsubscribe=function(a,b,c){return this.output.set(c,null),this.set(c,null)},d.prototype.get=function(a,b){var c,e;return null==(e=d.__super__.get.apply(this,arguments))&&(c=this.getPath(a,b),null!=(e=this.fetch(c))&&this.set(null,c,e)),e},d.prototype.fetch=function(a){var b,c,d,e,f;if(null!=(e=this.properties[a]))return"function"==typeof e?e.call(this,d):e;if((c=a.indexOf("["))>-1&&(b=a.substring(0,c),f=a.substring(c+1,a.length-1),d=this.identity.solve(a.substring(0,c)),null!=(e=this.properties[f]))){if(e.axiom)return e.call(this,d);if("function"!=typeof e)return e;if(-1===f.indexOf("intrinsic"))return e.call(this,d)}},d}(d.prototype.Data),c.prototype.$$events={validate:function(a,b){var c;return this.data.subscribers&&-1===b.domains.indexOf(this.data,b.index+1)&&(this.data.verify("::window","width"),this.data.verify("::window","height"),this.data.verify(this.scope,"width"),this.data.verify(this.scope,"height"),c=this.data.solve())?(b.apply(c),this.output.merge(c)):void 0},apply:function(){return this.input.Selector.disconnect(this,!0)},write:function(a){return this.input.Stylesheet.rematch(this),a?this.assign(a):void 0},flush:function(){return this.input.Selector.connect(this,!0)},remove:function(a){return this.input.Stylesheet.remove(this,a),this.data.remove(a)},compile:function(){return this.solve(this.input.Stylesheet.operations),this.input.Selector.connect(this,!0)},solve:function(){var a,b,c,d,e,f;if(9===this.scope.nodeType&&(b=this.scope.documentElement,c=b.className,-1===c.indexOf("gss-ready")&&(this.input.Selector.disconnect(this,!0),b.setAttribute("class",(c&&c+" "||"")+"gss-ready"),this.input.Selector.connect(this,!0))),this.removed){for(f=this.removed,d=0,e=f.length;e>d;d++)a=f[d],this.identity.unset(a);return this.removed=void 0}},resize:function(a){var b;if(null==a&&(a="::window"),b=a.target&&this.identify(a.target)||a,null==this.resizer){if(a.target&&this.updating){if(this.updating.resizing)return this.updating.resizing="scheduled";this.updating.resizing="computing"}this.once("solve",function(){return requestAnimationFrame(function(){var a;return"scheduled"===(null!=(a=this.updated)?a.resizing:void 0)?this.triggerEvent("resize"):void 0})})}else cancelAnimationFrame(this.resizer);return this.resizer=requestAnimationFrame(function(a){return function(){return a.resizer=void 0,a.updating&&!a.updating.resizing?void(a.updating.resizing="scheduled"):a.solve("Resize",b,function(){return this.scope._gss_id!==b&&(this.data.verify(b,"width"),this.data.verify(b,"height")),"::document"!==b&&(this.data.verify(b,"width"),this.data.verify(b,"height")),this.data.verify(this.scope,"width"),this.data.verify(this.scope,"height"),this.data.commit()})}}(this))},scroll:function(a){var b;return null==a&&(a="::window"),b=a.target&&this.identify(a.target)||a,this.solve("Scroll",b,function(){return"::window"===b&&(this.data.verify("::document","scroll-top"),this.data.verify("::document","scroll-left")),this.data.verify(b,"scroll-top"),this.data.verify(b,"scroll-left"),this.data.commit()})},DOMContentLoaded:function(){return document.removeEventListener("DOMContentLoaded",this),this.compile(),this.solve("Ready",function(){})},readystatechange:function(){return this.running&&"complete"===document.readyState?this.solve("Statechange",function(){}):void 0},load:function(){return window.removeEventListener("load",this),document.removeEventListener("DOMContentLoaded",this),this.solve("Loaded",function(){})},destroy:function(){return this.scope&&(d[this.scope._gss_id]=void 0,this.dispatchEvent(this.scope,"destroy")),this.scope.removeEventListener("DOMContentLoaded",this),this.scope.removeEventListener("scroll",this),window.removeEventListener("resize",this),this.input.Selector.disconnect(this,!0)}},c.prototype.getComputedStyle=function(a,b){var c,d,e;return null==(e=a.currentStyle)&&(c=this.computed||(this.computed={}),d=this.identify(a),e=c[d],b||null==e)?c[d]=window.getComputedStyle(a):e},c.prototype.setAbsolutePosition=function(a,b,c){var d;return d=a.style.position,void 0===a.positioned&&(a.positioned=+!!d),d&&"absolute"!==d?void 0:(""===a.style[b]?null!=c&&""!==c&&(a.positioned=(a.positioned||0)+1):(null==c||""===c)&&(a.positioned=(a.positioned||0)-1),1===a.positioned?a.style.position="absolute":0===a.positioned?a.style.position="":void 0)},c.prototype.setStyle=function(a,b,c,d,e){var f,g,h,i,j;switch(null==c&&(c=""),b){case"x":b="left";break;case"y":b="top"}if(i=this.output.properties[b]){if(f=this.camelize(b),"string"!=typeof c&&(0>c&&("width"===b||"height"===b)&&this.console.warn(b+" of",a," is negative: ",c),c=i.format(c)),"left"===b||"top"===b)this.setAbsolutePosition(a,b,c);else if(g=e){for(;g.parent&&(g=g.parent,"Condition"!==g.command.type||g.command.global););if(g.command.parse&&g.command.set(this,e,this.Command.prototype.delimit(d),a,b,c))return}h=this.getPath(a,"intrinsic-"+b),(null!=(j=this.data.watchers)?j[h]:0)||(a.style[f]=c)}},c.prototype.each=function(a,b,c,d,e,f,g,h){var i,j,k,l;for(null==c&&(c=0),null==d&&(d=0),l=this.engine.scope,9===(a||(a=l)).nodeType&&(this.data.verify(a,"width"),this.data.verify(a,"height"),a=a.body),(k=this[b](a,c,d,e,f,g,h))&&(c+=k.x||0,d+=k.y||0),a.offsetParent===l?(c-=l.offsetLeft,d-=l.offsetTop):a!==l&&(k||(j=!0)),a===document&&(a=document.body),i=a.firstChild;i;)1===i.nodeType&&("relative"===i.style.position?this.each(i,b,0,0,e,f,g,h):(j&&i.offsetParent===a&&(c+=a.offsetLeft+a.clientLeft,d+=a.offsetTop+a.clientTop,j=!1),this.each(i,b,c,d,e,f,g,h))),i=i.nextSibling;return e},c.prototype.getStyle=function(a,b){var c,d;return b=this.camelize(b),d=a.style[b]||this.getComputedStyle(a)[b],d&&(c=parseFloat(d),String(c)===String(d)||c+"px"===d)?c:d},c.prototype.measure=function(a,b,c){var d,e,f,g;if((d=a._gss_id)&&(f=this.data.subscribers[d]))for(e in f)switch(e){case"x":case"intrinsic-x":case"computed-x":this.set(d,e,b+a.offsetLeft);break;case"y":case"intrinsic-y":case"computed-y":this.set(d,e,c+a.offsetTop);break;case"width":case"intrinsic-width":case"computed-width":this.set(d,e,a.offsetWidth);break;case"height":case"intrinsic-height":case"computed-height":this.set(d,e,a.offsetHeight);break;default:g=e.replace(/^(?:computed|intrinsic)-/,""),this.properties[g]?this.set(d,e,this.get(a,g)):this.output.properties[g]&&this.set(d,e,this.getStyle(a,g))}},c.prototype.camelize=function(a){return a.toLowerCase().replace(/-([a-z])/gi,function(a){return a[1].toUpperCase()})},c.prototype.dasherize=function(a){return a.replace(/[A-Z]/g,function(a){return"-"+a[0].toLowerCase()})},c.prototype.assign=function(a,b){var c,d,e,f,g,h,i;if(b||(b=this.engine.scope),e={},a)for(d in a)i=a[d],void 0!==i&&this.write(null,d,i,e);this.each(b,"placehold",null,null,e,!!a),f={};for(c in e){h=e[c];for(g in h)i=h[g],f[this.getPath(c,g)]=i}this.engine.fireEvent("positions",f);for(g in f)i=f[g],this.write(null,g,i);return a},c.prototype.write=function(a,b,c,d){var e,f,g;if(null==a){if(g=b,f=g.lastIndexOf("["),-1===f)return;b=g.substring(f+1,g.length-1),a=g.substring(0,f)}if(":"!==a.charAt(0)){if(!(e=this.engine.identity[a])){if(a.indexOf('"')>-1)return;if(!(e=document.getElementById(a.substring(1))))return}return!d||"x"!==b&&"y"!==b?this.setStyle(e,b,c):(d[a]||(d[a]={}))[b]=c}},c.prototype.placehold=function(a,b,c,d){var e,f,g,h,i,j,k,l;if(f=void 0,(j=a._gss_id)&&(h=null!=d?d[j]:void 0,(l=this.engine.values)&&(void 0===(null!=h?h.x:void 0)&&null!=(e=l[j+"[x]"])&&((h||(h=d[j]||(d[j]={}))).x=e),void 0===(null!=h?h.y:void 0)&&null!=(i=l[j+"[y]"])&&((h||(h=d[j]||(d[j]={}))).y=i)),h))for(g in h)if(k=h[g],null!==k)switch(g){case"x":h.x=k-b,(f||(f={})).x=k-b;break;case"y":h.y=k-c,(f||(f={})).y=k-c}return f},c}(d),b.exports=c},{"./Engine":14,"./document/Style":16,"./document/commands/Selector":17,"./document/commands/Stylesheet":18,"./document/commands/Unit":19,"./document/properties/Getters":20,"./document/properties/Styles":21,"./document/types/Color":22,"./document/types/Easing":23,"./document/types/Gradient":24,"./document/types/Matrix":25,"./document/types/Measurement":26,"./document/types/Primitive":27,"./document/types/URL":28}],14:[function(a,b){var c,d=function(a,b){return function(){return a.apply(b,arguments)}};c=function(){function b(a,b){var c,d,e,f,g,h;for(this.engine=this,null!=b&&"undefined"!=typeof Worker&&null!==Worker&&(this.url=this.getWorkerURL(b)),this.eventHandler=this.handleEvent.bind(this),this.listeners={},h=[this.events,this.$events,this.$$events],f=0,g=h.length;g>f;f++)c=h[f],this.addListeners(c);if(this.observers={},this.queries={},this.lefts=[],this.pairs={},this.variables={},this.domains=[],this.stylesheets=[],this.imported={},this.inspector=new this.Inspector(this),this.exporter=new this.Exporter(this),this.update=this.Update.compile(this),this.Domain.compile(this),this.data.setup(),this.output.setup(),this.values=this.output.values,a)for(d in a)e=a[d],this.data.values[d]=this.values[d]=e;return"undefined"!=typeof window&&null!==window||"undefined"==typeof self||null===self||(this.strategy="update"),"undefined"!=typeof self&&null!==self&&self.addEventListener("error",this.eventHandler),this}return b.prototype.Command=a("./engine/Command"),b.prototype.Domain=a("./engine/Domain"),b.prototype.Update=a("./engine/Update"),b.prototype.Query=a("./engine/Query"),b.prototype.Solver=a("./engine/domains/Linear"),b.prototype.Input=a("./engine/domains/Input"),b.prototype.Data=a("./engine/domains/Data"),b.prototype.Output=a("./engine/domains/Output"),b.prototype.Console=a("./engine/utilities/Console"),b.prototype.Inspector=a("./engine/utilities/Inspector"),b.prototype.Exporter=a("./engine/utilities/Exporter"),b.prototype.solve=function(){var a,b,c,d,e;return this.transacting||(this.transacting=e=!0),b=this.transact.apply(this,arguments),"function"==typeof b[0]?(c=b.shift().apply(this,b))&&(this.updating.apply(c),a=!1):null!=b[0]&&(d=this[this.strategy||"input"],d.solve?(this.console.start(d.displayName,b),c=d.solve.apply(d,b),this.console.end(c)):c=d.apply(this,b)),e?(this.transacting=void 0,this.commit(c,void 0,a)):void 0},b.prototype.transact=function(){var a,b,c,d,e,f,g;for("string"==typeof arguments[0]&&(e=arguments[0],"string"==typeof arguments[1]&&(a=arguments[1])),b=Array.prototype.slice.call(arguments,+(null!=e)+ +(null!=a)),this.updating||(this.console.start(e||this.updated&&"Update"||"Initialize",a||b),this.updating=new this.update,this.updating.start()),this.running||this.compile(),d=void 0,c=f=0,g=b.length;g>f;c=++f)if(a=b[c],a&&"string"!=typeof a)if(d){if("function"==typeof a){this.then(a),b.splice(c,1);break}}else d=a;return b},b.prototype.commit=function(a,b,c){var d,e;if(null==b&&(b=this.updating),!b.blocking){for(a&&Object.keys(a).length&&this.triggerEvent("resume",a,b);!b.isDone()||b.isDirty();){for(;!b.isDocumentDone();)this.triggerEvent("commit",b);if(b.blocking)return;if(b.domains.length&&((null!=(d=b.busy)?d.length:void 0)||(this.console.start("Solvers",b.problems.slice(b.index)),b.each(this.resolve,this),this.console.end(b.solution)),null!=(e=b.busy)?e.length:void 0))return b;c!==!1||b.domains.length?(this.console.start("Apply",b.solution),this.triggerEvent("apply",b.solution,b),this.triggerEvent("write",b.solution,b),this.triggerEvent("flush",b.solution,b),this.console.end(this.values),(b.solved||b.isDone())&&this.triggerEvent("validate",b.solution,b)):this.triggerEvent("flush",b.solution,b),b.commit()}return b.hadSideEffects(a)?(b.finish(),this.updated=b,this.updating=void 0,this.inspector.update(),this.console.end(b.solution),this.fireEvent("solve",b.solution,this.updated),this.fireEvent("solved",b.solution,this.updated),b.solution):(this.updating=void 0,void this.console.end())}},b.prototype.resolve=function(a,b,c,d){var e,f,g,h;if(a&&!a.solve&&a.postMessage)return d.postMessage(a,b),d.await(a.url),a;for(c=g=0,h=b.length;h>g;c=++g)e=b[c],e instanceof Array&&1===e.length&&e[0]instanceof Array&&(e=b[c]=e[0]);return a?(this.console.start(a.displayName,b),f=a.solve(b)||void 0,f&&f.postMessage?d.await(f.url):1===(null!=f?f.length:void 0)&&(f=f[0]),this.console.end(f),f):this.broadcast(b,d)},b.prototype.broadcast=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F;if(null==b&&(b=this.updating),i=[],n=[],c&&(null!==b.domains[b.index+1]?(b.domains.splice(b.index,0,null),b.problems.splice(b.index,0,a)):(d=b.problems[b.index+1],d.push.apply(d,a))),"remove"===a[0])n.push(a);else for(t=0,x=a.length;x>t;t++)k=a[t],"remove"===k[0]?n.push(k):i.push(k);for(B=[this.data,this.output].concat(this.domains),e=u=0,y=B.length;y>u;e=++u){for(h=B[e],g=[],h.changes=void 0,v=0,z=n.length;z>v;v++)for(m=n[v],f=w=0,A=m.length;A>w;f=++w)j=m[f],0!==f&&((null!=(C=h.paths)?C[j]:void 0)?g.push(j):(null!=(D=h.watched)?D[j]:void 0)&&h.remove(j));if(h.changes){E=h.changes;for(l in E)q=E[l],(o||(o={}))[l]=q;h.changes=void 0}g.length&&(g.unshift("remove"),g.index=-1,b.push([g],h,!0)),i.length&&b.push(i,h)}"string"==typeof a[0]&&(a=[a]),F=this.workers;for(p in F)r=F[p],s=a.filter(function(a){var b;return"remove"!==a[0]||(null!=(b=r.paths)?b[a[1]]:void 0)}),b.push(s,r,!0)},b.prototype.compile=function(){var a,b;for(b in this)a=this[b],a!==this&&a.engine&&"function"==typeof a.compile&&a.compile(this);return this.running=!0,this.triggerEvent("compile",this)},b.prototype.fireEvent=function(a,b,c){return this.triggerEvent(a,b,c),this.scope?this.dispatchEvent(this.scope,a,b,c):void 0},b.prototype.$events={commit:function(){var a;this.Query.prototype.commit(this),this.Query.prototype.repair(this),this.Query.prototype.branch(this),(a=this.data.commit())&&this.updating.apply(a)},flush:function(a){return this.output.merge(a)},resume:function(a,b){return b.solution!==a&&b.apply(a),this.output.merge(a)},remove:function(a){var b;return this.output.remove(a),null!=(b=this.updating)?b.remove(a):void 0},destroy:function(){return this.worker&&(this.worker.removeEventListener("message",this.eventHandler),this.worker.removeEventListener("error",this.eventHandler)),"undefined"!=typeof self&&null!==self?self.removeEventListener("error",this.eventHandler):void 0},message:function(a){var b,c,d,e,f,g;d=(e=a.target).values||(e.values={}),f=a.data;for(b in f)c=f[b],null!=c?d[b]=c:delete d[b];return(null!=(g=this.updating)?g.busy.length:void 0)?(this.updating.solutions[this.updating.solutions.indexOf(a.target,this.updating.index)]=a.data,this.updating.busy.splice(this.updating.busy.indexOf(a.target.url),1),this.commit(a.data)):void 0},error:function(a){if(this.updating=void 0,"undefined"!=typeof window&&null!==window&&a.target!==window)throw new Error(a.message+" ("+a.filename+":"+a.lineno+")")}},b.prototype.getWorkerURL=function(){var a,b;return"undefined"!=typeof document&&null!==document&&(a=document.getElementsByTagName("script"),b=a[a.length-1].src,b.match(/gss/i)||(a=document.querySelectorAll("script[src*=gss]")[0],a.length&&(b=a[0].src))),function(a){if("string"!=typeof a&&(a=b),!a)throw new Error('Can not detect GSS source file to set up worker.\n\n- You can rename the gss file to contain "gss" in it:\n  `<script src="my-custom-path/my-gss.js"></script>`\n\n- or provide worker path explicitly: \n  `GSS(<scope>, "http://absolute.path/to/worker")`');return a}}(),b.prototype.useWorker=function(a){var b;if("string"==typeof a&&"undefined"!=typeof Worker&&null!==Worker&&(a.match(/^http:/i)||("undefined"!=typeof location&&null!==location?!location.protocol.match(/^file:/i):!0)))return(b=this.engine).worker||(b.worker=this.engine.getWorker(a)),this.solve=function(a){return function(b){var c;return(c=a.engine).updating||(c.updating=new a.update),a.engine.updating.postMessage(a.worker,b),a.worker}}(this),this.worker},b.prototype.getWorker=function(a){var c,d,e,f;return c=(d=(e=this.engine).workers||(e.workers={}))[a]||(d[a]=(f=b.workers||(b.workers={}))[a]||(f[a]=new Worker(a))),c.url||(c.url=a),c.addEventListener("message",this.engine.eventHandler),c.addEventListener("error",this.engine.eventHandler),c},b.prototype.getVariableDomainByConvention=function(a){var b,c,d,e;if(a.domain)return a.domain;if(c=a[1],(b=c.indexOf("["))>-1&&(d=c.substring(b+1,c.length-1)),this.data.values.hasOwnProperty(c))return this.data;if(d){if((e=this.data.properties)&&(null!=e[c]||e[d]&&!e[d].matcher))return this.data;if(0===d.indexOf("computed-")||0===d.indexOf("intrinsic-"))return this.data}},b.prototype.getPath=function(a,b){var c;return b||(b=a,a=void 0),b.indexOf("[")>-1||!a?b:("string"!=typeof a&&(a=this.identify(a)),a!==(null!=(c=this.scope)?c._gss_id:void 0)||this.data.check(a,b)?('$"'===a.substring(0,2)&&(a=a.substring(1)),a+"["+b+"]"):b)},b.prototype.url=!1,b.prototype.getVariableDomain=function(a,b){var c,d,e,f,g,h;return(c=this.getVariableDomainByConvention(a))?c:b?b:(d=null!=(e=this.variables[a[1]])&&null!=(f=e.constraints)&&null!=(g=f[0])&&null!=(h=g.operations[0])?h.domain:void 0)?d:this.solver.url?this.solver:this.solver.maybe()},b.prototype.getScopeElement=function(a){switch(a.tagName){case"HTML":case"BODY":case"HEAD":return document;case"STYLE":if(a.scoped)return this.getScopeElement(a.parentNode)}return a},b.prototype.indexOfTriplet=function(a,b,c,d){var e,f,g,h;if(a)for(e=g=0,h=a.length;h>g;e=g+=3)if(f=a[e],f===b&&a[e+1]===c&&a[e+2]===d)return e;return-1},b.prototype.destroy=function(){return this.triggerEvent("destroy"),this.events?this.removeListeners(this.events):void 0},b.prototype.addListeners=function(a){var b,c,d;d=[];for(c in a)b=a[c],d.push(this.addEventListener(c,b));return d},b.prototype.removeListeners=function(a){var b,c,d;d=[];for(c in a)b=a[c],d.push(this.removeEventListener(c,b));return d},b.prototype.once=function(a,b){return b.once=!0,this.addEventListener(a,b)},b.prototype.addEventListener=function(a,b){var c;return((c=this.listeners)[a]||(c[a]=[])).push(b)},b.prototype.removeEventListener=function(a,b){var c,d;return(c=this.listeners[a])&&(d=c.indexOf(b))>-1?c.splice(d,1):void 0},b.prototype.triggerEvent=function(a,b,c,d){var e,f,g,h,i,j;if(f=null!=(j=this.listeners)?j[a]:void 0)for(g=0,h=f.length;h>g;)e=f[g],e.once&&(f.splice(g--,1),h--),e.call(this,b,c,d),g++;return this[i="on"+a]?this[i](b,c,d):void 0},b.prototype.dispatchEvent=function(a,b,c,d,e){var f,g,h,i,j;if(this.scope){f={engine:this};for(i in c)j=c[i],f[i]=j;try{h=new window.CustomEvent(b,{detail:f,bubbles:d,cancelable:e})}catch(k){g=k,window.CustomEvent=function(a,b){var c;return b=b||{bubbles:!1,cancelable:!1,detail:void 0},c=document.createEvent("CustomEvent"),c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c},window.CustomEvent.prototype=window.Event.prototype,h=new window.CustomEvent(b,{detail:f,bubbles:d,cancelable:e})}return a.dispatchEvent(h)}},b.prototype.handleEvent=function(a){return this.triggerEvent(a.type,a)},b.prototype.then=function(a){return this.once("solve",a)},b}(),c.prototype.Identity=function(){function a(){this.set=d(this.set,this)}return a.uid=0,a.prototype.excludes=["$".charCodeAt(0),":".charCodeAt(0),"@".charCodeAt(0)],a.prototype.set=function(b,c){var d;return b?"string"==typeof b?-1===this.excludes.indexOf(b.charCodeAt(0))?"$"+b:b:((d=b._gss_id)||(b===document?d="::document":b===window&&(d="::window"),c!==!1&&(b._gss_id=d||(d="$"+(b.id||b._gss_uid||++a.uid)),this[d]=b)),d):""},a.prototype.get=function(a){return this[a]},a.prototype.solve=function(a){return this[a]},a.prototype.unset=function(a){var b;return(b=a._gss_id)?(delete this[b],a._gss_id=void 0):void 0},a.prototype.find=function(a){return this.set(a,!1)},a}(),"undefined"==typeof self||null===self||self.window||void 0===self.onmessage||self.addEventListener("message",function(a){var b,d,e,f,g,h,i,j,k;if((e=c.messenger)||(e=c.messenger=new c),d=a.data,k=void 0,b=[],g=[],i=e.solve(function(){var a,c,e,f,h;if((k=d[0])&&!k.push)for(c=e=0,f=d.length;f>e;c=++e)a=d[c],c&&("remove"===a[0]?g.push(a):(null!=(null!=(h=a[0])?h.key:void 0)&&(a[1].parent=a,a.index=a[0].index),b.push(a)));return g.length&&(this.solve(g),null===this.updating.domains[0]&&(this.broadcast(this.updating.problems[0]),this.updating.index++)),k&&this.data.merge(k),b.length?this.solve(b):void 0}),h={},k){for(f in k)j=k[f],h[f]=j;for(f in i)j=i[f],h[f]=j}return e.domains.length||(e.variables={},e.solver.operations=void 0),postMessage(h)}),c.prototype.console=new c.prototype.Console,c.prototype.identity=new c.prototype.Identity,c.prototype.identify=c.prototype.identity.set,c.prototype.clone=function(a){return a&&a.map?a.map(this.clone,this):a},b.exports=c},{"./engine/Command":29,"./engine/Domain":30,"./engine/Query":31,"./engine/Update":32,"./engine/domains/Data":37,"./engine/domains/Input":38,"./engine/domains/Linear":39,"./engine/domains/Output":40,"./engine/utilities/Console":41,"./engine/utilities/Exporter":42,"./engine/utilities/Inspector":43}],15:[function(a,b){var c;c=function(){var a,b,d,e,f,g,h,i,j,k;for(f=j=0,k=arguments.length;k>j;f=++j)if(a=arguments[f])switch(typeof a){case"object":a.nodeType?h=a:b=a;break;case"string":case"boolean":i=a}if(!(this instanceof c)&&h)for(g=h;g;){if((e=c.identity.find(g))&&(d=c.Engine[e]))return d;if(!g.parentNode)break;g=g.parentNode}return h&&c.Document?new c.Document(b,i,h):new c.Engine(b,i,h)},c.Engine=a("./Engine"),c.identity=c.Engine.prototype.identity,c.identify=c.Engine.prototype.identify,c.console=c.Engine.prototype.console,b.exports=c},{"./Engine":14}],16:[function(a,b){var c,d,e;e=function(a,b,e,f,g,h,i,j,k,l){var m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S;if(null==f&&(f={}),null==g&&(g=[]),null==h&&(h=[]),null==i&&(i=[]),null==j&&(j={}),null==l&&(l=0),z=!0,v=p=w=void 0,t=l,void 0===a.length){for(r in a)if(n=a[r],"object"==typeof n){if(y=r.indexOf("-")>-1&&e[r]&&r||b+"-"+r,B=this.Style(n,y,e,null,null,null,null,null,null,null,l),k!==!0&&(j[y]=k||z,z=y),B.types)for(P=B.types,o=F=0,J=P.length;J>F;o=++F)D=P[o],g.push(D),x=(null!=(Q=B.keys)?Q[o]:void 0)||y,h.push(x),-1===i.indexOf(x)&&i.push(x);if(B.keywords){R=B.keywords;for(x in R){for(E=R[x],
G=0,K=E.length;K>G;G++)for(q=E[G],S=q.push&&q||[q],H=0,L=S.length;L>H;H++)u=S[H],-1===i.indexOf(u)&&i.push(u);(f[x]||(f[x]=[])).push(E)}}}}else for(o=I=0,M=a.length;M>I;o=++I)switch(y=a[o],typeof y){case"object":C=this.Style(y,b,e,f,g,h,i,j,y.push&&(z||!0)||k,l+1),v=y.pad||C.pad,t=Math.max(C.depth,t);break;case"string":if(D=this[y]){if(g.push(D),A=D.Keywords)for(r in A){p=r;break}null==p&&(p=0)}else null==p&&(p=y),(f[y]||(f[y]=[])).push(b);break;default:null==p&&(p=y)}if("function"==typeof p&&(m=p,p=void 0),void 0===p)for(p=new d,p.displayName=p.prototype.property=b,O=0,N=i.length;N>O;O++)y=i[O],p.prototype[y]=e[y].initial;else 0===h.length&&(h=void 0);return s=new c(b,f,g,h,j,v,t,p,m),(null!=p?p.displayName:void 0)&&(p.prototype.style=s,p.prototype.styles=e,p.prototype.properties=i),s.format=function(a){return d.prototype.toExpressionString(b,a,!1,e)},e[b]=s},d=function(){function a(a){return a||(a=function(a){var b,c;if(a)for(b in a)c=a[b],this[b]=c;return this}),a.prototype=this,a}return a.prototype.format=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;if(l=void 0,this.style.keys){for(;m=this[d=(null!=d?d:-1)+1];)l=(l&&l+", "||"")+m.format(a,d+1);for(i=this.style.pad,s=h=this.properties,e=p=0,r=s.length;r>p;e=++p){if(g=s[e],e&&i){if(e>2){if(this.equals(g,h[1]))continue}else if(e>1){if(this.equals(g,h[0])&&(!this.hasOwnProperty[h[3]]||this.equals(h[3],h[1])))continue}else if(this.equals(g,h[0])&&this.equals(h[1],h[2])&&this.equals(h[2],h[3]))continue}else if(a&&b&&null!=(o=a[g+"-"+b])){if(j=k=void 0,"string"!=typeof o)for(h=this.style.keys,n=this.style.types,e=q=t=h.indexOf(g)-1;q>0;e=q+=-1)if((f=h[e])!==k){if(this.hasOwnProperty(f))break;n[e]===this.styles.engine.Length&&(c=this.toExpressionString(f,this[f]),j=((l||j)&&" "||"")+c+(j&&" "+j||""),k=f)}j&&(l+=j)}else{if(!this.hasOwnProperty(g))continue;o=this[g]}c=this.toExpressionString(g,o),l=(l&&l+" "||"")+c}}return l},a.prototype.equals=function(a,b){var c,d;return c=this[a],d=this[b],"object"!=typeof c?c===d:c[0]===d[0]&&c[1]===d[1]&&c[2]===d[2]},a.prototype.toExpressionString=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o;switch(null==d&&(d=this.styles),typeof b){case"object":if(f=b[0],null!=(m=this.styles.engine.signatures[f])&&null!=(n=m.Number)?n.resolved:void 0)return this.toExpressionString(a,b[1],!0)+f;for(g=f+"(",e=j=1,o=b.length-1;o>=1?o>=j:j>=o;e=o>=1?++j:--j)1!==e&&(g+=","),g+=this.toExpressionString(a,b[e],!0);return g+")";case"number":if(!c){if(i=d[a].types,b)for(k=0,l=i.length;l>k;k++)if(h=i[k],h.formatNumber&&null!=(c=h.formatNumber(b)))return c;return b}}return b},a}(),c=function(a,b,c,d,e,f,g,h,i){var j;return j=function(){var a,g,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;for(s=o=void 0,f&&arguments.length<4&&(g=[arguments[0],null!=(B=arguments[1])?B:arguments[0],null!=(C=arguments[2])?C:arguments[0],null!=(D=arguments[1])?D:arguments[0]]),E=g||arguments,l=v=0,y=E.length;y>v;l=++v){switch(k=E[l],typeof k){case"object":if("string"!=typeof k[0]||1===k.length){if(!(o=j.apply(this,k)))return;(s||(s=new h))[l]=o}break;case"string":if(q=b[k]){if(!d)return k;for(n=f&&l||0;null!=(p=q[n++]);){if(s&&s.hasOwnProperty(p)){if(1===q.length&&k!==s[p]){if(a=k,k=s[p],s[p]=a,"string"==typeof k&&(q=b[k])){n=f&&l||0;continue}break}}else if(!e[p]||s&&void 0!==s[e[p]]){o=(s||(s=new h))[p]=k;break}if(f)break}}}if(c&&null==o)if(d){for(m=w=0,z=d.length;z>w;m=++w)if(p=d[m],!(s&&(s.hasOwnProperty(p)||(r=e[p])&&!s.hasOwnProperty(r))||void 0===(o=c[m](k)))){(s||(s=new h))[p]=k;break}}else for(m=x=0,A=c.length;A>x;m=++x)if(u=c[m],void 0!==u(k))return k;if(null==o)return;o=void 0}return i&&null!=(t=i(s))?t:s},j.matcher=!0,j.displayName=a,null!=b&&(j.keywords=b),null!=c&&(j.types=c),null!=d&&(j.keys=d),null!=f&&(j.pad=f),null!=g&&(j.depth=g),null!=h&&(j.initial=h),null!=i&&(j.callback=i),j},b.exports=e},{}],17:[function(a,b){var c,d,e,f,g=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},h={}.hasOwnProperty,i=[].slice;c=a("../../engine/Query"),a("../../../vendor/weakmap.js"),a("../../../vendor/MutationObserver.js"),d=function(a){function b(a){this.key=this.path=this.serialize(a)}return g(b,a),b.prototype.type="Selector",b.prototype.prepare=function(a,b){var c,d,e,f,g,h,i,j,k,l;if(!this.prepared&&(this.prepared=!0,e=this.getIndexPrefix(a,b),d=this.getIndex(a,b),f=this.getIndexSuffix(a,b),((g=(h=b||this)[k=e+d]||(h[k]={}))[f]||(g[f]=[])).push(a),this.tail))for(i=0,j=a.length;j>i;i++)c=a[i],(null!=(l=c.command)?l.head:void 0)===(b||this).head&&c.command.prepare(c,b||this)},b.prototype.perform=function(a,b,c,d,e,f){var g,h,i,j,k;return h=b.command,k=h.selector,g=[null!=e?f:d,k],h.log(g,a,b,c,d,h.selecting&&"select"||"match"),j=h.before(g,a,b,c,d),i=g[0]||d,h.selecting?null==j&&(j=i.querySelectorAll(g[1])):j!==i&&i.matches(g[1])&&null==j&&(j=i),h.unlog(a,j),(j=h.after(g,j,a,b,c,d))?h.ascend(a,b,c+k,d,j,e):void 0},b.prototype.separator="",b.prototype.scoped=void 0,b.prototype.prefix=void 0,b.prototype.suffix=void 0,b.prototype.key=void 0,b.prototype.path=void 0,b.prototype.tail=void 0,b.prototype.head=void 0,b.prototype.singular=void 0,b.prototype.getIndexPrefix=function(a,b){return(b||this.selecting)&&" "||""},b.prototype.getIndex=function(a){var b;return null!=(b=this.prefix)?b:a[0]},b.prototype.getIndexSuffix=function(a){return a[2]||a[1]},b.prototype.getKey=function(){return this.selector||this.key},b.options={subtree:!0,childList:!0,attributes:!0,characterData:!0,attributeOldValue:!0},b.observe=function(a){return this.Observer?(this.listener=new this.Observer(this.onMutations.bind(a)),this.connect(a)):void 0},b.Observer="undefined"!=typeof window&&null!==window&&(window.MutationObserver||window.WebKitMutationObserver||window.JsMutationObserver),b.connect=function(a,b){return b&&window.JsMutationObserver===this.Observer?void 0:this.listener.observe(a.scope,this.options)},b.disconnect=function(a,b){return b&&window.JsMutationObserver===this.Observer?void 0:this.listener.disconnect()},b.filterMutation=function(a){var b;for(b=a.target;b;){if(1===b.nodeType&&this.filterNodeMutation(b)===!1)return!1;b=b.parentNode}return!0},b.filterNodeMutation=function(a){return a._gss?!1:!0},b.onMutations=function(a){var c;if(!this.running){if(9===this.scope.nodeType)return;return this.solve("Kick",function(){})}return c=this.solve("Mutate",String(a.length),function(){var c,d,e,f;for(this.updating.index>-1&&this.updating.reset(),e=0,f=a.length;f>e;e++)if(c=a[e],b.filterMutation(c)!==!1){switch(c.type){case"attributes":b.mutateAttribute(this,c.target,c.attributeName,c.oldValue||"");break;case"childList":b.mutateChildList(this,c.target,c);break;case"characterData":b.mutateCharacterData(this,c.target,c)}(d=this.updating).reflown||(d.reflown=this.scope)}}),this.scope.parentNode||1!==this.scope.nodeType||this.destroy(),c},b.mutateChildList=function(a,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka;for(e=[],A=[],aa=d.addedNodes,F=0,J=aa.length;J>F;F++)m=aa[F],1===m.nodeType&&this.filterNodeMutation(m)!==!1&&e.push(m);for(ba=d.removedNodes,G=0,K=ba.length;K>G;G++)m=ba[G],1===m.nodeType&&this.filterNodeMutation(m)!==!1&&((q=e.indexOf(m))>-1?e.splice(q,1):A.push(m));if(k=e.concat(A),"STYLE"===c.tagName&&1!==(null!=(ca=d.addedNodes[0])?ca.nodeType:void 0)&&this.mutateCharacterData(a,c,c),k.length){for(l=[],H=0,O=k.length;O>H;H++)u=k[H],B=u.tagName,-1===l.indexOf(B)&&l.push(B);for(w=t=d,p=o=!0,z=a.queries;w=w.previousSibling;)1===w.nodeType&&(p&&(this.prototype.match(a,w,"+",void 0,"*"),this.prototype.match(a,w,"++",void 0,"*"),p=!1),this.prototype.match(a,w,"~",void 0,l),this.prototype.match(a,w,"~~",void 0,l),t=w);for(;t=t.nextSibling;)1===t.nodeType&&(o&&(this.prototype.match(a,t,"!+",void 0,"*"),this.prototype.match(a,t,"++",void 0,"*"),o=!1),this.prototype.match(a,t,"!~",void 0,l),this.prototype.match(a,t,"~~",void 0,l));for(this.prototype.match(a,c,">",void 0,l),f=[],i=[],h=[],s=[],I=0,P=e.length;P>I;I++)for(m=e[I],this.prototype.match(a,m,"!>",void 0,c),f.push(m),da=m.getElementsByTagName("*"),W=0,Q=da.length;Q>W;W++)n=da[W],f.push(n);for(X=0,R=A.length;R>X;X++)if(m=A[X],-1===f.indexOf(m))for(i.push(m),ea=m.getElementsByTagName("*"),Y=0,S=ea.length;S>Y;Y++)n=ea[Y],i.push(n);if(b.destructuring){fa=a.identity;for(y in fa)n=fa[y],n.nodeType&&!n.parentNode&&i.push(n)}for(g=f.concat(i,h),C={},Z=0,T=g.length;T>Z;Z++){if(u=g[Z],u.className)for(ga=u.classList||u.className.split(/\s+/),$=0,U=ga.length;U>$;$++)r=ga[$],this.index(C," .",r);for(u.id&&this.index(C," #",u.id),ha=u.attributes,_=0,V=ha.length;V>_;_++)j=ha[_],"class"!==j.name&&"id"!==j.name&&this.index(C," attribute",j.name);for(w=t=u;w=w.previousSibling;)if(1===w.nodeType){this.index(C," +",w.tagName);break}for(;(t=t.nextSibling)&&1!==t.nodeType;);w||this.index(C," :","first-child"),t||this.index(C," :","last-child"),this.index(C," +",m.tagName)}for(v=c;v;){for(this.prototype.match(a,v," ",void 0,g),ia=0,L=g.length;L>ia;ia++)m=g[ia],this.prototype.match(a,m,"!",void 0,v);for(x in C)for(E=C[x],ja=0,M=E.length;M>ja;ja++)D=E[ja],"$"===x.charAt(1)?this.prototype.match(a,v,x,D):this.prototype.match(a,v,x,void 0,D);if(v===a.scope)break;if(!(v=v.parentNode))break}for(ka=0,N=i.length;N>ka;ka++)A=i[ka],-1===f.indexOf(A)&&(a.removed||(a.removed=[])).push(A);return!0}},b.mutateCharacterData=function(a,b,c){var d,e;return null==c&&(c=b.parentNode),(d=a.identity.find(c))&&"STYLE"===c.tagName&&(null!=(e=c.getAttribute("type"))?e.indexOf("text/gss"):void 0)>-1?a["import"](c):void 0},b.mutateAttribute=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q;if("class"===c&&"string"==typeof d){for(g=b.classList||b.className.split(/\s+/),i=d.split(" "),d=[],k=0,n=i.length;n>k;k++)h=i[k],h&&(null!=(q=g.indexOf&&g.indexOf(h)>-1)?q:g.contains(h))||d.push(h);for(l=0,o=g.length;o>l;l++)h=g[l],h&&i.indexOf(h)>-1||d.push(h)}for(j=b;j;){if(e=b===j&&"attribute"||" attribute",this.prototype.match(a,j,e,c,b),(null!=d?d.length:void 0)&&"class"===c)for(f=b===j&&"."||" .",m=0,p=d.length;p>m;m++)h=d[m],this.prototype.match(a,j,f,h,b);if(j===a.scope)break;if(!(j=j.parentNode))break}return this},b.index=function(a,b,c){var d;if(d=a[b]){if(-1!==d.indexOf(c))return}else a[b]=[];return a[b].push(c)},b}(c),d.prototype.Sequence=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.type="Selector",b}(c.Sequence),d.prototype.checkers.selector=function(a,b,c,e){var f;if(!(!b.head&&b instanceof d.Combinator&&" "!==e[0]||!a.key&&!b.selector&&b.key!==b.path||(f=a.selecting)&&!b.selecting||","===c[0]&&(b.selector||b.key)!==b.path))return!0},d.prototype.mergers.selector=function(a,b,c,d,e){var f,g;return b.selecting&&(a.selecting||(a.selecting=!0)),b.head=c,a.head=c,a.tail=b.tail||(b.tail=d),a.tail.command.head=c,f=b.selector||b.key,g=a.selector||a.key,a.selector=e?g+a.separator+f:f+g,!0},d.Qualifier=d.extend({signature:[{context:["Selector"],matcher:["String"]}]}),d.Search=d.extend({signature:[[{context:["Selector"]}],{matcher:["String"],query:["String"]}]}),d.Attribute=d.Search.extend({getIndex:function(){return"attribute"}}),d.Selecter=d.extend({signature:[[{context:["Selector"]}],{query:["String"]}],selecting:!0,getIndexPrefix:function(){return" "}}),d.Combinator=d.Selecter.extend({signature:[[{context:["Selector"]}]],getIndexSuffix:function(a){return"tag"===a.parent[0]&&a.parent[2].toUpperCase()||"*"},getIndexPrefix:function(a,b){return b&&" "||""}}),d.Virtual=d.extend({signature:[[{context:["Selector"]}],{query:["String"]}]}),d.Element=d.extend({signature:[[{parameter:["Number","String"]}]]}),d.Reference=d.Element.extend({excludes:["Selector","Iterator"],condition:function(a,b){return-1===this.excludes.indexOf(b.parent.command.type)},kind:"Element",prefix:"",after:function(){return result},retrieve:function(){var a;return a=1<=arguments.length?i.call(arguments,0):[],a.unshift(a[1][1]),this.execute.apply(this,a)},reference:!0}),d.define({".":{helpers:["class","getElementsByClassName"],tags:["selector"],Qualifier:function(a,b){return a.classList.contains(b)?a:void 0},Selecter:function(a,b,c,d,e,f){return null==a&&(a=f),a.getElementsByClassName(b)}},tag:{helpers:["getElementsByTagName"],tags:["selector"],prefix:"",Selecter:function(a,b,c,d,e,f){return null==a&&(a=f),a.getElementsByTagName(b)},Qualifier:function(a,b){return"*"===b||a.tagName===b.toUpperCase()?a:void 0},getIndexSuffix:function(a){return a[a.length-1].toUpperCase()}},"#":{helpers:["id","getElementById"],tags:["selector"],Selecter:function(a,b,c,d,e,f){return null==a&&(a=f),null==f&&(f=c.scope),("function"==typeof a.getElementById?a.getElementById(b):void 0)||a.querySelector('[id="'+b+'"]')},Qualifier:function(a,b){return a.id===b?a:void 0},singular:!0}," ":{tags:["selector"],Combinator:{execute:function(a,b,c,d,e){return(a||e).getElementsByTagName("*")},getIndexPrefix:function(){return""}}},"!":{Combinator:function(a,b,c,d,e){var f;for(f=void 0;a=(a||e).parentNode;)1===a.nodeType&&(f||(f=[])).push(a);return f}},">":{tags:["selector"],Combinator:function(a,b,c,d,e){return(a||e).children}},"!>":{Combinator:function(a,b,c,d,e){return(a||e).parentElement}},"+":{tags:["selector"],Combinator:function(a,b,c,d,e){return(a||e).nextElementSibling}},"!+":{Combinator:function(a,b,c,d,e){return(a||e).previousElementSibling}},"++":{Combinator:function(a){var b,c,d;return c=void 0,(d=a.previousElementSibling)&&(c||(c=[])).push(d),(b=a.nextElementSibling)&&(c||(c=[])).push(b),c}},"~":{tags:["selector"],Combinator:function(a){var b;for(b=void 0;a=a.nextElementSibling;)(b||(b=[])).push(a);return b}},"!~":{Combinator:function(a){var b,c;for(b=void 0,c=a.parentNode.firstElementChild;c!==a;)(b||(b=[])).push(c),c=c.nextElementSibling;return b}},"~~":{Combinator:function(a){var b,c;for(b=void 0,c=a.parentNode.firstElementChild;c;)c!==a&&(b||(b=[])).push(c),c=c.nextElementSibling;return b}}}),d.define({"&":{before:function(){},after:function(a,b){return b},serialize:function(a){var b;return(null!=(b=d[a.parent[0]])?b.prototype.Qualifier:void 0)?"&":""},log:function(){},unlog:function(){},hidden:!0,Element:function(a,b,c,d,e){return e},retrieve:function(){return this.execute.apply(this,arguments)},"continue":function(a,b,c){var d;return null==c&&(c=""),"&"===(d=this.key)&&"&"===c.charAt(c.length-1)?c:c+this.key}},"^":{Element:function(a,b,c,d,e){return null==a&&(a=1),this.getParentScope(b,e,d,a)}},$:{Element:function(a,b){return b.scope}},"::document":{Reference:function(){return document}},"::window":{Reference:function(){return window}},virtual:{localizers:["Selector","Iterator"],Virtual:function(a,b,c,d,e,f){var g;return!a&&this.localizers.indexOf(d.parent.command.type)>-1&&f!==c.scope&&(a=f),g=this.getScope(c,a,e)||"$",g+'"'+b+'"'},prefix:'"'}}),d.define({"[=]":{tags:["selector"],prefix:"[",separator:'="',suffix:'"]',Attribute:function(a,b,c){return a.getAttribute(b)===c?a:void 0}},"[*=]":{tags:["selector"],prefix:"[",separator:'*="',suffix:'"]',Attribute:function(a,b,c){var d;return(null!=(d=a.getAttribute(b))?d.indexOf(c):void 0)>-1?a:void 0}},"[|=]":{tags:["selector"],prefix:"[",separator:'|="',suffix:'"]',Attribute:function(a,b){return null!=a.getAttribute(b)?a:void 0}},"[]":{tags:["selector"],prefix:"[",suffix:"]",Attribute:function(a,b){return null!=a.getAttribute(b)?a:void 0}}}),d.define({":value":{Qualifier:function(a){return a.value},watch:"oninput"},":get":{Qualifier:function(a,b){return a[b]}},":first-child":{tags:["selector"],Combinator:function(a){return a.previousElementSibling?void 0:a}},":last-child":{tags:["selector"],Combinator:function(a){return a.nextElementSibling?void 0:a}}}),d.define({":next":{relative:!0,Combinator:function(a,b,c,d,e){var f,g;return null==a&&(a=e),f=this.getCanonicalCollection(b,d),g=null!=f?f.indexOf(a):void 0,null!=g&&-1!==g&&g!==f.length-1?f[g+1]:void 0}},":previous":{relative:!0,Combinator:function(a,b,c,d,e){var f,g;return null==a&&(a=e),f=this.getCanonicalCollection(b,d),g=null!=f?f.indexOf(a):void 0,-1!==g&&g?f[g-1]:void 0}},":last":{relative:!0,singular:!0,Combinator:function(a,b,c,d,e){var f,g;return null==a&&(a=e),f=this.getCanonicalCollection(b,d),g=null!=f?f.indexOf(a):void 0,null!=g&&g===f.length-1?a:void 0}},":first":{relative:!0,singular:!0,Combinator:function(a,b,c,d,e){var f,g;return null==a&&(a=e),f=this.getCanonicalCollection(b,d),g=null!=f?f.indexOf(a):void 0,null!=g&&0===g?a:void 0}}}),d.define({":visible":{singular:!0,deferred:!0,Combinator:function(a,b,c,e,f){return null==a&&(a=f),d[":visible-y"].prototype.Combinator.apply(this,arguments)&&d[":visible-x"].prototype.Combinator.apply(this,arguments)}},":visible-y":{singular:!0,deferred:!0,Combinator:function(a,b,c,d,e){var f,g,h,i;return null==a&&(a=e),g=b.data.watch(a,"computed-y",c,d,e),f=b.data.watch(a,"computed-height",c,d,e),i=b.data.watch(b.scope,"scroll-top",c,d,e),h=b.data.watch(b.scope,"computed-height",c,d,e),i>=g&&g+f>i+h||g>i&&i+h>g||g+f>i&&i+h>g+f?a:void 0}},":visible-x":{singular:!0,deferred:!0,Combinator:function(a,b,c,d,e){var f,g,h,i;return null==a&&(a=e),g=b.data.watch(a,"computed-x",c,d,e),f=b.data.watch(a,"computed-width",c,d,e),i=b.data.watch(b.scope,"scroll-left",c,d,e),h=b.data.watch(b.scope,"computed-width",c,d,e),i>=g&&g+f>i+h||g>i&&i+h>g||g+f>i&&i+h>g?a:void 0}}}),d.define({",":{tags:["selector"],signature:!1,separator:",",serialize:function(){return""},"yield":function(a,b,c,d,e){var f;return f=this.getPrefixPath(b,d)+c.parent.command.path,this.add(b,a,f,c.parent,e,c,d),this.defer(b,c.parent,f,e),!0},release:function(a,b,c,d,e){var f;return f=this.getPrefixPath(b,d)+c.parent.command.path,this.remove(b,a,f,c.parent,e,c,void 0,d),!0},descend:function(a,b,c,d){var e,f,g,h;for(f=g=1,h=b.length;h>g;f=g+=1)(e=b[f])instanceof Array&&(e.parent||(e.parent=b),a.Command(e).solve(b.domain||a,e,c,d));return!1}}}),"undefined"!=typeof document&&null!==document&&(f=d.dummy=document.createElement("_"),e=document.createElement("div"),e.appendChild(document.createElement("b")),f.appendChild(e),f.innerHTML="",d.destructuring=!e.childNodes.length,f.hasOwnProperty("classList")||(d["."].prototype.Qualifier=function(a,b){return a.className.split(/\s+/).indexOf(b)>-1?a:void 0}),void 0!==f.parentElement&&(d["!>"].prototype.Combinator=function(a,b,c,d,e){var f;return null==a&&(a=e),(f=a.parentNode)&&1===f.nodeType?f:void 0}),void 0!==f.nextElementSibling&&(d["+"].prototype.Combinator=function(a,b,c,d,e){for(null==a&&(a=e);a=a.nextSibling;)if(1===a.nodeType)return a},d["!+"].prototype.Combinator=function(a,b,c,d,e){for(null==a&&(a=e);a=a.previousSibling;)if(1===a.nodeType)return a},d["++"].prototype.Combinator=function(a,b,c,d,e){var f,g,h;for(null==a&&(a=e),g=void 0,h=f=a;h=h.previousSibling;)if(1===h.nodeType){(g||(g=[])).push(h);break}for(;f=f.nextSibling;)if(1===f.nodeType){(g||(g=[])).push(f);break}return g},d["~"].prototype.Combinator=function(a,b,c,d,e){var f;for(null==a&&(a=e),f=void 0;a=a.nextSibling;)1===a.nodeType&&(f||(f=[])).push(a);return f},d["!~"].prototype.Combinator=function(a,b,c,d,e){var f,g;for(null==a&&(a=e),f=void 0,g=a.parentNode.firstChild;g&&g!==a;)1===g.nodeType&&(f||(f=[])).push(g),g=g.nextSibling;return f},d["~~"].prototype.Combinator=function(a,b,c,d,e){var f,g;for(null==a&&(a=e),f=void 0,g=a.parentNode.firstChild;g;)g!==a&&1===g.nodeType&&(f||(f=[])).push(g),g=g.nextSibling;return f},d[":first-child"].prototype.Selecter=function(a,b,c,d,e){var f,g;if(null==a&&(a=e),g=a.parentNode){for(f=g.firstChild;f&&1!==f.nodeType;)f=f.nextSibling;if(f===a)return a}},d[":last-child"].prototype.Qualifier=function(a,b,c,d,e){var f,g;if(null==a&&(a=e),g=a.parentNode){for(f=g.lastChild;f&&1!==f.nodeType;)f=f.previousSibling;if(f===a)return mpde}})),b.exports=d},{"../../../vendor/MutationObserver.js":44,"../../../vendor/weakmap.js":46,"../../engine/Query":31}],18:[function(a,b){var c,d,e,f,g=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},h={}.hasOwnProperty;d=a("../../GSS"),c=a("../../engine/Command"),e=a("../../engine/Query"),f=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.mimes={"text/gss-ast":function(a){return JSON.parse(a)},"text/gss":function(a){var b;return null!=(b=d.Parser.parse(a))?b.commands:void 0}},b.prototype.parse=function(a,b,c){var d;return null==b&&(b="text/gss"),a.console.push(b.split("/")[1],[c]),d=a.clone(this.mimes[b](c)),"string"==typeof d[0]&&(d=[d]),a.console.pop(d),d},b.prototype.descend=function(a,b,c,d){var e,f,g,h,i;for(this.users=(this.users||0)+1,g=h=0,i=b.length;i>h;g=++h)e=b[g],(null!=e?e.push:void 0)&&(null==e.parent&&(e.parent=b),(f=e.command||a.Command(e))&&f.solve(a,e,this.delimit(c,this.DESCEND),d))},b.operations=[["import",["[*=]",["tag","style"],"type","gss"]],["import",["[*=]",["tag","link"],"type","gss"]]],b.CanonicalizeSelectorRegExp=new RegExp("[$][a-z0-9]+["+c.prototype.DESCEND+"]\\s*","gi"),b.prototype.update=function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A;if(v=this.getWatchers(a,e),!(t=e.sheet))return void(null!=(z=e.parentNode)&&z.removeChild(e));for(l=this.getOperation(b,v,f),p=[],j=w=0,y=v.length;y>w;j=++w)if(n=v[j]){if(o=this.getRule(v[n[0]][0]),o===f&&j!==l)break;if(j>l)break;o!==f&&-1===p.indexOf(o)&&p.push(o)}if(r=t.cssRules||t.rules,j=p.length,h=r[j],h&&(l!==b.index||""===d||o===f&&j!==l)){for(u=h.cssText,-1===(i=u.indexOf(" "+c+":"))&&-1===(i=u.indexOf("{"+c+":"))?i=u.indexOf(";"+c+":"):i++,i>-1?(k=u.indexOf(";",i)+1)||(k=u.length-1):i=k=u.length-1,""!==(q=d)&&(q=c+":"+d),u=u.substring(0,i)+q+u.substring(k),t.deleteRule(j),j=t.insertRule(u,j),m=void 0,l===b.index&&l++,j=x=l,A=v.length;A>=l?A>x:x>A;j=A>=l?++x:--x)if(n=v[j]){m=this.getRule(v[n[0]][0]),m!==f&&t.deleteRule(p.length);break}m||t.deleteRule(p.length)}else g=c+":"+d,s=this.getSelector(e,b),j=t.insertRule(s+"{"+g+"}",p.length);return!0},b.prototype.onClean=function(a,b,c){return this.users&&!--this.users?(a.Query.prototype.clean(a,this.source),a.Query.prototype.unobserve(a,this.source,this.delimit(c))):void 0},b.prototype.getRule=function(a){var b;for(b=a;b=b.parent;)if("rule"===b[0])return b},b.prototype.getStylesheet=function(a,b){var c,d,e,f,g,h,i;if(g=b,d=g.lastIndexOf("@import"),f=g.indexOf(this.DESCEND,d),d>-1?(h=this.getCanonicalSelector(g.substring(0,d)),g=h+b.substring(d,f)):g=g.substring(0,f),!(i=a.stylesheets[g])){if((f=b.indexOf(this.DESCEND))>-1&&(b=b.substring(0,f)),i=a.stylesheets[g]=document.createElement("STYLE"),c=a.Query.prototype.getByPath(a,b))for((e=a.imported[c._gss_id])&&(i.selectors=e[g]);(c=c.nextSibling)&&c.selectors;);a.stylesheets.push(i),a.identify(i),c?c.parentNode.insertBefore(i,c):a.scope.appendChild(i)}return i},b.prototype.getWatchers=function(a,b){var c,d;return(c=b.assignments||(b.assignments={}))[d=b._gss_id]||(c[d]=[])},b.prototype.getOperation=function(a,b,c){var d,e,f,g,h,i;for(d=a.index,h=c.properties,f=0,g=h.length;g>f;f++)if(e=h[f],null!=(i=b[e])?i.length:void 0){d=e;break}return d},b.prototype.set=function(a,b,c,d,e,f){var g,h;return(g=this.getRule(b))?((h=this.getStylesheet(a,c))&&this.watch(a,b,c,h)&&this.update(a,b,e,f,h,g)&&(a.updating.restyled=!0),!0):void 0},b.remove=function(a,b){var c,d,e,f,g,h,i,j;if(a.stylesheets)for(j=a.stylesheets,g=0,i=j.length;i>g;g++)if(e=j[g],(f=this.prototype.getWatchers(a,e))&&(d=f[b]))for(h=d.length-1;h>=0;h+=-1)c=d[h],this.prototype.unwatch(a,c,b,e,f)},b.prototype.watch=function(a,b,c,d){var e,f,g;return f=this.getWatchers(a,d),e=f[g=b.index]||(f[g]=[]),e.indexOf(c)>-1?void 0:((f[c]||(f[c]=[])).push(b),1===e.push(c))},b.prototype.unwatch=function(a,b,c,d,e){var f,g,h;return null==e&&(e=this.getWatchers(a,d)),f=b.index,g=e[f],g.splice(g.indexOf(c),1),h=e[c],h.splice(h.indexOf(b),1),h.length||delete e[c],g.length?void 0:(delete e[f],this.update(a,b,b[1],"",d,this.getRule(b)))},b["export"]=function(){var a,b,c,d,e,f,g,h,i;c=[],h=engine.stylesheets;for(a in h)for(d=h[a],i=d.sheet.cssRules||d.sheet.rules,f=0,g=i.length;g>f;f++)b=i[f],e=b.cssText.replace(/\[matches~="(.*?)"\]/g,function(a,b){return b.replace(/@[^]+/g,"").replace(/&/g,"").replace(//g," ")}),c.push(e);return c.join("")},b.prototype.getSelector=function(a,b){return this.getSelectors(a,b).join(", ")},b.prototype.getSelectors=function(a,b){var c,d,e,f,g,h,i,j;for(e=b,g=h=c=void 0;e;){if("Condition"!==e.command.type||e.global)"Iterator"===e.command.type&&(g=this.combineSelectors(g,e[1]));else if(g)for(d=i=0,j=g.length;j>i;d=++i)f=g[d],g[d]=" "+this.getCustomSelector(e.command.key,f);!(e=e.parent)&&(null!=a?a.selectors:void 0)&&(g=this.combineSelectors(g,a))}return g},b.empty=[""],b.prototype.combineSelectors=function(a,c){var d,e,f,g,h,i,j,k,l,m,n;for(null==a&&(a=b.empty),g=[],d=h=0,k=a.length;k>h;d=++h)if(e=a[d],c.selectors)if(' [matches~="'===e.substring(0,12))g.push(" "+this.getCustomSelector(e.selector,e));else for(m=c.selectors,i=0,l=m.length;l>i;i++)f=m[i],g.push(f+e);else if(' [matches~="'===e.substring(0,12))g.push(" "+this.getCustomSelector(c.command.path,e));else if(","===c[0])for(d=j=1,n=c.length;n>j;d=j+=1)g.push(this.getRuleSelector(c[d],c.command)+e);else g.push(this.getRuleSelector(c)+e);return g},b.prototype.getRuleSelector=function(a,b){var c,d,e;return c=a.command,e=c.path,"&"===e.charAt(0)?(d=e.substring(1))===c.key?d:this.getCustomSelector((b||c).path):(c.selector||c.key)===e?" "+e:" "+this.getCustomSelector((b||c).path)},b.prototype.getCustomSelector=function(a,b){var c;return c=this.DESCEND,a=a.replace(/\s+/g,c),b?(" "===b.charAt(0)&&(b=b.substring(1)),b='[matches~="'===b.substring(0,11)?c+b.substring(11):c+b.replace(/\s+/g,c)+'"]'):b='"]','[matches~="'+a+b},b.prototype.getCanonicalSelector=function(a){return a=a.trim(),a=a.replace(b.CanonicalizeSelectorRegExp," ").replace(/\s+/g,this.DESCEND)},b.match=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p;if(1===b.nodeType)return(g=c.indexOf(this.prototype.DESCEND))>-1&&(c=c.substring(g+1)),c=this.prototype.getCanonicalSelector(c).replace(/\s+/,this.prototype.DESCEND),d?(e=(i=(j=a.updating).matches||(j.matches={}))[m=b._gss_id]||(i[m]=[]),h=null!=(o=a.updating.unmatches)?o[b._gss_id]:void 0):(h=null!=(p=a.updating.matches)?p[b._gss_id]:void 0,e=(k=(l=a.updating).unmatches||(l.unmatches={}))[n=b._gss_id]||(k[n]=[])),e&&-1===e.indexOf(c)&&e.push(c),h&&(f=h.indexOf(c))>-1?h.splice(f,1):void 0},b.rematch=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n;if(f=a.updating.matches){for(d in f){if(j=f[d],c=a.identity.get(d),g=c.getAttribute("matches"))for(b=g.split(" "),k=0,m=j.length;m>k;k++)i=j[k],-1===b.indexOf(i)&&b.push(i);else b=j;c.setAttribute("matches",b.join(" "))}a.matches=void 0}if(h=a.updating.unmatches){for(d in h){if(j=h[d],c=a.identity.get(d),g=c.getAttribute("matches"))for(b=g.split(" "),l=0,n=j.length;n>l;l++)i=j[l],-1===(e=b.indexOf(i))&&b.splice(e,1);f&&b.length?c.setAttribute("matches",b.join(" ")):c.removeAttribute("matches")}return a.unmatches=void 0}},b.prototype.getKey=function(a,b,c,d){return!d&&c&&-1===c.lastIndexOf(this.DESCEND)?"":this.key},b.prototype["continue"]=function(){return e.prototype["continue"].apply(this,arguments)},b}(c.List),f.Import=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.type="Import",b.prototype.relative=!0,b.prototype.signature=[{source:["Selector","String","Node"]},[{type:["String"],text:["String"]}]],b.define({directive:function(a,b,c,d,e,g,h){return f.Import[a].prototype.execute(b,c,void 0,d,e,g,h)},"import":function(a,b,c,d,e,g){var h,i,j,k,l,m,n,o,p,q,r,s;if("string"==typeof a?(o=a,a=void 0):((o=this.getUrl(a))||(q=a.textContent||a.innerText),b||(b="function"==typeof a.getAttribute?a.getAttribute("type"):void 0)),n=this.getGlobalPath(d,e,g,a),p=d.queries[n]){if(j=p.command,p.length){if(p.splice(0),!a.parentNode)return void this.clean(d,n);if(j.users=0,this.uncontinuate(d,n),q)return p.push.apply(p,j.parse(d,b,q)),void this.continuate(d,n)}}else p=[],j=p.command=new f(d,e,g,a),j.key=this.getGlobalPath(d,e,g,a,"import"),j.source=n,null!=(null!=a?a.getAttribute("scoped"):void 0)&&(a.scoped=j.scoped=!0);return(l=g.indexOf(this.DESCEND))>-1&&(m=g.substring(0,l),(h=d.Query.prototype.getByPath(d,m))&&"STYLE"===h.tagName&&(m=d.Stylesheet.prototype.getCanonicalSelector(g)+j.key,k=(r=d.imported)[s=h._gss_id]||(r[s]={}),k[m]=d.Stylesheet.prototype.getSelectors(null,e))),q?p.push.apply(p,j.parse(d,b,q)):j.resolver||(d.updating.block(d),j.resolver=function(a){return function(c){return j.resolver=void 0,p.push.apply(p,j.parse(d,b,c)),a.continuate(d,j.source),d.updating.unblock(d)&&i?d.engine.commit():void 0}}(this),this.resolve(o,c,j.resolver),i=!0),p}}),b.prototype.resolve=function(a,b,c){var d;return d=new XMLHttpRequest,d.onreadystatechange=function(){return function(){return 4!==d.readyState||200!==d.status&&(d.status||0!==a.indexOf("file://"))?void 0:c(d.responseText)}}(this),d.open(b&&b.toUpperCase()||"GET",a,!0),d.send()},b.prototype.after=function(a,b,c,d,e,f){var g,h,i,j;return null==b?b:(h=1===(null!=(j=a[0])?j.nodeType:void 0)?a[0]:f,i=b.command.source,this.set(c,i,b),g=this.delimit(e,this.DESCEND),this.subscribe(c,b,g,f,i),this.subscribe(c,b,g,f,h),0===b.command.users&&this.continuate(c,i),b)},b.prototype.ascend=function(a,b,c,d,e){0!==e.length&&this.schedule(a,e,this.delimit(c,this.DESCEND),d)},b.prototype.write=function(){return!0},b.prototype.getUrl=function(a){return a.getAttribute("href")||a.getAttribute("src")},b.prototype.getId=function(a){return this.getUrl(a)||a._gss_id},b.prototype.formatId=function(a){var b;return(b=a.lastIndexOf("/"))>-1&&(a=a.substring(b+1)),a},b.prototype.getLocalPath=function(a,b,c,d){return this.getGlobalPath(a,b,c,d)},b.prototype.getGlobalPath=function(a,b,c,d,e){var f,g;return null==e&&(e="parse"),g="directive"===b[0]&&2||1,"string"==typeof b[g]?f=b[g]:(null==d&&c&&(d=this.getByPath(a,c)),f=this.getId(d)),"@"+e+"("+this.formatId(f)+")"},b}(e),b.exports=f},{"../../GSS":15,"../../engine/Command":29,"../../engine/Query":31}],19:[function(a,b){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;d=a("../../engine/commands/Variable"),c=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return e(b,a),b.prototype.signature=[{value:["Variable","Number"]}],b.prototype.getProperty=function(a){var b;for(b=a;b=b.parent;)if("Assignment"===b.command.type)return b[1]},b.prototype.Dependencies={"margin-top":"containing-width","margin-top":"containing-width","margin-right":"containing-width","margin-left":"containing-width","padding-top":"containing-width","padding-top":"containing-width","padding-right":"containing-width","padding-left":"containing-width",left:"containing-width",right:"containing-width",width:"containing-width","min-width":"containing-width","max-width":"containing-width","text-width":"containing-width",top:"containing-height",bottom:"containing-height",height:"containing-height","font-size":"containing-font-size","vertical-align":"line-height","background-position-x":"width","background-position-y":"height"},b.define({"%":function(a,b,c,d,e){var f,g;return g=this.Dependencies[this.getProperty(c)]||"containing-width",f=b.getPath(e,g),["*",["px",a],["get",f]]},em:function(a,b,c,d,e){var f;return f=b.getPath(e,"computed-font-size"),["*",["px",a],["get",f]]},rem:function(a,b){var c;return c=this.engine.getPath(b.scope._gss_id,"computed-font-size"),["*",["px",a],["get",c]]},vw:function(a){return["*",["/",["px",a],100],["get","::window[width]"]]},vh:function(a){return["*",["/",["px",a],100],["get","::window[height]"]]},vmin:function(a){return["*",["/",["px",a],100],["min",["get","::window[height]"],["get","::window[width]"]]]},vmax:function(a){return["*",["/",["px",a],100],["max",["get","::window[height]"],["get","::window[width]"]]]}}),b}(d),b.exports=c;

},{"../../engine/commands/Variable":36}],20:[function(a,b){var c;c=function(){function a(){}return a.prototype["::window"]={width:function(){return Math.min(window.innerWidth,document.documentElement.clientWidth)},height:function(){return document.documentElement.clientHeight},x:0,y:0},a.prototype["::document"]={height:function(){return document.documentElement.clientHeight},width:function(){return document.documentElement.clientWidth},x:0,y:0,scroll:{height:function(){return document.body.scrollHeight},width:function(){return document.body.scrollWidth},left:function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft},top:function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}}},a.prototype.intrinsic={height:function(){},width:function(){},y:function(){},x:function(){}},a.prototype.scroll={left:function(a){return a.scrollLeft},top:function(a){return a.scrollTop},height:function(a){return a.scrollHeight},width:function(a){return a.scrollWidth}},a.prototype.client={left:function(a){return a.clientLeft},top:function(a){return a.clientTop},height:function(a){return a.clientHeight},width:function(a){return a.clientWidth}},a.prototype.offset={left:function(a){return a.offsetLeft},top:function(a){return a.offsetTop},height:function(a){return a.offsetHeight},width:function(a){return a.offsetWidth}},a}(),b.exports=c},{}],21:[function(a,b){var c;c=function(){function a(a){this.engine=a}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;for(a.prototype.transform=[[function(){return mat4.create()},"Matrix"]],a.prototype.animation=[[[{name:["none","String"],duration:["Time"],delay:["Time"],direction:["normal","reverse","alternate"],"timing-function":["Easing"],"iteration-count":[1,"infinite","Number"],"fill-mode":["none","both","forwards","backwards"],"play-state":["running","paused"]}]]],a.prototype.transition=[[[{property:["all","property","none"],duration:["Time"],delay:["Time"],direction:["reverse","normal"],"timing-function":["Easing"]}]]],a.prototype.background=[[[{image:["URL","Gradient","none"],position:{x:["Length","Percentage","center","left","right"],y:["Length","Percentage","center","top","bottom"]},size:{x:["Length","Percentage","cover","contain"],y:["Length","Percentage"]},repeat:["repeat","no-repeat","repeat-x","repeat-y","space","round"],attachment:["fixed","scroll","local"],origin:["padding-box","border-box","content-box"],clip:["border-box","content-box","padding-box"]}]],[{color:["Color","transparent"]}]],a.prototype.text={shadow:[[[{offset:{x:["Length"],y:["Length"]},blur:["Length"],color:["Color"]}]]],decoration:["none","capitalize","uppercase","lowercase"],align:["left","right","center","justify"],ident:["Length","Percentage"]},a.prototype.box={shadow:[[[{inset:["inset"]}],{offset:{x:["Length"],y:["Length"]}},[{blur:["Length"],spread:["Length"]}],{color:["Color"]}]],sizing:["padding-box","border-box","content-box"]},a.prototype.outline=[{width:["medium","Length"],style:["none","dotted","dashed","solid","double","groove","ridge","inset","outset"],color:["invert","Color"]}],a.prototype["line-height"]=["normal","Length","Number","Percentage"],a.prototype.font=[[{style:["normal","italic","oblique"],variant:["normal","small-caps"],weight:["normal","Number","bold"]}],{size:["Size","Length","Percentage"]},[{"line-height":["normal","Length","Number","Percentage"]}],{family:["inherit","strings"]}],a.prototype["font-stretch"]=["normal","ultra-condensed","extra-condensed","condensed","semi-condensed","semi-expanded","expanded","extra-expanded","ultra-expanded"],a.prototype["font-size-adjust"]=["Number"],a.prototype["letter-spacing"]=["normal","Length"],a.prototype.list={style:[{type:["disc","circle","square","decimal","decimal-leading-zero","lower-roman","upper-roman","lower-greek","lower-latin","upper-latin","armenian","georgian","lower-alpha","none","upper-alpha"],image:["none","URL"],position:["outside","inside","none"]}]},a.prototype.width=["Length","auto"],a.prototype.height=["Length","auto"],a.prototype.min={width:["Length","auto"],height:["Length","auto"]},a.prototype.max={width:["Length","auto"],height:["Length","auto"]},a.prototype.display=["inline","inline-block","block","list-item","run-in","table","inline-table","none","table-row-group","table-header-group","table-footer-group","table-row","table-column-group","table-column","table-cell","table-caption"],a.prototype.visibility=["visible","hidden"],a.prototype["float"]=["none","left","right"],a.prototype.clear=["none","left","right","both"],a.prototype.overflow=["visible","hidden","scroll","auto"],a.prototype["overflow-x"]=["visible","hidden","scroll","auto"],a.prototype["overflow-y"]=["visible","hidden","scroll","auto"],a.prototype.position=["static","relative","absolute","fixed","sticky"],a.prototype.top=["Length","Percentage","auto"],a.prototype.left=["Length","Percentage","auto"],a.prototype.right=["Length","Percentage","auto"],a.prototype.bottom=["Length","Percentage","auto"],a.prototype.opacity=["Number"],a.prototype["z-index"]=["Integer"],a.prototype.cursor=["auto","crosshair","default","hand","move","e-resize","ne-resize","nw-resize","n-resize","se-resize","sw-resize","s-resize","w-resize","text","wait","help"],a.prototype.color=["color"],a.prototype.columns=["length"],a.prototype["column-gap"]=["length"],a.prototype["column-width"]=["length"],a.prototype["column-count"]=["Integer"],s=f=["top","right","bottom","left"],c=m=0,p=s.length;p>m;c=++m){for(e=s[c],((h=a.prototype).margin||(h.margin=[{pad:"pad"}]))[0][e]=["Length","Percentage","auto"],((i=a.prototype).padding||(i.padding=[{pad:"pad"}]))[0][e]=["Length","Percentage","auto"],((j=a.prototype).border||(j.border=[{pad:"pad"}]))[0][e]=[[{width:["Length","thin","thick","medium"],style:["none","dotted","dashed","solid","double","groove","ridge","inset","outset","none"],color:["Color"]}]],t=["width","color","style"],n=0,q=t.length;q>n;n++)g=t[n],((k=a.prototype)[r="border-"+g]||(k[r]=[[{pad:"pad"}]]))[0][0]["border-"+e+"-"+g]=a.prototype.border[0][e][0][0][g];if(!(c%2))for(b=o=3;o>0;b=o+=-2)d="border-"+e+"-"+f[b]+"-radius",a.prototype[d]=["Length","none"],((l=a.prototype)["border-radius"]||(l["border-radius"]=[{pad:"pad"}]))[0][d]=["Length","none"]}return a}(),b.exports=c},{}],22:[function(a,b){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;d=a("../../engine/Command"),c=function(a){function b(a){switch(typeof a){case"string":if(b.Keywords[a])return a;if("#"===a.charAt(0))return a;break;case"object":if(b[a[0]])return a}}return e(b,a),b.Keywords={transparent:"transparent",currentColor:"currentColor"},b.define({hsl:function(a,b,c){var d,e,f,g,h,i,j,k,l,m;if(0===b)h=f=d=255*c;else{for(k=[0,0,0],e=[0,0,0],j=.5>c?c*(1+b):c+b-c*b,i=2*c-j,a/=360,k[0]=a+1/3,k[1]=a,k[2]=a-1/3,g=l=0;2>=l;g=++l)k[g]<0&&(k[g]+=1),k[g]>1&&(k[g]-=1),e[g]=6*k[g]<1?i+6*(j-i)*k[g]:2*k[g]<1?j:3*k[g]<2?i+(j-i)*(2/3-k[g])*6:i;m=[Math.round(255*e[0]),Math.round(255*e[1]),Math.round(255*e[2])],h=m[0],f=m[1],d=m[2]}return["rgb",h,f,d]},hsla:function(a,b,c,d){return Type.Color.hsl.execute(a,b,c).concat[d]},rgb:function(a,b,c){return["rgb",a,b,c]},rgba:function(a,b,c,d){return["rgba",a,b,c,d]},hex:function(a){var b,c,d,e,f;return a.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/)?((4===a.length||7===a.length)&&(a=a.substr(1)),3===a.length&&(a=a.split(""),a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),f=parseInt(a,16),e=f>>16,d=f>>8&255,c=255&f,["rgb",e,d,c]):a.match(/^#?([A-Fa-f0-9]{8})$/)?(9===a.length&&(a=a.substr(1)),f=parseInt(a,16),e=f>>24&255,d=f>>16&255,c=f>>8&255,b=255&f,["rgba",e,d,c,b]):void 0}}),b}(d),b.exports=c},{"../../engine/Command":29}],23:[function(a,b){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;c=a("../../engine/commands/Variable"),d=function(a){function b(a){if("string"==typeof a){if(a=this.Type.Timings[a])return a}else if("steps"===a[0]||"cubic-bezier"===a[0])return a}return e(b,a),b.define({ease:["cubic-bezier",.42,0,1,1],"ease-in":["cubic-bezier",.42,0,1,1],"ease-out":["cubic-bezier",0,0,.58,1],"ease-in-out":["cubic-bezier",.42,0,.58,1],linear:["cubic-bezier",0,0,1,1],"step-start":"step-start","step-end":"step-end"}),b}(c),b.exports=d},{"../../engine/commands/Variable":36}],24:[function(a,b){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;c=a("../../engine/Command"),d=function(a){function b(a){switch(typeof a){case"object":if(b[a[0]])return a}}return e(b,a),b.prototype.type="Gradient",b.define({"linear-gradient":function(){},"radial-gradient":function(){},"repeating-linear-gradient":function(){},"repeating-radial-gradient":function(){}}),b}(c),b.exports=d},{"../../engine/Command":29}],25:[function(a,b){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;c=a("../../engine/Command"),d=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}var d,f,g;e(c,b),c.prototype.type="Matrix",c.prototype.Library=a("../../../vendor/gl-matrix"),c.prototype.matrix=function(){},c.prototype.matrix3d=function(){},c.prototype.mat3=function(a,b,c,d,e){return null==a&&(a=this._mat3.create()),9===a.length?this._mat3[b](a,a,c,d,e):this._mat4[b](a,a,c,d,e)},c.prototype.mat4=function(a,b,c,d,e){return null==a&&(a=this._mat4.create()),9===a.length&&(a=this._mat4.fromMat3(a)),this._mat4[b](a,a,c,d,e)},g=c.prototype.Library;for(f in g)d=g[f],c.prototype["_"+f]=d;return c}(c),d.prototype.Sequence=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return e(b,a),b}(c.Sequence),d.Transformation1=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return e(b,a),b.prototype.signature=[[{matrix:["Matrix"]}],{x:["Variable","Number"]}],b.define({translateX:function(a,b){return this.mat3(a,"translate",[b,1,1])},translateY:function(a,b){return this.mat3(a,"translate",[1,b,1])},translateZ:function(a,b){return this.mat4(a,"translate",[1,1,b])},translate:function(a,b){return this.mat3(a,"translate",[b,b])},rotateX:function(a,b){return this.mat4(a,"rotateX",360*b*(Math.PI/180))},rotateY:function(a,b){return this.mat4(a,"rotateY",360*b*(Math.PI/180))},rotateZ:function(a,b){return this.mat4(a,"rotateZ",360*b*(Math.PI/180))},scaleX:function(a,b){return this.mat3(a,"scale",[b,1,1])},scaleY:function(a,b){return this.mat3(a,"scale",[1,b,1])},scaleZ:function(a,b){return this.mat4(a,"scale",[1,1,b])},scale:function(a,b){return this.mat4(a,"scale",[b,b,1])},rotate:function(a,b){return this.mat3(a,"rotate",360*b*(Math.PI/180),[0,0,1])}}),b}(d),d.Transformation2=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return e(b,a),b.prototype.signature=[[{matrix:["Matrix"]}],{x:["Variable","Number"],y:["Variable","Number"]}],b.define({translate:function(a,b,c){return this.mat3(a,"translate",[b,c])},scale:function(a,b,c){return this.mat3(a,"translate",[b,c])}}),b}(d),d.Transformation3=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return e(b,a),b.prototype.signature=[[{matrix:["Matrix"]}],{x:["Variable","Number"],y:["Variable","Number"],z:["Variable","Number"]}],b.define({translate3d:function(a,b,c,d){return 0===d?this.mat3(a,"translate",[b,c]):this.mat4(a,"translate",[b,c,d])},scale3d:function(a,b,c,d){return 1===d?this.mat3(a,"scale",[b,c]):this.mat4(a,"scale",[b,c,d])}}),b}(d),d.Transformation3A=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return e(b,a),b.prototype.signature=[[{matrix:["Matrix"]}],{x:["Variable","Number"],y:["Variable","Number"],z:["Variable","Number"],a:["Variable","Number"]}],b.define({rotate3d:function(a,b,c,d,e){return null==c&&(c=b),null==d&&(d=0),0===d?this.mat3(a,"rotate",[b,c],360*e):this.mat4(a,"rotate",[b,c,d],360*e)}}),b}(d),b.exports=d},{"../../../vendor/gl-matrix":45,"../../engine/Command":29}],26:[function(a,b){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;d=a("../commands/Unit"),c=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return e(b,a),b.prototype.signature=[{value:["Variable","Number"]}],b}(d),c.Percentage=function(a){function b(a){switch(typeof a){case"object":if("%"===a[0])return this}}return e(b,a),b}(c),c.Length=function(a){function b(a){switch(typeof a){case"number":return a;case"object":if(c.Length[a[0]]||d[a[0]]&&"%"!==a[0])return this}}return e(b,a),b.define({px:function(a){return a},pt:function(a){return a},cm:function(a){return 37.8*a},mm:function(a){return 3.78*a},"in":function(a){return 96*a}}),b.formatNumber=function(a){return a+"px"},b}(c),c.Angle=function(a){function b(a){switch(typeof a){case"number":return a;case"object":if(c.Angle[a[0]])return this}}return e(b,a),b.define({deg:function(a){return 360*a},grad:function(a){return a/.9},rad:function(a){return a*(Math.PI/180)},turn:function(a){return a}}),b.formatNumber=function(a){return a+"rad"},b}(c),c.Time=function(a){function b(a){switch(typeof a){case"number":return a;case"object":if(c.Time[a[0]])return this}}return e(b,a),b.define({h:function(a){return 60*a*60*1e3},min:function(a){return 60*a*1e3},s:function(a){return 1e3*a},ms:function(a){return a}}),b.formatNumber=function(a){return a+"ms"},b}(c),c.Frequency=function(a){function b(a){switch(typeof a){case"number":return a;case"object":if(c.Frequency[a[0]])return this}}return e(b,a),b.define({mhz:function(a){return 1e3*a*1e3},khz:function(a){return 1e3*a},hz:function(a){return a}}),b.formatNumber=function(a){return a+"hz"},b}(c),b.exports=c},{"../commands/Unit":19}],27:[function(a,b){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;c=a("../../engine/Command"),d=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return e(b,a),b}(c),d.Number=function(a){function b(a){var b;return b=parseFloat(a),b===a?b:void 0}return e(b,a),b.prototype.type="Number",b.formatNumber=function(a){return a},b}(d),d.Integer=function(a){function b(a){var b;return b=parseInt(a),String(b)===String(a)?b:void 0}return e(b,a),b.prototype.type="Integer",b}(d),d.String=function(a){function b(a){return"string"==typeof a?a:void 0}return e(b,a),b.prototype.type="String",b}(d),d.Strings=function(a){function b(a){return"string"==typeof a||a instanceof Array?a:void 0}return e(b,a),b.prototype.type="Strings",b}(d),d.Size=function(a){function b(a){var b;return"string"==typeof a&&(null!=(b=d.Size.Keywords)?b[a]:void 0)?a:void 0}return e(b,a),b.prototype.type="Size",b.Keywords={medium:"medium","xx-small":"xx-small","x-small":"x-small",small:"small",large:"large","x-large":"x-large","xx-large":"xx-large",smaller:"smaller",larger:"larger"},b}(d),d.Position=function(a){function b(a){var b;return"string"==typeof a&&(null!=(b=d.Position.Keywords)?b[a]:void 0)?a:void 0}return e(b,a),b.prototype.type="Position",b.Keywords={top:"top",bottom:"bottom",left:"left",right:"right"},b}(d),d.Property=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return e(b,a),b.prototype.type="Property",b.prototype.Property=function(a){return this.properties[a]?a:void 0},b}(d),b.exports=d},{"../../engine/Command":29}],28:[function(a,b){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;c=a("../../engine/Command"),d=function(a){function b(a){switch(typeof a){case"object":if(b[a[0]])return a}}return e(b,a),b.prototype.type="URL",b.define({url:function(){},src:function(){},canvas:function(){}}),b}(c),b.exports=d},{"../../engine/Command":29}],29:[function(a,b){var c,d=[].slice,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=function(){function a(b,c,d,e){var f,g;return(f=b.command)||(g=a.match(this,b,c,d,e),(f=g.instance)||(f=new g(b,this)),b.command=f,e&&(b.context=e),null!=f.key?f.push(b,e):(f.definition||g).instance=f,c||(f=a.descend(f,this,b))),f}var b,c;return a.prototype.type="Command",a.prototype.solve=function(a,b,c,d,e,f){var g,h,i;switch(h=b.domain||a,typeof(i=this.retrieve(h,b,c,d,e,f))){case"undefined":break;case"function":if(null==(c=i.call(this,a,b,c,d)))return;i=void 0;break;default:if(c.indexOf(this.PAIR)>-1||this.reference)return i}if(void 0===i){if(this.head)return this.jump(h,b,c,d,e,f);if(g=this.descend(h,b,c,d,e,f),g===!1)return;this.log(g,a,b,c,d),i=this.before(g,h,b,c,d,e,f),null==i&&(i=this.execute.apply(this,g)),(i=this.after(g,i,h,b,c,d,e,f))&&(c=this["continue"](h,b,c,d,e,f)),this.unlog(a,i)}return null!=i?this.ascend(a,b,c,d,i,e,f):void 0},a.prototype.descend=function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q;for(n=b.length-1+this.padding,g=Array(n),m=0,o=this.contextualize(g,a,b,c,d,e,f);++m<b.length;){if(e===m)h=f;else if(h=b[m],h instanceof Array&&(i=h.command||a.Command(h),h.parent||(h.parent=b),c&&e&&(j=this.connect(a,b,c,d,g,e)),h=i.solve(b.domain||a,h,j||c,d,void 0,f),void 0===h))return!1;g[this.permutation[m-1]+o]=h}if(k=null!=(q=this.extras)?q:this.execute.length-n,k>0)for(l=p=0;k>p;l=p+=1)g.push(arguments[l]);return g},a.prototype.ascend=function(a,b,c,d,e,f,g){var h,i,j,k,l;if(i=b.parent){if((h=b.domain)&&(k=i.domain)&&k!==h&&k!==a)return void this.transfer(b.domain,i,c,d,f,g,i.command);if((j=i.command)&&(l="function"==typeof j["yield"]?j["yield"](e,a,b,c,d,f):void 0)){if(l===!0)return;return l.command?l.command.solve(l.domain||a,l,c,d,-1,e):l}if(f>-1)return j.solve(i.domain||a,i,c,d,i.indexOf(b),e)}return e},a.prototype.contextualize=function(a,b,c,d,e,f,g){var h,i,j;return-1===f&&null!=g?(a[0]=g,1):(i=c.context)?(j=(h=i.command).key&&"retrieve"||"solve",a[0]=h[j](i.domain||b,i,d,e),1):0},a.match=function(b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q;for(j=-1,l=c.length;++j<l;){if(h=c[j],q=typeof h,"object"===q)if(h.push)null==h.parent&&(h.parent=c),i=(h.domain||b).Command(h,c,j,k),p=i.type,j?k&&(k=h):(g=i.Sequence)?k=h:g=a.Sequence;else if(j)p=this.typeOfObject(h);else{if(m=this.typeOfObject(h),!(o=b.signatures[m.toLowerCase()]))return this.uncallable(m.toLowerCase(),c,b);if(!(p=f&&f.command.type))continue}else if(j)p=this.types[q];else{if("number"===q){if(!(o=b.signatures.number))return this.uncallable("number",c,b)}else if(!(o=b.signatures[h])&&!(g=b.Default))return this.uncallable(h,c,b);if(!(p=null!=f?f.command.type:void 0))continue}if(o)if(n=o[p]||o.Any)o=n;else if(!g&&!(g=o.Default||b.Default))return this.unexpected(p,c,o,b)}return(i=g||(null!=o?o.resolved:void 0)||b.Default)?i:this.unexpected("end of arguments",c,o,b)},a.uncallable=function(a,b,c){throw new Error("["+c.displayName+"] Undefined command: `"+a+"` called as `"+this.prototype.toExpression(b)+"`")},a.unexpected=function(a,b,c,d){var e,f;e=[];for(f in c)"resolved"!==f&&e.push(f);throw new Error(e.length?"["+d.displayName+"] Unexpected argument: `"+a+"` in `"+this.prototype.toExpression(b)+"` expected "+e.join(", "):"["+d.displayName+"] Too many arguments: got `"+a+"` in `"+this.prototype.toExpression(b)+"`")},a.descend=function(b,c,d){var e,f,g,h,i,j,k,l,m,n;if(e=b.advices)for(k=0,m=e.length;m>k;k++)if(j=e[k],(h=j.prototype).condition){if(i=h.condition(c,d,b)){i!==!0&&(j=i),(b=j.instance)||(b=new j(d)),d.command=b,null==b.key&&(j.instance=b);break}}else j(c,d,b);for(l=0,n=d.length;n>l;l++)f=d[l],(g=f.command)&&a.descend(g,c,f);return b},a.prototype["continue"]=function(a,b,c){return c},a.prototype.before=function(){},a.prototype.after=function(a,b){return b},a.prototype.log=function(a,b,c,d,e,f){return b.console.push(f||c[0],a,d||"")},a.prototype.unlog=function(a,b){return a.console.pop(b)},a.prototype.patch=function(a,b,c,d,e){var f,g;return g=this.sanitize(a,b,void 0,e),g.parent.command.boundaries||(g=g.parent),f=e||a,g.domain!==f&&g.command?g.command.transfer(f,g,c,d,void 0,void 0,g.command,e):void 0},a.prototype.transfer=function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p;if((j=this.getMeta(b))&&!a.finalized)for(l in b.variables)null!=(m=(h||a).values[l])?(j.values||(j.values={}))[l]=m:(null!=(n=j.values)?n[l]:void 0)&&delete j.values[l];if(g){for(k=b;(null!=(o=k.parent)?o.domain:void 0)===k.domain&&!k.parent.command.boundaries;)b=k,k=k.parent;return(i=k.domain)||(i=null!=(p=k.command.domains)?p[k.indexOf(b)]:void 0)&&(i=a[i]),a.updating.push([k],i)}},a.prototype.getMeta=function(a){var b;for(b=a;b=b.parent;)if(null!=b[0].key)return b[0]},a.prototype.connect=function(a,b,c,d,e,f){return null!=f&&c[c.length-1]!==this.DESCEND?this.delimit(c,this.PAIR):void 0},a.prototype.rewind=function(a,b,c){return this.getPrefixPath(a,c)},a.prototype.fork=function(a,b,c){return this.delimit(b+a.identify(c),this.ASCEND)},a.prototype.jump=function(){},a.prototype.retrieve=function(){},a.prototype.permutation=function(){for(c=[],b=0;640>b;b++)c.push(b);return c}.apply(this),a.prototype.padding=0,a.prototype.extras=void 0,a.prototype.toExpression=function(a){var b,c,d,e,f,g,h,i,j,k;switch(typeof a){case"number":return a;case"string":return'"'+a+'"'}if("string"==typeof(c=a[0])){if("get"===c)return 2===a.length?a[1]:a[1].command.path+"["+a[2]+"]";if(c.match(/^[a-zA-Z]/)){for(c+="(",b=d=1,f=a.length;f>d;b=d+=1)b>1&&(c+=", "),c+=this.toExpression(null!=(g=a[b])?g:"");return c+")"}return this.toExpression(null!=(h=a[1])?h:"")+c+this.toExpression(null!=(i=a[2])?i:"")}for(c="",b=e=0,j=a.length;j>e;b=e+=1)b&&(c+=", "),c+=this.toExpression(null!=(k=a[b])?k:"");return c},a.prototype.sanitize=function(a,b,c,d){var e,f,g,h;if(c!==!1)for(g=0,h=b.length;h>g;g++)if(e=b[g],c!==e&&e.push&&(null!=e?e.domain:void 0)===a){if("get"===e[0])return c;this.sanitize(a,e,!1,d)}return b.domain=b.command=void 0,d&&(b.domain=d,d.Command(b)),c!==!1&&(f=b.parent)&&f.domain===a&&!f.command.boundaries?this.sanitize(a,f,b,d):b},a.prototype.ASCEND=String.fromCharCode(8593),a.prototype.PAIR=String.fromCharCode(8594),a.prototype.DESCEND=String.fromCharCode(8595),a.prototype.DELIMITERS=[8593,8594,8595],a.prototype.delimit=function(a,b){return null==b&&(b=""),a?this.DELIMITERS.indexOf(a.charCodeAt(a.length-1))>-1?a.substring(0,a.length-1)+b:a+b:a},a.prototype.getRoot=function(a){for(;"Default"!==a.command.type;)a=a.parent;return a},a.extend=function(b,c){var d,e,f,g,h;((d=this.prototype.constructor)===a||0===d.length)&&(d=void 0),e=function(){return d?d.apply(this,arguments):void 0},e.__super__=this,f=function(){},f.prototype=this.prototype,e.prototype=new f,e.prototype.definition=e,e.extend=a.extend,e.define=a.define;for(g in b)h=b[g],e.prototype[g]=h;return c&&e.define(c),e},a.define=function(b,c){var d,e;if(c)"function"==typeof c&&(c={execute:c}),this[b]=this.extend(c);else for(d in b)e=b[d],a.define.call(this,d,e)},a.types={string:"String",number:"Number",object:"Object"},a.typeOfObject=function(a){return a.nodeType?"Node":a.push?"List":"Object"},a.orphanize=function(a){var b,c,d;for(a.domain&&(a.domain=void 0),a.variables&&(a.variables=void 0),c=0,d=a.length;d>c;c++)b=a[c],(null!=b?b.push:void 0)&&this.orphanize(b);return a},a.compile=function(b,c){var d,e,f,g,h,i,j,k,l;if(c){if(!((b.compiled||(b.compiled=[])).indexOf(c)>-1)){b.compiled.push(c),d=c.types={};for(g in c)i=c[g],g.match(/^[A-Z]/)&&(null!=i?i.prototype:void 0)instanceof a&&(d[g]=i,this.compile(b,i));for(g in c)if(i=c[g],i!==a[g]&&"__super__"!==g&&(null!=i?i.prototype:void 0)instanceof a&&!g.match(/^[A-Z]/)&&(this.register(b.signatures,g,i,d),b.helps&&((j=b.engine)[g]||(j[g]=this.Helper(b,g)),e=i.prototype.helpers)))for(k=0,l=e.length;l>k;k++)f=e[k],b.engine[f]=b.engine[g];return this.Types=d,this}}else for(g in b)i=b[g],null!=(h=null!=i?i.prototype:void 0)&&h instanceof a&&g.match(/^[A-Z]/)&&this.compile(b,i)},a.Helper=function(b,c){var e,f,g;return f=b.signatures[c],e=[c],null!=(g=b.engine)[c]?g[c]:g[c]=function(){var f,g,h,i,j,k,l,m,n,o,p,q,r;if(g=Array.prototype.slice.call(arguments),h=a.match(b,e.concat(g)).prototype,!(l=h.constructor.__super__))return b.engine.solve([c].concat(d.call(arguments)));if(k=h.padding,h.hasOwnProperty("permutation")){for(k+=(m=h.permutation).length,n=[],j=p=0,q=g.length;q>p;j=++p)f=g[j],n[m[j]]=f;g=n}return k>g.length&&(g.length=k),(i=null!=(r=h.extras)?r:h.execute.length)&&(g.push(b),i>1&&(g.push(g),i>2&&(g.push(""),i>3&&g.push(b.scope))),null!=(o=h.execute.apply(h,g)))?(h.ascend!==l.ascend&&h.ascend(b,g,"",b.scope,o),o):void 0}},a.sign=function(a,b){var c,d,e,f,g,h;if(e=a.signed)return e;if(a.signed=f=[],c=b.signature)this.get(a,f,c);else if(c===!1)f.push(["default"]);else if(d=b.signatures)for(g=0,h=d.length;h>g;g++)c=d[g],this.get(a,f,c);return f},a.permute=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;if(g=Object.keys(a),!b)return g;for(i=Object.keys(a),c=[],e=j=0,m=b.length;m>j;e=++j)h=b[e],null!==h&&(c[h]=g[e]);for(d=k=p=b.length,q=g.length;q>k;d=k+=1)for(f=l=0,r=g.length;r>l;f=l+=1)if(null==c[f]){c[f]=g[d];break}for(o=0,n=c.length;n>o;o++)if(a=c[o],void 0===a)return;return c},a.getPermutation=function(a,b){var c,d,e,f,g,h;for(e=[],d=f=0,h=a.length;h>f;d=++f)c=a[d],null!==c&&(e[c]=b[d]);for(d=g=e.length-1;g>=0;d=g+=-1)c=e[d],null==c&&e.splice(d,1);return e},a.getPositions=function(a){var b,c,d,e,f,g,h;for(d=[],c=f=0,h=a.length;h>f;c=++f)e=a[c],null!=e&&(d[e]=c);for(c=g=d.length-1;g>=0;c=g+=-1)b=d[c],null==b&&d.splice(c,1);return d},a.getProperties=function(a){var b,c,d,e,f,g,h,i,j;if(e=a.properties)return e;for(a.properties=e=[],g=0,i=a.length;i>g;g++)if(c=a[g],c.push)for(h=0,j=c.length;j>h;h++){b=c[h];for(f in b)d=b[f],e.push(d)}else for(f in c)d=c[f],e.push(d);return e},a.generate=function(a,b,c,d,e){var f,g,h,i,j,k,l,m;for(d?f=d.length:(d=[],a.push(d),f=0);void 0===(i=c[f])&&f<c.length;)f++;if(f===c.length)d.length=e,d.push(b);else for(m=c[f],g=k=0,l=m.length;l>k;g=++k)j=m[g],0===g?d.push(j):(h=a.indexOf(d),d=d.slice(0,f),d.push(j),a.push(d)),this.generate(a,b,c,d,e);return a},a.write=function(a,b,c){var d,e,f,g,h,i,j,k,l,m;for(e=j=0,k=c.length;k>=0?k>j:j>k;e=k>=0?++j:--j)"default"===(d=c[e])?b.Default=a:(f=c.length-1,void 0!==d&&f>e?b=b[d]||(b[d]={}):(i=a.extend({permutation:c[f],padding:f-e,definition:a}),(h=b.resolved)?(g=h.prototype,i.prototype.condition?(g.hasOwnProperty("advices")||(g.advices=(null!=(l=g.advices)?l.slice():void 0)||[],g.condition&&g.advices.push(h)),g.advices.push(i)):g.condition&&(i.prototype.advices=(null!=(m=g.advices)?m.slice():void 0)||[h],b.resolved=i)):b.resolved=i))},a.register=function(a,b,c,d){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;k=a[b]||(a[b]={});for(m in d)if(l=d[m],(j=c.prototype)&&((h=j[m])||(i=l.prototype.kind)&&("auto"===i||(h=j[i])))){f=l.extend();for(b in j)e.call(j,b)&&(n=j[b],f.prototype[b]=n);if("object"==typeof h)for(b in h)n=h[b],f.prototype[b]=n;else h&&(f.prototype.execute=h);for(s=this.sign(l,f.prototype),o=0,q=s.length;q>o;o++)g=s[o],this.write(f,k,g)}for(t=this.sign(c,c.prototype),p=0,r=t.length;r>p;p++)g=t[p],this.write(c,k,g)},a.get=function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;d||(d=[]),i=d.length;a:for(o=0,r=c.length;r>o;o++)if(f=c[o],f.push)for(k=p=0,s=f.length;s>p;k=++p){m=f[k],j=0,h=f;for(n in m){if(!i){if(f=m,!(l=this.permute(f,e)))return;g=f[n];break a}i--,j++}}else{j=void 0;for(n in f){if(!i){g=f[n];break a}i--}}if(!g)return void this.generate(b,this.getPositions(d),this.getPermutation(d,this.getProperties(c)),void 0,d.length);if(l&&null!=j){for(e||(e=[]),i=q=0,t=l.length;t>q;i=q+=1)-1===e.indexOf(i)&&this.get(a,b,c,d.concat(d.length-j+i),e.concat(i));return void this.get(a,b,c,d.concat(null),e.concat(null))}return this.get(a,b,c,d.concat(d.length))},a}(),c.Sequence=function(a){function b(){}return f(b,a),b.prototype.descend=function(a,b,c,d){var e,f,g,h,i,j;for(g=i=0,j=b.length;j>i;g=i+=1)if(e=b[g],e.parent||(e.parent=b),(f=e.command||a.Command(e))&&(h=f.solve(a,e,c,d,-1,h),void 0===h))return;return[h,a,b,c,d]},b.prototype.log=function(){},b.prototype.unlog=function(){},b.prototype.execute=function(a){return a},b.prototype["yield"]=function(a,b,c,d,e,f,g){var h,i;return i=c.parent,(h=i[i.indexOf(c)+1])?null!=c.command.key?h:void 0:(i=c.parent,i.parent?(this.ascend(b,i,d,e,a,i.parent.indexOf(i),g),!0):a)},b}(c),c.List=function(a){function b(){}return f(b,a),b.prototype.type="List",b.prototype.condition=function(a,b){var c;return(c=b.parent)?c.command.List||c[0]===!0:!b[0].command.Sequence},b.prototype.extras=0,b.prototype.boundaries=!0,b.prototype.execute=function(){},b.prototype["yield"]=function(){return!0},b.prototype.descend=function(a,b,c,d){var e,f,g,h,i;for(g=h=0,i=b.length;i>h;g=++h)e=b[g],(null!=e?e.push:void 0)&&(e.parent||(e.parent=b),(f=e.command||a.Command(e))&&f.solve(a,e,c,d))},b}(c.Sequence),c.Sequence.prototype.advices=[c.List],c.Default=function(a){function b(){}return f(b,a),b.prototype.type="Default",b.prototype.extras=2,b.prototype.execute=function(){var a,b,c,e;return a=3<=arguments.length?d.call(arguments,0,e=arguments.length-2):(e=0,[]),b=arguments[e++],c=arguments[e++],a.unshift(c[0]),a},b}(c),c.Object=function(a){function b(){}return f(b,a),b}(c),c.Meta=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return f(b,a),b.prototype.type="Meta",b.prototype.signature=[{body:["Any"]}],b.prototype.execute=function(a){return a},b}(c),b.exports=c},{}],30:[function(a,b){var c,d={}.hasOwnProperty;c=function(){function a(a){return this.signatures={},a&&this.merge(a),this.url&&this.useWorker(this.url),this.events!==this.engine.events&&this.addListeners(this.events),this.Properties?(this.properties=new this.Properties(this),this.Property.compile(this.properties,this)):this.properties={},this}return a.prototype.strategy=void 0,a.prototype.setup=function(){return this.hasOwnProperty("values")?void 0:(this.values={},this.construct())},a.prototype.construct=function(){return this.watchers={},this.watched={}},a.prototype.solve=function(a,b,c,d,e){var f,g,h,i,j;return i=this.transact(),"object"==typeof a&&(h=a instanceof Array?this.Command(a).solve(this,a,b||"",c||this.scope,d,e):this.data.merge(a)),(this.constrained||this.unconstrained)&&(f=this.Constraint.prototype.split(this),this.Constraint.prototype.reset(this)),"object"!=typeof h&&(h=null!=(j=this.perform)?j.apply(this,arguments):void 0)&&(h=this.apply(h)),f&&this.update(f),i&&(g=this.commit()),h||g},a.prototype.watch=function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p;return this.setup(),j=this.getPath(a,b),l=this.get(j),-1===this.indexOfTriplet(this.watchers[j],c,d,e)&&(i=(n=this.watched)[d]||(n[d]=[]),i.push(c,j,e),m=(o=this.watchers)[j]||(o[j]=[]),m.push(c,d,e),this.subscribe&&3===m.length&&(g=j.indexOf("["))>-1&&(f=j.substring(0,g),h=(p=this.subscribers||(this.subscribers={}))[f]||(p[f]={}),k=j.substring(g+1,j.length-1),h[k]=!0,this.subscribe(f,k,j))),l},a.prototype.unwatch=function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o;return l=this.getPath(a,b),j=this.watched[d],g=this.indexOfTriplet(j,c,l,e),j.splice(g,3),j.length||delete this.watched[d],n=this.watchers[l],g=this.indexOfTriplet(n,c,d,e),n.splice(g,3),!n.length&&(delete this.watchers[l],this.subscribe&&(h=l.indexOf("["))>-1&&(f=l.substring(0,h),i=(o=this.subscribers)[f]||(o[f]={}),m=l.substring(h+1,l.length-1),k=i[m],delete i[m],this.updating&&(this.transact(),this.changes[l]=null,this.updating.domains.indexOf(this)>this.updating.index||this.updating.apply(this.changes)),this.unsubscribe(f,m,l),!Object.keys(i).length&&(delete this.subscribers[f],!Object.keys(this.subscribers).length)))?this.subscribers=void 0:void 0;

},a.prototype.get=function(a,b){return this.values[this.getPath(a,b)]},a.prototype.merge=function(b){if(b&&!b.push){if(b instanceof a)return;return this.updating?this.merger(b):this.engine.solve(this.displayName||"GSS",this.merger,b,this)}},a.prototype.merger=function(a,b){var c,d,e,f;null==b&&(b=this),e=b.transact(),c=!1;for(d in a)f=a[d],b.set(void 0,d,f);return e?b.commit():void 0},a.prototype.set=function(a,b,c){var d,e;return e=this.getPath(a,b),d=this.values[e],d!==c?(this.transact(),this.changes[e]=null!=c?c:null,null!=c?this.values[e]=c:delete this.values[e],this.updating?this.callback(e,c):this.engine.solve(this.displayName||"GSS",function(a){return a.callback(e,c)},this),c):void 0},a.prototype.callback=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;if(l=null!=(u=this.watchers)?u[a]:void 0)for(e=o=0,r=l.length;r>o&&(k=l[e],k);e=o+=3)c=k.command,c.deferred?this.Query.prototype.defer(this,k,l[e+1],l[e+2]):null!=b?k.command.solve(this,k,l[e+1],l[e+2],!0):k.command.patch(this,k,l[e+1],l[e+2]);if(!this.immutable){if(!(this instanceof this.Solver)&&(j=this.variables[a]))for(v=j.constraints,p=0,s=v.length;s>p;p++)for(d=v[p],w=d.operations,q=0,t=w.length;t>q;q++)g=w[q],(f=g.variables[a])&&f.domain&&f.domain.displayName!==this.displayName&&(l&&-1!==l.indexOf(f)||(f.command.patch(f.domain,f,void 0,void 0,this),f.command.solve(this,f)));if(n=this.workers)for(h in n)m=n[h],(i=m.values)&&i.hasOwnProperty(a)&&this.updating.push([["value",a,null!=b?b:null]],m)}},a.prototype.toObject=function(){var a,b,c;a={};for(b in this)d.call(this,b)&&(c=this[b],"engine"!==b&&"observers"!==b&&"watchers"!==b&&"values"!==b&&(a[b]=c));return a},a.prototype.compile=function(){return this.Command.compile(this)},a.prototype.add=function(a,b){var c,d;c=(d=this.paths||(this.paths={}))[a]||(d[a]=[]),c.push(b)},a.prototype.transform=function(a){var b,c,d,e,f,g,h,i;if(null==a&&(a={}),b=this.nullified,d=this.replaced,this.declared){g=this.declared;for(c in g)f=g[c],e=null!=(h=f.value)?h:0,this.values[c]!==e&&"%"!==c.charAt(0)&&(null==a[c]&&(a[c]=e),this.values[c]=e);this.declared=void 0}if(this.replaced=void 0,b){for(c in b)f=b[c],"%"!==c.charAt(0)&&(a[c]=null!=(i=this.data.values[c])?i:null),this.nullify(f);this.nullified=void 0}return a},a.prototype.apply=function(a){var b,c,d,e,f;e={},b=this.nullified,d=this.replaced;for(c in a)f=a[c],(null!=b?b[c]:void 0)||(null!=d?d[c]:void 0)||"%"===c.charAt(0)||(e[c]=f);return e=this.transform(e),this.merge(e,!0),e},a.prototype.register=function(a){var b,c;if(null==a&&(a=this.constraints),b=this.engine.domains,null!=a?a.length:void 0){if(-1===b.indexOf(this))return b.push(this)}else if((c=b.indexOf(this))>-1)return b.splice(c,1)},a.prototype.remove=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m;for(g=0,j=arguments.length;j>g;g++){if(f=arguments[g],this.watched)for(l=this.Query.prototype.getVariants(f)||[f],h=0,k=l.length;k>h;h++)if(a=l[h],c=this.watched[a])for(;c[0];)this.unwatch(c[1],void 0,c[0],a,c[2]);if(e=null!=(m=this.paths)?m[f]:void 0)for(b=i=e.length-1;i>=0;b=i+=-1)d=e[b],d.command.remove(this,d,f)}},a.prototype["export"]=function(a){var b,c,d,e,f,g,h,i;if(a||(a=this.constraints)){for(d=[],f=0,h=a.length;h>f;f++)if(b=a[f],e=b.operations)for(g=0,i=e.length;i>g;g++)c=e[g],d.push(c.parent);return d}},a.prototype.transfer=function(a,b){var c,d;if(b&&b.perform(this),a&&a.perform(this),this.updating.perform(this),this.unconstrained&&(this.Constraint.prototype.reset(this),this.register()),this.nullified){d={};for(c in this.nullified)(d||(d={}))[c]=null;return this.updating.apply(d)}},a.prototype.maybe=function(){var a;return this.Maybe||(a=function(){},a.prototype=this,this.Maybe=function(){},this.Maybe.prototype=new a),new this.Maybe},a.prototype.transact=function(){return this.changes?void 0:(this.setup(),this.changes={})},a.prototype.commit=function(){var a,b;if(a=this.changes){this instanceof this.Solver&&this.register(),this.changes=void 0;for(b in a)return a}},a.compile=function(b){var c,d,e,f,g,h,i;for(f in b)if(e=b[f],e.prototype&&e.prototype instanceof a){c=b[f]=function(a){return e.prototype.constructor.call(this,void 0,void 0,a)},d=function(){},d.prototype=b,c.prototype=new d,c.prototype.engine=b,c.prototype.displayName=f,i=e.prototype;for(g in i)h=i[g],c.prototype[g]=h;b[f.toLowerCase()]=new c}return this},a.prototype.Property=function(a,b,c){var d,e,f,g,h,i,j;if("object"==typeof a){if(a.push)return c[b]=this.Style(a,b,c);for(e in a)i=a[e],(d=b.indexOf("["))>-1?(g=b.replace("]","-"+e+"]"),f=b.substring(0,d),h=g.substring(d+1,g.length-1),(j=c[f])[h]||(j[h]=this.Property(i,g,c))):g=b.match(/^[a-z]/i)?b+"-"+e:b+"["+e+"]",c[g]=this.Property(i,g,c)}return a},a.prototype.Property.compile=function(a,b){var c,d;for(c in a)d=a[c],"engine"!==c&&this.call(b,d,c,a);return a},a}(),b.exports=c},{}],31:[function(a,b){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;c=a("./Command"),d=function(a){function b(a){this.key=this.path=this.serialize(a)}return e(b,a),b.prototype.type="Query",b.prototype.ascend=function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q;if(j=b.parent){if(!this.isCollection(e))return(k="function"==typeof(m=j.command)["yield"]?m["yield"](e,a,b,c,d,f,g):void 0)?null!=(q=k.command)?q.solve(k.domain||a,k,c,d,-1,e):void 0:null==f&&this.hidden&&this.reference?e:j.command.solve(a,j,c,d,j.indexOf(b),e);for(n=0,o=e.length;o>n;n++)i=e[n],h=this.fork(a,c,i),(k="function"==typeof(l=j.command)["yield"]?l["yield"](i,a,b,h,d,f,g):void 0)?null!=(p=k.command)&&p.solve(k.domain||a,k,h,d,-1,i):j.command.solve(a,j,h,d,j.indexOf(b),i)}},b.prototype.serialize=function(a){var b,c,d,e,f,g,h,i;for(g=null!=this.prefix?this.prefix:a[0],"object"==typeof a[1]&&(f=2),e=a.length,d=h=i=f||1;e>=i?e>h:h>e;d=e>=i?++h:--h)(b=a[d])&&((c=b.command)?g+=c.key:(g+=b,e-1>d&&(g+=this.separator)));return this.suffix&&(g+=this.suffix),g},b.prototype.push=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;for(b&&this.inherit(b.command,g),f=k=1,p=a.length;p>=1?p>k:k>p;f=p>=1?++k:--k)(d=null!=(q=a[f])?q.command:void 0)&&(g=this.inherit(d,g));if(j=this.tags)for(e=l=0,o=j.length;o>l;e=++l){for(i=j[e],b&&(d=b.command)&&(null!=(r=d.tags)?r.indexOf(i):void 0)>-1&&this.checkers[i](this,d,a,b,g)&&(g=this.mergers[i](this,d,a,b)),h=!0,f=m=1,s=a.length;s>=1?s>m:m>s;f=s>=1?++m:--m)if((d=null!=(t=c=a[f])?t.command:void 0)&&!((null!=(u=d.tags)?u.indexOf(i):void 0)>-1&&this.checkers[i](this,d,a,c,g))){h=!1;break}if(h)for(g=!1,f=n=1,v=a.length;v>=1?v>n:n>v;f=v>=1?++n:--n)(d=null!=(w=c=a[f])?w.command:void 0)&&(g=this.mergers[i](this,d,a,c,g))}return this},b.prototype.inherit=function(a,b){var c;return a.scoped&&(this.scoped=a.scoped),(c=a.path)&&(b?this.path+=this.separator+c:this.path=c+this.path),!0},b.prototype["continue"]=function(a,b,c){return null==c&&(c=""),c+this.getKey(a,b,c)},b.prototype.jump=function(a,b,c,d,e,f){var g,h,i;return g=this.tail,null!=(null!=(h=g[1])&&null!=(i=h.command)?i.key:void 0)&&null==e&&c.lastIndexOf(this.PAIR)===c.indexOf(this.PAIR)?g[1].command.solve(a,g[1],c,d):this.perform(a,this.head,c,d,e,f)},b.prototype.prepare=function(){},b.prototype.mergers={},b.prototype.checkers={},b.prototype.before=function(a,b,c,d,e){var f,g,h,i,j,k,l;return g=1===(null!=(i=a[0])?i.nodeType:void 0)?a[0]:e,h=this.getGlobalPath(b,c,d,g),f=(null!=(j=b.updating.aliases)?j[h]:void 0)||h,(null!=(k=b.updating.queries)?k.hasOwnProperty(f):void 0)?b.updating.queries[f]:null!=(l=b.updating.queries)?l[h]:void 0},b.prototype.after=function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;if(s=c.updating,n=1===(null!=(y=a[0])?y.nodeType:void 0)?a[0]:f,p=this.getLocalPath(c,d,e,n),this.relative||(q=this.getGlobalPath(c,d,e,n),i=s.aliases||(s.aliases={}),(!(h=i[q])||h.length>p.length||!(null!=(z=s.queries)?z.hasOwnProperty(h):void 0))&&(i[q]=p)),o=this.get(c,p),k=d.command,(s.queries||(s.queries={}))[p]=b,(null!=(A=s.collections)?A.hasOwnProperty(p):void 0)?o=s.collections[p]:null==o&&b&&0===b.length&&e&&(o=this.getCanonicalCollection(c,p)),m=this.isCollection(b),o)if(this.isCollection(o))for(r=void 0,l=u=0,w=o.length;w>u;l=++u)j=o[l],o.scopes&&(null!=(B=o.scopes)?B[l]:void 0)!==f||b&&-1!==Array.prototype.indexOf.call(b,j)||(r||(r=[])).push(j);else{if(b===o)return;b||(r=o),this.clean(c,p,void 0,d,f)}if(m){for((t=c.queries)[p]||(t[p]=[]),g=void 0,v=0,x=b.length;x>v;v++)j=b[v],o&&-1!==Array.prototype.indexOf.call(o,j)||((g||(g=[])).push(j),g.isCollection=!0);b&&b.item&&(b=Array.prototype.slice.call(b,0))}else g=b,r=o;return this.write(c,d,e,f,n,p,b,o,g,r)&&this.set(c,p,b),g},b.prototype.write=function(a,b,c,d,e,f,g,h,i,j){return(null!=g?g.continuations:void 0)?this.reduce(a,b,f,d,void 0,void 0,void 0,c):this.reduce(a,b,f,d,i,j,void 0,c),this.subscribe(a,b,c,d,e),this.snapshot(a,f,h),g!==h?!(null!=g?g.push:void 0):void 0},b.prototype.subscribe=function(a,b,c,d,e){var f,g,h,i;return f=a.identify(e),g=(h=a.engine.observers)[f]||(h[f]=[]),-1===a.indexOfTriplet(g,b,c,d)?("function"==typeof(i=b.command).prepare&&i.prepare(b),g.push(b,c,d)):void 0},b.prototype.commit=function(a){var b,c,d,e,f,g,h,i,j,k,l,m;if(h=a.updating.mutations){for(a.console.start("Queries",h.slice()),f=0;h[f];)k=h.splice(0,3),a.input.solve(k[0],k[1],k[2]);a.updating.mutations=void 0,a.console.end()}if(d=a.updating.deferred){for(f=0,a.console.start("Deferred",d);d[f];){if(c=d[f+1],b=this.get(a,c),j=d[f],j.command.singular)j.command.solve(a.input,j,c,d[f+2],!0);else{if(i=null!=(m=a.updating.collections)?m[c]:void 0)for(b=b.slice(),b.isCollection=!0,e=l=b.length-1;l>=0;e=l+=-1)g=b[e],i.indexOf(g)>-1&&b.splice(e,1);(null!=b?b.length:void 0)&&j.command.ascend(a.input,j,c,d[f+2],b)}f+=3}a.updating.deferred=void 0,a.console.end()}},b.prototype.add=function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;if(h=(p=a.queries)[c]||(p[c]=[]),h.push){if(h.isCollection=!0,m=h.continuations||(h.continuations=[]),n=h.paths||(h.paths=[]),o=h.scopes||(h.scopes=[]),a.pairs[c]&&(((q=a.updating).pairs||(q.pairs={}))[c]=!0),this.snapshot(a,c,h),-1===(l=h.indexOf(b))){for(l=r=0,t=h.length;t>r&&(k=h[l],this.comparePosition(k,b,m[l],f));l=++r);return h.splice(l,0,b),m.splice(l,0,f),n.splice(l,0,g),o.splice(l,0,e),this.chain(a,h[l-1],b,c),this.chain(a,b,h[l+1],c),"rule"===d.parent[0]&&null!=(v=a.Stylesheet)&&v.match(a,b,c,!0),!0}if(o[l]!==e||n[l]!==g){for(j=h.duplicates||(h.duplicates=[]),l=s=0,u=j.length;u>s;l=++s)if(i=j[l],i===b&&o[l]===e&&n[l]===g)return;return j.push(b),m.push(f),n.push(g),void o.push(e)}return h}},b.prototype.get=function(a,b){return a.queries[b]},b.prototype.unobserve=function(a,b,c,d){var e,f,g,h,i,j,k,l;if("object"==typeof b)f=b,b=void 0;else if(!(f=a.observers[b]))return;for(c!==!0&&(h=this.getVariants(c)),e=0,l=[];j=f[e];)g=f[e+1],h&&-1===h.indexOf(g)?e+=3:(i=f[e+2],f.splice(e,3),null!=b?("function"==typeof(k=j.command).onClean&&k.onClean(a,j,g,j,i),this.clean(a,j,g,j,i,d),l.push(f.length?void 0:delete a.observers[b])):l.push(void 0));return l},b.prototype.snapshot=function(a,b,c){var d,e,f;if(!(e=(f=a.updating).collections||(f.collections={})).hasOwnProperty(b))return(null!=c?c.push:void 0)&&(d=c.slice(),c.isCollection&&(d.isCollection=!0),c.duplicates&&(d.duplicates=c.duplicates.slice()),c.scopes&&(d.scopes=c.scopes.slice()),c.continuations&&(d.continuations=c.continuations.slice()),c=d),e[b]=c},b.prototype.defer=function(a,b,c,d){var e;return(e=a.updating).deferred||(e.deferred=[]),-1===a.indexOfTriplet(a.updating.deferred,b,c,d)?a.updating.deferred.push(b,c,d):void 0},b.prototype.removeFromCollection=function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u;if(h=this.get(a,c),n=h.length,m=h.continuations,p=h.paths,r=h.scopes,j=null,q=this.getVariants(g),k=h.duplicates)for(l=s=0,t=k.length;t>s;l=++s)if(i=k[l],i===b){if(q.indexOf(p[n+l])>-1&&r[n+l]===e)return this.snapshot(a,c,h),k.splice(l,1),m.splice(n+l,1),p.splice(n+l,1),r.splice(n+l,1),!1;null==j&&(j=l)}if(d&&n&&null!=f&&(this.snapshot(a,c,h),(l=h.indexOf(b))>-1)){if(m){if(o=!1,r[l]!==e)return null;if(-1===q.indexOf(p[l]))return null;if(null!=j)return k.splice(j,1),p[l]=p[j+n],p.splice(j+n,1),m[l]=m[j+n],m.splice(j+n,1),r[l]=r[j+n],r.splice(j+n,1),!1}return h.splice(l,1),m&&(m.splice(l,1),p.splice(l,1),r.splice(l,1)),this.chain(a,h[l-1],b,c),this.chain(a,b,h[l],c),"rule"===d.parent[0]&&null!=(u=a.Stylesheet)&&u.match(a,b,c,!1),!0}},b.prototype.remove=function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o;return null==f&&(f=d),null==h&&(h=c),"object"==typeof b?(j=b,b=a.identify(b)):j=b.indexOf('"')>-1?b:a.identity[b],a.pairs[c]&&(((n=a.updating).pairs||(n.pairs={}))[c]=!0),i=this.get(a,c),i&&this.isCollection(i)&&(this.snapshot(a,c,i),m=this.removeFromCollection(a,j,c,d,e,f,h)),m!==!1&&(l=this.isCollection(i)?c+b:c,(k=null!=d?d.parent:void 0)&&"function"==typeof(o=k.command).release&&o.release(j,a,d,l,e),this.unobserve(a,b,l,l),g!==c&&(m!==!1&&this.reduce(a,d,c,e,g,j,c,h),m&&this.clean(a,c+b,void 0,void 0,j.scoped&&j.parentNode))),m},b.prototype.getKey=function(){return this.key||""},b.prototype.clean=function(a,b,c,d,e,f){var g,h,i;return null==f&&(f=c),(g=b.command)&&(b=(h=g.getKey(a,d,c))?c+h:this.delimit(c)),void 0!==(i=this.get(a,b))&&this.each(this.remove,a,i,b,d,e,d,!1,f),this.set(a,b,void 0),a.updating.mutations&&this.unobserve(a,a.updating.mutations,b),this.unobserve(a,a.identify(e||a.scope),b),i&&this.isCollection(i)||a.triggerEvent("remove",b),!0},b.prototype.chain=function(a,b,c,d){return b&&(this.match(a,b,":last","*",void 0,d),this.match(a,b,":next","*",void 0,d)),c?(this.match(a,c,":previous","*",void 0,d),this.match(a,c,":first","*",void 0,d)):void 0},b.prototype.reduce=function(a,b,c,d,e,f,g,h){var i;return i=this.getCanonicalPath(c),c!==i&&g!==i&&this.collect(a,b,i,d,e,f,i,c),this.collect(a,b,c,d,e,f,g,h||"")},b.prototype.collect=function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q,r;if(f&&this.each(this.remove,a,f,c,b,d,b,g,h),e&&this.each(this.add,a,e,c,b,d,b,h),null!=(q=i=this.get(a,c))?q.continuations:void 0){for(m=i.slice().sort(function(a){return function(b,c){var d,e;return d=i.indexOf(b),e=i.indexOf(c),a.comparePosition(b,c,i.continuations[d],i.continuations[e])&&-1||1}}(this)),n=void 0,r=[],k=o=0,p=m.length;p>o;k=++o)l=m[k],l!==i[k]?(n||(n=i.slice(),this.set(a,c,n),n.continuations=i.continuations.slice(),n.paths=i.paths.slice(),n.scopes=i.scopes.slice(),n.duplicates=i.duplicates,n.isCollection=i.isCollection,n[k]=l),j=i.indexOf(l),n[k]=l,n.continuations[k]=i.continuations[j],n.paths[k]=i.paths[j],n.scopes[k]=i.scopes[j],this.chain(a,m[k-1],l,c),r.push(this.chain(a,l,m[k+1],c))):r.push(void 0);return r}},b.prototype.each=function(a,b,c,d,e,f,g,h,i){var j,k,l,m,n;if(null==c&&(c=void 0),this.isCollection(c)){for(k=c.slice(),l=void 0,m=0,n=k.length;n>m;m++)j=k[m],a.call(this,b,j,d,e,f,g,h,i)&&(l=!0);return l}return c&&"number"!=typeof c?a.call(this,b,c,d,e,f,g,h,i):void 0},b.prototype.set=function(a,b,c){var d,e,f,g,h;f=a.queries[b],this.snapshot(a,b,f),null!=c?a.queries[b]=c:a.queries.hasOwnProperty(b)&&(delete a.queries[b],a.updating.branching&&a.updating.branching.push(b)),b=this.getCanonicalPath(b),h=a.pairs;for(d in h)e=h[d],e.indexOf(b)>-1&&(((g=a.updating).pairs||(g.pairs={}))[d]=!0)},b.prototype.onLeft=function(a,b,c,d,e){var f;return f=this.getCanonicalPath(d),-1===a.indexOfTriplet(a.lefts,c,f,e)?(c.right=b,a.lefts.push(c,f,e),this.rewind):((a.pairing||(a.pairing={}))[f]=!0,this.nothing)},b.prototype.nothing=function(){},b.prototype.onRight=function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p;for(g=this.getCanonicalPath(d.substring(0,d.length-1)),p=a.lefts,h=n=0,o=p.length;o>n;h=n+=3)i=p[h],i===c&&a.lefts[h+2]===e&&(f=a.lefts[h+1],this.listen(a,b,d,e,f,g));return f?(f=this.getCanonicalPath(f),j=(l=a.pairs)[f]||(l[f]=[]),-1===j.indexOf(g)&&(k=j.push(g,b,e)),a.updating.pairs!==!1&&(((m=a.updating).pairs||(m.pairs={}))[f]=!0),this.nothing):void 0},b.prototype.retrieve=function(a,b,c,d,e,f){var g,h,i,j,k,l;if(i=c.lastIndexOf(this.PAIR),i>-1&&!b.command.reference){for(k=-1;(h=c.indexOf(this.PAIR,k+1))>-1;){if(l=this.retrieve(a,b,c.substring(k+1,h),d,e,f,!0))return l;k=h}if(i===c.length-1&&f)return j=this.getRoot(b),j.right&&j.right!==b?this.onRight(a,b,j,c,d,e,f):this.onLeft(a,b,j,c,d,e,f)}else{if(1===c.length)return;if(g=this.getCanonicalPath(c,!0),g.charAt(0)===this.PAIR&&(g=g.substring(1)),g===b.command.path)return this.getByPath(a,c)}},b.prototype.repair=function(a,b){var c,d,e,f,g,h,i,j,k;if(c=a.updating.pairs){a.console.start("Pairs",c),a.updating.pairs=!1;for(g in c)if(h=c[g],f=null!=(k=a.pairs[g])?k.slice():void 0)for(d=i=0,j=f.length;j>i;d=i+=3)e=f[d],this.pair(a,g,e,f[d+1],f[d+2],b);return a.updating.pairs=void 0,a.console.end()}},b.prototype.count=function(a){return(null!=a?a.push:void 0)?a.length:null!=a&&1||0},b.prototype.pad=function(a,b){var c,d,e;if(a&&!a.push){for(d=[],c=e=0;b>=0?b>e:e>b;c=b>=0?++e:--e)d.push(a);return d.single=!0,d}return(null!=a?a.splice:void 0)?a.slice():a||[]},b.prototype.restore=function(a,b){return a.updating.collections.hasOwnProperty(b)?a.updating.collections[b]:this.get(a,b)},b.prototype.fetch=function(a,b,c){return c?this.restore(a,b):this.get(a,b)},b.prototype.pair=function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K;for(w=this.getRoot(d),c=this.getPrefixPath(a,b)+w.right.command.path,f?(p=a.updating.queries.hasOwnProperty(b)?a.updating.queries[b]:this.restore(a,b),v=a.updating.queries.hasOwnProperty(c)?a.updating.queries[c]:this.restore(a,c)):(o=this.get(a,b),u=this.get(a,c),p=this.restore(a,b),v=this.restore(a,c)),d.command.singular&&((null!=o?o.push:void 0)&&(o=o[0]),(null!=p?p.push:void 0)&&(p=p[0])),w.right.command.singular&&((null!=u?u.push:void 0)&&(u=u[0]),(null!=v?v.push:void 0)&&(v=v[0])),g=Math.max(this.count(o),this.count(u)),h=Math.max(this.count(p),this.count(v)),o=this.pad(o,g),p=this.pad(p,h),u=this.pad(u,g),v=this.pad(v,h),t=[],i=[],n=y=0,C=p.length;C>y;n=++y)q=p[n],(o[n]!==q||v[n]!==u[n])&&(v&&v[n]&&t.push([q,v[n]]),o[n]&&u[n]&&i.push([o[n],u[n]]));if(p.length<o.length)for(n=z=J=p.length,K=o.length;K>z;n=z+=1)u[n]&&i.push([o[n],u[n]]);for(j=[],A=0,D=t.length;D>A;A++)s=t[A],s[0]&&s[1]&&(l=b,l+=a.identify(s[0]),l+=this.PAIR,l+=w.right.command.path,l+=a.identify(s[1]),j.push(l));for(x=[],B=0,E=i.length;E>B;B++)s=i[B],l=b,l+=a.identify(s[0]),l+=this.PAIR,l+=w.right.command.path,l+=a.identify(s[1]),(n=j.indexOf(l))>-1?j.splice(n,1):(r=d.parent,a.input.solve(r,l+this.PAIR,e,!0));for(H=0,F=j.length;F>H;H++)l=j[H],this.clean(a,l);for(k=!0,I=0,G=o.length;G>I;I++)if(m=o[I]){k=!1;break}return k?this.unpair(a,b,e,d):void 0},b.prototype.unpair=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y;if(m=null!=(x=a.pairs)?x[b]:void 0){for(p=[],q=this.getRoot(d),h=r=0,v=m.length;v>r;h=r+=3)j=m[h],m[h+2]===c&&this.getRoot(m[h+1])===q&&p.push(h);e=p.slice(),y=a.pairs;for(n in y)for(l=y[n],g=s=0,w=l.length;w>s;g=s+=3)for(k=l[g],i=t=e.length-1;t>=0;i=t+=-1)h=e[i],k!==m[h]||l===m&&c===l[g+2]||e.splice(i,1);for(u=p.length-1;u>=0;u+=-1)h=p[u],o=m[h],this.unlisten(a,c._gss_id,this.PAIR,null,o.substring(1),void 0,c,q),m.splice(h,3);m.length||delete a.pairs[b]}for(h=0;f=a.lefts[h+1];)f===b&&a.lefts[h+2]===c?a.lefts.splice(h,3):h+=3;return this},b.prototype.listen=function(a,b,c,d,e,f){var g,h;return g=(h=a.pairs)[e]||(h[e]=[]),-1===a.indexOfTriplet(g,f,b,d)?g.push(f,b,d):void 0},b.prototype.unlisten=function(a,b,c,d,e,f){var g,h,i;return h=(i=a.pairs)[e]||(i[e]=[]),-1!==(g=a.indexOfTriplet(h,f,b,d))?h.splice(g,3):void 0},b.prototype.getScope=function(a,b,c){var d,e,f,g;if(b){if(b!==a.scope)return b._gss_id||b}else if((d=c.lastIndexOf("$"))>-1){if((f=this.getScopePath(c,0))&&(g=this.getByPath(a,f))){if(g.scoped&&(e=a.getScopeElement(g.parentNode))===a.scope)return;return g._gss_id}if(g=a.scope)return g.gss_id}},b.prototype.getScopePath=function(a,b,c){var d,e;for(null==b&&(b=0),e=a.length-1,8594===a.charCodeAt(e)&&(e=a.lastIndexOf(this.DESCEND,e));;){if(-1===(d=a.lastIndexOf(this.DESCEND,e))&&b>-1)return"";if(64===a.charCodeAt(d+1)){if(c&&-1===b)break;++b}if(-1===b)break;e=d-1,--b}return a.substring(0,e+1)},b.prototype.getPrefixPath=function(a,b,c){var d;return null==c&&(c=0),(d=this.getScopePath(b,c,!0))?d+this.DESCEND:""},b.prototype.getParentScope=function(a,b,c,d){var e,f;return null==d&&(d=1),c?(e=this.getScopePath(c,d))?((f=this.getByPath(a,e))&&f.scoped&&(f=a.getScopeElement(f)),f):a.scope:b._gss_id},b.prototype.getByPath=function(a,b){var c,d,e;return(d=b.lastIndexOf("$"))>-1&&d>b.lastIndexOf(this.DESCEND)&&(c=b.substring(d),e=c.length-1,this.DELIMITERS.indexOf(c.charCodeAt(e))>-1&&(c=c.substring(0,e)),c.indexOf('"')>-1)?c:a.identity[c]||this.get(a,b)},b.prototype.getCanonicalPath=function(a,c){var d,e,f,g;return d=new RegExp("(?:@[^@"+this.DESCEND+"]+"+this.DESCEND+")+$","g"),f=this.delimit(a.replace(d,"")).split(this.DESCEND),g=f[f.length-1],e=b.RemoveForkMarks||(b.RemoveForkMarks=new RegExp("([^"+this.PAIR+",@])\\$[^["+this.ASCEND+"]+(?:"+this.ASCEND+"|$)","g")),g=f[f.length-1]=g.replace(e,"$1"),c?g:f.join(this.DESCEND)},b.prototype.getVariants=function(a){return[a,a+this.ASCEND,a+this.PAIR,a+this.DESCEND,a+this.DESCEND+"&"]},b.prototype.getCanonicalCollection=function(a,b){return a.queries[this.getCanonicalPath(b)]},b.prototype.getLocalPath=function(a,b,c){return this["continue"](a,b,c)},b.prototype.getGlobalPath=function(a,b,c,d){return a.identify(d)+" "+this.getKey(a,b,c,d)},b.prototype.comparePosition=function(a,b,c,d){var e,f,g,h,i,j,k;if(c!==d){for(j=c.parent,e=j.indexOf(c),g=j.indexOf(d),e>g?(h=d,k=c):(h=c,k=d),f=e;(i=j[++f])&&i!==k;)if("virtual"===i[0])return g>e;if(!a.nodeType||!b.nodeType)return g>e}return a.compareDocumentPosition?4&a.compareDocumentPosition(b):a.sourceIndex<b.sourceIndex},b.prototype.match=function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s;if((j=a.identify(b))&&(o=a.observers[j]))for(f&&(m=this.getCanonicalPath(f)),k=p=0,r=o.length;r>p;k=p+=3)if(l=o[k],i=l.command[c]){if(h=o[k+1],m&&m!==this.getCanonicalPath(h))continue;if(n=o[k+2],d)this.qualify(a,l,h,n,i,d);else if(e.nodeType)this.qualify(a,l,h,n,i,e.tagName,"*");else if("string"==typeof e)this.qualify(a,l,h,n,i,e,"*");else for(q=0,s=e.length;s>q;q++)g=e[q],"string"==typeof g?this.qualify(a,l,h,n,i,g,"*"):this.qualify(a,l,h,n,i,g.tagName,"*")}},b.prototype.qualify=function(a,b,c,d,e,f,g){var h;((h=e[f])||g&&e[g])&&this.schedule(a,b,c,d)},b.prototype.notify=function(a,b,c){var d,e,f,g,h;if(f=a.observers[a.identify(c)])for(d=g=0,h=f.length;h>g;d=g+=3)e=f[d],f[d+1]+e.command.key===b&&this.schedule(a,e,b,c)},b.prototype.continuate=function(a,b){var c,d,e,f,g,h,i;if(g=a.observers[a.identify(b)])for(d=h=0,i=g.length;i>h;d=h+=3)f=g[d],e=g[d+2],c=f.command["continue"](a,f,g[d+1],e),this.schedule(a,f,c,e)},b.prototype.uncontinuate=function(a,b){var c,d,e,f,g;if(e=a.observers[a.identify(b)])for(c=f=0,g=e.length;g>f;c=f+=3)d=e[c],this.clean(a,d,this.delimit(e[c+1]),d,e[c+2])},b.prototype.schedule=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o;for(i=(m=a.updating).mutations||(m.mutations=[]),h=(c||"").length,g=null,k=b.stylesheet,f=n=0,o=i.length;o>n;f=n+=3){if(l=i[f],e=i[f+1]||"",l===b&&c===e&&d===i[f+2])return;(j=k)?null!=g||this.comparePosition(j,k,b,b)||(g=f+3):e.length<h&&(g=f+3)}return i.splice(null!=g?g:0,0,b,c,d)},b.prototype.branch=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;if(d=a.updating.branches){for(a.console.start("Branches",d.slice()),a.updating.branches=void 0,h=a.updating.branching=[],e=k=0,n=d.length;n>k;e=k+=3)c=d[e],c.command.unbranch(a,c,d[e+1],d[e+2]);for(a.triggerEvent("branch"),g=(i=a.updating).queries||(i.queries={}),b=(j=a.updating).collections||(j.collections={}),this.repair(a,!0),a.updating.branching=void 0,l=0,o=h.length;o>l;l++)f=h[l],d.indexOf(f)>-1||(b&&delete b[f],g&&delete g[f],delete a.queries[f]);for(e=m=0,p=d.length;p>m;e=m+=3)c=d[e],c.command.rebranch(a,c,d[e+1],d[e+2]);return a.console.end()}},b.prototype.isCollection=function(a){if(a&&void 0!==a.length&&!a.substring&&!a.nodeType){if(a.isCollection)return!0;switch(typeof a[0]){case"object":return a[0].nodeType;case"undefined":return 0===a.length}}},b}(c),b.exports=d},{"./Command":29}],32:[function(a,b){var c,d,e=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};d=function(a){var b,c,d,e;if(b=function(a,c,d,e){var f,g,h,i,j,k,l,m;if(this instanceof b)return this.problems=a&&(c.push&&a||[a])||[],void(this.domains=c&&(c.push&&c||[c])||[]);for(j=void 0,"string"==typeof a[0]&&(this.solver.signatures[a[0]]||(e=this.output)),g=l=0,m=a.length;m>l;g=++l)f=a[g],(null!=f?f.push:void 0)&&(f[0]instanceof Array||(f.parent||(f.parent=a),"get"===f[0]?(k=f.domain||(f.domain=this.getVariableDomain(f,e)),(j||(j=new this.update)).push([f],k)):(i=this.update(f,c,j||!1,e))&&(j||(j=i)),h=!0));if(h||a instanceof Array||j.push([a],null),!(a[0]instanceof Array))if(j)j.wrap(a,d,c||e);else{if("remove"!==a[0])return void(e&&(a.domain=e));j=new this.update([a],[c||e||null])}return d===!1?j:d||(d=this.updating)?d.push(j):j.each(this.resolve,this)},this.prototype){e=this.prototype;for(c in e)d=e[c],b.prototype[c]=d}return a&&(b.prototype.engine=a),b},c=d(),c.compile=d,c.prototype={push:function(a,b,c){var d,e,f,g,h,i;if(void 0===b){for(i=a.domains,d=g=0,h=i.length;h>g;d=++g)b=i[d],this.push(a.problems[d],b);return this}if((f=this.domains.indexOf(b,this.index+1))>-1)return this.append(f,a,c);if(b)for(f=this.domains.length;f-1>this.index&&(e=this.domains[f-1])&&(e.priority<b.priority||c&&"remove"!==this.problems[f-1][0][0]);)--f;else f=this.index+1;return this.insert(f,b,a),f},append:function(a,b){var c,d,e,f,g;for(c=this.problems[a],d=this.domains[a],this.mix(c,b),f=0,g=b.length;g>f;f++)e=b[f],d&&(this.setVariables(c,e),this.reify(e,d));return d?this.connect(a):void 0},insert:function(a,b,c){var d,e,f,g,h,i;for(h=0,i=c.length;i>h;h++)d=c[h],this.setVariables(c,d);if(this.domains.splice(a,0,b),this.problems.splice(a,0,c),g=this.variables)for(e in g)f=g[e],f>=a&&g[e]++;return this.reify(c,b),this.connect(a)},splice:function(a){var b,c,d,e;if(b=this.domains[a],this.domains.splice(a,1),this.problems.splice(a,1),this.variables){e=this.variables;for(c in e)d=e[c],d>=a&&(this.variables[c]=d===a?void 0:d-1)}},wrap:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;for(k=void 0,w=this.problems,g=n=0,r=w.length;r>n;g=++n)if(l=w[g],e=this.domains[g])for(m="string"!=typeof a[0]||e.signatures[a[0]],o=0,s=a.length;s>o;o++)d=a[o],m&&l.indexOf(d)>-1&&(!i||e.Engine&&!i.Engine)&&(j=g,i=e),k&&-1!==k.indexOf(g)||(k||(k=[])).push(g);if((!i||c&&i.displayName!==c.displayName)&&(i=c,j=this.push([a],i)),!k)return void this.push([a],null);for(h=p=k.length-1;p>=0;h=p+=-1)if(g=k[h],(e=this.domains[g]).displayName!==i.displayName)k.splice(h,1);else for(l=this.problems[g],q=0,t=a.length;t>q;q++)d=a[q],(f=l.indexOf(d))>-1&&(d.push&&this.reify(d,i,e),g===j&&-1===l.indexOf(a)?(l[f]=a,k.splice(h,1),a.domain=e):(l.splice(f,1),0!==l.length||e.paths||(this.splice(g,1),j>g&&j--,k.splice(h,1))));if(i){for(a.domain=i,v=0,u=a.length;u>v;v++)d=a[v],d.push&&(a.variables=d.variables=this.setVariables(a,d,!0));this.setVariables(this.problems[j],a)}return k.length?this.connect(j,k):this.connect(j)},match:function(a,b,c){var d,f,g,h,i,j,k,l;if(h=this.problems[a],k=this.variables||(this.variables={}),d=b.Engine){l=h.variables;for(i in l)if(j=l[i],j.domain.Engine===d)if(null!=(f=k[i])&&f!==a){if(e.call(c||(c=[]),f)<0){for(g=0;c[g]<f;)g++;c.splice(g,0,f)}}else k[i]=a}return c},connect:function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p;if(f=this.domains[a]){if(b||(b=this.match(a,f,b)))for(d=f.constraints,i=l=0,n=b.length;n>l;i=l+=1)for(h=b[i],c=this.domains[h].constraints,e=c||d?(c&&c.length)<(d&&d.length):h>a,e?(g=h,k=a):(g=a,k=h),a=this.merge(g,k),j=m=o=i+1,p=b.length;p>m;j=m+=1)b[j]>=g&&b[j]--;return a}},merge:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q;if(g=this.domains[b],i=this.problems[a],k=this.problems[b],e=this.domains[a])for(e.paths&&!e.consumed&&(e.transfer(c,this,g),f=e["export"](),e.register(!1)),m=0,o=i.length;o>m;m++)h=i[m],-1===k.indexOf(h)?(f||(f=[])).push(h):this.reify(h,g,e);if(this.splice(a,1),b>a&&b--,f){for(this.mix(k,f),n=0,p=f.length;p>n;n++)h=f[n],this.setVariables(k,h);if(this.reify(f,g,e),d=e.Engine){q=k.variables;for(j in q)l=q[j],l.domain.Engine===d&&((this.variables||(this.variables={}))[j]=b)}}return g.register(),b},mix:function(a,b){var c,d,e,f,g,h,i,j,k;for(k=[],f=0,h=b.length;h>f;f++){for(d=b[f],c=g=0,i=a.length;i>g&&(e=a[c],!((null!=(j=e.index)?j:1/0)>d.index));c=++g);k.push(a.splice(c,0,d))}return k},await:function(a){return(this.busy||(this.busy=[])).push(a)},postMessage:function(a,b){var c,d;return((c=this.posted||(this.posted={}))[d=a.url||a]||(c[d]=[])).push(this.engine.clone(b))},terminate:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;if(this.posted){v=this.posted;for(m in v){for(h=v[m],p=this.engine.workers[m],j=p.paths||(p.paths={}),o=p.values||(p.values={}),a={},c=[a],l=[],q=0,t=h.length;t>q;q++)for(f=h[q],r=0,u=f.length;u>r;r++)if(b=f[r],e=b[0],"remove"===e)for(g=s=1,w=b.length;w>=1?w>s:s>w;g=w>=1?++s:--s)delete j[b[g]],l.push(b[g]);else if("value"===e)b[2]!==o[b[1]]&&(a[b[1]]=b[2]);else{if(null!=(i=e.key)&&(j[i]=!0,d=e.values))for(k in d)n=d[k],n!==o[k]&&(a[k]=n);c.push(b)}for(l.length&&(l.unshift("remove"),c.splice(1,0,l)),p.postMessage(c);(g=this.busy.indexOf(m))>-1&&this.busy.lastIndexOf(m)!==g;)this.busy.splice(g,1)}return this.posted=void 0}},each:function(a,b,c){var d,e,f,g,h,i,j,k;if(c&&this.apply(c),this.problems[this.index+1]){for(e=this.domains[this.index];void 0!==(d=this.domains[++this.index]);){if(e=d,this.variables){i=this.variables;for(f in i)h=i[f],h<=this.index&&delete this.variables[f]}if(g=(this.solutions||(this.solutions=[]))[this.index]=a.call(b||this,d,this.problems[this.index],this.index,this),(null!=(j=this.busy)?j.length:void 0)&&-1===this.busy.indexOf(null!=(k=this.domains[this.index+1])?k.url:void 0))return this.terminate(),g;g&&void 0===g.onerror&&(g.push?this.engine.update(g):(this.apply(g),c=this.apply(g,c||{})))}return this.terminate(),this.index--,c||this}},apply:function(a,b){var c,d,e,f,g,h,i;if(null==b&&(b=this.solution),a!==this.solution){b||(b=this.solution||(this.solution={}));for(e in a)g=a[e],(f=null!=(i=this.redefined)?i[e]:void 0)&&(c=f.indexOf(g),c>-1)?(d=f[f.length-1],Math.abs(d-g)<2&&(b[e]=f[f.length-1],c!==f.length-1&&"undefined"!=typeof console&&null!==console&&console.error(e,"is looping: ",this.redefined[e]," and now ",g,"again"))):(b===this.solution&&(f=(h=this.redefined||(this.redefined={}))[e]||(h[e]=[]),f[f.length-1]!==g&&null!=g&&f.push(g)),b[e]!==g&&(null==this.solved&&(this.solved=!0),b[e]=g))}return b},remove:function(a,b){var c,d,e,f,g,h;for(this.push([["remove",a]],null),h=this.problems,d=f=h.length-1;f>=0&&(e=h[d],d!==this.index);d=f+=-1)for(c=g=e.length-1;g>=0;c=g+=-1)b=e[c],b&&b[0]&&b[0].key===a&&(e.splice(c,1),0===e.length&&this.splice(d,1))},perform:function(a){var b,c,d,e,f;if(c=this.domains.indexOf(null,this.index),c>-1)if(d=this.problems[c],"string"==typeof d[0])"remove"===d[0]&&a.remove.apply(a,d.slice(1));else for(e=0,f=d.length;f>e;e++)b=d[e],"remove"===b[0]&&a.remove.apply(a,b.slice(1))},setVariables:function(a,b,c){var d,e,f;if(f=b.variables)if(!a.variables&&c)a.variables=f;else for(d in f)e=f[d],(a.variables||(a.variables={}))[d]=e;else"get"===b[0]&&((a.variables||(a.variables={}))[b[1]]=b);return a.variables},reify:function(a,b,c){var d,e,f;for(a.domain===c&&(a.domain=b),e=0,f=a.length;f>e;e++)d=a[e],d&&d.push&&this.reify(d,b,c);return a},cleanup:function(a,b){var c,d,e,f;if(d=this[a],!b)return this[a]=void 0;if(d){c=b.length,f=[];for(e in d)f.push(e.length>c?e.substring(0,c)===b?delete d[e]:void 0:void 0);return f}},reset:function(a){return this.cleanup("queries",a),this.cleanup("collections",a),this.cleanup("mutations")},commit:function(){return this.restyled&&(this.restyled=void 0),this.solved&&(this.solved=void 0),this.reflown?this.reflown=void 0:void 0},getProblems:function(){
return this.engine.clone(this.problems)},finish:function(){return this.time=this.engine.console.getTime(this.started),this.started=void 0},start:function(){return null!=this.started?this.started:this.started=this.engine.console.getTime()},isDone:function(){return this.domains.length===this.index+1&&this.isDocumentDone()},isDocumentDone:function(){return!(this.mutations||this.deferred||this.pairs||this.stylesheets||this.branches)},isDirty:function(){return this.restyled||this.solved||this.reflown},hadSideEffects:function(a){return a||this.domains.length>0||this.hasOwnProperty("restyled")},block:function(){return this.blocking++},unblock:function(){return 0===--this.blocking},blocking:0,index:-1},b.exports=c},{}],33:[function(a,b){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;d=a("../Query"),c=function(a){function b(a,b){var c,d,e;this.path=this.key=this.serialize(a,b),this.linked&&(d=a.parent)&&(e=d[d.indexOf(a)-1],(c=e.command)&&"Condition"===c.type&&(c.next=a,this.previous=c))}return e(b,a),b.prototype.type="Condition",b.prototype.signature=[{"if":["Query","Selector","Variable","Constraint","Default"],then:["Any"]},[{"else":["Any"]}]],b.prototype.List=!0,b.prototype.cleaning=!0,b.prototype.conditional=1,b.prototype.boundaries=!0,b.prototype.domains={1:"output"},b.prototype.descend=function(a,b,c,d){var e,f;return c=this.delimit(c,this.DESCEND),this.conditional&&(f=c+this.key,a.queries.hasOwnProperty(f)||(a.queries[f]=0,e=b[this.conditional],e.command.solve(a,e,c,d)),this.after([],a.queries[f],a,b,c,d)),!1},b.prototype.execute=function(a){return a},b.prototype.serialize=function(a){return"@"+this.toExpression(a[1])},b.prototype.getOldValue=function(a,b){var c,d,e;return c=null!=(d=null!=(e=a.updating.collections)?e[b]:void 0)?d:0,c>0||0===c&&1/c!==-(1/0)},b.prototype.ascend=function(a,b,c,d){var e,f,g,h,i,j,k,l;if((f=(j=a.updating).branches||(j.branches=[]))&&-1===a.indexOfTriplet(f,b,c,d)){for(i=c.length,h=k=0,l=f.length;l>k&&(e=f[h],g=f[h+1],!(g.length>=i));h=k+=3)if(c.substring(0,g.length)===g)return;return f.splice(h||0,0,b,c,d)}},b.prototype.rebranch=function(a,b,c,d){var e,f,g,h,i;return f=this.getOldValue(a,c)?-1:1,a.queries[c]=(a.queries[c]||0)+f,h="unless"===b[0],g=this.conditional+1+(-1===f^h),(e=b[g])?(a.console.start(2===g&&"if"||"else",b[g],c),i=a.input.Command(e).solve(a.input,e,this.delimit(c,this.DESCEND),d),a.console.end(i)):void 0},b.prototype.unbranch=function(a,b,c,d){var e,f,g;return(f=null!=(g=a.updating.collections)?g[c]:void 0)&&(e=this.getOldValue(a,c)?-1:1,0===(a.queries[c]+=e))?(this.clean(a,c,c,b,d),!0):void 0},b.prototype["yield"]=function(a,b,c,d,e){var f,g,h,i,j,k;return c.parent.indexOf(c)>1?void 0:(null!=c[0].key&&(d=c[0].key,(h=c[0].scope)&&(e=b.identity[h])),this.bound&&(d=this.getPrefixPath(b,d)),g=this.delimit(d,this.DESCEND)+this.key,!(i=b.queries[g])&&a&&(i=-0),((j=b.updating).collections||(j.collections={}))[g]=i,(f=null!=(k=b.updating.collections)?k[g]:void 0)&&this.getOldValue(b,g)===!!a?!0:(this.notify(b,g,e,a),!0))},b}(d),c.Global=c.extend({condition:function(a,b,c){var d,e,f;if(c&&(b=b[1]),"get"===b[0]||"virtual"===b[1]){if(2===b.length)return!1}else if("&"===b[0])return!1;for(e=0,f=b.length;f>e;e++)if(d=b[e],d&&d.push&&this.condition(a,d)===!1)return!1;return!0},global:!0}),c.Selector=c.extend({condition:function(a,b,c){var d,e,f;if(c&&(b=b[1]),"Selector"===b.command.type&&(b.length>1||"Selector"===b.parent.command.type&&"Iterator"===b.parent.command.type))return!0;for(e=0,f=b.length;f>e;e++)if(d=b[e],d&&d.push&&this.condition(a,d))return!0;return!1},bound:!0}),c.prototype.advices=[c.Selector,c.Global],c.define("if",{}),c.define("unless",{inverted:!0}),c.define("else",{signature:[{then:["Any"]}],linked:!0,conditional:null,domains:null}),c.define("elseif",{linked:!0}),c.define("elsif",{}),b.exports=c},{"../Query":31}],34:[function(a,b){var c,d;c=a("../Command"),d=c.extend({type:"Constraint",signature:[{left:["Variable","Number"],right:["Variable","Number"]},[{strength:["String"],weight:["Number"]}]],log:function(a,b,c,d,e,f){return b.console.push(f||c[0],a,c.hash||(c.hash=this.toExpression(c)))},toHash:function(a){var b,c;if(b="",a.values)for(c in a.values)b+=c;return b},fetch:function(a,b){var c,d,e,f,g;if(d=null!=(f=a.operations)?f[b.hash||(b.hash=this.toExpression(b))]:void 0)for(e in d)if(c=d[e],(null!=(g=a.constraints)?g.indexOf(c):void 0)>-1)return c},declare:function(a,b){var c,d,e,f,g,h,i,j;g=b.variables;for(f in g)e=g[f],(d=a.variables[f])&&(c=d.constraints||(d.constraints=[]),null==(null!=(h=c[0])&&null!=(i=h.operations[0])&&null!=(j=i.parent.values)?j[f]:void 0)&&-1===c.indexOf(b)&&c.push(b))},undeclare:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o;l=b.variables;for(i in l)if(g=l[i],(f=a.variables[i])&&(d=null!=(m=f.constraints)?m.indexOf(b):void 0)>-1){for(f.constraints.splice(d,1),e=!1,n=f.constraints,j=0,k=n.length;k>j;j++)if(h=n[j],a.constraints.indexOf(h)>-1&&null==(null!=(o=h.operations[0].parent[0].values)?o[i]:void 0)){e=!0;break}e||g.command.undeclare(a,f,c)}},add:function(a,b,c,d){var e,f,g,h,i;if(h=this.fetch(b,c),g=a.operations||(a.operations=(null!=h?h.operations:void 0)||[]),a.variables=c.variables,-1===g.indexOf(c)){for(e=i=g.length-1;i>=0;e=i+=-1)f=g[e],f.hash===c.hash&&f.parent[0].key===d&&(g.splice(e,1),this.unwatch(b,f,d));g.push(c)}this.watch(b,c,d),h!==a&&(h&&this.unset(b,h),this.set(b,a))},reset:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;if(a.constrained)for(o=a.constrained,e=0,i=o.length;i>e;e++)b=o[e],a.Constraint.prototype.declare(a,b);if(a.unconstrained)for(p=a.unconstrained,f=0,j=p.length;j>f;f++)b=p[f],a.Constraint.prototype.undeclare(a,b);if(a.instance._changed&&a.constrained&&a.unconstrained){if(a.instance=void 0,a.construct(),c=a.editing){a.editing=void 0;for(d in c)b=c[d],a.edit(a.variables[d],a.variables[d].value)}if(a.constraints)for(q=a.constraints,g=0,k=q.length;k>g;g++)b=q[g],a.Constraint.prototype.inject(a,b)}else{if(a.unconstrained)for(r=a.unconstrained,h=0,l=r.length;l>h;h++)b=r[h],a.Constraint.prototype.eject(a,b);if(a.constrained)for(s=a.constrained,n=0,m=s.length;m>n;n++)b=s[n],a.Constraint.prototype.inject(a,b);a.constrained||(a.constrained=[])}return a.unconstrained=void 0},set:function(a,b){var c,d;return-1===(a.constraints||(a.constraints=[])).indexOf(b)&&(a.constraints.push(b),(a.constrained||(a.constrained=[])).push(b)),(c=null!=(d=a.unconstrained)?d.indexOf(b):void 0)>-1?a.unconstrained.splice(c,1):void 0},unset:function(a,b){var c,d,e,f,g,h,i;for((c=a.constraints.indexOf(b))>-1&&a.constraints.splice(c,1),(c=null!=(h=a.constrained)?h.indexOf(b):void 0)>-1?a.constrained.splice(c,1):-1===(a.unconstrained||(a.unconstrained=[])).indexOf(b)&&a.unconstrained.push(b),i=b.operations,f=0,g=i.length;g>f;f++)d=i[f],null!=(e=d.parent[0].key)&&this.unwatch(a,d,e)},unwatch:function(a,b,c){var d,e;return(e=a.paths[c])&&(d=e.indexOf(b))>-1&&(e.splice(d,1),0===e.length)?delete a.paths[c]:void 0},watch:function(a,b,c){return a.add(c,b)},remove:function(a,b,c){var d,e,f;return(d=this.fetch(a,b))&&(f=d.operations)&&(e=f.indexOf(b))>-1?(f.splice(e,1),0===f.length&&this.unset(a,d),this.unwatch(a,b,c)):void 0},find:function(a,b){var c,d,e,f;for(f=b.constraints,d=0,e=f.length;e>d;d++)if(c=f[d],c.operations[0].variables[b.name].domain===a&&a.constraints.indexOf(c)>-1)return!0},group:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n;for(e=[],j=0,m=a.length;m>j;j++){for(b=a[j],d=void 0,i=b.variables,k=e.length-1;k>=0;k+=-1)for(c=e[k],l=0,n=c.length;n>l;l++){f=c[l],g=f.variables;for(h in i)if(g[h]){d&&d!==c?(d.push.apply(d,c),e.splice(e.indexOf(c),1)):d=c;break}if(-1===e.indexOf(c))break}d||e.push(d=[]),d.push(b)}return e},split:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;if(h=this.group(a.constraints).sort(function(a,b){var c,d;return c=a.length,d=b.length,d-c}),l=h.splice(1),d=[],l.length)for(m=0,j=n=0,r=l.length;r>n;j=++n)for(g=l[j],j=o=0,s=g.length;s>o;j=++o)for(e=g[j],this.unset(a,e),v=e.operations,p=0,t=v.length;t>p;p++)k=v[p],d.push(k.parent);if(null!=d?d.length:void 0){if(1===d.length&&(d=d[0]),c=arguments,1===c.length&&(c=c[0]),d.length===c.length){for(f=!0,i=q=0,u=c.length;u>q;i=++q)if(b=c[i],-1===d.indexOf(b)){f=!1;break}if(f)throw new Error("Trying to separate what was just added. Means loop. ")}return a.Command.orphanize(d)}}}),b.exports=d},{"../Command":29}],35:[function(a,b){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;c=a("../Command"),d=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return e(b,a),b.prototype.type="Iterator",b.prototype.signature=[{collection:["Query","Selector"],body:["Any"]}],b.prototype.List=!0,b.prototype["yield"]=function(a,b,c,d){var e,f;return 1===c.parent.indexOf(c)?(e=this.delimit(d,this.DESCEND),f=c.parent[2],f.command.solve(b,f,e,a),!0):void 0},b.prototype.descend=function(a,b,c,d){var e,f;return e=b[1],f=e.command||a.Command(e),e.parent||(e.parent=b),f.solve(b.domain||a,e,c,d),!1},b}(c),d.define({rule:{index:"rules",advices:[function(a,b){var c;for(c=b;c.parent;)c=c.parent;b.index=c.rules=(c.rules||0)+1}]},each:{}}),b.exports=d},{"../Command":29}],36:[function(a,b){var c,d,e=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},f={}.hasOwnProperty;c=a("../Command"),d=function(a){function b(){}return e(b,a),b.prototype.type="Variable",b.prototype.signature=[{property:["String"]}],b.prototype.log=function(){},b.prototype.unlog=function(){},b.prototype.before=function(a,b,c,d,e,f,g){var h,i;return null!=(h=null!=g&&null!=(i=g.values)?i[a[0]]:void 0)?h:void 0},b.prototype.declare=function(a,b){var c,d;return d=a.variables,(c=d[b])||(c=d[b]=a.variable(b)),(a.declared||(a.declared={}))[b]=c,c},b.prototype.undeclare=function(a,b,c){var d;return c?(a.replaced||(a.replaced={}))[b.name]=b:((a.nullified||(a.nullified={}))[b.name]=b,(null!=(d=a.declared)?d[b.name]:void 0)&&delete a.declared[b.name]),delete a.values[b.name],a.nullify(b),a.unedit(b)},b}(c),d.Expression=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return e(b,a),b.prototype.signature=[{left:["Variable","Number"],right:["Variable","Number"]}],b}(d),d.Expression.algebra={"+":function(a,b){return a+b},"-":function(a,b){return a-b},"*":function(a,b){return a*b},"/":function(a,b){return a/b},min:function(a,b){return Math.min(a,b)},max:function(a,b){return Math.max(a,b)}},b.exports=d},{"../Command":29}],37:[function(a,b){var c,d,e,f,g=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},h={}.hasOwnProperty;e=a("../Domain"),c=a("../Command"),f=a("../commands/Variable"),d=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.priority=200,b.prototype["static"]=!0,b.prototype.url=null,b.prototype.check=function(a,b){return this.output.properties[b]||null!=this.properties[b]||0===b.indexOf("intrinsic-")||0===b.indexOf("computed-")||null!=(this.properties[a._gss_id||a]&&this.properties[(a._gss_id||a)+"["+b+"]"])},b.prototype.verify=function(a,b){var c;return c=this.getPath(a,b),this.values.hasOwnProperty(c)?this.set(null,c,this.fetch(c)):void 0},b}(e),d.prototype.Variable=f.extend({},{get:function(a,b,c,d,e){var f;return(f=this.getMeta(c))&&(d=f.key,e||(e=f.scope&&b.identity[f.scope]||b.scope)),b.watch(null,a,c,this.delimit(d||""),e)}}),d.prototype.Variable.Expression=f.Expression.extend({before:function(a){var b,c,d;for(c=0,d=a.length;d>c;c++)if(b=a[c],null==b||b!==b)return 0/0}}),d.prototype.Variable.Expression.define(f.Expression.algebra),d.prototype.Meta=c.Meta.extend({},{object:{execute:function(a){return a},descend:function(a,b,c,d,e,f){var g;return null!=e?[f]:(g=b[0],d=g.scope&&a.identity[g.scope]||a.scope,[b[1].command.solve(a,b[1],g.key,d,void 0,b[0])])}}}),b.exports=d},{"../Command":29,"../Domain":30,"../commands/Variable":36}],38:[function(a,b){var c,d,e,f,g,h,i=function(a,b){function c(){this.constructor=a}for(var d in b)j.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},j={}.hasOwnProperty,k=[].slice;e=a("../Domain"),c=a("../Command"),h=a("../commands/Variable"),d=a("../commands/Constraint"),f=function(b){function c(){return c.__super__.constructor.apply(this,arguments)}return i(c,b),c.prototype.displayName="Input",c.prototype.url=void 0,c.prototype.helps=!0,c.prototype.Iterator=a("../commands/Iterator"),c.prototype.Condition=a("../commands/Condition"),c.prototype.Properties=function(){function a(){}return a.prototype.right=function(a){var b;return b=this.identify(a),["+",["get",this.getPath(b,"x")],["get",this.getPath(b,"width")]]},a.prototype.bottom=function(a){var b;return b=this.identify(a),["+",["get",this.getPath(b,"y")],["get",this.getPath(b,"height")]]},a.prototype.center={x:function(a){var b;return b=this.identify(a),["+",["get",this.getPath(b,"x")],["/",["get",this.getPath(b,"width")],2]]},y:function(a){var b;return b=this.identify(a),["+",["get",this.getPath(b,"y")],["/",["get",this.getPath(b,"height")],2]]}},a}(),c}(e),f.prototype.Remove=c.extend({signature:!1,extras:1},{remove:function(){var a,b,c,d,e,f;for(a=2<=arguments.length?k.call(arguments,0,d=arguments.length-1):(d=0,[]),b=arguments[d++],e=0,f=a.length;f>e;e++)c=a[e],b.triggerEvent("remove",c);return!0}}),f.prototype.Default=c.Default.extend({extras:2,execute:function(){var a,b,c,d;return a=3<=arguments.length?k.call(arguments,0,d=arguments.length-2):(d=0,[]),b=arguments[d++],c=arguments[d++],a.unshift(c[0]),a}}),g=f.prototype.Default.extend({condition:function(a,b){var c;return(c=b.parent)&&c.command instanceof f.prototype.Default?!1:(b.index||(b.index=a.input.index=(a.input.index||0)+1),!0)},extras:4,execute:function(){var a,b,c,d,e,f,g,h,i;return a=5<=arguments.length?k.call(arguments,0,i=arguments.length-4):(i=0,[]),d=arguments[i++],f=arguments[i++],b=arguments[i++],g=arguments[i++],e={key:this.delimit(b)},g!==d.scope&&(e.scope=d.identify(g)),a.unshift(f[0]),h=this.produce(e,a,f),h.index=f.index,a.parent=h,(c="function"==typeof this.domain?this.domain(d,f):void 0)&&(h.parent=f.parent,h.domain||(h.domain=c)),void 0===d.update(h,void 0,void 0,c)?d.data.solve(a):void 0},produce:function(a,b){return[a,b]},domain:function(a,b){var c,d,e;return(d=b.parent)&&(c=null!=(e=d.command.domains)?e[d.indexOf(b)]:void 0)?a[c]:void 0}}),f.prototype.Default.prototype.advices=[g],f.prototype.List=c.List,f.prototype.Variable=h.extend({signature:[{property:["String"]}]},{get:function(a,b,c,d,e){var f;return b.queries&&(e===b.scope&&(e=void 0),f=b.Query.prototype.getScope(b,e,d)),["get",b.getPath(f,a)]}}),f.prototype.Variable.Getter=f.prototype.Variable.extend({signature:[{object:["Query","Selector","String"],property:["String"]}]},{get:function(a,b,c,d,e){var f,g;return c.queries&&(f=c.Query.prototype.getScope(c,a,e)),(g=c.properties[b])&&!g.matcher?g.call(c,a,e):(!f&&c.data.check(c.scope,b)&&(f=c.scope),["get",c.getPath(f,b)])}}),f.prototype.Variable.Expression=h.Expression.extend({},{"+":function(a,b){return["+",a,b]},"-":function(a,b){return["-",a,b]},"/":function(a,b){return["/",a,b]},"*":function(a,b){return["*",a,b]}}),f.prototype.Assignment=c.extend({type:"Assignment",signature:[[{object:["Query","Selector"]}],{property:["String"],value:["Variable"]}]},{"=":function(a,b,c,d){return d.input.set(a,b,c)}}),f.prototype.Assignment.Style=f.prototype.Assignment.extend({signature:[[{object:["Query","Selector"]}],{property:["String"],value:["Any"]}],log:function(){},unlog:function(){},advices:[function(a,b){var c,d;for(c=b,d=void 0;c.parent;)d||"rule"!==c[0]||(d=c),c=c.parent;b.index||(b.index=c.assignments=(c.assignments||0)+1),d&&(d.properties||(d.properties=[])).push(b.index)}]},{set:function(a,b,c,d,e,f,g){d.data?d.setStyle(a||g,b,c,f,e):d.input.set(a||g,b,c)}}),b.exports=f},{"../Command":29,"../Domain":30,"../commands/Condition":33,"../commands/Constraint":34,"../commands/Iterator":35,"../commands/Variable":36}],39:[function(a,b){var c,d,e,f,g,h,i=function(a,b){function c(){this.constructor=a}for(var d in b)j.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},j={}.hasOwnProperty,k=[].slice;e=a("../Domain"),c=a("../Command"),g=a("../commands/Variable"),d=a("../commands/Constraint"),h=a("cassowary"),h.Strength.require=h.Strength.required,f=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return i(b,a),b.prototype.displayName="Linear",b.prototype.priority=0,b.prototype.Engine=h,b.prototype.construct=function(){return null==this.paths&&(this.paths={}),this.instance=new h.SimplexSolver,this.instance.autoSolve=!1,this.console.level>2?(h.debug=!0,h.trace=!0):void 0},b.prototype.perform=function(){if(this.constrained){if(this.constrained=this.suggested=void 0,this.instance._needsSolving)return this.instance.solve(),this.instance._changed}else if(this.suggested)return this.suggested=void 0,this.instance.resolve(),this.instance._changed},b.prototype.unedit=function(a){var b,c,d;return(c=null!=(d=this.editing)?d["%"+(a.name||a)]:void 0)?(b=this.instance._editVarMap.get(c.variable),this.instance.removeColumn(b.editMinus),this.instance._editVarMap["delete"](c.variable),delete this.editing[a.name||a]):void 0},b.prototype.edit=function(a,b,c){var d,e;return(null!=(e=this.editing)?e[a.name]:void 0)||(d=new h.EditConstraint(a,this.strength(b,"strong"),this.weight(c)),d.variable=a,this.Constraint.prototype.inject(this,d),(this.editing||(this.editing={}))[a.name]=d),d},b.prototype.nullify=function(a){return this.instance._externalParametricVars["delete"](a),a.value=0},b.prototype.suggest=function(a,b,c,d,e){var f;return"string"==typeof a?(f=this.variables[a])||(f=this.Variable.prototype.declare(this,a)):f=a,this.edit(f,c,d,e),this.instance.suggestValue(f,b),f.value=b,this.suggested=!0,f},b.prototype.variable=function(a){return new h.Variable({name:a})},b.prototype.strength=function(a,b){return null==b&&(b="medium"),a&&h.Strength[a]||h.Strength[b]},b.prototype.weight=function(a){return a},b}(e),f.Mixin={"yield":function(a,b,c){return"number"==typeof a?c.parent.domain.suggest("%"+c.command.toExpression(c),a,"require"):void 0}},f.prototype.Constraint=d.extend({before:function(a,b,c,d,e,f,g){return this.get(b,c,g)},after:function(a,b,c,d,e,f,g,h){var i,j,k,l;return b.hashCode?(i=(j=c.operations||(c.operations={}))[l=d.hash||(d.hash=this.toExpression(d))]||(j[l]={}))[k=this.toHash(h)]||(i[k]=b):b},get:function(a,b,c){var d,e;return null!=(d=a.operations)&&null!=(e=d[b.hash||(b.hash=this.toExpression(b))])?e[this.toHash(c)]:void 0},"yield":f.Mixin["yield"],inject:function(a,b){return a.instance.addConstraint(b)},eject:function(a,b){return a.instance.removeConstraint(b)}},{"==":function(a,b,c,d,e,f){return new h.Equation(a,b,e.strength(c),e.weight(d,f))},"<=":function(a,b,c,d,e,f){return new h.Inequality(a,h.LEQ,b,e.strength(c),e.weight(d,f))},">=":function(a,b,c,d,e,f){return new h.Inequality(a,h.GEQ,b,e.strength(c),e.weight(d,f))},"<":function(a,b,c,d,e,f){return new h.Inequality(a,h.LEQ,e["+"](b,1),e.strength(c),e.weight(d,f))},">":function(a,b,c,d,e,f){return new h.Inequality(a,h.GEQ,e["+"](b,1),e.strength(c),e.weight(d,f))}}),f.prototype.Variable=g.extend(f.Mixin,{get:function(a,b){var c;return c=this.declare(b,a),b.unedit(c),c}}),f.prototype.Variable.Expression=g.Expression.extend(f.Mixin,{"+":function(a,b){return h.plus(a,b)},"-":function(a,b){return h.minus(a,b)},"*":function(a,b){return h.times(a,b)},"/":function(a,b){return h.divide(a,b)}}),f.prototype.Meta=c.Meta.extend({},{object:{execute:function(a,b,c){return null!=(null!=a?a.hashCode:void 0)?c[1].command.add(a,b,c[1],c[0].key):void 0},descend:function(a,b){var c,d,e;return(d=b[0])&&(c=d.key,e=d.scope&&a.identity[d.scope]||a.scope),b[1].parent=b,[b[1].command.solve(a,b[1],c,e,void 0,b[0]),a,b]}}}),f.prototype.Stay=c.extend({signature:[{value:["Variable"]}]},{stay:function(a,b){b.suggested=!0,b.instance.addStay(a)}}),f.prototype.Remove=c.extend({extras:1,signature:!1},{remove:function(){var a,b,c;return a=2<=arguments.length?k.call(arguments,0,c=arguments.length-1):(c=0,[]),b=arguments[c++],b.remove.apply(b,a)}}),function(){var a,b,c;if(null==h.isUnordered){a={10:1,9:1};for(b in a)break;if(h.isUnordered=b>9)return c=h.HashTable.prototype.set,h.HashTable.prototype.set=function(){var a;if(!this._store.push){a=this._store,this._store=[];for(b in a)this._store[b]=a[b]}return c.apply(this,arguments)}}}(),b.exports=f},{"../Command":29,"../Domain":30,"../commands/Constraint":34,"../commands/Variable":36,cassowary:2}],40:[function(a,b){var c,d,e,f=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},g={}.hasOwnProperty;d=a("./Data"),c=a("../commands/Constraint"),e=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return f(b,a),b.prototype.displayName="Output",b.prototype.immutable=!0,b.prototype.priority=-200,b.prototype.finalized=!0,b}(d),e.prototype.Constraint=c.extend({signature:[{left:["Variable","Number","Constraint"],right:["Variable","Number","Constraint"]}]},{"&&":function(a,b){return a&&b},"||":function(a,b){return a||b},"!=":function(a,b){return a===b},"==":function(a,b){return a===b},"<=":function(a,b){return b>=a},">=":function(a,b){return a>=b},"<":function(a,b){return b>a},">":function(a,b){return a>b}}),b.exports=e},{"../commands/Constraint":34,"./Data":37}],41:[function(a,b){var c,d,e,f,g,h=function(a,b){return function(){return a.apply(b,arguments)}};for(c=function(){function a(b){var c,d,e;this.level=b,this.onError=h(this.onError,this),null==this.level&&(this.level=null!=(c="undefined"!=typeof self&&null!==self?self.GSS_LOG:void 0)?c:parseFloat(("undefined"!=typeof self&&null!==self&&null!=(d=self.location)&&null!=(e=d.search.match(/log=([\d.]+)/))?e[1]:void 0)||0)),a.bind||(this.level=0),this.stack=[],this.buffer=[],"undefined"!=typeof self&&null!==self&&self.addEventListener("error",this.onError,!0)}return a.prototype.methods=["log","warn","info","error","group","groupEnd","groupCollapsed","time","timeEnd","profile","profileEnd"],a.prototype.groups=0,a.prototype.onError=function(a){var b;for(b=[];this.pop(a);)b.push(!0);return b},a.prototype.compile=function(a){return this.DESCEND=a.Command.prototype.DESCEND},a.prototype.push=function(a,b,c,d){var e;return this.level>.5||d?(this.buffer.length||this.level>1&&"undefined"!=typeof console&&null!==console&&console.profile(),e=this.buffer.push(a,b,c,void 0,d||this.row),this.stack.push(e-5)):void 0},a.prototype.pop=function(a,b){var c;return null==b&&(b=this.row),(this.level>.5||b!==this.row)&&this.stack.length?(c=this.stack.pop(),this.buffer[c+3]=a,b!==this.row&&(this.buffer[c+2]=this.getTime(this.buffer[c+2])),this.stack.length||this.flush(),!0):!1},a.prototype.flush=function(){var a,b,c,d,e;for(this.level>1&&"undefined"!=typeof console&&null!==console&&console.profileEnd(),e=this.buffer,a=c=0,d=e.length;d>c;a=c+=5)b=e[a],this.buffer[a+4].call(this,this.buffer[a],this.buffer[a+1],this.buffer[a+2],this.buffer[a+3]);return this.buffer=[]},a.prototype.pad=function(a,b){return null==b&&(b=17),a.length>b?a.substring(0,b-1)+"":a+Array(b-a.length).join(" ")},a.prototype.openGroup=function(a,b,c,d){var e,f;switch(null==b&&(b=""),null==d&&(d=""),e="%c%s",typeof b){case"string":e+="%s",b=this.pad(b,16);break;case"object":e+="%O	",null==b.length&&(e+="	")}switch(typeof d){case"string":e+="%s",d=this.pad(d,17);break;case"object":e+="%O	",d.length>9||(e+="	")}return e+=" %c%sms",a=this.pad(a,13),this.level<=1.5&&(f="groupCollapsed"),this[f||"group"](e,"font-weight: normal",a,b,d,"color: #999; font-weight: normal; font-style: italic;",c)},a.prototype.closeGroup=function(){return this.groupEnd()},a.prototype.stringify=function(a){return a?a.push?a.map(this.stringify,this):a.nodeType?a._gss_id:a.toString!==Object.prototype.toString?a.toString():a.displayName?a.displayName:JSON.stringify(a):""},a.prototype.debug=function(a){return document.location=document.location.toString().replace(/[&?]breakpoint=[^&]+|$/,(document.location.search.indexOf("?")>-1&&"&"||"?")+"breakpoint="+a.trim().replace(/\r?\n+|\r|\s+/g," "))},a.prototype.breakpoint=decodeURIComponent((("undefined"!=typeof document&&null!==document?document.location.search.match(/breakpoint=([^&]+)/,""):void 0)||["",""])[1]),a.prototype.row=function(a,b,c,d){var e,f,g;if(null==b&&(b=""),null==c&&(c=""),null==d&&(d=""),!(this.level<1)&&(a=a.name||a,"string"==typeof a)){switch(g=Array(4-Math.floor((a.length+1)/4)).join("	"),(f=c.indexOf(this.DESCEND))>-1&&c.indexOf('style[type*="gss"]')>-1&&(c=c.substring(f+1)),c=c.replace(/\r?\n|\r|\s+/g," "),e="%c%s",typeof b){case"string":e+="%s",b=this.pad(b,14);break;case"object":e+="%O	",b.push||(b=[b])}switch(typeof d){case"string":case"boolean":case"number":e+="  %s ",d=this.pad(String(d),17);break;case"object":e+="  %O	   ",d.item?d=Array.prototype.slice.call(d):null==d.length&&(d=[d])}return"undefined"!=typeof document&&null!==document?this.log(e+"%c%s","color: #666",this.pad(a,11),b,d,"color: #999",c):this.log(a,b,c)}},a.prototype.start=function(a,b){return this.push(a,b,this.getTime(),this.openGroup)},a.prototype.end=function(a){return this.buffer.push(void 0,void 0,void 0,void 0,this.closeGroup),this.pop(a,this.openGroup,!0)},a.prototype.getTime=function(a,b){return b||(b=("undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)||("function"==typeof Date.now?Date.now():void 0)||+new Date),b&&!a?b:Math.floor(100*(b-a))/100},a}(),g=c.prototype.methods,e=0,f=g.length;f>e;e++)d=g[e],c.prototype[d]=function(a){return function(){if("group"===a||"groupCollapsed"===a)c.prototype.groups++;else if("groupEnd"===a){if(!c.prototype.groups)return;c.prototype.groups--}return(this.level||"error"===a)&&"undefined"!=typeof console&&null!==console&&"function"==typeof console[a]?console[a].apply(console,arguments):void 0}}(d);b.exports=c},{}],42:[function(a,b){var c,d=function(a,b){return function(){return a.apply(b,arguments)}};c=function(){function a(a){var b;this.engine=a,this.postexport=d(this.postexport,this),this.preexport=d(this.preexport,this),(this.command="undefined"!=typeof location&&null!==location&&null!=(b=location.search.match(/export=([a-z0-9]+)/))?b[1]:void 0)&&this.preexport()}return a.prototype.preexport=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;for(9===(e=this.engine.scope).nodeType&&(e=this.engine.scope.body),this.engine.identify(e),o=e.getElementsByTagName("*"),g=0,k=o.length;k>g;g++)b=o[g],"SCRIPT"!==b.tagName&&("STYLE"!==b.tagName||(null!=(p=b.getAttribute("type"))?p.indexOf("gss"):void 0)>-1)&&this.engine.identify(b);if(window.Sizes)for(this.sizes=[],q=window.Sizes,h=0,l=q.length;l>h;h++)for(d=q[h],r=d[0],i=0,m=r.length;m>i;i++)for(f=r[i],s=d[1],j=0,n=s.length;n>j;j++)c=s[j],this.sizes.push(f+"x"+c);return this.command.indexOf("x")>-1?(t=this.command.split("x"),f=t[0],c=t[1],a=72,f=parseInt(f)*a,c=parseInt(c)*a,window.addEventListener("load",function(a){return function(){return localStorage[a.command]=JSON.stringify(a["export"]()),a.postexport()}}(this)),document.body.style.width=f+"px",this.engine.data.properties["::window[height]"]=function(){return c},this.engine.data.properties["::window[width]"]=function(){return f}):"true"===this.command?(localStorage.clear(),this.postexport()):void 0},a.prototype.postexport=function(){var a,b,c,d,e,f,g;for(g=this.sizes,e=0,f=g.length;f>e;e++)if(c=g[e],!localStorage[c])return void(location.search=location.search.replace(/[&?]export=([a-z0-9])+/,"")+"?export="+c);b={};for(a in localStorage)d=localStorage[a],a.match(/^\d+x\d+$/)&&(b[a]=JSON.parse(d));return document.write(JSON.stringify(b))},a.prototype["export"]=function(){var a,b,c,d,e,f,g;f={},g=this.engine.values;for(c in g)e=g[c],(b=c.indexOf("["))>-1&&-1===c.indexOf('"')&&(d=this.engine.data.camelize(c.substring(b+1,c.length-1)),a=c.substring(0,b),("x"===d||"y"===d||void 0!==document.body.style[d])&&null==this.engine.values[a+"[intrinsic-"+d+"]"]&&(f[c]=Math.ceil(e)));return f.stylesheets=this.engine.document.Stylesheet["export"](),f},a}(),b.exports=c},{}],43:[function(a,b){var c,d=function(a,b){return function(){return a.apply(b,arguments)}},e={}.hasOwnProperty;c=function(){function a(a){this.engine=a,this.draw=d(this.draw,this),this.onMouseMove=d(this.onMouseMove,this),this.onClick=d(this.onClick,this),this.onKeyUp=d(this.onKeyUp,this),this.onKeyDown=d(this.onKeyDown,this)}return a.prototype.toExpressionString=function(a){var b,c,d,e,f,g,h;return(null!=a?a.push:void 0)?"get"===a[0]?(d=a[1],b=d.indexOf("["),e=d.substring(b+1,d.length-1),null!=this.engine.values[d.replace("[","[intrinsic-")]||e.indexOf("intrinsic-")>-1?c="intrinsic":d.indexOf('"')>-1?c="virtual":b>-1&&("x"===e||"y"===e?c="position":(null!=(f=this.engine.data.properties[e])?f.matcher:void 0)||(c="local")),'<strong class="'+(c||"variable")+'" for="'+d+'" title="'+this.engine.values[d]+'">'+d+"</strong>"):this.toExpressionString(a[1])+" <b title='"+(null!=(g=a.parent)&&null!=(h=g[0])?h.key:void 0)+"'>"+a[0]+"</b> "+this.toExpressionString(a[2]):null!=a?a:""},a.prototype.update=function(){return this.engine.console.level>0&&this.domains(this.engine.domains),this.engine.console.level>1.5||this.rulers?this.refresh():void 0},a.prototype.stylesheet=function(){var a;return this.sheet=a=document.createElement("style"),a.textContent=a.innerText="domains {\n  display: block;\n  position: fixed;\n  z-index: 999999;\n  top: 0;\n  left: 0;\n  background: rgba(255,255,255,0.76);\n  font-family: Helvetica, Arial;\n}\ndomain {\n  -webkit-user-select: none;  /* Chrome all / Safari all */\n  -moz-user-select: none;     /* Firefox all */\n  -ms-user-select: none;      /* IE 10+ */\n\n  user-select: none;     \n}\npanel {\n  padding: 10px;\n  left: 0\n}\npanel strong, panel b{\n  font-weight: normal;\n}\npanel em {\n  color: red;\n}\npanel strong {\n  color: MidnightBlue;\n}\npanel strong.virtual {\n  color: green;\n}\npanel strong.intrinsic {\n  color: red;\n}\npanel strong.local {\n  color: black;\n}\npanel strong.position {\n  color: olive;\n}\npanel strong[mark] {\n  text-decoration: underline;\n}\ndomains domain{\n  padding: 5px;\n  text-align: center;\n  display: inline-block;\n  cursor: pointer;\n}\ndomain[hidden] {\n  color: #999;\n  background: none;\n}\ndomain.singles:before {\n  content: ' + ';\n  display: 'inline'\n}\ndomain, domain.active {\n  background: #fff;\n  color: #000;\n}\ndomain.active {\n  font-weight: bold;\n}\ndomains:hover domain {\n  background: none;\n}\ndomains:hover domain:hover {\n  background: #fff\n}\ndomain panel {\n  display: block;\n  position: absolute;\n  background: #fff;\n  text-align: left;\n  white-space: pre;\n  line-height: 18px;\n  font-size: 13px;\n  font-family: monospace, serif;\n}\ndomain panel {\n  display: none;\n}\ndomain:hover panel, body[reaching] panel {\n  display: block;\n}\nruler {\n  display: block;\n  position: absolute;\n  z-index: 99999;\n  border-width: 0;\n}\nruler[hidden] {\n  display: none;\n}\nruler.x {\n  border-bottom: 1px dotted orange;\n}\nruler.y {\n  border-right: 1px dotted orange;\n}\nruler.width {\n  border-bottom: 1px dashed blue;\n}\nruler.height {\n  border-right: 1px dashed blue;\n}\nruler.virtual {\n  border-color: green;\n}\nruler.virtual.height {\n  z-index: 99998;\n}\nbody:not([inspecting]) ruler.virtual.height {\n  width: 0px !important;\n}\nbody[inspecting][reaching] ruler.virtual.height:not(:hover) {\n  width: 0px !important;\n}\nruler.virtual.height:hover, body[inspecting]:not([reaching]) ruler.virtual.height {\n  background: rgba(0,255,0,0.15);\n}\nruler.constant {\n  border-style: solid;\n}\nruler.intrinsic {\n  border-color: red;\n}\nruler:before {\n  content: \"\";\n  display: block;\n  position: absolute;\n  right: 0;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  cursor: pointer;\n}\nruler.y:before, ruler.height:before, ruler.intrinsic-height:before {\n  left: -10px;\n  right: -10px;\n}\nruler.x:before, ruler.width:before, ruler.intrinsic-width:before {\n  top: -10px;\n  bottom: -10px;\n}\ndomain panel.filtered {\n  display: block\n}\nbody[reaching] ruler {\n  opacity: 0.2\n}\nbody[reaching] ruler.reached {\n  opacity: 1\n}",
document.body.appendChild(a),document.addEventListener("mousedown",this.onClick),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp)},a.prototype.refresh=function(){var a,b,c,d,e,f,g,h,i,j,k;f={},i=this.engine.values;for(d in i)e=i[d],f[d]=e;if(this.rulers){j=this.rulers;for(d in j)e=j[d],f.hasOwnProperty(d)||(f[d]=null)}c=this.ids=[];for(d in f)e=f[d],(a=d.split("[")).length>1&&-1===c.indexOf(a[0])&&c.push(a[0]);for(k=[],g=0,h=c.length;h>g;g++)b=c[g],k.push(this.draw(b,f));return k},a.prototype.onKeyDown=function(a){return a.altKey?document.body.setAttribute("inspecting","inspecting"):void 0},a.prototype.onKeyUp=function(){return null!=document.body.getAttribute("inspecting")?document.body.removeAttribute("inspecting"):void 0},a.prototype.getDomains=function(a){var b,c,d,f,g,h,i,j,k;for(c=[],j=this.engine.domains,h=0,i=j.length;i>h;h++)if(b=j[h],"Solved"!==b.displayName&&b.constraints.length){k=b.values;for(f in k)e.call(k,f)&&(g=k[f],d=f.split("["),d.length>1&&a.indexOf(d[0])>-1&&-1===c.indexOf(b)&&c.push(b))}return c},a.prototype.onClick=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n;if("domain"===(null!=(l=a.target.tagName)?l.toLowerCase():void 0))return this.rulers||this.refresh(),this.filter([a.target.getAttribute("for")],a.shiftKey||a.ctrlKey,!0),a.preventDefault(),a.stopPropagation();if(a.metaKey&&(this.rulers||this.refresh()),a.altKey||a.metaKey){for(k=a.target,e=[],f=[];k;)1===k.nodeType&&(a.altKey&&k._gss&&k.classList.contains("virtual")?f.push(k.getAttribute("for")):k._gss_id&&f.push(k._gss_id)),k=k.parentNode;d=this.getDomains(f),e=d.map(function(a){return String(a.uid)}),a.altKey&&(this.visualize(null,f,a.shiftKey),this.constraints(e[0],null,f,a.shiftKey)),a.metaKey&&this.filter(e,a.shiftKey)}else{if(!(i=document.body.getAttribute("reaching"))||"ruler"!==(null!=(m=a.target.tagName)?m.toLowerCase():void 0))return;if(c=this.reaching,c&&(h=null!=(n=c.distances)?n[i]:void 0)){j=[];for(g in h)b=h[g],b||j.push(g);this.constraints(c.uid,null,j)}}return a.preventDefault(),a.stopPropagation()},a.prototype.constraints=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p;if(this.panel?this.panel.classList.remove("filtered"):this.panel=document.createElement("panel"),!b){for(m=this.list.childNodes,i=0,k=m.length;k>i;i++)if(h=m[i],h.getAttribute("for")===String(a)){b=h;break}if(!b)return}if(this.panel.parentNode!==b&&(null!=(n=this.panel.parentNode)&&n.classList.remove("active"),b.appendChild(this.panel)),"singles"===a)g=this.singles;else for(o=this.engine.domains,j=0,l=o.length;l>j;j++)if(e=o[j],String(e.uid)===String(a)){g=e;break}return g?(this.panel.innerHTML=null!=(p=g.constraints)?p.map(function(a){return function(b){return a.toExpressionString(b.operations[0])}}(this)).filter(function(a){var b,e,f;if(!c)return!0;for(e=0,f=c.length;f>e;e++)if(b=c[e],a.indexOf(b)>-1)return!d&&c.length>1&&c.splice(1),!0;return!1}).map(function(a){var b,d,e;if(c)for(d=0,e=c.length;e>d;d++)b=c[d],b=b.replace(/([\[\]$])/g,"\\$1"),a=a.replace(new RegExp("\\>("+b+'[\\[\\"])',"g")," mark>$1");return a}).join("\n"):void 0,c&&this.panel.classList.add("filtered"),f=b.offsetLeft+b.offsetWidth+10-this.panel.offsetWidth,this.panel.style.left=f>0?f+"px":"",b.classList.add("active")):void 0},a.prototype.onMouseMove=function(a){var b,c;if(b=a.target,b._gss)return this.visualize(a.target.getAttribute("property"));for(;b;){if(1===b.nodeType&&"domain"===b.tagName.toLowerCase())return this.constraints(b.getAttribute("for"),b);b=b.parentNode}return(null!=(c=this.panel)?c.parentNode:void 0)&&(this.panel.parentNode.classList.remove("active"),this.panel.parentNode.removeChild(this.panel)),this.reaching?this.visualize():void 0},a.prototype.visualize=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;if(a||b){if(b||document.body.getAttribute("reaching")!==a){if(b){j=[];for(a in this.rulers)for(n=0,q=b.length;q>n;n++)if(f=b[n],a.substring(0,f.length)===f&&"["===a.substring(f.length,f.length+1)&&(j.push(a),!c&&b.length>1)){b.splice(1);break}}else j=[a],b=[a.split("[")[0]];for(e=this.getDomains(b)[0],k=!1,u=[],o=0,r=j.length;r>o;o++)h=j[o],u.push(e&&(i=null!=(t=e.distances)?t[h]:void 0)?function(){var a,b;b=[];for(g in i)d=i[g],d?b.push(void 0):(k=!0,null!=(a=this.rulers[g])&&a.classList.add("reached"),this.reaching=e,b.push(document.body.setAttribute("reaching",h||f)));return b}.call(this):void 0);return u}}else if(this.reaching)for(this.reaching=void 0,document.body.removeAttribute("reaching"),s=document.getElementsByTagName("ruler"),m=0,p=s.length;p>m;m++)l=s[m],l.classList.remove("reached")},a.prototype.filter=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;if(this.indexes||(this.indexes=function(){var a,b,c,d;for(c=this.list.childNodes,d=[],a=0,b=c.length;b>a;a++)h=c[a],d.push(null==h.getAttribute("hidden")?h.getAttribute("for"):void 0);return d}.call(this)),b)a=function(){var a,b,c,d;for(c=this.list.childNodes,d=[],a=0,b=c.length;b>a;a++)h=c[a],d.push(h.getAttribute("for"));return d}.call(this),a.toString()===this.indexes.toString()&&(a=[]),this.indexes=a||[];else for(m=0,o=a.length;o>m;m++)f=a[m],-1===(e=this.indexes.indexOf(f))?this.indexes.push(f):this.indexes.splice(e,1);for(q=this.list.childNodes,g=n=0,p=q.length;p>n;g=++n)d=q[g],null!=this.engine.domains[g]&&(-1===this.indexes.indexOf(String(this.engine.domains[g].uid))?(d.setAttribute("hidden","hidden"),(null!=(r=this.panel)?r.parentNode:void 0)===d&&(d.classList.remove("active"),d.removeChild(this.panel))):d.removeAttribute("hidden"));l=null,s=this.rulers;for(j in s)if(k=s[j],-1===this.indexes.indexOf(k.getAttribute("domain")))k.setAttribute("hidden","hidden");else if(null!=k.getAttribute("hidden")){for(k.removeAttribute("hidden"),i=0;k;)i+=k.offsetTop,k=k.offsetParent;(null==l||l>i)&&(l=i)}return null!=l&&c?window.scrollTo(0,l):void 0},a.prototype.domains=function(b){var c,d,e,f,g,h,i;for(this.singles=void 0,this.sheet||this.stylesheet(),this.list||(this.list=document.createElement("domains"),this.list._gss=!0,document.body.appendChild(this.list)),h=0,f=[],d=i=b.length-1;i>=0;d=i+=-1)c=b[d],1===c.constraints.length?(g=this.singles||(this.singles={constraints:[],uid:"singles",displayName:"Singles"}),g.constraints.push(c.constraints[0])):f.push(c);return f=f.sort(function(a,b){return b.constraints.length-a.constraints.length}),g&&f.push(g),a.uid||(a.uid=0),e=f.map(function(b){return function(c){var d,e;return c.uid||(c.uid=++a.uid),d=(null!=(e=c.constraints)?e.length:void 0)||0,h+=d,'<domain for="'+c.uid+'" count="'+d+'" '+(b.engine.console.level<=1&&"hidden")+' class="'+c.displayName.toLowerCase()+'">'+d+"</domain>"}}(this)).join(""),e+="<label> = <strong>"+h+"</strong></label>",this.list.innerHTML=e},a.prototype.ruler=function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;if(i=b.split("["),l=i[0],o=i[1].split("]")[0],p=(this.rulers||(this.rulers={}))[b]){if(null==c)return null!=(u=p.parentNode)&&u.removeChild(p),void delete this.rulers[b]}else{if(null==c)return;p=this.rulers[b]=document.createElement("ruler"),p.className=o,p._gss=!0,l=b.split("[")[0],p.setAttribute("for",l),p.setAttribute("property",b),p.setAttribute("title",b),p.removeAttribute("hidden")}for(k=void 0,v=this.engine.domains,q=0,s=v.length;s>q;q++)if(n=v[q],n.values.hasOwnProperty(b)&&"Solved"!==n.displayName){k=n;break}if(!k)return void(null!=(w=p.parentNode)&&w.removeChild(p));if(p.setAttribute("domain",k.uid),!(m="string"==typeof this.engine.variables[b]))for(x=k.constraints,r=0,t=x.length;t>r;r++)if(j=x[r],j.operations[0].variables[b]&&1===Object.keys(j.operations[0].variables).length){m=!0;break}return m?p.classList.add("constant"):p.classList.remove("constant"),null!=this.engine.values[b.replace("[","[intrinsic-")]?p.classList.add("intrinsic"):p.classList.remove("intrinsic"),h?p.classList.add("virtual"):p.classList.remove("virtual"),p.style.top=Math.floor(e)+"px",p.style.left=Math.floor(d)+"px",p.style.width=f+"px",p.style.height=g+"px",h?(a.offsetHeight||(a=a.parentNode),a.appendChild(p),"height"===o&&null!=this.engine.values[l+"[width]"]?p.style.width=this.engine.values[l+"[width]"]+"px":void 0):a.parentNode.appendChild(p)},a.prototype.reach=function(a,b,c,d){var e,f,g;null==d&&(d=0),(a[b]||(a[b]={}))[c]=d,(a[c]||(a[c]={}))[b]=d,g=[];for(f in a[b])e=a[c][f],g.push(null==e||e>d+1?this.reach(a,c,f,d+1):void 0);return g},a.prototype.draw=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;return l=(c=a.split('"')).length>1?c[0]:a,1===(null!=(n=f=this.engine.identity[l])?n.nodeType:void 0)?(l!==a?(f.offsetHeight||f.offsetTop||(f=f.parentNode,l=this.engine.identify(f),j=!0),m=null!=(o=b[l+"[y]"])?o:0,g=null!=(p=b[l+"[x]"])?p:0,e=null!=(q=b[a+"[y]"])?q:0,d=null!=(r=b[a+"[x]"])?r:0,i=m+e,h=g+d):(m=f.offsetTop,g=f.offsetLeft),j||((null!=(s=f.offsetWidth!==b[l+"[width]"])?s:b[l+"[intrinsic-width]"])&&(d=g+f.clientLeft),(null!=(t=f.offsetHeight!==b[l+"[height]"])?t:b[l+"[intrinsic-height]"])&&(e=m+f.clientTop))):(f=document.body,g=null!=(u=b[a+"[x]"])?u:0,m=null!=(v=b[a+"[y]"])?v:0),b.hasOwnProperty(k=a+"[width]")&&this.ruler(f,k,b[k],null!=d?d:g,null!=e?e:m,b[k],0,l!==a),b.hasOwnProperty(k=a+"[height]")&&this.ruler(f,k,b[k],null!=d?d:g,null!=e?e:m,0,b[k],l!==a),b.hasOwnProperty(k=a+"[x]")&&this.ruler(f,k,b[k],(null!=h?h:g)-b[k],null!=i?i:m,b[k],0,l!==a),b.hasOwnProperty(k=a+"[y]")?this.ruler(f,k,b[k],null!=h?h:g,(null!=i?i:m)-b[k],0,b[k],l!==a):void 0},a}(),b.exports=c},{}],44:[function(){(function(a){function b(a){u.push(a),t||(t=!0,q(d))}function c(a){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(a)||a}function d(){t=!1;var a=u;u=[],a.sort(function(a,b){return a.uid_-b.uid_});var b=!1;a.forEach(function(a){var c=a.takeRecords();e(a),c.length&&(a.callback_(c,a),b=!0)}),b&&d()}function e(a){a.nodes_.forEach(function(b){var c=p.get(b);c&&c.forEach(function(b){b.observer===a&&b.removeTransientObservers()})})}function f(a,b){for(var c=a;c;c=c.parentNode){var d=p.get(c);if(d)for(var e=0;e<d.length;e++){var f=d[e],g=f.options;if(c===a||g.subtree){var h=b(g);h&&f.enqueue(h)}}}}function g(a){this.callback_=a,this.nodes_=[],this.records_=[],this.uid_=++v}function h(a,b){this.type=a,this.target=b,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function i(a){var b=new h(a.type,a.target);return b.addedNodes=a.addedNodes.slice(),b.removedNodes=a.removedNodes.slice(),b.previousSibling=a.previousSibling,b.nextSibling=a.nextSibling,b.attributeName=a.attributeName,b.attributeNamespace=a.attributeNamespace,b.oldValue=a.oldValue,b}function j(a,b){return w=new h(a,b)}function k(a){return x?x:(x=i(w),x.oldValue=a,x)}function l(){w=x=void 0}function m(a){return a===x||a===w}function n(a,b){return a===b?a:x&&m(a)?x:null}function o(a,b,c){this.observer=a,this.target=b,this.options=c,this.transientObservedNodes=[]}if("undefined"!=typeof window){var p=new WeakMap,q=window.msSetImmediate||window.setImmediate;if(!q){var r=[],s=String(Math.random());window.addEventListener("message",function(a){if(a.data===s){var b=r;r=[],b.forEach(function(a){a()})}}),q=function(a){r.push(a),window.postMessage(s,"*")}}var t=!1,u=[],v=0;g.prototype={observe:function(a,b){if(a=c(a),!b.childList&&!b.attributes&&!b.characterData||b.attributeOldValue&&!b.attributes||b.attributeFilter&&b.attributeFilter.length&&!b.attributes||b.characterDataOldValue&&!b.characterData)throw new SyntaxError;var d=p.get(a);d||p.set(a,d=[]);for(var e,f=0;f<d.length;f++)if(d[f].observer===this){e=d[f],e.removeListeners(),e.options=b;break}e||(e=new o(this,a,b),d.push(e),this.nodes_.push(a)),e.addListeners()},disconnect:function(){this.nodes_.forEach(function(a){for(var b=p.get(a),c=0;c<b.length;c++){var d=b[c];if(d.observer===this){d.removeListeners(),b.splice(c,1);break}}},this),this.records_=[]},takeRecords:function(){var a=this.records_;return this.records_=[],a}};var w,x;o.prototype={enqueue:function(a){var c=this.observer.records_,d=c.length;if(c.length>0){var e=c[d-1],f=n(e,a);if(f)return void(c[d-1]=f)}else b(this.observer);c[d]=a},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(a){var b=this.options;b.attributes&&a.addEventListener("DOMAttrModified",this,!0),b.characterData&&a.addEventListener("DOMCharacterDataModified",this,!0),b.childList&&a.addEventListener("DOMNodeInserted",this,!0),(b.childList||b.subtree)&&a.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(a){var b=this.options;b.attributes&&a.removeEventListener("DOMAttrModified",this,!0),b.characterData&&a.removeEventListener("DOMCharacterDataModified",this,!0),b.childList&&a.removeEventListener("DOMNodeInserted",this,!0),(b.childList||b.subtree)&&a.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(a){if(a!==this.target){this.addListeners_(a),this.transientObservedNodes.push(a);var b=p.get(a);b||p.set(a,b=[]),b.push(this)}},removeTransientObservers:function(){var a=this.transientObservedNodes;this.transientObservedNodes=[],a.forEach(function(a){this.removeListeners_(a);for(var b=p.get(a),c=0;c<b.length;c++)if(b[c]===this){b.splice(c,1);break}},this)},handleEvent:function(a){switch(a.stopImmediatePropagation(),a.type){case"DOMAttrModified":var b=a.attrName,c=a.relatedNode.namespaceURI,d=a.target,e=new j("attributes",d);e.attributeName=b,e.attributeNamespace=c;var g=a.attrChange===MutationEvent.ADDITION?null:a.prevValue;f(d,function(a){return!a.attributes||a.attributeFilter&&a.attributeFilter.length&&-1===a.attributeFilter.indexOf(b)&&-1===a.attributeFilter.indexOf(c)?void 0:a.attributeOldValue?k(g):e});break;case"DOMCharacterDataModified":var d=a.target,e=j("characterData",d),g=a.prevValue;f(d,function(a){return a.characterData?a.characterDataOldValue?k(g):e:void 0});break;case"DOMNodeRemoved":this.addTransientObserver(a.target);case"DOMNodeInserted":var h,i,d=a.relatedNode,m=a.target;"DOMNodeInserted"===a.type?(h=[m],i=[]):(h=[],i=[m]);var n=m.previousSibling,o=m.nextSibling,e=j("childList",d);e.addedNodes=h,e.removedNodes=i,e.previousSibling=n,e.nextSibling=o,f(d,function(a){return a.childList?e:void 0})}l()}},a.JsMutationObserver=g,a.MutationObserver||(a.MutationObserver=g)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(a,b,c){!function(a){"use strict";var b={};"undefined"==typeof c?"function"==typeof define&&"object"==typeof define.amd&&define.amd?(b.exports={},define(function(){return b.exports})):b.exports="undefined"!=typeof window?window:a:b.exports=c,function(a){if(!b)var b=1e-6;if(!c)var c="undefined"!=typeof Float32Array?Float32Array:Array;if(!d)var d=Math.random;var e={};e.setMatrixArrayType=function(a){c=a},"undefined"!=typeof a&&(a.glMatrix=e);var f=Math.PI/180;e.toRadian=function(a){return a*f};var g={};g.create=function(){var a=new c(2);return a[0]=0,a[1]=0,a},g.clone=function(a){var b=new c(2);return b[0]=a[0],b[1]=a[1],b},g.fromValues=function(a,b){var d=new c(2);return d[0]=a,d[1]=b,d},g.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a},g.set=function(a,b,c){return a[0]=b,a[1]=c,a},g.add=function(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a},g.subtract=function(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a},g.sub=g.subtract,g.multiply=function(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a},g.mul=g.multiply,g.divide=function(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a},g.div=g.divide,g.min=function(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a},g.max=function(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a},g.scale=function(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a},g.scaleAndAdd=function(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a},g.distance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1];return Math.sqrt(c*c+d*d)},g.dist=g.distance,g.squaredDistance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1];return c*c+d*d},g.sqrDist=g.squaredDistance,g.length=function(a){var b=a[0],c=a[1];return Math.sqrt(b*b+c*c)},g.len=g.length,g.squaredLength=function(a){var b=a[0],c=a[1];return b*b+c*c},g.sqrLen=g.squaredLength,g.negate=function(a,b){return a[0]=-b[0],a[1]=-b[1],a},g.normalize=function(a,b){var c=b[0],d=b[1],e=c*c+d*d;return e>0&&(e=1/Math.sqrt(e),a[0]=b[0]*e,a[1]=b[1]*e),a},g.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]},g.cross=function(a,b,c){var d=b[0]*c[1]-b[1]*c[0];return a[0]=a[1]=0,a[2]=d,a},g.lerp=function(a,b,c,d){var e=b[0],f=b[1];return a[0]=e+d*(c[0]-e),a[1]=f+d*(c[1]-f),a},g.random=function(a,b){b=b||1;var c=2*d()*Math.PI;return a[0]=Math.cos(c)*b,a[1]=Math.sin(c)*b,a},g.transformMat2=function(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[2]*e,a[1]=c[1]*d+c[3]*e,a},g.transformMat2d=function(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[2]*e+c[4],a[1]=c[1]*d+c[3]*e+c[5],a},g.transformMat3=function(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[3]*e+c[6],a[1]=c[1]*d+c[4]*e+c[7],a},g.transformMat4=function(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[4]*e+c[12],a[1]=c[1]*d+c[5]*e+c[13],a},g.forEach=function(){var a=g.create();return function(b,c,d,e,f,g){var h,i;for(c||(c=2),d||(d=0),i=e?Math.min(e*c+d,b.length):b.length,h=d;i>h;h+=c)a[0]=b[h],a[1]=b[h+1],f(a,a,g),b[h]=a[0],b[h+1]=a[1];return b}}(),g.str=function(a){return"vec2("+a[0]+", "+a[1]+")"},"undefined"!=typeof a&&(a.vec2=g);var h={};h.create=function(){var a=new c(3);return a[0]=0,a[1]=0,a[2]=0,a},h.clone=function(a){var b=new c(3);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b},h.fromValues=function(a,b,d){var e=new c(3);return e[0]=a,e[1]=b,e[2]=d,e},h.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a},h.set=function(a,b,c,d){return a[0]=b,a[1]=c,a[2]=d,a},h.add=function(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2],a},h.subtract=function(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a[2]=b[2]-c[2],a},h.sub=h.subtract,h.multiply=function(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a[2]=b[2]*c[2],a},h.mul=h.multiply,h.divide=function(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a[2]=b[2]/c[2],a},h.div=h.divide,h.min=function(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a[2]=Math.min(b[2],c[2]),a},h.max=function(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a[2]=Math.max(b[2],c[2]),a},h.scale=function(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a},h.scaleAndAdd=function(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a[2]=b[2]+c[2]*d,a},h.distance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2];return Math.sqrt(c*c+d*d+e*e)},h.dist=h.distance,h.squaredDistance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2];return c*c+d*d+e*e},h.sqrDist=h.squaredDistance,h.length=function(a){var b=a[0],c=a[1],d=a[2];return Math.sqrt(b*b+c*c+d*d)},h.len=h.length,h.squaredLength=function(a){var b=a[0],c=a[1],d=a[2];return b*b+c*c+d*d},h.sqrLen=h.squaredLength,h.negate=function(a,b){return a[0]=-b[0],a[1]=-b[1],a[2]=-b[2],a},h.normalize=function(a,b){var c=b[0],d=b[1],e=b[2],f=c*c+d*d+e*e;return f>0&&(f=1/Math.sqrt(f),a[0]=b[0]*f,a[1]=b[1]*f,a[2]=b[2]*f),a},h.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]},h.cross=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=c[0],h=c[1],i=c[2];return a[0]=e*i-f*h,a[1]=f*g-d*i,a[2]=d*h-e*g,a},h.lerp=function(a,b,c,d){var e=b[0],f=b[1],g=b[2];return a[0]=e+d*(c[0]-e),a[1]=f+d*(c[1]-f),a[2]=g+d*(c[2]-g),a},h.random=function(a,b){b=b||1;var c=2*d()*Math.PI,e=2*d()-1,f=Math.sqrt(1-e*e)*b;return a[0]=Math.cos(c)*f,a[1]=Math.sin(c)*f,a[2]=e*b,a},h.transformMat4=function(a,b,c){var d=b[0],e=b[1],f=b[2];return a[0]=c[0]*d+c[4]*e+c[8]*f+c[12],a[1]=c[1]*d+c[5]*e+c[9]*f+c[13],a[2]=c[2]*d+c[6]*e+c[10]*f+c[14],a},h.transformMat3=function(a,b,c){var d=b[0],e=b[1],f=b[2];return a[0]=d*c[0]+e*c[3]+f*c[6],a[1]=d*c[1]+e*c[4]+f*c[7],a[2]=d*c[2]+e*c[5]+f*c[8],a},h.transformQuat=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=c[0],h=c[1],i=c[2],j=c[3],k=j*d+h*f-i*e,l=j*e+i*d-g*f,m=j*f+g*e-h*d,n=-g*d-h*e-i*f;return a[0]=k*j+n*-g+l*-i-m*-h,a[1]=l*j+n*-h+m*-g-k*-i,a[2]=m*j+n*-i+k*-h-l*-g,a},h.forEach=function(){var a=h.create();return function(b,c,d,e,f,g){var h,i;for(c||(c=3),d||(d=0),i=e?Math.min(e*c+d,b.length):b.length,h=d;i>h;h+=c)a[0]=b[h],a[1]=b[h+1],a[2]=b[h+2],f(a,a,g),b[h]=a[0],b[h+1]=a[1],b[h+2]=a[2];return b}}(),h.str=function(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"},"undefined"!=typeof a&&(a.vec3=h);var i={};i.create=function(){var a=new c(4);return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a},i.clone=function(a){var b=new c(4);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b},i.fromValues=function(a,b,d,e){var f=new c(4);return f[0]=a,f[1]=b,f[2]=d,f[3]=e,f},i.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a},i.set=function(a,b,c,d,e){return a[0]=b,a[1]=c,a[2]=d,a[3]=e,a},i.add=function(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2],a[3]=b[3]+c[3],a},i.subtract=function(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a[2]=b[2]-c[2],a[3]=b[3]-c[3],a},i.sub=i.subtract,i.multiply=function(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a[2]=b[2]*c[2],a[3]=b[3]*c[3],a},i.mul=i.multiply,i.divide=function(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a[2]=b[2]/c[2],a[3]=b[3]/c[3],a},i.div=i.divide,i.min=function(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a[2]=Math.min(b[2],c[2]),a[3]=Math.min(b[3],c[3]),a},i.max=function(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a[2]=Math.max(b[2],c[2]),a[3]=Math.max(b[3],c[3]),a},i.scale=function(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a[3]=b[3]*c,a},i.scaleAndAdd=function(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a[2]=b[2]+c[2]*d,a[3]=b[3]+c[3]*d,a},i.distance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2],f=b[3]-a[3];return Math.sqrt(c*c+d*d+e*e+f*f)},i.dist=i.distance,i.squaredDistance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2],f=b[3]-a[3];return c*c+d*d+e*e+f*f},i.sqrDist=i.squaredDistance,i.length=function(a){var b=a[0],c=a[1],d=a[2],e=a[3];return Math.sqrt(b*b+c*c+d*d+e*e)},i.len=i.length,i.squaredLength=function(a){var b=a[0],c=a[1],d=a[2],e=a[3];return b*b+c*c+d*d+e*e},i.sqrLen=i.squaredLength,i.negate=function(a,b){return a[0]=-b[0],a[1]=-b[1],a[2]=-b[2],a[3]=-b[3],a},i.normalize=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c*c+d*d+e*e+f*f;return g>0&&(g=1/Math.sqrt(g),a[0]=b[0]*g,a[1]=b[1]*g,a[2]=b[2]*g,a[3]=b[3]*g),a},i.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]},i.lerp=function(a,b,c,d){var e=b[0],f=b[1],g=b[2],h=b[3];return a[0]=e+d*(c[0]-e),a[1]=f+d*(c[1]-f),a[2]=g+d*(c[2]-g),a[3]=h+d*(c[3]-h),a},i.random=function(a,b){return b=b||1,a[0]=d(),a[1]=d(),a[2]=d(),a[3]=d(),i.normalize(a,a),i.scale(a,a,b),a},i.transformMat4=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3];return a[0]=c[0]*d+c[4]*e+c[8]*f+c[12]*g,a[1]=c[1]*d+c[5]*e+c[9]*f+c[13]*g,a[2]=c[2]*d+c[6]*e+c[10]*f+c[14]*g,a[3]=c[3]*d+c[7]*e+c[11]*f+c[15]*g,a},i.transformQuat=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=c[0],h=c[1],i=c[2],j=c[3],k=j*d+h*f-i*e,l=j*e+i*d-g*f,m=j*f+g*e-h*d,n=-g*d-h*e-i*f;return a[0]=k*j+n*-g+l*-i-m*-h,a[1]=l*j+n*-h+m*-g-k*-i,a[2]=m*j+n*-i+k*-h-l*-g,a},i.forEach=function(){var a=i.create();return function(b,c,d,e,f,g){var h,i;for(c||(c=4),d||(d=0),i=e?Math.min(e*c+d,b.length):b.length,h=d;i>h;h+=c)a[0]=b[h],a[1]=b[h+1],a[2]=b[h+2],a[3]=b[h+3],f(a,a,g),b[h]=a[0],b[h+1]=a[1],b[h+2]=a[2],b[h+3]=a[3];return b}}(),i.str=function(a){return"vec4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"},"undefined"!=typeof a&&(a.vec4=i);var j={};j.create=function(){var a=new c(4);return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a},j.clone=function(a){var b=new c(4);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b},j.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a},j.identity=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a},j.transpose=function(a,b){if(a===b){var c=b[1];a[1]=b[2],a[2]=c}else a[0]=b[0],a[1]=b[2],a[2]=b[1],a[3]=b[3];return a},j.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c*f-e*d;return g?(g=1/g,a[0]=f*g,a[1]=-d*g,a[2]=-e*g,a[3]=c*g,a):null},j.adjoint=function(a,b){var c=b[0];return a[0]=b[3],a[1]=-b[1],a[2]=-b[2],a[3]=c,a},j.determinant=function(a){return a[0]*a[3]-a[2]*a[1]},j.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[0],i=c[1],j=c[2],k=c[3];return a[0]=d*h+e*j,a[1]=d*i+e*k,a[2]=f*h+g*j,a[3]=f*i+g*k,a},j.mul=j.multiply,j.rotate=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i+e*h,a[1]=d*-h+e*i,a[2]=f*i+g*h,a[3]=f*-h+g*i,a},j.scale=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[0],i=c[1];return a[0]=d*h,a[1]=e*i,a[2]=f*h,a[3]=g*i,a},j.str=function(a){return"mat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"},"undefined"!=typeof a&&(a.mat2=j);var k={};k.create=function(){var a=new c(6);return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a},k.clone=function(a){var b=new c(6);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b},k.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a},k.identity=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a},k.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=c*f-d*e;return i?(i=1/i,a[0]=f*i,a[1]=-d*i,a[2]=-e*i,a[3]=c*i,a[4]=(e*h-f*g)*i,a[5]=(d*g-c*h)*i,a):null},k.determinant=function(a){return a[0]*a[3]-a[1]*a[2]},k.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=c[0],k=c[1],l=c[2],m=c[3],n=c[4],o=c[5];return a[0]=d*j+e*l,a[1]=d*k+e*m,a[2]=f*j+g*l,a[3]=f*k+g*m,a[4]=j*h+l*i+n,a[5]=k*h+m*i+o,a},k.mul=k.multiply,k.rotate=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=Math.sin(c),k=Math.cos(c);return a[0]=d*k+e*j,a[1]=-d*j+e*k,a[2]=f*k+g*j,a[3]=-f*j+k*g,a[4]=k*h+j*i,a[5]=k*i-j*h,a},k.scale=function(a,b,c){var d=c[0],e=c[1];return a[0]=b[0]*d,a[1]=b[1]*e,a[2]=b[2]*d,a[3]=b[3]*e,a[4]=b[4]*d,a[5]=b[5]*e,a},k.translate=function(a,b,c){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4]+c[0],a[5]=b[5]+c[1],a},k.str=function(a){return"mat2d("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+")"},"undefined"!=typeof a&&(a.mat2d=k);var l={};l.create=function(){var a=new c(9);return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a},l.fromMat4=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[4],a[4]=b[5],a[5]=b[6],a[6]=b[8],a[7]=b[9],a[8]=b[10],a},l.clone=function(a){var b=new c(9);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b},l.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a},l.identity=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a},l.transpose=function(a,b){if(a===b){var c=b[1],d=b[2],e=b[5];a[1]=b[3],a[2]=b[6],a[3]=c,a[5]=b[7],a[6]=d,a[7]=e}else a[0]=b[0],a[1]=b[3],a[2]=b[6],a[3]=b[1],a[4]=b[4],a[5]=b[7],a[6]=b[2],a[7]=b[5],a[8]=b[8];return a},l.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=k*g-h*j,m=-k*f+h*i,n=j*f-g*i,o=c*l+d*m+e*n;return o?(o=1/o,a[0]=l*o,a[1]=(-k*d+e*j)*o,a[2]=(h*d-e*g)*o,a[3]=m*o,a[4]=(k*c-e*i)*o,a[5]=(-h*c+e*f)*o,a[6]=n*o,a[7]=(-j*c+d*i)*o,a[8]=(g*c-d*f)*o,a):null},l.adjoint=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8];return a[0]=g*k-h*j,a[1]=e*j-d*k,a[2]=d*h-e*g,a[3]=h*i-f*k,a[4]=c*k-e*i,a[5]=e*f-c*h,a[6]=f*j-g*i,a[7]=d*i-c*j,a[8]=c*g-d*f,a},l.determinant=function(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7],j=a[8];return b*(j*f-g*i)+c*(-j*e+g*h)+d*(i*e-f*h)},l.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=c[0],n=c[1],o=c[2],p=c[3],q=c[4],r=c[5],s=c[6],t=c[7],u=c[8];return a[0]=m*d+n*g+o*j,a[1]=m*e+n*h+o*k,a[2]=m*f+n*i+o*l,a[3]=p*d+q*g+r*j,a[4]=p*e+q*h+r*k,a[5]=p*f+q*i+r*l,a[6]=s*d+t*g+u*j,a[7]=s*e+t*h+u*k,a[8]=s*f+t*i+u*l,a},l.mul=l.multiply,l.translate=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=c[0],n=c[1];return a[0]=d,a[1]=e,a[2]=f,a[3]=g,a[4]=h,a[5]=i,a[6]=m*d+n*g+j,a[7]=m*e+n*h+k,a[8]=m*f+n*i+l,a},l.rotate=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=Math.sin(c),n=Math.cos(c);return a[0]=n*d+m*g,a[1]=n*e+m*h,a[2]=n*f+m*i,a[3]=n*g-m*d,a[4]=n*h-m*e,a[5]=n*i-m*f,a[6]=j,a[7]=k,a[8]=l,a},l.scale=function(a,b,c){var d=c[0],e=c[1];return a[0]=d*b[0],a[1]=d*b[1],a[2]=d*b[2],a[3]=e*b[3],a[4]=e*b[4],a[5]=e*b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a},l.fromMat2d=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=0,a[3]=b[2],a[4]=b[3],a[5]=0,a[6]=b[4],a[7]=b[5],a[8]=1,a},l.fromQuat=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c+c,h=d+d,i=e+e,j=c*g,k=d*g,l=d*h,m=e*g,n=e*h,o=e*i,p=f*g,q=f*h,r=f*i;return a[0]=1-l-o,a[3]=k-r,a[6]=m+q,a[1]=k+r,a[4]=1-j-o,a[7]=n-p,a[2]=m-q,a[5]=n+p,a[8]=1-j-l,a},l.normalFromMat4=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11],o=b[12],p=b[13],q=b[14],r=b[15],s=c*h-d*g,t=c*i-e*g,u=c*j-f*g,v=d*i-e*h,w=d*j-f*h,x=e*j-f*i,y=k*p-l*o,z=k*q-m*o,A=k*r-n*o,B=l*q-m*p,C=l*r-n*p,D=m*r-n*q,E=s*D-t*C+u*B+v*A-w*z+x*y;return E?(E=1/E,a[0]=(h*D-i*C+j*B)*E,a[1]=(i*A-g*D-j*z)*E,a[2]=(g*C-h*A+j*y)*E,a[3]=(e*C-d*D-f*B)*E,a[4]=(c*D-e*A+f*z)*E,a[5]=(d*A-c*C-f*y)*E,a[6]=(p*x-q*w+r*v)*E,a[7]=(q*u-o*x-r*t)*E,a[8]=(o*w-p*u+r*s)*E,a):null},l.str=function(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"},"undefined"!=typeof a&&(a.mat3=l);var m={};m.create=function(){var a=new c(16);return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},m.clone=function(a){var b=new c(16);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15],b},m.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15],a},m.identity=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},m.transpose=function(a,b){if(a===b){var c=b[1],d=b[2],e=b[3],f=b[6],g=b[7],h=b[11];a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=c,a[6]=b[9],a[7]=b[13],a[8]=d,a[9]=f,a[11]=b[14],a[12]=e,a[13]=g,a[14]=h}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a},m.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11],o=b[12],p=b[13],q=b[14],r=b[15],s=c*h-d*g,t=c*i-e*g,u=c*j-f*g,v=d*i-e*h,w=d*j-f*h,x=e*j-f*i,y=k*p-l*o,z=k*q-m*o,A=k*r-n*o,B=l*q-m*p,C=l*r-n*p,D=m*r-n*q,E=s*D-t*C+u*B+v*A-w*z+x*y;return E?(E=1/E,a[0]=(h*D-i*C+j*B)*E,a[1]=(e*C-d*D-f*B)*E,a[2]=(p*x-q*w+r*v)*E,a[3]=(m*w-l*x-n*v)*E,a[4]=(i*A-g*D-j*z)*E,a[5]=(c*D-e*A+f*z)*E,a[6]=(q*u-o*x-r*t)*E,a[7]=(k*x-m*u+n*t)*E,a[8]=(g*C-h*A+j*y)*E,a[9]=(d*A-c*C-f*y)*E,a[10]=(o*w-p*u+r*s)*E,a[11]=(l*u-k*w-n*s)*E,a[12]=(h*z-g*B-i*y)*E,a[13]=(c*B-d*z+e*y)*E,a[14]=(p*t-o*v-q*s)*E,a[15]=(k*v-l*t+m*s)*E,a):null},m.adjoint=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11],o=b[12],p=b[13],q=b[14],r=b[15];return a[0]=h*(m*r-n*q)-l*(i*r-j*q)+p*(i*n-j*m),a[1]=-(d*(m*r-n*q)-l*(e*r-f*q)+p*(e*n-f*m)),a[2]=d*(i*r-j*q)-h*(e*r-f*q)+p*(e*j-f*i),a[3]=-(d*(i*n-j*m)-h*(e*n-f*m)+l*(e*j-f*i)),a[4]=-(g*(m*r-n*q)-k*(i*r-j*q)+o*(i*n-j*m)),a[5]=c*(m*r-n*q)-k*(e*r-f*q)+o*(e*n-f*m),a[6]=-(c*(i*r-j*q)-g*(e*r-f*q)+o*(e*j-f*i)),a[7]=c*(i*n-j*m)-g*(e*n-f*m)+k*(e*j-f*i),a[8]=g*(l*r-n*p)-k*(h*r-j*p)+o*(h*n-j*l),a[9]=-(c*(l*r-n*p)-k*(d*r-f*p)+o*(d*n-f*l)),a[10]=c*(h*r-j*p)-g*(d*r-f*p)+o*(d*j-f*h),a[11]=-(c*(h*n-j*l)-g*(d*n-f*l)+k*(d*j-f*h)),a[12]=-(g*(l*q-m*p)-k*(h*q-i*p)+o*(h*m-i*l)),
a[13]=c*(l*q-m*p)-k*(d*q-e*p)+o*(d*m-e*l),a[14]=-(c*(h*q-i*p)-g*(d*q-e*p)+o*(d*i-e*h)),a[15]=c*(h*m-i*l)-g*(d*m-e*l)+k*(d*i-e*h),a},m.determinant=function(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7],j=a[8],k=a[9],l=a[10],m=a[11],n=a[12],o=a[13],p=a[14],q=a[15],r=b*g-c*f,s=b*h-d*f,t=b*i-e*f,u=c*h-d*g,v=c*i-e*g,w=d*i-e*h,x=j*o-k*n,y=j*p-l*n,z=j*q-m*n,A=k*p-l*o,B=k*q-m*o,C=l*q-m*p;return r*C-s*B+t*A+u*z-v*y+w*x},m.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=b[9],n=b[10],o=b[11],p=b[12],q=b[13],r=b[14],s=b[15],t=c[0],u=c[1],v=c[2],w=c[3];return a[0]=t*d+u*h+v*l+w*p,a[1]=t*e+u*i+v*m+w*q,a[2]=t*f+u*j+v*n+w*r,a[3]=t*g+u*k+v*o+w*s,t=c[4],u=c[5],v=c[6],w=c[7],a[4]=t*d+u*h+v*l+w*p,a[5]=t*e+u*i+v*m+w*q,a[6]=t*f+u*j+v*n+w*r,a[7]=t*g+u*k+v*o+w*s,t=c[8],u=c[9],v=c[10],w=c[11],a[8]=t*d+u*h+v*l+w*p,a[9]=t*e+u*i+v*m+w*q,a[10]=t*f+u*j+v*n+w*r,a[11]=t*g+u*k+v*o+w*s,t=c[12],u=c[13],v=c[14],w=c[15],a[12]=t*d+u*h+v*l+w*p,a[13]=t*e+u*i+v*m+w*q,a[14]=t*f+u*j+v*n+w*r,a[15]=t*g+u*k+v*o+w*s,a},m.mul=m.multiply,m.translate=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t=c[0],u=c[1],v=c[2];return d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=b[9],n=b[10],o=b[11],p=b[12],q=b[13],r=b[14],s=b[15],a[0]=d+g*t,a[1]=e+g*u,a[2]=f+g*v,a[3]=g,a[4]=h+k*t,a[5]=i+k*u,a[6]=j+k*v,a[7]=k,a[8]=l+o*t,a[9]=m+o*u,a[10]=n+o*v,a[11]=o,a[12]=p+s*t,a[13]=q+s*u,a[14]=r+s*v,a[15]=s,a},m.scale=function(a,b,c){var d=c[0],e=c[1],f=c[2];return a[0]=b[0]*d,a[1]=b[1]*d,a[2]=b[2]*d,a[3]=b[3]*d,a[4]=b[4]*e,a[5]=b[5]*e,a[6]=b[6]*e,a[7]=b[7]*e,a[8]=b[8]*f,a[9]=b[9]*f,a[10]=b[10]*f,a[11]=b[11]*f,a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15],a},m.rotate=function(a,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D=e[0],E=e[1],F=e[2],G=Math.sqrt(D*D+E*E+F*F);return Math.abs(G)<b?null:(G=1/G,D*=G,E*=G,F*=G,f=Math.sin(d),g=Math.cos(d),h=1-g,i=c[0],j=c[1],k=c[2],l=c[3],m=c[4],n=c[5],o=c[6],p=c[7],q=c[8],r=c[9],s=c[10],t=c[11],u=D*D*h+g,v=E*D*h+F*f,w=F*D*h-E*f,x=D*E*h-F*f,y=E*E*h+g,z=F*E*h+D*f,A=D*F*h+E*f,B=E*F*h-D*f,C=F*F*h+g,a[0]=i*u+m*v+q*w,a[1]=j*u+n*v+r*w,a[2]=k*u+o*v+s*w,a[3]=l*u+p*v+t*w,a[4]=i*x+m*y+q*z,a[5]=j*x+n*y+r*z,a[6]=k*x+o*y+s*z,a[7]=l*x+p*y+t*z,a[8]=i*A+m*B+q*C,a[9]=j*A+n*B+r*C,a[10]=k*A+o*B+s*C,a[11]=l*A+p*B+t*C,c!==a&&(a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]),a)},m.rotateX=function(a,b,c){var d=Math.sin(c),e=Math.cos(c),f=b[4],g=b[5],h=b[6],i=b[7],j=b[8],k=b[9],l=b[10],m=b[11];return b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a[4]=f*e+j*d,a[5]=g*e+k*d,a[6]=h*e+l*d,a[7]=i*e+m*d,a[8]=j*e-f*d,a[9]=k*e-g*d,a[10]=l*e-h*d,a[11]=m*e-i*d,a},m.rotateY=function(a,b,c){var d=Math.sin(c),e=Math.cos(c),f=b[0],g=b[1],h=b[2],i=b[3],j=b[8],k=b[9],l=b[10],m=b[11];return b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a[0]=f*e-j*d,a[1]=g*e-k*d,a[2]=h*e-l*d,a[3]=i*e-m*d,a[8]=f*d+j*e,a[9]=g*d+k*e,a[10]=h*d+l*e,a[11]=i*d+m*e,a},m.rotateZ=function(a,b,c){var d=Math.sin(c),e=Math.cos(c),f=b[0],g=b[1],h=b[2],i=b[3],j=b[4],k=b[5],l=b[6],m=b[7];return b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a[0]=f*e+j*d,a[1]=g*e+k*d,a[2]=h*e+l*d,a[3]=i*e+m*d,a[4]=j*e-f*d,a[5]=k*e-g*d,a[6]=l*e-h*d,a[7]=m*e-i*d,a},m.fromRotationTranslation=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=d+d,i=e+e,j=f+f,k=d*h,l=d*i,m=d*j,n=e*i,o=e*j,p=f*j,q=g*h,r=g*i,s=g*j;return a[0]=1-(n+p),a[1]=l+s,a[2]=m-r,a[3]=0,a[4]=l-s,a[5]=1-(k+p),a[6]=o+q,a[7]=0,a[8]=m+r,a[9]=o-q,a[10]=1-(k+n),a[11]=0,a[12]=c[0],a[13]=c[1],a[14]=c[2],a[15]=1,a},m.fromQuat=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c+c,h=d+d,i=e+e,j=c*g,k=d*g,l=d*h,m=e*g,n=e*h,o=e*i,p=f*g,q=f*h,r=f*i;return a[0]=1-l-o,a[1]=k+r,a[2]=m-q,a[3]=0,a[4]=k-r,a[5]=1-j-o,a[6]=n+p,a[7]=0,a[8]=m+q,a[9]=n-p,a[10]=1-j-l,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},m.frustum=function(a,b,c,d,e,f,g){var h=1/(c-b),i=1/(e-d),j=1/(f-g);return a[0]=2*f*h,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2*f*i,a[6]=0,a[7]=0,a[8]=(c+b)*h,a[9]=(e+d)*i,a[10]=(g+f)*j,a[11]=-1,a[12]=0,a[13]=0,a[14]=g*f*2*j,a[15]=0,a},m.perspective=function(a,b,c,d,e){var f=1/Math.tan(b/2),g=1/(d-e);return a[0]=f/c,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=f,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=(e+d)*g,a[11]=-1,a[12]=0,a[13]=0,a[14]=2*e*d*g,a[15]=0,a},m.ortho=function(a,b,c,d,e,f,g){var h=1/(b-c),i=1/(d-e),j=1/(f-g);return a[0]=-2*h,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*i,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2*j,a[11]=0,a[12]=(b+c)*h,a[13]=(e+d)*i,a[14]=(g+f)*j,a[15]=1,a},m.lookAt=function(a,c,d,e){var f,g,h,i,j,k,l,n,o,p,q=c[0],r=c[1],s=c[2],t=e[0],u=e[1],v=e[2],w=d[0],x=d[1],y=d[2];return Math.abs(q-w)<b&&Math.abs(r-x)<b&&Math.abs(s-y)<b?m.identity(a):(l=q-w,n=r-x,o=s-y,p=1/Math.sqrt(l*l+n*n+o*o),l*=p,n*=p,o*=p,f=u*o-v*n,g=v*l-t*o,h=t*n-u*l,p=Math.sqrt(f*f+g*g+h*h),p?(p=1/p,f*=p,g*=p,h*=p):(f=0,g=0,h=0),i=n*h-o*g,j=o*f-l*h,k=l*g-n*f,p=Math.sqrt(i*i+j*j+k*k),p?(p=1/p,i*=p,j*=p,k*=p):(i=0,j=0,k=0),a[0]=f,a[1]=i,a[2]=l,a[3]=0,a[4]=g,a[5]=j,a[6]=n,a[7]=0,a[8]=h,a[9]=k,a[10]=o,a[11]=0,a[12]=-(f*q+g*r+h*s),a[13]=-(i*q+j*r+k*s),a[14]=-(l*q+n*r+o*s),a[15]=1,a)},m.str=function(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"},"undefined"!=typeof a&&(a.mat4=m);var n={};n.create=function(){var a=new c(4);return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a},n.rotationTo=function(){var a=h.create(),b=h.fromValues(1,0,0),c=h.fromValues(0,1,0);return function(d,e,f){var g=h.dot(e,f);return-.999999>g?(h.cross(a,b,e),h.length(a)<1e-6&&h.cross(a,c,e),h.normalize(a,a),n.setAxisAngle(d,a,Math.PI),d):g>.999999?(d[0]=0,d[1]=0,d[2]=0,d[3]=1,d):(h.cross(a,e,f),d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=1+g,n.normalize(d,d))}}(),n.setAxes=function(){var a=l.create();return function(b,c,d,e){return a[0]=d[0],a[3]=d[1],a[6]=d[2],a[1]=e[0],a[4]=e[1],a[7]=e[2],a[2]=-c[0],a[5]=-c[1],a[8]=-c[2],n.normalize(b,n.fromMat3(b,a))}}(),n.clone=i.clone,n.fromValues=i.fromValues,n.copy=i.copy,n.set=i.set,n.identity=function(a){return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a},n.setAxisAngle=function(a,b,c){c=.5*c;var d=Math.sin(c);return a[0]=d*b[0],a[1]=d*b[1],a[2]=d*b[2],a[3]=Math.cos(c),a},n.add=i.add,n.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[0],i=c[1],j=c[2],k=c[3];return a[0]=d*k+g*h+e*j-f*i,a[1]=e*k+g*i+f*h-d*j,a[2]=f*k+g*j+d*i-e*h,a[3]=g*k-d*h-e*i-f*j,a},n.mul=n.multiply,n.scale=i.scale,n.rotateX=function(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i+g*h,a[1]=e*i+f*h,a[2]=f*i-e*h,a[3]=g*i-d*h,a},n.rotateY=function(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i-f*h,a[1]=e*i+g*h,a[2]=f*i+d*h,a[3]=g*i-e*h,a},n.rotateZ=function(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i+e*h,a[1]=e*i-d*h,a[2]=f*i+g*h,a[3]=g*i-f*h,a},n.calculateW=function(a,b){var c=b[0],d=b[1],e=b[2];return a[0]=c,a[1]=d,a[2]=e,a[3]=-Math.sqrt(Math.abs(1-c*c-d*d-e*e)),a},n.dot=i.dot,n.lerp=i.lerp,n.slerp=function(a,b,c,d){var e,f,g,h,i,j=b[0],k=b[1],l=b[2],m=b[3],n=c[0],o=c[1],p=c[2],q=c[3];return f=j*n+k*o+l*p+m*q,0>f&&(f=-f,n=-n,o=-o,p=-p,q=-q),1-f>1e-6?(e=Math.acos(f),g=Math.sin(e),h=Math.sin((1-d)*e)/g,i=Math.sin(d*e)/g):(h=1-d,i=d),a[0]=h*j+i*n,a[1]=h*k+i*o,a[2]=h*l+i*p,a[3]=h*m+i*q,a},n.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c*c+d*d+e*e+f*f,h=g?1/g:0;return a[0]=-c*h,a[1]=-d*h,a[2]=-e*h,a[3]=f*h,a},n.conjugate=function(a,b){return a[0]=-b[0],a[1]=-b[1],a[2]=-b[2],a[3]=b[3],a},n.length=i.length,n.len=n.length,n.squaredLength=i.squaredLength,n.sqrLen=n.squaredLength,n.normalize=i.normalize,n.fromMat3=function(a,b){var c,d=b[0]+b[4]+b[8];if(d>0)c=Math.sqrt(d+1),a[3]=.5*c,c=.5/c,a[0]=(b[7]-b[5])*c,a[1]=(b[2]-b[6])*c,a[2]=(b[3]-b[1])*c;else{var e=0;b[4]>b[0]&&(e=1),b[8]>b[3*e+e]&&(e=2);var f=(e+1)%3,g=(e+2)%3;c=Math.sqrt(b[3*e+e]-b[3*f+f]-b[3*g+g]+1),a[e]=.5*c,c=.5/c,a[3]=(b[3*g+f]-b[3*f+g])*c,a[f]=(b[3*f+e]+b[3*e+f])*c,a[g]=(b[3*g+e]+b[3*e+g])*c}return a},n.str=function(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"},"undefined"!=typeof a&&(a.quat=n)}(b.exports)}(this)},{}],46:[function(){"undefined"!=typeof window&&"undefined"==typeof WeakMap&&!function(){var a=Object.defineProperty,b=Date.now()%1e9,c=function(){this.name="__st"+(1e9*Math.random()>>>0)+(b++ +"__")};c.prototype={set:function(b,c){var d=b[this.name];d&&d[0]===b?d[1]=c:a(b,this.name,{value:[b,c],writable:!0})},get:function(a){var b;return(b=a[this.name])&&b[0]===a?b[1]:void 0},"delete":function(a){this.set(a,void 0)}},window.WeakMap=c}()},{}]},{},[1]);