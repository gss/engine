/* gss-engine - version 1.0.4-beta (2014-12-10) - http://gridstylesheets.org */
!function(){function a(b,c,d){var e=a.resolve(b);if(null==e){d=d||b,c=c||"root";var f=new Error('Failed to require "'+d+'" from "'+c+'"');throw f.path=d,f.parent=c,f.require=!0,f}var g=a.modules[e];if(!g._resolving&&!g.exports){var h={};h.exports={},h.client=h.component=!0,g._resolving=!0,g.call(this,h.exports,a.relative(e),h),delete g._resolving,g.exports=h.exports}return g.exports}a.modules={},a.aliases={},a.resolve=function(b){"/"===b.charAt(0)&&(b=b.slice(1));for(var c=[b,b+".js",b+".json",b+"/index.js",b+"/index.json"],d=0;d<c.length;d++){var b=c[d];if(a.modules.hasOwnProperty(b))return b;if(a.aliases.hasOwnProperty(b))return a.aliases[b]}},a.normalize=function(a,b){var c=[];if("."!=b.charAt(0))return b;a=a.split("/"),b=b.split("/");for(var d=0;d<b.length;++d)".."==b[d]?a.pop():"."!=b[d]&&""!=b[d]&&c.push(b[d]);return a.concat(c).join("/")},a.register=function(b,c){a.modules[b]=c},a.alias=function(b,c){if(!a.modules.hasOwnProperty(b))throw new Error('Failed to alias "'+b+'", it does not exist');a.aliases[c]=b},a.relative=function(b){function c(a,b){for(var c=a.length;c--;)if(a[c]===b)return c;return-1}function d(c){var e=d.resolve(c);return a(e,b,c)}var e=a.normalize(b,"..");return d.resolve=function(d){var f=d.charAt(0);if("/"==f)return d.slice(1);if("."==f)return a.normalize(e,d);var g=b.split("/"),h=c(g,"deps")+1;return h||(h=0),d=g.slice(0,h+1).join("/")+"/deps/"+d},d.exists=function(b){return a.modules.hasOwnProperty(d.resolve(b))},d},a.register("gss-error-reporter/lib/error-reporter.js",function(a,b,c){var d,e=function(a,b){return function(){return a.apply(b,arguments)}};d=function(){function a(a){if(this.reportError=e(this.reportError,this),null==a)throw new Error("Source code not provided");if("[object String]"!==toString.call(a))throw new TypeError("Source code must be a string");this._sourceCode=a}return a.prototype._sourceCode=null,a.prototype.reportError=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;if(null==a)throw new Error("Message not provided");if("[object String]"!==toString.call(a))throw new TypeError("Message must be a string");if(0===a.length)throw new Error("Message must not be empty");if(null==b)throw new Error("Line number not provided");if("[object Number]"!==toString.call(b))throw new TypeError("Line number must be a number");if(0>=b)throw new RangeError("Line number is invalid");if(null==c)throw new Error("Column number not provided");if("[object Number]"!==toString.call(c))throw new TypeError("Column number must be a number");if(0>=c)throw new RangeError("Column number is invalid");if(m=this._sourceCode.split("\n"),b>m.length)throw new RangeError("Line number is out of range");if(f=m[b-1],c>f.length)throw new RangeError("Column number is out of range");for(g=[],g.push("Error on line "+b+", column "+c+": "+a),g.push(""),s=b-1,p=b+1,s-1>=0&&(r=s-1),p-1<=m.length-1&&(o=p-1),k=null!=o?p:b,n=(""+k).length,h=""+Array(c).join("-")+"^",e=[],e.push([s,m[r],null!=r]),e.push([b,f,!0]),e.push(["^",h,!0]),e.push([p,m[o],null!=o]),t=0,u=e.length;u>t;t++)j=e[t],i=j[0],l=j[1],d=j[2],q=Array(n-(""+i).length+1).join(" "),i=""+q+i,d&&g.push(""+i+" : "+l);throw console.error(g.join("\n")),new Error(a)},a}(),c.exports=d}),a.register("the-gss-error-reporter/lib/error-reporter.js",function(a,b,c){var d,e=function(a,b){return function(){return a.apply(b,arguments)}};d=function(){function a(a){if(this.reportError=e(this.reportError,this),null==a)throw new Error("Source code not provided");if("[object String]"!==toString.call(a))throw new TypeError("Source code must be a string");this._sourceCode=a}return a.prototype._sourceCode=null,a.prototype.reportError=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;if(null==a)throw new Error("Message not provided");if("[object String]"!==toString.call(a))throw new TypeError("Message must be a string");if(0===a.length)throw new Error("Message must not be empty");if(null==b)throw new Error("Line number not provided");if("[object Number]"!==toString.call(b))throw new TypeError("Line number must be a number");if(0>=b)throw new RangeError("Line number is invalid");if(null==c)throw new Error("Column number not provided");if("[object Number]"!==toString.call(c))throw new TypeError("Column number must be a number");if(0>=c)throw new RangeError("Column number is invalid");if(m=this._sourceCode.split("\n"),b>m.length)throw new RangeError("Line number is out of range");if(f=m[b-1],c>f.length)throw new RangeError("Column number is out of range");for(g=[],g.push("Error on line "+b+", column "+c+": "+a),g.push(""),s=b-1,p=b+1,s-1>=0&&(r=s-1),p-1<=m.length-1&&(o=p-1),k=null!=o?p:b,n=(""+k).length,h=""+Array(c).join("-")+"^",e=[],e.push([s,m[r],null!=r]),e.push([b,f,!0]),e.push(["^",h,!0]),e.push([p,m[o],null!=o]),t=0,u=e.length;u>t;t++)j=e[t],i=j[0],l=j[1],d=j[2],q=Array(n-(""+i).length+1).join(" "),i=""+q+i,d&&g.push(""+i+" : "+l);throw console.error(g.join("\n")),new Error(a)},a}(),c.exports=d}),a.register("gss-vfl-compiler/lib/compiler.js",function(a,b,c){var d,e;e="undefined"!=typeof window&&null!==window?b("./parser").parse:b("../lib/parser").parse,d=b("error-reporter"),c.exports={parse:function(a){var b,c,f,g,h,i;i=null;try{i=e(a)}catch(j){c=j,f=new d(a),h=c.message,g=c.line,b=c.column,f.reportError(h,g,b)}return i}}}),a.register("gss-vfl-compiler/lib/parser.js",function(a,b,c){c.exports=function(){function a(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c}function b(a,b,c,d,e,f){this.message=a,this.expected=b,this.found=c,this.offset=d,this.line=e,this.column=f,this.name="SyntaxError"}function c(a){function c(){return e(ne).line}function d(){return e(ne).column}function e(b){function c(b,c,d){var e,f;for(e=c;d>e;e++)f=a.charAt(e),"\n"===f?(b.seenCR||b.line++,b.column=1,b.seenCR=!1):"\r"===f||"\u2028"===f||"\u2029"===f?(b.line++,b.column=1,b.seenCR=!0):(b.column++,b.seenCR=!1)}return oe!==b&&(oe>b&&(oe=0,pe={line:1,column:1,seenCR:!1}),c(pe,oe,b),oe=b),pe}function f(a){qe>me||(me>qe&&(qe=me,re=[]),re.push(a))}function g(c,d,f){function g(a){var b=1;for(a.sort(function(a,b){return a.description<b.description?-1:a.description>b.description?1:0});b<a.length;)a[b-1]===a[b]?a.splice(b,1):b++}function h(a,b){function c(a){function b(a){return a.charCodeAt(0).toString(16).toUpperCase()}return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(a){return"\\x0"+b(a)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(a){return"\\x"+b(a)}).replace(/[\u0180-\u0FFF]/g,function(a){return"\\u0"+b(a)}).replace(/[\u1080-\uFFFF]/g,function(a){return"\\u"+b(a)})}var d,e,f,g=new Array(a.length);for(f=0;f<a.length;f++)g[f]=a[f].description;return d=a.length>1?g.slice(0,-1).join(", ")+" or "+g[a.length-1]:g[0],e=b?'"'+c(b)+'"':"end of input","Expected "+d+" but "+e+" found."}var i=e(f),j=f<a.length?a.charAt(f):null;return null!==d&&g(d),new b(null!==c?c:h(d,j),d,j,f,i.line,i.column)}function h(){var a,b,c,d;if(a=me,b=Z(),b!==ab){for(c=[],d=i();d!==ab;)c.push(d),d=i();c!==ab?(d=Z(),d!==ab?(ne=a,b=eb(),a=b):(me=a,a=db)):(me=a,a=db)}else me=a,a=db;return a}function i(){var a,b,c,d;return a=me,b=j(),b!==ab?(c=S(),c!==ab?(d=Z(),d!==ab?(ne=a,b=fb(b),a=b):(me=a,a=db)):(me=a,a=db)):(me=a,a=db),a}function j(){var a,b,c,d,e,f,g,h,i,j;if(a=me,b=k(),b!==ab)if(c=Z(),c!==ab)if(d=t(),d!==ab){for(e=[],f=me,g=Z(),g!==ab?(h=H(),h===ab&&(h=gb),h!==ab?(i=Z(),i!==ab?(j=t(),j!==ab?(g=[g,h,i,j],f=g):(me=f,f=db)):(me=f,f=db)):(me=f,f=db)):(me=f,f=db);f!==ab;)e.push(f),f=me,g=Z(),g!==ab?(h=H(),h===ab&&(h=gb),h!==ab?(i=Z(),i!==ab?(j=t(),j!==ab?(g=[g,h,i,j],f=g):(me=f,f=db)):(me=f,f=db)):(me=f,f=db)):(me=f,f=db);e!==ab?(f=Z(),f!==ab?(g=l(),g!==ab?(ne=a,b=hb(b,d,e,g),a=b):(me=a,a=db)):(me=a,a=db)):(me=a,a=db)}else me=a,a=db;else me=a,a=db;else me=a,a=db;return a}function k(){var b,c;return b=me,a.substr(me,11)===ib?(c=ib,me+=11):(c=ab,0===se&&f(jb)),c===ab&&(a.substr(me,16)===kb?(c=kb,me+=16):(c=ab,0===se&&f(lb)),c===ab&&(a.substr(me,7)===mb?(c=mb,me+=7):(c=ab,0===se&&f(nb)),c===ab&&(a.substr(me,2)===ob?(c=ob,me+=2):(c=ab,0===se&&f(pb))))),c!==ab&&(ne=b,c=qb()),b=c,b===ab&&(b=me,a.substr(me,9)===rb?(c=rb,me+=9):(c=ab,0===se&&f(sb)),c===ab&&(a.substr(me,14)===tb?(c=tb,me+=14):(c=ab,0===se&&f(ub)),c===ab&&(a.substr(me,7)===vb?(c=vb,me+=7):(c=ab,0===se&&f(wb)),c===ab&&(a.substr(me,2)===xb?(c=xb,me+=2):(c=ab,0===se&&f(yb))))),c!==ab&&(ne=b,c=zb()),b=c),b}function l(){var a,b,c;for(a=me,b=[],c=m();c!==ab;)b.push(c),c=m();return b!==ab&&(ne=a,b=Ab(b)),a=b}function m(){var b,c,d,e,g,h;if(se++,b=me,c=Z(),c!==ab?(d=o(),d!==ab?(ne=b,c=Cb(d),b=c):(me=b,b=db)):(me=b,b=db),b===ab){if(b=me,c=Z(),c!==ab)if(a.substr(me,2)===Db?(d=Db,me+=2):(d=ab,0===se&&f(Eb)),d!==ab)if(40===a.charCodeAt(me)?(e=Fb,me++):(e=ab,0===se&&f(Gb)),e!==ab){if(g=[],Hb.test(a.charAt(me))?(h=a.charAt(me),me++):(h=ab,0===se&&f(Ib)),h!==ab)for(;h!==ab;)g.push(h),Hb.test(a.charAt(me))?(h=a.charAt(me),me++):(h=ab,0===se&&f(Ib));else g=db;g!==ab?(41===a.charCodeAt(me)?(h=Jb,me++):(h=ab,0===se&&f(Kb)),h!==ab?(ne=b,c=Lb(g),b=c):(me=b,b=db)):(me=b,b=db)}else me=b,b=db;else me=b,b=db;else me=b,b=db;if(b===ab){if(b=me,c=Z(),c!==ab)if(a.substr(me,2)===Db?(d=Db,me+=2):(d=ab,0===se&&f(Eb)),d!==ab)if(40===a.charCodeAt(me)?(e=Fb,me++):(e=ab,0===se&&f(Gb)),e!==ab){if(g=[],Mb.test(a.charAt(me))?(h=a.charAt(me),me++):(h=ab,0===se&&f(Nb)),h!==ab)for(;h!==ab;)g.push(h),Mb.test(a.charAt(me))?(h=a.charAt(me),me++):(h=ab,0===se&&f(Nb));else g=db;g!==ab?(41===a.charCodeAt(me)?(h=Jb,me++):(h=ab,0===se&&f(Kb)),h!==ab?(ne=b,c=Ob(g),b=c):(me=b,b=db)):(me=b,b=db)}else me=b,b=db;else me=b,b=db;else me=b,b=db;if(b===ab){if(b=me,c=Z(),c!==ab){if(d=[],e=K(),e!==ab)for(;e!==ab;)d.push(e),e=K();else d=db;if(d!==ab)if(40===a.charCodeAt(me)?(e=Fb,me++):(e=ab,0===se&&f(Gb)),e!==ab){if(g=[],h=n(),h!==ab)for(;h!==ab;)g.push(h),h=n();else g=db;g!==ab?(41===a.charCodeAt(me)?(h=Jb,me++):(h=ab,0===se&&f(Kb)),h!==ab?(ne=b,c=Pb(d,g),b=c):(me=b,b=db)):(me=b,b=db)}else me=b,b=db;else me=b,b=db}else me=b,b=db;b===ab&&(b=me,c=Z(),c!==ab?(d=J(),d!==ab?(ne=b,c=Qb(d),b=c):(me=b,b=db)):(me=b,b=db))}}}return se--,b===ab&&(c=ab,0===se&&f(Bb)),b}function n(){var b,c;return Rb.test(a.charAt(me))?(b=a.charAt(me),me++):(b=ab,0===se&&f(Sb)),b===ab&&(b=me,Tb.test(a.charAt(me))?(c=a.charAt(me),me++):(c=ab,0===se&&f(Ub)),c!==ab&&(ne=b,c=Vb()),b=c),b}function o(){var b,c,d,e;if(se++,b=me,a.substr(me,6)===Xb?(c=Xb,me+=6):(c=ab,0===se&&f(Yb)),c!==ab){if(d=[],e=K(),e!==ab)for(;e!==ab;)d.push(e),e=K();else d=db;d!==ab?(e=p(),e===ab&&(e=gb),e!==ab?(ne=b,c=Zb(d,e),b=c):(me=b,b=db)):(me=b,b=db)}else me=b,b=db;return se--,b===ab&&(c=ab,0===se&&f(Wb)),b}function p(){var b,c,d,e;if(se++,b=me,40===a.charCodeAt(me)?(c=Fb,me++):(c=ab,0===se&&f(Gb)),c!==ab){if(d=[],e=q(),e!==ab)for(;e!==ab;)d.push(e),e=q();else d=db;d!==ab?(41===a.charCodeAt(me)?(e=Jb,me++):(e=ab,0===se&&f(Kb)),e!==ab?(ne=b,c=_b(d),b=c):(me=b,b=db)):(me=b,b=db)}else me=b,b=db;return b===ab&&(b=me,a.substr(me,2)===ac?(c=ac,me+=2):(c=ab,0===se&&f(bc)),c!==ab&&(ne=b,c=cc()),b=c),se--,b===ab&&(c=ab,0===se&&f($b)),b}function q(){var b,c,d,e;return b=me,c=r(),c!==ab?(d=Y(),d===ab&&(d=gb),d!==ab?(44===a.charCodeAt(me)?(e=dc,me++):(e=ab,0===se&&f(ec)),e===ab&&(e=gb),e!==ab?(ne=b,c=fc(c),b=c):(me=b,b=db)):(me=b,b=db)):(me=b,b=db),b}function r(){var a,b,c,d,e,f,g,h;return a=me,b=A(),b!==ab?(c=Y(),c!==ab?(d=s(),d===ab&&(d=gb),d!==ab?(e=Y(),e===ab&&(e=gb),e!==ab?(f=A(),f===ab&&(f=gb),f!==ab?(g=Y(),g===ab&&(g=gb),g!==ab?(h=J(),h===ab&&(h=gb),h!==ab?(ne=a,b=gc(b,d,f,h),a=b):(me=a,a=db)):(me=a,a=db)):(me=a,a=db)):(me=a,a=db)):(me=a,a=db)):(me=a,a=db)):(me=a,a=db),a===ab&&(a=me,b=A(),b===ab&&(b=gb),b!==ab?(c=Y(),c===ab&&(c=gb),c!==ab?(d=s(),d!==ab?(e=Y(),e===ab&&(e=gb),e!==ab?(f=A(),f===ab&&(f=gb),f!==ab?(g=Y(),g===ab&&(g=gb),g!==ab?(h=J(),h===ab&&(h=gb),h!==ab?(ne=a,b=gc(b,d,f,h),a=b):(me=a,a=db)):(me=a,a=db)):(me=a,a=db)):(me=a,a=db)):(me=a,a=db)):(me=a,a=db)):(me=a,a=db),a===ab&&(a=me,b=A(),b===ab&&(b=gb),b!==ab?(c=Y(),c===ab&&(c=gb),c!==ab?(d=s(),d===ab&&(d=gb),d!==ab?(e=Y(),e===ab&&(e=gb),e!==ab?(f=A(),f===ab&&(f=gb),f!==ab?(g=Y(),g===ab&&(g=gb),g!==ab?(h=J(),h!==ab?(ne=a,b=gc(b,d,f,h),a=b):(me=a,a=db)):(me=a,a=db)):(me=a,a=db)):(me=a,a=db)):(me=a,a=db)):(me=a,a=db)):(me=a,a=db))),a}function s(){var b,c;if(b=[],hc.test(a.charAt(me))?(c=a.charAt(me),me++):(c=ab,0===se&&f(ic)),c!==ab)for(;c!==ab;)b.push(c),hc.test(a.charAt(me))?(c=a.charAt(me),me++):(c=ab,0===se&&f(ic));else b=db;return b}function t(){var b,c;return se++,b=w(),b===ab&&(b=u(),b===ab&&(b=me,c=x(),c!==ab&&(ne=b,c=kc(c)),b=c,b===ab&&(b=me,124===a.charCodeAt(me)?(c=lc,me++):(c=ab,0===se&&f(mc)),c!==ab&&(ne=b,c=nc()),b=c))),se--,b===ab&&(c=ab,0===se&&f(jc)),b}function u(){var b,c,d,e,g,h,i,j;if(b=me,40===a.charCodeAt(me)?(c=Fb,me++):(c=ab,0===se&&f(Gb)),c!==ab)if(d=Y(),d!==ab){if(e=[],g=K(),g!==ab)for(;g!==ab;)e.push(g),g=K();else e=db;e!==ab?(g=Y(),g!==ab?(h=y(),h===ab&&(h=gb),h!==ab?(i=Y(),i!==ab?(41===a.charCodeAt(me)?(j=Jb,me++):(j=ab,0===se&&f(Kb)),j!==ab?(ne=b,c=oc(e,h),b=c):(me=b,b=db)):(me=b,b=db)):(me=b,b=db)):(me=b,b=db)):(me=b,b=db)}else me=b,b=db;else me=b,b=db;return b===ab&&(b=v()),b}function v(){var b,c,d,e,g,h,i,j;if(b=me,40===a.charCodeAt(me)?(c=Fb,me++):(c=ab,0===se&&f(Gb)),c!==ab)if(d=Y(),d!==ab){for(e=[],pc.test(a.charAt(me))?(g=a.charAt(me),me++):(g=ab,0===se&&f(qc));g!==ab;)e.push(g),pc.test(a.charAt(me))?(g=a.charAt(me),me++):(g=ab,0===se&&f(qc));e!==ab?(g=Y(),g!==ab?(h=y(),h===ab&&(h=gb),h!==ab?(i=Y(),i!==ab?(41===a.charCodeAt(me)?(j=Jb,me++):(j=ab,0===se&&f(Kb)),j!==ab?(ne=b,c=rc(e,h),b=c):(me=b,b=db)):(me=b,b=db)):(me=b,b=db)):(me=b,b=db)):(me=b,b=db)}else me=b,b=db;else me=b,b=db;return b}function w(){var b,c,d,e,g,h;return b=me,c=u(),c!==ab?(d=Z(),d!==ab?(e=H(),e===ab&&(e=gb),e!==ab?(g=Z(),g!==ab?(a.substr(me,3)===sc?(h=sc,me+=3):(h=ab,0===se&&f(tc)),h!==ab?(ne=b,c=uc(c,e),b=c):(me=b,b=db)):(me=b,b=db)):(me=b,b=db)):(me=b,b=db)):(me=b,b=db),b}function x(){var b,c,d,e,g,h;if(se++,b=me,60===a.charCodeAt(me)?(c=wc,me++):(c=ab,0===se&&f(xc)),c!==ab)if(d=Y(),d===ab&&(d=gb),d!==ab){if(e=[],yc.test(a.charAt(me))?(g=a.charAt(me),me++):(g=ab,0===se&&f(zc)),g!==ab)for(;g!==ab;)e.push(g),yc.test(a.charAt(me))?(g=a.charAt(me),me++):(g=ab,0===se&&f(zc));else e=db;e!==ab?(g=Y(),g===ab&&(g=gb),g!==ab?(62===a.charCodeAt(me)?(h=Ac,me++):(h=ab,0===se&&f(Bc)),h!==ab?(ne=b,c=Cc(e),b=c):(me=b,b=db)):(me=b,b=db)):(me=b,b=db)}else me=b,b=db;else me=b,b=db;return se--,b===ab&&(c=ab,0===se&&f(vc)),b}function y(){var b,c,d,e,g,h,i,j,k,l;if(se++,b=me,40===a.charCodeAt(me)?(c=Fb,me++):(c=ab,0===se&&f(Gb)),c!==ab){if(d=[],e=me,g=A(),g!==ab?(h=z(),h!==ab?(i=J(),i===ab&&(i=gb),i!==ab?(j=Y(),j===ab&&(j=gb),j!==ab?(k=G(),k!==ab?(l=Y(),l===ab&&(l=gb),l!==ab?(g=[g,h,i,j,k,l],e=g):(me=e,e=db)):(me=e,e=db)):(me=e,e=db)):(me=e,e=db)):(me=e,e=db)):(me=e,e=db),e!==ab)for(;e!==ab;)d.push(e),e=me,g=A(),g!==ab?(h=z(),h!==ab?(i=J(),i===ab&&(i=gb),i!==ab?(j=Y(),j===ab&&(j=gb),j!==ab?(k=G(),k!==ab?(l=Y(),l===ab&&(l=gb),l!==ab?(g=[g,h,i,j,k,l],e=g):(me=e,e=db)):(me=e,e=db)):(me=e,e=db)):(me=e,e=db)):(me=e,e=db)):(me=e,e=db);else d=db;d!==ab?(41===a.charCodeAt(me)?(e=Jb,me++):(e=ab,0===se&&f(Kb)),e!==ab?(ne=b,c=Ec(d),b=c):(me=b,b=db)):(me=b,b=db)}else me=b,b=db;return se--,b===ab&&(c=ab,0===se&&f(Dc)),b}function z(){var a,b;if(se++,a=[],b=B(),b===ab&&(b=D(),b===ab&&(b=E(),b===ab&&(b=F(),b===ab&&(b=C())))),b!==ab)for(;b!==ab;)a.push(b),b=B(),b===ab&&(b=D(),b===ab&&(b=E(),b===ab&&(b=F(),b===ab&&(b=C()))));else a=db;return se--,a===ab&&(b=ab,0===se&&f(Fc)),a}function A(){var b,c,d,e;return b=me,c=Y(),c===ab&&(c=gb),c!==ab?(a.substr(me,2)===Gc?(d=Gc,me+=2):(d=ab,0===se&&f(Hc)),d===ab&&(a.substr(me,2)===Ic?(d=Ic,me+=2):(d=ab,0===se&&f(Jc)),d===ab&&(60===a.charCodeAt(me)?(d=wc,me++):(d=ab,0===se&&f(xc)),d===ab&&(a.substr(me,2)===Kc?(d=Kc,me+=2):(d=ab,0===se&&f(Lc)),d===ab&&(62===a.charCodeAt(me)?(d=Ac,me++):(d=ab,0===se&&f(Bc)),d===ab&&(d=me,a.substr(me,2)===Mc?(e=Mc,me+=2):(e=ab,0===se&&f(Nc)),e!==ab&&(ne=d,e=Oc()),d=e,d===ab&&(d=me,a.substr(me,2)===Pc?(e=Pc,me+=2):(e=ab,0===se&&f(Qc)),e!==ab&&(ne=d,e=Rc()),d=e)))))),d!==ab?(e=Y(),e===ab&&(e=gb),e!==ab?(ne=b,c=Sc(d),b=c):(me=b,b=db)):(me=b,b=db)):(me=b,b=db),b}function B(){var b,c,d;return b=me,Tc.test(a.charAt(me))?(c=a.charAt(me),me++):(c=ab,0===se&&f(Uc)),c!==ab?(d=Y(),d===ab&&(d=gb),d!==ab?(ne=b,c=Vc(c),b=c):(me=b,b=db)):(me=b,b=db),b}function C(){var a,b,c;if(a=me,b=[],c=K(),c!==ab)for(;c!==ab;)b.push(c),c=K();else b=db;return b!==ab?(c=Y(),c===ab&&(c=gb),c!==ab?(ne=a,b=Wc(b),a=b):(me=a,a=db)):(me=a,a=db),a}function D(){var a,b,c;if(a=me,b=[],c=L(),c!==ab)for(;c!==ab;)b.push(c),c=L();else b=db;return b!==ab?(c=Y(),c===ab&&(c=gb),c!==ab?(ne=a,b=Xc(b),a=b):(me=a,a=db)):(me=a,a=db),a}function E(){var b,c,d,e,g;if(b=me,91===a.charCodeAt(me)?(c=Yc,me++):(c=ab,0===se&&f(Zc)),c!==ab){if(d=[],e=K(),e!==ab)for(;e!==ab;)d.push(e),e=K();else d=db;d!==ab?(93===a.charCodeAt(me)?(e=$c,me++):(e=ab,0===se&&f(_c)),e!==ab?(g=Y(),g===ab&&(g=gb),g!==ab?(ne=b,c=ad(d),b=c):(me=b,b=db)):(me=b,b=db)):(me=b,b=db)}else me=b,b=db;return b}function F(){var b,c,d,e,g,h;if(b=me,c=[],d=K(),d!==ab)for(;d!==ab;)c.push(d),d=K();else c=db;if(c!==ab)if(91===a.charCodeAt(me)?(d=Yc,me++):(d=ab,0===se&&f(Zc)),d!==ab){if(e=[],g=K(),g!==ab)for(;g!==ab;)e.push(g),g=K();else e=db;e!==ab?(93===a.charCodeAt(me)?(g=$c,me++):(g=ab,0===se&&f(_c)),g!==ab?(h=Y(),h===ab&&(h=gb),h!==ab?(ne=b,c=bd(c,e),b=c):(me=b,b=db)):(me=b,b=db)):(me=b,b=db)}else me=b,b=db;else me=b,b=db;return b}function G(){var b,c;return b=me,44===a.charCodeAt(me)?(c=dc,me++):(c=ab,0===se&&f(ec)),c===ab&&(c=gb),c!==ab&&(ne=b,c=cd()),b=c}function H(){var b,c,d,e,g,h;return se++,b=me,45===a.charCodeAt(me)?(c=ed,me++):(c=ab,0===se&&f(fd)),c!==ab?(d=Y(),d!==ab?(e=I(),e!==ab?(g=Y(),g!==ab?(45===a.charCodeAt(me)?(h=ed,me++):(h=ab,0===se&&f(fd)),h!==ab?(ne=b,c=gd(e),b=c):(me=b,b=db)):(me=b,b=db)):(me=b,b=db)):(me=b,b=db)):(me=b,b=db),b===ab&&(b=me,45===a.charCodeAt(me)?(c=ed,me++):(c=ab,0===se&&f(fd)),c!==ab&&(ne=b,c=hd()),b=c,b===ab&&(b=me,126===a.charCodeAt(me)?(c=id,me++):(c=ab,0===se&&f(jd)),c!==ab?(d=Y(),d!==ab?(e=I(),e!==ab?(g=Y(),g!==ab?(126===a.charCodeAt(me)?(h=id,me++):(h=ab,0===se&&f(jd)),h!==ab?(ne=b,c=kd(e),b=c):(me=b,b=db)):(me=b,b=db)):(me=b,b=db)):(me=b,b=db)):(me=b,b=db),b===ab&&(b=me,126===a.charCodeAt(me)?(c=id,me++):(c=ab,0===se&&f(jd)),c!==ab?(45===a.charCodeAt(me)?(d=ed,me++):(d=ab,0===se&&f(fd)),d!==ab?(126===a.charCodeAt(me)?(e=id,me++):(e=ab,0===se&&f(jd)),e!==ab?(ne=b,c=ld(),b=c):(me=b,b=db)):(me=b,b=db)):(me=b,b=db),b===ab&&(b=me,126===a.charCodeAt(me)?(c=id,me++):(c=ab,0===se&&f(jd)),c!==ab&&(ne=b,c=md()),b=c,b===ab&&(b=me,c=nd,c!==ab&&(ne=b,c=od()),b=c))))),se--,b===ab&&(c=ab,0===se&&f(dd)),b}function I(){var b,c,d,e,g;if(se++,b=me,c=[],qd.test(a.charAt(me))?(d=a.charAt(me),me++):(d=ab,0===se&&f(rd)),d!==ab)for(;d!==ab;)c.push(d),qd.test(a.charAt(me))?(d=a.charAt(me),me++):(d=ab,0===se&&f(rd));else c=db;if(c!==ab&&(ne=b,c=sd(c)),b=c,b===ab){for(b=me,c=[],td.test(a.charAt(me))?(d=a.charAt(me),me++):(d=ab,0===se&&f(ud));d!==ab;)c.push(d),td.test(a.charAt(me))?(d=a.charAt(me),me++):(d=ab,0===se&&f(ud));if(c!==ab)if(91===a.charCodeAt(me)?(d=Yc,me++):(d=ab,0===se&&f(Zc)),d!==ab){if(e=[],vd.test(a.charAt(me))?(g=a.charAt(me),me++):(g=ab,0===se&&f(wd)),g!==ab)for(;g!==ab;)e.push(g),vd.test(a.charAt(me))?(g=a.charAt(me),me++):(g=ab,0===se&&f(wd));else e=db;e!==ab?(93===a.charCodeAt(me)?(g=$c,me++):(g=ab,0===se&&f(_c)),g!==ab?(ne=b,c=xd(c,e),b=c):(me=b,b=db)):(me=b,b=db)}else me=b,b=db;else me=b,b=db}return se--,b===ab&&(c=ab,0===se&&f(pd)),b}function J(){var b,c,d,e,g;if(se++,b=me,33===a.charCodeAt(me)?(c=zd,me++):(c=ab,0===se&&f(Ad)),c!==ab){if(d=[],Bd.test(a.charAt(me))?(e=a.charAt(me),me++):(e=ab,0===se&&f(Cd)),e!==ab)for(;e!==ab;)d.push(e),Bd.test(a.charAt(me))?(e=a.charAt(me),me++):(e=ab,0===se&&f(Cd));else d=db;if(d===ab&&(d=gb),d!==ab){if(e=[],Dd.test(a.charAt(me))?(g=a.charAt(me),me++):(g=ab,0===se&&f(Ed)),g!==ab)for(;g!==ab;)e.push(g),Dd.test(a.charAt(me))?(g=a.charAt(me),me++):(g=ab,0===se&&f(Ed));else e=db;e===ab&&(e=gb),e!==ab?(ne=b,c=Fd(d,e),b=c):(me=b,b=db)}else me=b,b=db}else me=b,b=db;return b===ab&&(b=me,33===a.charCodeAt(me)?(c=zd,me++):(c=ab,0===se&&f(Ad)),c!==ab?(a.length>me?(d=a.charAt(me),me++):(d=ab,0===se&&f(Gd)),d===ab&&(d=gb),d!==ab?(ne=b,c=Hd(),b=c):(me=b,b=db)):(me=b,b=db)),se--,b===ab&&(c=ab,0===se&&f(yd)),b}function K(){var b;return Id.test(a.charAt(me))?(b=a.charAt(me),me++):(b=ab,0===se&&f(Jd)),b}function L(){var a;return a=N(),a===ab&&(a=M()),a}function M(){var b,c,d;if(b=me,c=[],Dd.test(a.charAt(me))?(d=a.charAt(me),me++):(d=ab,0===se&&f(Ed)),d!==ab)for(;d!==ab;)c.push(d),Dd.test(a.charAt(me))?(d=a.charAt(me),me++):(d=ab,0===se&&f(Ed));else c=db;return c!==ab&&(ne=b,c=Kd(c)),b=c}function N(){var b,c,d,e,g;return b=me,c=me,d=M(),d!==ab?(46===a.charCodeAt(me)?(e=Ld,me++):(e=ab,0===se&&f(Md)),e!==ab?(g=M(),g!==ab?(d=[d,e,g],c=d):(me=c,c=db)):(me=c,c=db)):(me=c,c=db),c!==ab&&(ne=b,c=Nd(c)),b=c}function O(){var b;return a.length>me?(b=a.charAt(me),me++):(b=ab,0===se&&f(Gd)),b}function P(){var b,c;return se++,Pd.test(a.charAt(me))?(b=a.charAt(me),me++):(b=ab,0===se&&f(Qd)),se--,b===ab&&(c=ab,0===se&&f(Od)),b}function Q(){var b;return Rd.test(a.charAt(me))?(b=a.charAt(me),me++):(b=ab,0===se&&f(Sd)),b}function R(){var b,c;return se++,10===a.charCodeAt(me)?(b=Ud,me++):(b=ab,0===se&&f(Vd)),b===ab&&(a.substr(me,2)===Wd?(b=Wd,me+=2):(b=ab,0===se&&f(Xd)),b===ab&&(13===a.charCodeAt(me)?(b=Yd,me++):(b=ab,0===se&&f(Zd)),b===ab&&(8232===a.charCodeAt(me)?(b=$d,me++):(b=ab,0===se&&f(_d)),b===ab&&(8233===a.charCodeAt(me)?(b=ae,me++):(b=ab,0===se&&f(be)))))),se--,b===ab&&(c=ab,0===se&&f(Td)),b}function S(){var b,c,d;return b=me,c=Z(),c!==ab?(59===a.charCodeAt(me)?(d=ce,me++):(d=ab,0===se&&f(de)),d!==ab?(c=[c,d],b=c):(me=b,b=db)):(me=b,b=db),b===ab&&(b=me,c=Y(),c!==ab?(d=R(),d!==ab?(c=[c,d],b=c):(me=b,b=db)):(me=b,b=db),b===ab&&(b=me,c=Z(),c!==ab?(d=T(),d!==ab?(c=[c,d],b=c):(me=b,b=db)):(me=b,b=db))),b}function T(){var b,c;return b=me,se++,a.length>me?(c=a.charAt(me),me++):(c=ab,0===se&&f(Gd)),se--,c===ab?b=ee:(me=b,b=db),b}function U(){var a,b;return se++,a=V(),a===ab&&(a=X()),se--,a===ab&&(b=ab,0===se&&f(fe)),a}function V(){var b,c,d,e,g,h;if(b=me,a.substr(me,2)===ge?(c=ge,me+=2):(c=ab,0===se&&f(he)),c!==ab){for(d=[],e=me,g=me,se++,a.substr(me,2)===ie?(h=ie,me+=2):(h=ab,0===se&&f(je)),se--,h===ab?g=ee:(me=g,g=db),g!==ab?(h=O(),h!==ab?(g=[g,h],e=g):(me=e,e=db)):(me=e,e=db);e!==ab;)d.push(e),e=me,g=me,se++,a.substr(me,2)===ie?(h=ie,me+=2):(h=ab,0===se&&f(je)),se--,h===ab?g=ee:(me=g,g=db),g!==ab?(h=O(),h!==ab?(g=[g,h],e=g):(me=e,e=db)):(me=e,e=db);d!==ab?(a.substr(me,2)===ie?(e=ie,me+=2):(e=ab,0===se&&f(je)),e!==ab?(c=[c,d,e],b=c):(me=b,b=db)):(me=b,b=db)}else me=b,b=db;return b}function W(){var b,c,d,e,g,h;if(b=me,a.substr(me,2)===ge?(c=ge,me+=2):(c=ab,0===se&&f(he)),c!==ab){for(d=[],e=me,g=me,se++,a.substr(me,2)===ie?(h=ie,me+=2):(h=ab,0===se&&f(je)),h===ab&&(h=Q()),se--,h===ab?g=ee:(me=g,g=db),g!==ab?(h=O(),h!==ab?(g=[g,h],e=g):(me=e,e=db)):(me=e,e=db);e!==ab;)d.push(e),e=me,g=me,se++,a.substr(me,2)===ie?(h=ie,me+=2):(h=ab,0===se&&f(je)),h===ab&&(h=Q()),se--,h===ab?g=ee:(me=g,g=db),g!==ab?(h=O(),h!==ab?(g=[g,h],e=g):(me=e,e=db)):(me=e,e=db);d!==ab?(a.substr(me,2)===ie?(e=ie,me+=2):(e=ab,0===se&&f(je)),e!==ab?(c=[c,d,e],b=c):(me=b,b=db)):(me=b,b=db)}else me=b,b=db;return b}function X(){var b,c,d,e,g,h;if(b=me,a.substr(me,2)===ke?(c=ke,me+=2):(c=ab,0===se&&f(le)),c!==ab){for(d=[],e=me,g=me,se++,h=Q(),se--,h===ab?g=ee:(me=g,g=db),g!==ab?(h=O(),h!==ab?(g=[g,h],e=g):(me=e,e=db)):(me=e,e=db);e!==ab;)d.push(e),e=me,g=me,se++,h=Q(),se--,h===ab?g=ee:(me=g,g=db),g!==ab?(h=O(),h!==ab?(g=[g,h],e=g):(me=e,e=db)):(me=e,e=db);d!==ab?(e=Q(),e===ab&&(e=T()),e!==ab?(c=[c,d,e],b=c):(me=b,b=db)):(me=b,b=db)}else me=b,b=db;return b}function Y(){var a,b;for(a=[],b=P(),b===ab&&(b=W(),b===ab&&(b=X()));b!==ab;)a.push(b),b=P(),b===ab&&(b=W(),b===ab&&(b=X()));return a}function Z(){var a,b;for(a=[],b=P(),b===ab&&(b=R(),b===ab&&(b=U()));b!==ab;)a.push(b),b=P(),b===ab&&(b=R(),b===ab&&(b=U()));return a}var $,_=arguments.length>1?arguments[1]:{},ab={},bb={start:h},cb=h,db=ab,eb=function(){return te.getResults()},fb=function(a){return a},gb=null,hb=function(a,b,c,d){var e,f,g,h,i,j,k,l,m;te.addSplatIfNeeded(b,a,d),f=b,m=b,l=m.view,h=[],"|"!==l&&h.push(l),te.addPreds(l,b.preds,a);for(var n=0;n<c.length;n++)e=c[n][1],k=c[n][3],te.addSplatIfNeeded(k,a,d),j=k.view,"|"!==j&&h.push(j),te.addPreds(j,c[n][3].preds,a),f=[e,f,j],m.isPoint&&k.isPoint||(i=("|"==l||"|"===j)&&!(m.isPoint||k.isPoint),g=te.getLeftVar(l,a,d,m)+" "+te.getConnectionString(e,a,d,i)+" "+te.getRightVar(j,a,d,k)+te.getTrailingOptions(d)+te.getSW(d),te.addC(g.trim())),m=k,l=j;return te.addChains(h,d),{vfl:a,o:d}},ib="@horizontal",jb={type:"literal",value:"@horizontal",description:'"@horizontal"'},kb="@-gss-horizontal",lb={type:"literal",value:"@-gss-horizontal",description:'"@-gss-horizontal"'},mb="@-gss-h",nb={type:"literal",value:"@-gss-h",description:'"@-gss-h"'},ob="@h",pb={type:"literal",value:"@h",description:'"@h"'},qb=function(){return 0},rb="@vertical",sb={type:"literal",value:"@vertical",description:'"@vertical"'},tb="@-gss-vertical",ub={type:"literal",value:"@-gss-vertical",description:'"@-gss-vertical"'},vb="@-gss-v",wb={type:"literal",value:"@-gss-v",description:'"@-gss-v"'},xb="@v",yb={type:"literal",value:"@v",description:'"@v"'},zb=function(){return 1},Ab=function(a){var b={};b.chains=[];for(var c=0;c<a.length;c++)a[c].chain?b.chains.push(a[c].chain):b[a[c].key]=a[c].value;return b},Bb={type:"other",description:"Option"},Cb=function(a){return a},Db="in",Eb={type:"literal",value:"in",description:'"in"'},Fb="(",Gb={type:"literal",value:"(",description:'"("'},Hb=/^[^) ]/,Ib={type:"class",value:"[^) ]",description:"[^) ]"},Jb=")",Kb={type:"literal",value:")",description:'")"'},Lb=function(a){return{key:"in",value:a.join("")}},Mb=/^[^)]/,Nb={type:"class",value:"[^)]",description:"[^)]"},Ob=function(a){return{key:"in",value:"("+a.join("")+")"}},Pb=function(a,b){return{key:a.join(""),value:b.join("")}},Qb=function(a){return{key:"sw",value:a}},Rb=/^[^>=<!)]/,Sb={type:"class",value:"[^>=<!)]",description:"[^>=<!)]"},Tb=/^[>=<!]/,Ub={type:"class",value:"[>=<!]",description:"[>=<!]"},Vb=function(){throw new b("invalid character in option",null,null,null,c(),d())},Wb={type:"other",description:"Chain"},Xb="chain-",Yb={type:"literal",value:"chain-",description:'"chain-"'},Zb=function(a,b){return{chain:[a.join(""),b]}},$b={type:"other",description:"ChainPredicate"},_b=function(a){return a.raw="",a.forEach(function(b){a.raw+=b.raw}),a},ac="()",bc={type:"literal",value:"()",description:'"()"'},cc=function(){return{raw:""}},dc=",",ec={type:"literal",value:",",description:'","'},fc=function(a){return a.raw=a.headEq+a.value+a.tailEq+a.s,a},gc=function(a,b,c,d){return{headEq:te.join(a),value:te.join(b),tailEq:te.join(c),s:te.join(d)}},hc=/^[^>=<!) ]/,ic={type:"class",value:"[^>=<!) ]",description:"[^>=<!) ]"},jc={type:"other",description:"VFL Element"},kc=function(a){return{view:"|",isPoint:!0,pos:a}},lc="|",mc={type:"literal",value:"|",description:'"|"'},nc=function(){return{view:"|"}},oc=function(a,b){return a=te.stringify(a),te.addSelector(a),{view:a,preds:b}},pc=/^[^()]/,qc={type:"class",value:"[^()]",description:"[^()]"},rc=function(a,b){return a="("+te.stringify(a)+")",te.addSelector(a),{view:a,preds:b}},sc="...",tc={type:"literal",value:"...",description:'"..."'},uc=function(a,b){return a.isSplat=!0,a.connection=b,a},vc={type:"other",description:"Point"},wc="<",xc={type:"literal",value:"<",description:'"<"'},yc=/^[^>]/,zc={type:"class",value:"[^>]",description:"[^>]"},Ac=">",Bc={type:"literal",value:">",description:'">"'},Cc=function(a){return te.stringify(a)},Dc={type:"other",description:"Predicate"},Ec=function(a){return a},Fc={type:"other",description:"Predicate Expression"},Gc="==",Hc={type:"literal",value:"==",description:'"=="'},Ic="<=",Jc={type:"literal",value:"<=",description:'"<="'},Kc=">=",Lc={type:"literal",value:">=",description:'">="'},Mc="=<",Nc={type:"literal",value:"=<",description:'"=<"'},Oc=function(){return"<="},Pc="=>",Qc={type:"literal",value:"=>",description:'"=>"'},Rc=function(){return">="},Sc=function(a){return a},Tc=/^[+\-\/*]/,Uc={type:"class",value:"[+\\-\\/*]",description:"[+\\-\\/*]"},Vc=function(a){return a},Wc=function(a){return["view",a.join("")]},Xc=function(a){return a.join("")},Yc="[",Zc={type:"literal",value:"[",description:'"["'},$c="]",_c={type:"literal",value:"]",description:'"]"'},ad=function(a){return"["+a.join("")+"]"},bd=function(a,b){return a.join("")+"["+b.join("")+"]"},cd=function(){return""},dd={type:"other",description:"VFL Connection"},ed="-",fd={type:"literal",value:"-",description:'"-"'},gd=function(a){return{op:"==",gap:a}},hd=function(){return{op:"==",gap:"__STANDARD__"}},id="~",jd={type:"literal",value:"~",description:'"~"'},kd=function(a){return{op:"<=",gap:a}},ld=function(){return{op:"<=",gap:"__STANDARD__"}},md=function(){return{op:"<="}},nd="",od=function(){return{op:"=="}},pd={type:"other",description:"VFL Connection Gap"},qd=/^[a-zA-Z0-9_$]/,rd={type:"class",value:"[a-zA-Z0-9_$]",description:"[a-zA-Z0-9_$]"},sd=function(a){return a.join("")},td=/^[^[]/,ud={type:"class",value:"[^[]",description:"[^[]"},vd=/^[^\]]/,wd={type:"class",value:"[^\\]]",description:"[^\\]]"},xd=function(a,b){return a.join("")+"["+b.join("")+"]"},yd={type:"other",description:"Strength / Weight"},zd="!",Ad={type:"literal",value:"!",description:'"!"'},Bd=/^[a-zA-Z]/,Cd={type:"class",value:"[a-zA-Z]",description:"[a-zA-Z]"},Dd=/^[0-9]/,Ed={type:"class",value:"[0-9]",description:"[0-9]"},Fd=function(a,b){var c;return c="!"+te.join(a)+te.join(b),c.trim()},Gd={type:"any",description:"any character"},Hd=function(){throw new b("Invalid Strength or Weight",null,null,null,c(),d())},Id=/^[a-zA-Z0-9#.\-_$:""&]/,Jd={type:"class",value:'[a-zA-Z0-9#.\\-_$:""&]',description:'[a-zA-Z0-9#.\\-_$:""&]'},Kd=function(a){return parseInt(a.join(""),10)},Ld=".",Md={type:"literal",value:".",description:'"."'},Nd=function(a){return parseFloat(a.join(""))},Od={type:"other",description:"whitespace"},Pd=/^[\t\x0B\f \xA0\uFEFF]/,Qd={type:"class",value:"[\\t\\x0B\\f \\xA0\\uFEFF]",description:"[\\t\\x0B\\f \\xA0\\uFEFF]"},Rd=/^[\n\r\u2028\u2029]/,Sd={type:"class",value:"[\\n\\r\\u2028\\u2029]",description:"[\\n\\r\\u2028\\u2029]"},Td={type:"other",description:"end of line"},Ud="\n",Vd={type:"literal",value:"\n",description:'"\\n"'},Wd="\r\n",Xd={type:"literal",value:"\r\n",description:'"\\r\\n"'},Yd="\r",Zd={type:"literal",value:"\r",description:'"\\r"'},$d="\u2028",_d={type:"literal",value:"\u2028",description:'"\\u2028"'},ae="\u2029",be={type:"literal",value:"\u2029",description:'"\\u2029"'},ce=";",de={type:"literal",value:";",description:'";"'},ee=void 0,fe={type:"other",description:"comment"},ge="/*",he={type:"literal",value:"/*",description:'"/*"'},ie="*/",je={type:"literal",value:"*/",description:'"*/"'},ke="//",le={type:"literal",value:"//",description:'"//"'},me=0,ne=0,oe=0,pe={line:1,column:1,seenCR:!1},qe=0,re=[],se=0;if("startRule"in _){if(!(_.startRule in bb))throw new Error("Can't start parsing from rule \""+_.startRule+'".');cb=bb[_.startRule]}var te,ue,ve,we,xe,ye,ze,Ae,Be,Ce,De;if(te=ue=this,te.trickleDownOptions=["name"],De=te.sizeVarNames=["width","height"],we=te.leftVarNames=["right","bottom"],xe=te.superLeftVarNames=["left","top"],ye=te.rightVarNames=["left","top"],ze=te.superRightVarNames=["right","bottom"],ve=te.cs=[],te.addC=function(a){ve.push(a)},te.selectors=[],te.addSelector=function(a){-1===te.selectors.indexOf(a)&&te.selectors.push(a)},te.addSplatIfNeeded=function(a,b,c){var d,e,f;a.connection?(e=a.connection.op,f=a.connection.gap):(e="==",f=0),a.isSplat&&(d=a.view+" { &["+we[b]+"] ",d+=te.getConnectionString(a.connection,b,c,!1)+" ",d+="&:next["+ye[b]+"]; }",te.addC(d))},te.addPreds=function(a,b,c){var d,e,f,g,h;
if(b)for(var i=0;i<b.length;i++){d=b[i],f=d[0],e=a+"["+De[c]+"] "+f+" ",g=d[1];for(var j=0;j<g.length;j++)h=g[j],"view"===h[0]&&(h=h[1]+"["+De[c]+"]"),e+=h+" ";d[2]&&(e+=d[2]),ve.push(e.trim())}},te.defaultChainObject={headEq:"==",value:"",tailEq:"",s:""},te.chainTailEqMap={"<=":">=",">=":"<=","==":"==","<":">",">":"<"},te.addChains=function(a,b){var c,d,e,f,g,h,i;if(c=b.chains)for(var j=0;j<c.length;j++){d=c[j],e=d[0],f=d[1],""!==f&&f||(f=[te.defaultChainObject]);for(var k=0;k<f.length;k++){i=f[k],g="";for(var l=0;l<a.length-1;l++)h=a[l],""===i.headEq&&(i.headEq=te.defaultChainObject.headEq),g+=" "+h+"["+e+"] "+i.headEq,""!==i.value&&(g+=" "+i.value,a.length>1?(""===i.tailEq&&(i.tailEq=te.chainTailEqMap[i.headEq]),g+=" "+i.tailEq):(g+=" "+i.s,ve.push(g.trim())));a.length>1&&(g+=" "+a[a.length-1]+"["+e+"]",g+=te.getTrailingOptions(b),g+=" "+i.s,ve.push(g.trim()))}}},Be=function(a){return void 0===a.in?"::this":a.in},te.getLeftVar=function(a,b,c,d){var e;return d.isPoint?d.pos:("|"===a?(a=Be(c),e=xe[b]):(d.isSplat&&(a+=":last","("===a[0]&&(a="("+a+")")),e=we[b]),a+"["+e+"]")},te.getRightVar=function(a,b,c,d){var e;return d.isPoint?d.pos:("|"===a?(a=Be(c),e=ze[b]):(d.isSplat&&(a+=":first","("===a[0]&&(a="("+a+")")),e=ye[b]),a+"["+e+"]")},Ae=["[hgap]","[vgap]"],Ce=function(a,b,c,d){return void 0===a?"":("__STANDARD__"===a&&(a=d&&c["outer-gap"]?c["outer-gap"]:c.gap?c.gap:Ae[b]),"+ "+a)},te.getConnectionString=function(a,b,c,d){return(Ce(a.gap,b,c,d)+" "+a.op).trim()},te.getTrailingOptions=function(a){var b="";return a&&te.trickleDownOptions.forEach(function(c){null!=a[c]&&(b=b+" "+c+"("+a[c]+")")}),b},te.getSW=function(a){return a.sw?" "+a.sw.trim():""},te.getResults=function(){return{statements:this.cs,selectors:te.selectors}},te.flatten=function(a,b){if("string"==typeof a)return a;for(var c=-1,d=a?a.length:0,e=[];++c<d;){var f=a[c];f instanceof Array?Array.prototype.push.apply(e,b?f:te.flatten(f)):e.push(f)}return e},te.trim=function(a){return"string"==typeof a?a.trim():a instanceof Array?a.join("").trim():""},te.join=function(a){return a?a.join?a.join(""):a:""},te.stringify=function(a){return a?te.trim(te.join(te.flatten(a))):""},$=cb(),$!==ab&&me===a.length)return $;throw $!==ab&&me<a.length&&f({type:"end",description:"end of input"}),g(null,re,qe)}return a(b,Error),{SyntaxError:b,parse:c}}()}),a.register("gss-vgl-compiler/lib/compiler.js",function(a,b,c){var d,e;e="undefined"!=typeof window&&null!==window?b("./parser").parse:b("../lib/parser").parse,d=b("error-reporter"),c.exports={parse:function(a){var b,c,f,g,h,i;i=null;try{i=e(a)}catch(j){c=j,f=new d(a),h=c.message,g=c.line,b=c.column,f.reportError(h,g,b)}return i}}}),a.register("gss-vgl-compiler/lib/parser.js",function(a,b,c){c.exports=function(){function a(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c}function b(a,b,c,d,e,f){this.message=a,this.expected=b,this.found=c,this.offset=d,this.line=e,this.column=f,this.name="SyntaxError"}function c(a){function c(b){function c(b,c,d){var e,f;for(e=c;d>e;e++)f=a.charAt(e),"\n"===f?(b.seenCR||b.line++,b.column=1,b.seenCR=!1):"\r"===f||"\u2028"===f||"\u2029"===f?(b.line++,b.column=1,b.seenCR=!0):(b.column++,b.seenCR=!1)}return Se!==b&&(Se>b&&(Se=0,Te={line:1,column:1,seenCR:!1}),c(Te,Se,b),Se=b),Te}function d(a){Ue>Qe||(Qe>Ue&&(Ue=Qe,Ve=[]),Ve.push(a))}function e(d,e,f){function g(a){var b=1;for(a.sort(function(a,b){return a.description<b.description?-1:a.description>b.description?1:0});b<a.length;)a[b-1]===a[b]?a.splice(b,1):b++}function h(a,b){function c(a){function b(a){return a.charCodeAt(0).toString(16).toUpperCase()}return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(a){return"\\x0"+b(a)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(a){return"\\x"+b(a)}).replace(/[\u0180-\u0FFF]/g,function(a){return"\\u0"+b(a)}).replace(/[\u1080-\uFFFF]/g,function(a){return"\\u"+b(a)})}var d,e,f,g=new Array(a.length);for(f=0;f<a.length;f++)g[f]=a[f].description;return d=a.length>1?g.slice(0,-1).join(", ")+" or "+g[a.length-1]:g[0],e=b?'"'+c(b)+'"':"end of input","Expected "+d+" but "+e+" found."}var i=c(f),j=f<a.length?a.charAt(f):null;return null!==e&&g(e),new b(null!==d?d:h(e,j),e,j,f,i.line,i.column)}function f(){var a,b,c,d;if(a=Qe,b=H(),b!==K){for(c=[],d=g();d!==K;)c.push(d),d=g();c!==K?(d=H(),d!==K?(Re=a,b=O(),a=b):(Qe=a,a=N)):(Qe=a,a=N)}else Qe=a,a=N;return a}function g(){var b,c,e,f,g;return b=Qe,64===a.charCodeAt(Qe)?(c=P,Qe++):(c=K,0===We&&d(Q)),c!==K?(e=h(),e!==K?(f=A(),f!==K?(g=H(),g!==K?(Re=b,c=R(e),b=c):(Qe=b,b=N)):(Qe=b,b=N)):(Qe=b,b=N)):(Qe=b,b=N),b}function h(){var a;return a=i(),a===K&&(a=j()),a}function i(){var b,c,e,f,g,h,i,j,k,l;if(We++,b=Qe,a.substr(Qe,5)===T?(c=T,Qe+=5):(c=K,0===We&&d(U)),c===K&&(a.substr(Qe,10)===V?(c=V,Qe+=10):(c=K,0===We&&d(W))),c!==K)if(e=p(),e!==K)if(f=H(),f!==K)if(34===a.charCodeAt(Qe)?(g=X,Qe++):(g=K,0===We&&d(Y)),g!==K)if(h=q(),h!==K)if(34===a.charCodeAt(Qe)?(i=X,Qe++):(i=K,0===We&&d(Y)),i!==K)if(j=H(),j!==K){for(k=[],l=z();l!==K;)k.push(l),l=z();k!==K?(Re=b,c=Z(e,h,k),b=c):(Qe=b,b=N)}else Qe=b,b=N;else Qe=b,b=N;else Qe=b,b=N;else Qe=b,b=N;else Qe=b,b=N;else Qe=b,b=N;else Qe=b,b=N;return We--,b===K&&(c=K,0===We&&d(S)),b}function j(){var b,c,e,f,g,h,i;if(We++,b=Qe,a.substr(Qe,5)===T?(c=T,Qe+=5):(c=K,0===We&&d(U)),c===K&&(a.substr(Qe,10)===V?(c=V,Qe+=10):(c=K,0===We&&d(W))),c!==K)if(a.substr(Qe,8)===_?(e=_,Qe+=8):(e=K,0===We&&d(ab)),e!==K)if(f=H(),f!==K){if(g=[],bb.test(a.charAt(Qe))?(h=a.charAt(Qe),Qe++):(h=K,0===We&&d(cb)),h!==K)for(;h!==K;)g.push(h),bb.test(a.charAt(Qe))?(h=a.charAt(Qe),Qe++):(h=K,0===We&&d(cb));else g=N;if(g!==K){if(h=[],i=k(),i!==K)for(;i!==K;)h.push(i),i=k();else h=N;h!==K?(i=l(),i!==K?(Re=b,c=db(g,h,i),b=c):(Qe=b,b=N)):(Qe=b,b=N)}else Qe=b,b=N}else Qe=b,b=N;else Qe=b,b=N;else Qe=b,b=N;return We--,b===K&&(c=K,0===We&&d($)),b}function k(){var b,c,e,f,g,h;if(We++,b=Qe,c=H(),c!==K)if(34===a.charCodeAt(Qe)?(e=X,Qe++):(e=K,0===We&&d(Y)),e!==K){if(f=[],g=o(),g!==K)for(;g!==K;)f.push(g),g=o();else f=N;f!==K?(34===a.charCodeAt(Qe)?(g=X,Qe++):(g=K,0===We&&d(Y)),g!==K?(h=H(),h!==K?(Re=b,c=fb(f),b=c):(Qe=b,b=N)):(Qe=b,b=N)):(Qe=b,b=N)}else Qe=b,b=N;else Qe=b,b=N;return We--,b===K&&(c=K,0===We&&d(eb)),b}function l(){var a,b,c;for(We++,a=Qe,b=[],c=m();c!==K;)b.push(c),c=m();return b!==K&&(Re=a,b=hb(b)),a=b,We--,a===K&&(b=K,0===We&&d(gb)),a}function m(){var b,c,e,f,g,h;if(We++,b=Qe,c=H(),c!==K){if(e=[],f=u(),f!==K)for(;f!==K;)e.push(f),f=u();else e=N;if(e!==K)if(40===a.charCodeAt(Qe)?(f=jb,Qe++):(f=K,0===We&&d(kb)),f!==K){if(g=[],h=n(),h!==K)for(;h!==K;)g.push(h),h=n();else g=N;g!==K?(41===a.charCodeAt(Qe)?(h=lb,Qe++):(h=K,0===We&&d(mb)),h!==K?(Re=b,c=nb(e,g),b=c):(Qe=b,b=N)):(Qe=b,b=N)}else Qe=b,b=N;else Qe=b,b=N}else Qe=b,b=N;return We--,b===K&&(c=K,0===We&&d(ib)),b}function n(){var b;return ob.test(a.charAt(Qe))?(b=a.charAt(Qe),Qe++):(b=K,0===We&&d(pb)),b}function o(){var b,c,e,f,g;if(We++,b=Qe,c=[],48===a.charCodeAt(Qe)?(e=rb,Qe++):(e=K,0===We&&d(sb)),e!==K)for(;e!==K;)c.push(e),48===a.charCodeAt(Qe)?(e=rb,Qe++):(e=K,0===We&&d(sb));else c=N;if(c===K){if(c=[],49===a.charCodeAt(Qe)?(e=tb,Qe++):(e=K,0===We&&d(ub)),e!==K)for(;e!==K;)c.push(e),49===a.charCodeAt(Qe)?(e=tb,Qe++):(e=K,0===We&&d(ub));else c=N;if(c===K){if(c=[],50===a.charCodeAt(Qe)?(e=vb,Qe++):(e=K,0===We&&d(wb)),e!==K)for(;e!==K;)c.push(e),50===a.charCodeAt(Qe)?(e=vb,Qe++):(e=K,0===We&&d(wb));else c=N;if(c===K){if(c=[],51===a.charCodeAt(Qe)?(e=xb,Qe++):(e=K,0===We&&d(yb)),e!==K)for(;e!==K;)c.push(e),51===a.charCodeAt(Qe)?(e=xb,Qe++):(e=K,0===We&&d(yb));else c=N;if(c===K){if(c=[],52===a.charCodeAt(Qe)?(e=zb,Qe++):(e=K,0===We&&d(Ab)),e!==K)for(;e!==K;)c.push(e),52===a.charCodeAt(Qe)?(e=zb,Qe++):(e=K,0===We&&d(Ab));else c=N;if(c===K){if(c=[],53===a.charCodeAt(Qe)?(e=Bb,Qe++):(e=K,0===We&&d(Cb)),e!==K)for(;e!==K;)c.push(e),53===a.charCodeAt(Qe)?(e=Bb,Qe++):(e=K,0===We&&d(Cb));else c=N;if(c===K){if(c=[],54===a.charCodeAt(Qe)?(e=Db,Qe++):(e=K,0===We&&d(Eb)),e!==K)for(;e!==K;)c.push(e),54===a.charCodeAt(Qe)?(e=Db,Qe++):(e=K,0===We&&d(Eb));else c=N;if(c===K){if(c=[],55===a.charCodeAt(Qe)?(e=Fb,Qe++):(e=K,0===We&&d(Gb)),e!==K)for(;e!==K;)c.push(e),55===a.charCodeAt(Qe)?(e=Fb,Qe++):(e=K,0===We&&d(Gb));else c=N;if(c===K){if(c=[],56===a.charCodeAt(Qe)?(e=Hb,Qe++):(e=K,0===We&&d(Ib)),e!==K)for(;e!==K;)c.push(e),56===a.charCodeAt(Qe)?(e=Hb,Qe++):(e=K,0===We&&d(Ib));else c=N;if(c===K){if(c=[],57===a.charCodeAt(Qe)?(e=Jb,Qe++):(e=K,0===We&&d(Kb)),e!==K)for(;e!==K;)c.push(e),57===a.charCodeAt(Qe)?(e=Jb,Qe++):(e=K,0===We&&d(Kb));else c=N;if(c===K){if(c=[],97===a.charCodeAt(Qe)?(e=Lb,Qe++):(e=K,0===We&&d(Mb)),e!==K)for(;e!==K;)c.push(e),97===a.charCodeAt(Qe)?(e=Lb,Qe++):(e=K,0===We&&d(Mb));else c=N;if(c===K){if(c=[],98===a.charCodeAt(Qe)?(e=Nb,Qe++):(e=K,0===We&&d(Ob)),e!==K)for(;e!==K;)c.push(e),98===a.charCodeAt(Qe)?(e=Nb,Qe++):(e=K,0===We&&d(Ob));else c=N;if(c===K){if(c=[],99===a.charCodeAt(Qe)?(e=Pb,Qe++):(e=K,0===We&&d(Qb)),e!==K)for(;e!==K;)c.push(e),99===a.charCodeAt(Qe)?(e=Pb,Qe++):(e=K,0===We&&d(Qb));else c=N;if(c===K){if(c=[],100===a.charCodeAt(Qe)?(e=Rb,Qe++):(e=K,0===We&&d(Sb)),e!==K)for(;e!==K;)c.push(e),100===a.charCodeAt(Qe)?(e=Rb,Qe++):(e=K,0===We&&d(Sb));else c=N;if(c===K){if(c=[],101===a.charCodeAt(Qe)?(e=Tb,Qe++):(e=K,0===We&&d(Ub)),e!==K)for(;e!==K;)c.push(e),101===a.charCodeAt(Qe)?(e=Tb,Qe++):(e=K,0===We&&d(Ub));else c=N;if(c===K){if(c=Qe,e=[],102===a.charCodeAt(Qe)?(f=Vb,Qe++):(f=K,0===We&&d(Wb)),f!==K)for(;f!==K;)e.push(f),102===a.charCodeAt(Qe)?(f=Vb,Qe++):(f=K,0===We&&d(Wb));else e=N;if(e!==K){if(f=[],103===a.charCodeAt(Qe)?(g=Xb,Qe++):(g=K,0===We&&d(Yb)),g!==K)for(;g!==K;)f.push(g),103===a.charCodeAt(Qe)?(g=Xb,Qe++):(g=K,0===We&&d(Yb));else f=N;f!==K?(e=[e,f],c=e):(Qe=c,c=N)}else Qe=c,c=N;if(c===K){if(c=[],104===a.charCodeAt(Qe)?(e=Zb,Qe++):(e=K,0===We&&d($b)),e!==K)for(;e!==K;)c.push(e),104===a.charCodeAt(Qe)?(e=Zb,Qe++):(e=K,0===We&&d($b));else c=N;if(c===K){if(c=[],105===a.charCodeAt(Qe)?(e=_b,Qe++):(e=K,0===We&&d(ac)),e!==K)for(;e!==K;)c.push(e),105===a.charCodeAt(Qe)?(e=_b,Qe++):(e=K,0===We&&d(ac));else c=N;if(c===K){if(c=[],106===a.charCodeAt(Qe)?(e=bc,Qe++):(e=K,0===We&&d(cc)),e!==K)for(;e!==K;)c.push(e),106===a.charCodeAt(Qe)?(e=bc,Qe++):(e=K,0===We&&d(cc));else c=N;if(c===K){if(c=[],107===a.charCodeAt(Qe)?(e=dc,Qe++):(e=K,0===We&&d(ec)),e!==K)for(;e!==K;)c.push(e),107===a.charCodeAt(Qe)?(e=dc,Qe++):(e=K,0===We&&d(ec));else c=N;if(c===K){if(c=[],108===a.charCodeAt(Qe)?(e=fc,Qe++):(e=K,0===We&&d(gc)),e!==K)for(;e!==K;)c.push(e),108===a.charCodeAt(Qe)?(e=fc,Qe++):(e=K,0===We&&d(gc));else c=N;if(c===K){if(c=[],109===a.charCodeAt(Qe)?(e=hc,Qe++):(e=K,0===We&&d(ic)),e!==K)for(;e!==K;)c.push(e),109===a.charCodeAt(Qe)?(e=hc,Qe++):(e=K,0===We&&d(ic));else c=N;if(c===K){if(c=[],110===a.charCodeAt(Qe)?(e=jc,Qe++):(e=K,0===We&&d(kc)),e!==K)for(;e!==K;)c.push(e),110===a.charCodeAt(Qe)?(e=jc,Qe++):(e=K,0===We&&d(kc));else c=N;if(c===K){if(c=[],111===a.charCodeAt(Qe)?(e=lc,Qe++):(e=K,0===We&&d(mc)),e!==K)for(;e!==K;)c.push(e),111===a.charCodeAt(Qe)?(e=lc,Qe++):(e=K,0===We&&d(mc));else c=N;if(c===K){if(c=[],112===a.charCodeAt(Qe)?(e=nc,Qe++):(e=K,0===We&&d(oc)),e!==K)for(;e!==K;)c.push(e),112===a.charCodeAt(Qe)?(e=nc,Qe++):(e=K,0===We&&d(oc));else c=N;if(c===K){if(c=[],113===a.charCodeAt(Qe)?(e=pc,Qe++):(e=K,0===We&&d(qc)),e!==K)for(;e!==K;)c.push(e),113===a.charCodeAt(Qe)?(e=pc,Qe++):(e=K,0===We&&d(qc));else c=N;if(c===K){if(c=[],114===a.charCodeAt(Qe)?(e=rc,Qe++):(e=K,0===We&&d(sc)),e!==K)for(;e!==K;)c.push(e),114===a.charCodeAt(Qe)?(e=rc,Qe++):(e=K,0===We&&d(sc));else c=N;if(c===K){if(c=[],115===a.charCodeAt(Qe)?(e=tc,Qe++):(e=K,0===We&&d(uc)),e!==K)for(;e!==K;)c.push(e),115===a.charCodeAt(Qe)?(e=tc,Qe++):(e=K,0===We&&d(uc));else c=N;if(c===K){if(c=[],116===a.charCodeAt(Qe)?(e=vc,Qe++):(e=K,0===We&&d(wc)),e!==K)for(;e!==K;)c.push(e),116===a.charCodeAt(Qe)?(e=vc,Qe++):(e=K,0===We&&d(wc));else c=N;if(c===K){if(c=[],117===a.charCodeAt(Qe)?(e=xc,Qe++):(e=K,0===We&&d(yc)),e!==K)for(;e!==K;)c.push(e),117===a.charCodeAt(Qe)?(e=xc,Qe++):(e=K,0===We&&d(yc));else c=N;if(c===K){if(c=[],118===a.charCodeAt(Qe)?(e=zc,Qe++):(e=K,0===We&&d(Ac)),e!==K)for(;e!==K;)c.push(e),118===a.charCodeAt(Qe)?(e=zc,Qe++):(e=K,0===We&&d(Ac));else c=N;if(c===K){if(c=[],119===a.charCodeAt(Qe)?(e=Bc,Qe++):(e=K,0===We&&d(Cc)),e!==K)for(;e!==K;)c.push(e),119===a.charCodeAt(Qe)?(e=Bc,Qe++):(e=K,0===We&&d(Cc));else c=N;if(c===K){if(c=[],120===a.charCodeAt(Qe)?(e=Dc,Qe++):(e=K,0===We&&d(Ec)),e!==K)for(;e!==K;)c.push(e),120===a.charCodeAt(Qe)?(e=Dc,Qe++):(e=K,0===We&&d(Ec));else c=N;if(c===K){if(c=[],121===a.charCodeAt(Qe)?(e=Fc,Qe++):(e=K,0===We&&d(Gc)),e!==K)for(;e!==K;)c.push(e),121===a.charCodeAt(Qe)?(e=Fc,Qe++):(e=K,0===We&&d(Gc));else c=N;if(c===K){if(c=[],122===a.charCodeAt(Qe)?(e=Hc,Qe++):(e=K,0===We&&d(Ic)),e!==K)for(;e!==K;)c.push(e),122===a.charCodeAt(Qe)?(e=Hc,Qe++):(e=K,0===We&&d(Ic));else c=N;if(c===K){if(c=[],65===a.charCodeAt(Qe)?(e=Jc,Qe++):(e=K,0===We&&d(Kc)),e!==K)for(;e!==K;)c.push(e),65===a.charCodeAt(Qe)?(e=Jc,Qe++):(e=K,0===We&&d(Kc));else c=N;if(c===K){if(c=[],66===a.charCodeAt(Qe)?(e=Lc,Qe++):(e=K,0===We&&d(Mc)),e!==K)for(;e!==K;)c.push(e),66===a.charCodeAt(Qe)?(e=Lc,Qe++):(e=K,0===We&&d(Mc));else c=N;if(c===K){if(c=[],67===a.charCodeAt(Qe)?(e=Nc,Qe++):(e=K,0===We&&d(Oc)),e!==K)for(;e!==K;)c.push(e),67===a.charCodeAt(Qe)?(e=Nc,Qe++):(e=K,0===We&&d(Oc));else c=N;if(c===K){if(c=[],68===a.charCodeAt(Qe)?(e=Pc,Qe++):(e=K,0===We&&d(Qc)),e!==K)for(;e!==K;)c.push(e),68===a.charCodeAt(Qe)?(e=Pc,Qe++):(e=K,0===We&&d(Qc));else c=N;if(c===K){if(c=[],69===a.charCodeAt(Qe)?(e=Rc,Qe++):(e=K,0===We&&d(Sc)),e!==K)for(;e!==K;)c.push(e),69===a.charCodeAt(Qe)?(e=Rc,Qe++):(e=K,0===We&&d(Sc));else c=N;if(c===K){if(c=[],70===a.charCodeAt(Qe)?(e=Tc,Qe++):(e=K,0===We&&d(Uc)),e!==K)for(;e!==K;)c.push(e),70===a.charCodeAt(Qe)?(e=Tc,Qe++):(e=K,0===We&&d(Uc));else c=N;if(c===K){if(c=[],71===a.charCodeAt(Qe)?(e=Vc,Qe++):(e=K,0===We&&d(Wc)),e!==K)for(;e!==K;)c.push(e),71===a.charCodeAt(Qe)?(e=Vc,Qe++):(e=K,0===We&&d(Wc));else c=N;if(c===K){if(c=[],72===a.charCodeAt(Qe)?(e=Xc,Qe++):(e=K,0===We&&d(Yc)),e!==K)for(;e!==K;)c.push(e),72===a.charCodeAt(Qe)?(e=Xc,Qe++):(e=K,0===We&&d(Yc));else c=N;if(c===K){if(c=[],73===a.charCodeAt(Qe)?(e=Zc,Qe++):(e=K,0===We&&d($c)),e!==K)for(;e!==K;)c.push(e),73===a.charCodeAt(Qe)?(e=Zc,Qe++):(e=K,0===We&&d($c));else c=N;if(c===K){if(c=[],74===a.charCodeAt(Qe)?(e=_c,Qe++):(e=K,0===We&&d(ad)),e!==K)for(;e!==K;)c.push(e),74===a.charCodeAt(Qe)?(e=_c,Qe++):(e=K,0===We&&d(ad));else c=N;if(c===K){if(c=[],75===a.charCodeAt(Qe)?(e=bd,Qe++):(e=K,0===We&&d(cd)),e!==K)for(;e!==K;)c.push(e),75===a.charCodeAt(Qe)?(e=bd,Qe++):(e=K,0===We&&d(cd));else c=N;if(c===K){if(c=[],76===a.charCodeAt(Qe)?(e=dd,Qe++):(e=K,0===We&&d(ed)),e!==K)for(;e!==K;)c.push(e),76===a.charCodeAt(Qe)?(e=dd,Qe++):(e=K,0===We&&d(ed));else c=N;if(c===K){if(c=[],77===a.charCodeAt(Qe)?(e=fd,Qe++):(e=K,0===We&&d(gd)),e!==K)for(;e!==K;)c.push(e),77===a.charCodeAt(Qe)?(e=fd,Qe++):(e=K,0===We&&d(gd));else c=N;if(c===K){if(c=[],78===a.charCodeAt(Qe)?(e=hd,Qe++):(e=K,0===We&&d(id)),e!==K)for(;e!==K;)c.push(e),78===a.charCodeAt(Qe)?(e=hd,Qe++):(e=K,0===We&&d(id));else c=N;if(c===K){if(c=[],79===a.charCodeAt(Qe)?(e=jd,Qe++):(e=K,0===We&&d(kd)),e!==K)for(;e!==K;)c.push(e),79===a.charCodeAt(Qe)?(e=jd,Qe++):(e=K,0===We&&d(kd));else c=N;if(c===K){if(c=[],80===a.charCodeAt(Qe)?(e=ld,Qe++):(e=K,0===We&&d(md)),e!==K)for(;e!==K;)c.push(e),80===a.charCodeAt(Qe)?(e=ld,Qe++):(e=K,0===We&&d(md));else c=N;if(c===K){if(c=[],81===a.charCodeAt(Qe)?(e=nd,Qe++):(e=K,0===We&&d(od)),e!==K)for(;e!==K;)c.push(e),81===a.charCodeAt(Qe)?(e=nd,Qe++):(e=K,0===We&&d(od));else c=N;if(c===K){if(c=[],82===a.charCodeAt(Qe)?(e=pd,Qe++):(e=K,0===We&&d(qd)),e!==K)for(;e!==K;)c.push(e),82===a.charCodeAt(Qe)?(e=pd,Qe++):(e=K,0===We&&d(qd));else c=N;if(c===K){if(c=[],83===a.charCodeAt(Qe)?(e=rd,Qe++):(e=K,0===We&&d(sd)),e!==K)for(;e!==K;)c.push(e),83===a.charCodeAt(Qe)?(e=rd,Qe++):(e=K,0===We&&d(sd));else c=N;if(c===K){if(c=[],84===a.charCodeAt(Qe)?(e=td,Qe++):(e=K,0===We&&d(ud)),e!==K)for(;e!==K;)c.push(e),84===a.charCodeAt(Qe)?(e=td,Qe++):(e=K,0===We&&d(ud));else c=N;if(c===K){if(c=[],85===a.charCodeAt(Qe)?(e=vd,Qe++):(e=K,0===We&&d(wd)),e!==K)for(;e!==K;)c.push(e),85===a.charCodeAt(Qe)?(e=vd,Qe++):(e=K,0===We&&d(wd));else c=N;if(c===K){if(c=[],86===a.charCodeAt(Qe)?(e=xd,Qe++):(e=K,0===We&&d(yd)),e!==K)for(;e!==K;)c.push(e),86===a.charCodeAt(Qe)?(e=xd,Qe++):(e=K,0===We&&d(yd));else c=N;if(c===K){if(c=[],87===a.charCodeAt(Qe)?(e=zd,Qe++):(e=K,0===We&&d(Ad)),e!==K)for(;e!==K;)c.push(e),87===a.charCodeAt(Qe)?(e=zd,Qe++):(e=K,0===We&&d(Ad));else c=N;if(c===K){if(c=[],88===a.charCodeAt(Qe)?(e=Bd,Qe++):(e=K,0===We&&d(Cd)),e!==K)for(;e!==K;)c.push(e),88===a.charCodeAt(Qe)?(e=Bd,Qe++):(e=K,0===We&&d(Cd));else c=N;if(c===K){if(c=[],89===a.charCodeAt(Qe)?(e=Dd,Qe++):(e=K,0===We&&d(Ed)),e!==K)for(;e!==K;)c.push(e),89===a.charCodeAt(Qe)?(e=Dd,Qe++):(e=K,0===We&&d(Ed));else c=N;if(c===K)if(c=[],90===a.charCodeAt(Qe)?(e=Fd,Qe++):(e=K,0===We&&d(Gd)),e!==K)for(;e!==K;)c.push(e),90===a.charCodeAt(Qe)?(e=Fd,Qe++):(e=K,0===We&&d(Gd));else c=N}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}return c!==K&&(Re=b,c=Hd(c)),b=c,b===K&&(b=Qe,46===a.charCodeAt(Qe)?(c=Id,Qe++):(c=K,0===We&&d(Jd)),c!==K&&(Re=b,c=Kd()),b=c),We--,b===K&&(c=K,0===We&&d(qb)),b}function p(){var b,c;return We++,b=Qe,a.substr(Qe,4)===Md?(c=Md,Qe+=4):(c=K,0===We&&d(Nd)),c!==K&&(Re=b,c=Od()),b=c,b===K&&(b=Qe,a.substr(Qe,4)===Pd?(c=Pd,Qe+=4):(c=K,0===We&&d(Qd)),c!==K&&(Re=b,c=Rd()),b=c),We--,b===K&&(c=K,0===We&&d(Ld)),b}function q(){var a,b,c,e,f;if(We++,a=Qe,b=s(),b===K&&(b=Td),b!==K)if(c=r(),c!==K){for(e=[],f=r();f!==K;)e.push(f),f=r();e!==K?(Re=a,b=Ud(b,c,e),a=b):(Qe=a,a=N)}else Qe=a,a=N;else Qe=a,a=N;return We--,a===K&&(b=K,0===We&&d(Sd)),a}function r(){var a,b,c,e,f,g;if(We++,a=Qe,b=H(),b!==K){if(c=[],e=t(),e!==K)for(;e!==K;)c.push(e),e=t();else c=N;c!==K?(e=H(),e!==K?(f=s(),f===K&&(f=Td),f!==K?(g=H(),g!==K?(Re=a,b=Wd(c,f),a=b):(Qe=a,a=N)):(Qe=a,a=N)):(Qe=a,a=N)):(Qe=a,a=N)}else Qe=a,a=N;return We--,a===K&&(b=K,0===We&&d(Vd)),a}function s(){var b,c,e,f,g;if(We++,b=Qe,c=Qe,45===a.charCodeAt(Qe)?(e=Yd,Qe++):(e=K,0===We&&d(Zd)),e===K&&(126===a.charCodeAt(Qe)?(e=$d,Qe++):(e=K,0===We&&d(_d))),e!==K){if(f=[],ae.test(a.charAt(Qe))?(g=a.charAt(Qe),Qe++):(g=K,0===We&&d(be)),g!==K)for(;g!==K;)f.push(g),ae.test(a.charAt(Qe))?(g=a.charAt(Qe),Qe++):(g=K,0===We&&d(be));else f=N;f===K&&(45===a.charCodeAt(Qe)?(f=Yd,Qe++):(f=K,0===We&&d(Zd))),f===K&&(f=Td),f!==K?(45===a.charCodeAt(Qe)?(g=Yd,Qe++):(g=K,0===We&&d(Zd)),g===K&&(126===a.charCodeAt(Qe)?(g=$d,Qe++):(g=K,0===We&&d(_d))),g===K&&(g=Td),g!==K?(e=[e,f,g],c=e):(Qe=c,c=N)):(Qe=c,c=N)}else Qe=c,c=N;return c!==K&&(Re=b,c=ce(c)),b=c,We--,b===K&&(c=K,0===We&&d(Xd)),b}function t(){var b;return de.test(a.charAt(Qe))?(b=a.charAt(Qe),Qe++):(b=K,0===We&&d(ee)),b}function u(){var b;return fe.test(a.charAt(Qe))?(b=a.charAt(Qe),Qe++):(b=K,0===We&&d(ge)),b}function v(){var b;return a.length>Qe?(b=a.charAt(Qe),Qe++):(b=K,0===We&&d(he)),b}function w(){var b,c;return We++,je.test(a.charAt(Qe))?(b=a.charAt(Qe),Qe++):(b=K,0===We&&d(ke)),We--,b===K&&(c=K,0===We&&d(ie)),b}function x(){var b;return le.test(a.charAt(Qe))?(b=a.charAt(Qe),Qe++):(b=K,0===We&&d(me)),b}function y(){var b,c;return We++,10===a.charCodeAt(Qe)?(b=oe,Qe++):(b=K,0===We&&d(pe)),b===K&&(a.substr(Qe,2)===qe?(b=qe,Qe+=2):(b=K,0===We&&d(re)),b===K&&(13===a.charCodeAt(Qe)?(b=se,Qe++):(b=K,0===We&&d(te)),b===K&&(8232===a.charCodeAt(Qe)?(b=ue,Qe++):(b=K,0===We&&d(ve)),b===K&&(8233===a.charCodeAt(Qe)?(b=we,Qe++):(b=K,0===We&&d(xe)))))),We--,b===K&&(c=K,0===We&&d(ne)),b}function z(){var b;return ye.test(a.charAt(Qe))?(b=a.charAt(Qe),Qe++):(b=K,0===We&&d(ze)),b}function A(){var b,c,e;return We++,b=Qe,c=H(),c!==K?(59===a.charCodeAt(Qe)?(e=Be,Qe++):(e=K,0===We&&d(Ce)),e!==K?(c=[c,e],b=c):(Qe=b,b=N)):(Qe=b,b=N),b===K&&(b=Qe,c=G(),c!==K?(e=y(),e!==K?(c=[c,e],b=c):(Qe=b,b=N)):(Qe=b,b=N),b===K&&(b=Qe,c=H(),c!==K?(e=B(),e!==K?(c=[c,e],b=c):(Qe=b,b=N)):(Qe=b,b=N))),We--,b===K&&(c=K,0===We&&d(Ae)),b}function B(){var b,c;return b=Qe,We++,a.length>Qe?(c=a.charAt(Qe),Qe++):(c=K,0===We&&d(he)),We--,c===K?b=De:(Qe=b,b=N),b}function C(){var a,b;return We++,a=D(),a===K&&(a=F()),We--,a===K&&(b=K,0===We&&d(Ee)),a}function D(){var b,c,e,f,g,h;if(We++,b=Qe,a.substr(Qe,2)===Ge?(c=Ge,Qe+=2):(c=K,0===We&&d(He)),c!==K){for(e=[],f=Qe,g=Qe,We++,a.substr(Qe,2)===Ie?(h=Ie,Qe+=2):(h=K,0===We&&d(Je)),We--,h===K?g=De:(Qe=g,g=N),g!==K?(h=v(),h!==K?(g=[g,h],f=g):(Qe=f,f=N)):(Qe=f,f=N);f!==K;)e.push(f),f=Qe,g=Qe,We++,a.substr(Qe,2)===Ie?(h=Ie,Qe+=2):(h=K,0===We&&d(Je)),We--,h===K?g=De:(Qe=g,g=N),g!==K?(h=v(),h!==K?(g=[g,h],f=g):(Qe=f,f=N)):(Qe=f,f=N);e!==K?(a.substr(Qe,2)===Ie?(f=Ie,Qe+=2):(f=K,0===We&&d(Je)),f!==K?(c=[c,e,f],b=c):(Qe=b,b=N)):(Qe=b,b=N)}else Qe=b,b=N;return We--,b===K&&(c=K,0===We&&d(Fe)),b}function E(){var b,c,e,f,g,h;if(We++,b=Qe,a.substr(Qe,2)===Ge?(c=Ge,Qe+=2):(c=K,0===We&&d(He)),c!==K){for(e=[],f=Qe,g=Qe,We++,a.substr(Qe,2)===Ie?(h=Ie,Qe+=2):(h=K,0===We&&d(Je)),h===K&&(h=x()),We--,h===K?g=De:(Qe=g,g=N),g!==K?(h=v(),h!==K?(g=[g,h],f=g):(Qe=f,f=N)):(Qe=f,f=N);f!==K;)e.push(f),f=Qe,g=Qe,We++,a.substr(Qe,2)===Ie?(h=Ie,Qe+=2):(h=K,0===We&&d(Je)),h===K&&(h=x()),We--,h===K?g=De:(Qe=g,g=N),g!==K?(h=v(),h!==K?(g=[g,h],f=g):(Qe=f,f=N)):(Qe=f,f=N);e!==K?(a.substr(Qe,2)===Ie?(f=Ie,Qe+=2):(f=K,0===We&&d(Je)),f!==K?(c=[c,e,f],b=c):(Qe=b,b=N)):(Qe=b,b=N)}else Qe=b,b=N;return We--,b===K&&(c=K,0===We&&d(Ke)),b}function F(){var b,c,e,f,g,h;if(We++,b=Qe,a.substr(Qe,2)===Me?(c=Me,Qe+=2):(c=K,0===We&&d(Ne)),c!==K){for(e=[],f=Qe,g=Qe,We++,h=x(),We--,h===K?g=De:(Qe=g,g=N),g!==K?(h=v(),h!==K?(g=[g,h],f=g):(Qe=f,f=N)):(Qe=f,f=N);f!==K;)e.push(f),f=Qe,g=Qe,We++,h=x(),We--,h===K?g=De:(Qe=g,g=N),g!==K?(h=v(),h!==K?(g=[g,h],f=g):(Qe=f,f=N)):(Qe=f,f=N);e!==K?(f=x(),f===K&&(f=B()),f!==K?(c=[c,e,f],b=c):(Qe=b,b=N)):(Qe=b,b=N)}else Qe=b,b=N;return We--,b===K&&(c=K,0===We&&d(Le)),b}function G(){var a,b;for(We++,a=[],b=w(),b===K&&(b=E(),b===K&&(b=F()));b!==K;)a.push(b),b=w(),b===K&&(b=E(),b===K&&(b=F()));return We--,a===K&&(b=K,0===We&&d(Oe)),a}function H(){var a,b;for(We++,a=[],b=w(),b===K&&(b=y(),b===K&&(b=C()));b!==K;)a.push(b),b=w(),b===K&&(b=y(),b===K&&(b=C()));return We--,a===K&&(b=K,0===We&&d(Pe)),a}var I,J=arguments.length>1?arguments[1]:{},K={},L={start:f},M=f,N=K,O=function(){return Xe.getResults()},P="@",Q={type:"literal",value:"@",description:'"@"'},R=function(a){return a},S={type:"other",description:"grid-rows / grid-cols"},T="grid-",U={type:"literal",value:"grid-",description:'"grid-"'},V="-gss-grid-",W={type:"literal",value:"-gss-grid-",description:'"-gss-grid-"'},X='"',Y={type:"literal",value:'"',description:'"\\""'},Z=function(a,b,c){var d;d="@"+["v","h"][a]+" "+b+" in(::) chain-"+Xe.size[a]+"(::["+Xe.size[a]+"]) chain-"+Xe.size[1-a]+" chain-"+Xe.pos[a]+"(::["+Xe.pos[a]+"]) "+Xe.trim(c),Xe.addVFL(d.trim())},$={type:"other",description:"grid-template"},_="template",ab={type:"literal",value:"template",description:'"template"'},bb=/^[0-9a-zA-Z\-_]/,cb={type:"class",value:"[0-9a-zA-Z\\-_]",description:"[0-9a-zA-Z\\-_]"},db=function(a,b,c){Xe.addTemplate(b,Xe.stringify(a),c)},eb={type:"other",description:"template line"},fb=function(a){return Xe.processHZones(a)},gb={type:"other",description:"Template Options"},hb=function(a){var b={};return a&&(b={},a.forEach(function(a){b[a.key]=a.value})),b},ib={type:"other",description:"TemplateOption"},jb="(",kb={type:"literal",value:"(",description:'"("'},lb=")",mb={type:"literal",value:")",description:'")"'},nb=function(a,b){return{key:a.join(""),value:b.join("")}},ob=/^[^>=<!)]/,pb={type:"class",value:"[^>=<!)]",description:"[^>=<!)]"},qb={type:"other",description:"Template Zone"},rb="0",sb={type:"literal",value:"0",description:'"0"'},tb="1",ub={type:"literal",value:"1",description:'"1"'},vb="2",wb={type:"literal",value:"2",description:'"2"'},xb="3",yb={type:"literal",value:"3",description:'"3"'},zb="4",Ab={type:"literal",value:"4",description:'"4"'},Bb="5",Cb={type:"literal",value:"5",description:'"5"'},Db="6",Eb={type:"literal",value:"6",description:'"6"'},Fb="7",Gb={type:"literal",value:"7",description:'"7"'},Hb="8",Ib={type:"literal",value:"8",description:'"8"'},Jb="9",Kb={type:"literal",value:"9",description:'"9"'},Lb="a",Mb={type:"literal",value:"a",description:'"a"'},Nb="b",Ob={type:"literal",value:"b",description:'"b"'},Pb="c",Qb={type:"literal",value:"c",description:'"c"'},Rb="d",Sb={type:"literal",value:"d",description:'"d"'},Tb="e",Ub={type:"literal",value:"e",description:'"e"'},Vb="f",Wb={type:"literal",value:"f",description:'"f"'},Xb="g",Yb={type:"literal",value:"g",description:'"g"'},Zb="h",$b={type:"literal",value:"h",description:'"h"'},_b="i",ac={type:"literal",value:"i",description:'"i"'},bc="j",cc={type:"literal",value:"j",description:'"j"'},dc="k",ec={type:"literal",value:"k",description:'"k"'},fc="l",gc={type:"literal",value:"l",description:'"l"'},hc="m",ic={type:"literal",value:"m",description:'"m"'},jc="n",kc={type:"literal",value:"n",description:'"n"'},lc="o",mc={type:"literal",value:"o",description:'"o"'},nc="p",oc={type:"literal",value:"p",description:'"p"'},pc="q",qc={type:"literal",value:"q",description:'"q"'},rc="r",sc={type:"literal",value:"r",description:'"r"'},tc="s",uc={type:"literal",value:"s",description:'"s"'},vc="t",wc={type:"literal",value:"t",description:'"t"'},xc="u",yc={type:"literal",value:"u",description:'"u"'},zc="v",Ac={type:"literal",value:"v",description:'"v"'},Bc="w",Cc={type:"literal",value:"w",description:'"w"'},Dc="x",Ec={type:"literal",value:"x",description:'"x"'},Fc="y",Gc={type:"literal",value:"y",description:'"y"'},Hc="z",Ic={type:"literal",value:"z",description:'"z"'},Jc="A",Kc={type:"literal",value:"A",description:'"A"'},Lc="B",Mc={type:"literal",value:"B",description:'"B"'},Nc="C",Oc={type:"literal",value:"C",description:'"C"'},Pc="D",Qc={type:"literal",value:"D",description:'"D"'},Rc="E",Sc={type:"literal",value:"E",description:'"E"'},Tc="F",Uc={type:"literal",value:"F",description:'"F"'},Vc="G",Wc={type:"literal",value:"G",description:'"G"'},Xc="H",Yc={type:"literal",value:"H",description:'"H"'},Zc="I",$c={type:"literal",value:"I",description:'"I"'},_c="J",ad={type:"literal",value:"J",description:'"J"'},bd="K",cd={type:"literal",value:"K",description:'"K"'},dd="L",ed={type:"literal",value:"L",description:'"L"'},fd="M",gd={type:"literal",value:"M",description:'"M"'},hd="N",id={type:"literal",value:"N",description:'"N"'},jd="O",kd={type:"literal",value:"O",description:'"O"'},ld="P",md={type:"literal",value:"P",description:'"P"'},nd="Q",od={type:"literal",value:"Q",description:'"Q"'},pd="R",qd={type:"literal",value:"R",description:'"R"'},rd="S",sd={type:"literal",value:"S",description:'"S"'},td="T",ud={type:"literal",value:"T",description:'"T"'},vd="U",wd={type:"literal",value:"U",description:'"U"'},xd="V",yd={type:"literal",value:"V",description:'"V"'},zd="W",Ad={type:"literal",value:"W",description:'"W"'},Bd="X",Cd={type:"literal",value:"X",description:'"X"'},Dd="Y",Ed={type:"literal",value:"Y",description:'"Y"'},Fd="Z",Gd={type:"literal",value:"Z",description:'"Z"'},Hd=function(a){return{xspan:a.length,name:a[0],x:a}},Id=".",Jd={type:"literal",value:".",description:'"."'},Kd=function(){var a=Xe.getBlankName();return{xspan:1,name:a,x:[a]}},Ld={type:"other",description:"Row or Col Dimension"},Md="rows",Nd={type:"literal",value:"rows",description:'"rows"'},Od=function(){return 0},Pd="cols",Qd={type:"literal",value:"cols",description:'"cols"'},Rd=function(){return 1},Sd={type:"other",description:"1D Line"},Td=null,Ud=function(a,b,c){var d;return d="|",a&&(d+=a),d+=b,c.forEach(function(a){d+=a}),d+="|"},Vd={type:"other",description:"!D LineChunk"},Wd=function(a,b){var c;return a=Xe.trim(a),c='["'+a+'"]',Xe.addVirtual(a),b&&(c+=b),c},Xd={type:"other",description:"1D Connection"},Yd="-",Zd={type:"literal",value:"-",description:'"-"'},$d="~",_d={type:"literal",value:"~",description:'"~"'},ae=/^[0-9]/,be={type:"class",value:"[0-9]",description:"[0-9]"},ce=function(a){return Xe.stringify(a)},de=/^[a-zA-Z0-9#_$:]/,ee={type:"class",value:"[a-zA-Z0-9#_$:]",description:"[a-zA-Z0-9#_$:]"},fe=/^[a-zA-Z0-9#.\-_$:]/,ge={type:"class",value:"[a-zA-Z0-9#.\\-_$:]",description:"[a-zA-Z0-9#.\\-_$:]"},he={type:"any",description:"any character"},ie={type:"other",description:"whitespace"},je=/^[\t\x0B\f \xA0\uFEFF]/,ke={type:"class",value:"[\\t\\x0B\\f \\xA0\\uFEFF]",description:"[\\t\\x0B\\f \\xA0\\uFEFF]"},le=/^[\n\r\u2028\u2029]/,me={type:"class",value:"[\\n\\r\\u2028\\u2029]",description:"[\\n\\r\\u2028\\u2029]"},ne={type:"other",description:"end of line"},oe="\n",pe={type:"literal",value:"\n",description:'"\\n"'},qe="\r\n",re={type:"literal",value:"\r\n",description:'"\\r\\n"'},se="\r",te={type:"literal",value:"\r",description:'"\\r"'},ue="\u2028",ve={type:"literal",value:"\u2028",description:'"\\u2028"'},we="\u2029",xe={type:"literal",value:"\u2029",description:'"\\u2029"'},ye=/^[a-zA-Z0-9 .,#:+?!\^=()_\-$*\/\\""'[\]]/,ze={type:"class",value:'[a-zA-Z0-9 .,#:+?!\\^=()_\\-$*\\/\\\\""\'[\\]]',description:'[a-zA-Z0-9 .,#:+?!\\^=()_\\-$*\\/\\\\""\'[\\]]'},Ae={type:"other",description:"End of Statement"},Be=";",Ce={type:"literal",value:";",description:'";"'},De=void 0,Ee={type:"other",description:"Comment"},Fe={type:"other",description:"MultiLineComment"},Ge="/*",He={type:"literal",value:"/*",description:'"/*"'},Ie="*/",Je={type:"literal",value:"*/",description:'"*/"'},Ke={type:"other",description:"MultiLineCommentNoLineTerminator"},Le={type:"other",description:"Single Line Comment"},Me="//",Ne={type:"literal",value:"//",description:'"//"'},Oe={type:"other",description:"Whitespace / Comment"},Pe={type:"other",description:"Whitespace / Comment / Newline"},Qe=0,Re=0,Se=0,Te={line:1,column:1,seenCR:!1},Ue=0,Ve=[],We=0;if("startRule"in J){if(!(J.startRule in L))throw new Error("Can't start parsing from rule \""+J.startRule+'".');M=L[J.startRule]}var Xe,Ye,Ze,$e,_e,af,bf;if(Xe=Ye=this,bf=0,Xe.getBlankName=function(){return bf++,"blank-"+bf},Xe.size=["width","height"],Xe.pos=["x","y"],Xe.getResults=function(){var a=$e.sort().join(" ");return a=0==a.length?_e:["@virtual "+a].concat(_e),{ccss:a,vfl:Ze}},af=[],Xe.addAST=function(a){af.push(a)},_e=[],Xe.addCCSS=function(a){_e.push(a)},$e=[],Xe.addVirtual=function(a){-1===$e.indexOf(a)&&$e.push('"'+a+'"')},Ze=[],Xe.addVFL=function(a){Ze.push(a)},Xe.addTemplate=function(a,b,c){var d,e,f;e=b+"-",d=Xe.processHLines(a),d.name=b,f=c.in?c.in:"::";var g,h,i,j,k;i={},k=!1,j=c.gap,j&&(k=!0,i.top=j,i.right=j,i.bottom=j,i.left=j,i.h=j,i.v=j),j=c["h-gap"],j&&(k=!0,i.right=j,i.left=j,i.h=j),j=c["v-gap"],j&&(k=!0,i.top=j,i.bottom=j,i.v=j),j=c["outer-gap"],j&&(k=!0,i.top=j,i.right=j,i.bottom=j,i.left=j),j=c["top-gap"],j&&(k=!0,i.top=j),j=c["right-gap"],j&&(k=!0,i.right=j),j=c["bottom-gap"],j&&(k=!0,i.bottom=j),j=c["left-gap"],j&&(k=!0,i.left=j),h=k?"<=":"==",g="::["+b+"-md-width] "+h+" ",i.right||i.left||i.h?(g+="("+f+"[width]",i.right&&(g+=" - "+i.right),i.left&&(g+=" - "+i.left),i.h&&d.yspan>1&&(g+=" - "+i.h,d.yspan>2&&(g+=" * "+(d.yspan-1))),g+=")"):g+=f+"[width]",d.yspan>1&&(g+=" / "+d.yspan),g+=" !require",Xe.addCCSS(g),g="::["+b+"-md-height] "+h+" ",i.top||i.bottom||i.v?(g+="("+f+"[height]",i.top&&(g+=" - "+i.top),i.bottom&&(g+=" - "+i.bottom),i.v&&d.xspan>1&&(g+=" - "+i.v,d.xspan>2&&(g+=" * "+(d.xspan-1))),g+=")"):g+=f+"[height]",d.xspan>1&&(g+=" / "+d.xspan),g+=" !require",Xe.addCCSS(g);var l,m;for(var n in d.widths)Xe.addVirtual(e+n),l=d.widths[n],m='"'+e+n+'"[width] == ',m+="::["+d.name+"-md-width]",l>1&&(m+=" * "+l,i.h&&(m+=" + "+i.h,l>2&&(m+=" * "+(l-1)))),Xe.addCCSS(m);var o,p;for(var n in d.heights)o=d.heights[n],p='"'+e+n+'"[height] == ',p+="::["+d.name+"-md-height]",o>1&&(p+=" * "+o,i.v&&(p+=" + "+i.v,o>2&&(p+=" * "+(o-1)))),Xe.addCCSS(p);var q;d.v.forEach(function(a){a=a.split("%-v-%"),q='@v ["'+e+a[0]+'"]',i.v&&(q+="-"),q+='["'+e+a[1]+'"]',i.v&&(q+=" gap("+i.v+")"),Xe.addVFL(q)
}),d.h.forEach(function(a){a=a.split("%-h-%"),q='@h ["'+e+a[0]+'"]',i.h&&(q+="-"),q+='["'+e+a[1]+'"]',i.h&&(q+=" gap("+i.h+")"),Xe.addVFL(q)});var r;return r=[],d.cols[0].y.forEach(function(a){return r.indexOf(a)>-1?null:(r.push(a),q="@h |",i.left&&(q+="-"),q+='["'+e+a+'"] in('+f+")",i.left&&(q+=" gap("+i.left+")"),void Xe.addVFL(q))}),r=[],d.rows[0].x.forEach(function(a){return r.indexOf(a)>-1?null:(r.push(a),q="@v |",i.top&&(q+="-"),q+='["'+e+a+'"] in('+f+")",i.top&&(q+=" gap("+i.top+")"),void Xe.addVFL(q))}),r=[],d.cols[d.cols.length-1].y.forEach(function(a){return r.indexOf(a)>-1?null:(r.push(a),q='@h ["'+e+a+'"]',i.right&&(q+="-"),q+="| in("+f+")",i.right&&(q+=" gap("+i.right+")"),void Xe.addVFL(q))}),r=[],d.rows[d.rows.length-1].x.forEach(function(a){return r.indexOf(a)>-1?null:(r.push(a),q='@v ["'+e+a+'"]',i.bottom&&(q+="-"),q+="| in("+f+")",i.bottom&&(q+=" gap("+i.bottom+")"),void Xe.addVFL(q))}),Xe.addAST(d),d},Xe.processHZones=function(a){var b,c,d,e,f,g,h,i;return b=0,e=[],g={},f=[],h=0,a.forEach(function(a){i=!1,c=a.name,"-DOT-"===c&&(i=!1,h++,c+=h),f=f.concat(a.x),delete a.x,d&&d!==c&&e.push([d,c].join("%-h-%")),g[a.name]=a.xspan,b+=a.xspan,d=c}),{xspan:b,x:f,h:e,widths:g}},Xe.processHLines=function(a){var b,c,d,e;return e={heights:{},widths:{},v:[],h:[]},b=[],c=0,a.forEach(function(a){d=0;for(var f in a.widths)e.widths[f]=a.widths[f];a.h.forEach(function(a){-1===e.h.indexOf(a)&&e.h.push(a)}),a.x.forEach(function(a){var c;b[d]||(b[d]={y:[]}),c=b[d],c.y.push(a),d++}),c++}),b.forEach(function(a){var b,c,d,f,g,h;h=[],c=0,d=null,g=0,a.y.forEach(function(h){b=h,c++,a.y[g+1]!==b&&(e.heights[h]=c,c=0),d&&d!==b&&(f=[d,b].join("%-v-%"),-1===e.v.indexOf(f)&&e.v.push(f)),d=b,g++})}),e.yspan=b.length,e.xspan=a.length,e.cols=b,e.rows=a,e},Xe.trim=function(a){return"string"==typeof a?a.trim():a instanceof Array?a.join("").trim():""},Xe.flatten=function(a,b){for(var c=-1,d=a?a.length:0,e=[];++c<d;){var f=a[c];f instanceof Array?Array.prototype.push.apply(e,b?f:Xe.flatten(f)):e.push(f)}return e},Xe.stringify=function(a){return Xe.trim(Xe.flatten(a))},I=M(),I!==K&&Qe===a.length)return I;throw I!==K&&Qe<a.length&&d({type:"end",description:"end of input"}),e(null,Ve,Ue)}return a(b,Error),{SyntaxError:b,parse:c}}()}),a.register("gss-ccss-compiler/lib/compiler.js",function(a,b,c){var d,e,f,g,h,i,j,k;"undefined"!=typeof window&&null!==window?(f=b("./parser"),g=b("./scoper")):(f=b("../lib/parser"),g=b("../lib/scoper")),h=b("vfl-compiler"),j=b("vgl-compiler"),d=b("error-reporter"),e=function(a){var b,c,e,h,i,j;j=null;try{j=f.parse(a)}catch(k){c=k,e=new d(a),i=c.message,h=c.line,b=c.column,e.reportError(i,h,b)}return g(j)},i=function(a,b,c){var d,f,g,i,j,k,l,m,n,o,p,q,r,s;for(null==c&&(c=[]),g=[],i=h.parse("@"+a+" "+b),q=i.statements,m=0,o=q.length;o>m;m++)k=q[m],g=g.concat(e(k).commands);if(c.length>0&&i.selectors.length>0){for(j="",r=i.selectors,d=n=0,p=r.length;p>n;d=++n)l=r[d],j+=l,d!==i.selectors.length-1&&(j+=", ");j+=" {}",f=e(j).commands[0],f[2]=c,g.push(f),("undefined"!=typeof window&&null!==window&&null!=(s=window.GSS)?s.console:void 0)&&window.GSS.console.row("@"+a,i.statements.concat([j]),b)}return{commands:g}},k=function(a,b,c){var d,f,g,h,i;for(null==c&&(c=[]),d=[],g=j.parse("@"+a+" "+b),h=0,i=g.length;i>h;h++)f=g[h],d=d.concat(e(f).commands);return{commands:c.concat(d)}},f.hooks={directives:{h:i,v:i,horizontal:i,vertical:i,"grid-template":k,"grid-rows":k,"grid-cols":k}},c.exports={parse:e,scope:g}}),a.register("gss-ccss-compiler/lib/grammar.js",function(a,b,c){var d;d=function(){function a(a,b,c,d){this.parser=a,this._lineNumber=b,this._columnNumber=c,this._Error=d()}return a._toString=function(a){return"[object String]"===toString.call(a)?a:"[object Array]"===toString.call(a)?a.join(""):""},a._unpack2DExpression=function(a){var b,c,d,e,f,g,h;if(d={"bottom-left":["left","bottom"],"bottom-right":["right","bottom"],center:["center-x","center-y"],"intrinsic-size":["intrinsic-width","intrinsic-height"],position:["x","y"],size:["width","height"],"top-left":["left","top"],"top-right":["right","top"]},b=[a],f=a[2],e=d[f],null!=e)for(b=[],g=0,h=e.length;h>g;g++)c=e[g],a=a.slice(),a[2]=c,b.push(a);return b},a.prototype._Error=null,a.prototype._columnNumber=function(){},a.prototype._lineNumber=function(){},a.prototype.reverseFilterNest=function(a){var b,c,d,e;for(d=a.length,b=d-1;b>0;)e=a[b],c=a[b-1],"$pseudo"===e[0]&&","===c[0]?"first"===e[1]&&"virtual"===c[1][0]?a[b]=c[1]:"last"===e[1]&&"virtual"===c[c.length-1][0]&&(a[b]=c[c.length-1]):e.splice(1,0,c),b--;return a[d-1]},a.prototype.nestedDualTermCommands=function(a,b){var c,d,e,f,g;for(e=a,c=f=0,g=b.length;g>f;c=++f)d=b[c],e=[b[c][1],e,b[c][3]];return e},a.prototype.createSelectorCommaCommand=function(a,b){var c,d,e,f,g,h;for(e=","===a[0]?a:[",",a],c=g=0,h=b.length;h>g;c=++g)d=b[c],f=b[c][3],","===f[0]?(f.splice(0,1),e=e.concat(f)):e.push(f);return e},a.prototype.mergeCommands=function(a){var b,c,d,e;for(b=[],d=0,e=a.length;e>d;d++)c=a[d],b=b.concat(c.commands);return{commands:b}},a.prototype.splatifyIfNeeded=function(a,b){return b.splats?this.splatExpander(a,b):[a,b]},a.prototype.splatExpander=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;for(n=b.splats,k=b.postfix,i=null,p=0,t=n.length;t>p;p++){for(m=n[p],l=m.prefix,f=m.from,o=m.to,e=[],g=f;o>=g;)e.push(l+g),g++;if(i){for(j=[],q=0,u=i.length;u>q;q++)for(h=i[q],r=0,v=e.length;v>r;r++)d=e[r],j.push(h+d);i=j}else i=e}for(c=[","],s=0,w=i.length;w>s;s++)h=i[s],k&&(h+=k),c.push([a,h]);return c},a.prototype.constraint=function(b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;for(f=[],g=b,(null==d||0===d.length)&&(d=[]),j=p=0,r=c.length;r>p;j=++p){for(k=c[j],l=c[j][1],m=c[j][3],i=a._unpack2DExpression(g),o=a._unpack2DExpression(m),i.length>o.length?o.push(o[0]):i.length<o.length&&i.push(i[0]),j=q=0,s=o.length;s>q;j=++q)n=o[j],h=i[j],null!=h&&null!=n&&(e=[l,h,n].concat(d),f.push(e));g=m}return{commands:f}},a.prototype.inlineConstraint=function(a,b,c){var d;return a=a.join("").trim(),c=c.join("").trim(),d=this.parser.parse("&["+a+"] "+b+" "+c)},a.prototype.inlineSet=function(a,b){var c;return a=a.join("").trim(),b=b.join("").trim(),c=[["set",a,b]],{commands:c}},a.prototype.directive=function(a,b,c){var d,e;return(e=this.parser.hooks.directives[a])?e(a,b,c):(d=["directive",a,b],c&&d.push(c),{commands:[d]})},a.prototype.variable=function(b,c,d){var e,f;if(f=a._toString(d),null!=c&&0!==c.length){switch(f){case"left":f="x";break;case"top":f="y";break;case"cx":f="center-x";break;case"cy":f="center-y"}if(-1!==c.toString().indexOf("::window"))switch(f){case"right":f="width";break;case"bottom":f="height"}}return e=null!=c?["get",c,f]:["get",f],b?["-",0,e]:e},a.prototype.integer=function(a){return parseInt(a.join(""),10)},a.prototype.signedInteger=function(a,b){return null==b&&(b=0),parseInt(""+a+b,10)},a.prototype.signedReal=function(a,b){return null==b&&(b=0),parseFloat(""+a+b)},a.prototype.selector=function(){return{id:function(b){var c;return c=a._toString(b),["$id",c]},virtual:function(b){var c;return c=a._toString(b),["virtual",c]},"class":function(b){var c;return c=a._toString(b),["$class",c]},tag:function(b){var c;return c=a._toString(b),["$tag",c]},all:function(b){var c;return c=a._toString(b),["$all",c]}}},a.prototype.querySelectorAllParts=function(){return{withoutParens:function(b){return a._toString(b)},withParens:function(b){var c;return c=a._toString(b),"("+c+")"}}},a.prototype.strengthAndWeight=function(){var a=this;return{valid:function(a,b){return null==b||0===b.length?[a]:[a,b]},invalid:function(){throw new a._Error("Invalid Strength or Weight",null,null,null,a._lineNumber(),a._columnNumber())}}},a.prototype.virtualElement=function(a){return{commands:[["virtual"].concat(a)]}},a.prototype.stay=function(b){var c,d,e,f,g,h,i,j;for(h=["stay"].concat(b),f=a._unpack2DExpression(h[1]),d=[],g=i=0,j=f.length;j>i;g=++i)e=f[g],c=h.slice(),c[1]=f[g],d.push(c);return{commands:d}},a.prototype.stayVariable=function(a){return a},a.prototype.conditional=function(a){var b;return b=[a],{commands:b}},a}(),c.exports=d}),a.register("gss-ccss-compiler/lib/parser.js",function(a,b,c){c.exports=function(){function a(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c}function c(a,b,c,d,e,f){this.message=a,this.expected=b,this.found=c,this.offset=d,this.line=e,this.column=f,this.name="SyntaxError"}function d(a){function d(){return f(ui).line}function e(){return f(ui).column}function f(b){function c(b,c,d){var e,f;for(e=c;d>e;e++)f=a.charAt(e),"\n"===f?(b.seenCR||b.line++,b.column=1,b.seenCR=!1):"\r"===f||"\u2028"===f||"\u2029"===f?(b.line++,b.column=1,b.seenCR=!0):(b.column++,b.seenCR=!1)}return vi!==b&&(vi>b&&(vi=0,wi={line:1,column:1,seenCR:!1}),c(wi,vi,b),vi=b),wi}function g(a){xi>ti||(ti>xi&&(xi=ti,yi=[]),yi.push(a))}function h(b,d,e){function g(a){var b=1;for(a.sort(function(a,b){return a.description<b.description?-1:a.description>b.description?1:0});b<a.length;)a[b-1]===a[b]?a.splice(b,1):b++}function h(a,b){function c(a){function b(a){return a.charCodeAt(0).toString(16).toUpperCase()}return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(a){return"\\x0"+b(a)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(a){return"\\x"+b(a)}).replace(/[\u0180-\u0FFF]/g,function(a){return"\\u0"+b(a)}).replace(/[\u1080-\uFFFF]/g,function(a){return"\\u"+b(a)})}var d,e,f,g=new Array(a.length);for(f=0;f<a.length;f++)g[f]=a[f].description;return d=a.length>1?g.slice(0,-1).join(", ")+" or "+g[a.length-1]:g[0],e=b?'"'+c(b)+'"':"end of input","Expected "+d+" but "+e+" found."}var i=f(e),j=e<a.length?a.charAt(e):null;return null!==d&&g(d),new c(null!==b?b:h(d,j),d,j,e,i.line,i.column)}function i(){var a,b,c,d;return a=ti,b=db(),b!==Pb?(c=j(),c!==Pb?(d=db(),d!==Pb?(ui=a,b=Tb(c),a=b):(ti=a,a=Sb)):(ti=a,a=Sb)):(ti=a,a=Sb),a}function j(){var a,b,c,d;if(a=ti,b=db(),b!==Pb){for(c=[],d=k();d!==Pb;)c.push(d),d=k();c!==Pb?(ui=a,b=Ub(c),a=b):(ti=a,a=Sb)}else ti=a,a=Sb;return a}function k(){var a,b,c,d,e;return a=ti,b=db(),b!==Pb?(c=l(),c!==Pb?(d=Y(),d!==Pb?(e=db(),e!==Pb?(ui=a,b=Tb(c),a=b):(ti=a,a=Sb)):(ti=a,a=Sb)):(ti=a,a=Sb)):(ti=a,a=Sb),a}function l(){var a;return a=t(),a===Pb&&(a=r(),a===Pb&&(a=s(),a===Pb&&(a=q(),a===Pb&&(a=Ib(),a===Pb&&(a=m(),a===Pb&&(a=Kb(),a===Pb&&(a=v()))))))),a}function m(){var a,b,c,d;if(zi++,a=ti,b=o(),b!==Pb){if(c=[],d=n(),d!==Pb)for(;d!==Pb;)c.push(d),d=n();else c=Sb;c!==Pb?(ui=a,b=Wb(b,c),a=b):(ti=a,a=Sb)}else ti=a,a=Sb;return a===Pb&&(a=ti,b=o(),b!==Pb&&(ui=a,b=Xb(b)),a=b),zi--,a===Pb&&(b=Pb,0===zi&&g(Vb)),a}function n(){var a,b,c;return a=ti,b=db(),b!==Pb?(c=p(),c!==Pb?(ui=a,b=Yb(c),a=b):(ti=a,a=Sb)):(ti=a,a=Sb),a}function o(){var b,c,d,e,f,h,i,k,l,m;if(b=ti,a.substr(ti,3)===Zb?(c=Zb,ti+=3):(c=Pb,0===zi&&g($b)),c!==Pb?(d=cb(),d!==Pb?(e=w(),e!==Pb?(f=db(),f!==Pb?(123===a.charCodeAt(ti)?(h=_b,ti++):(h=Pb,0===zi&&g(ac)),h!==Pb?(i=db(),i!==Pb?(k=j(),k!==Pb?(l=db(),l!==Pb?(125===a.charCodeAt(ti)?(m=bc,ti++):(m=Pb,0===zi&&g(cc)),m!==Pb?(ui=b,c=dc(e,k),b=c):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb),b===Pb)if(b=ti,a.substr(ti,3)===Zb?(c=Zb,ti+=3):(c=Pb,0===zi&&g($b)),c!==Pb){for(d=[],ec.test(a.charAt(ti))?(e=a.charAt(ti),ti++):(e=Pb,0===zi&&g(fc));e!==Pb;)d.push(e),ec.test(a.charAt(ti))?(e=a.charAt(ti),ti++):(e=Pb,0===zi&&g(fc));d!==Pb?(e=db(),e!==Pb?(123===a.charCodeAt(ti)?(f=_b,ti++):(f=Pb,0===zi&&g(ac)),f!==Pb?(h=db(),h!==Pb?(i=j(),i!==Pb?(k=db(),k!==Pb?(125===a.charCodeAt(ti)?(l=bc,ti++):(l=Pb,0===zi&&g(cc)),l!==Pb?(ui=b,c=gc(i),b=c):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)}else ti=b,b=Sb;return b}function p(){var b,c,d,e,f,h,i,k,l,m;if(b=ti,a.substr(ti,5)===hc?(c=hc,ti+=5):(c=Pb,0===zi&&g(ic)),c!==Pb?(d=cb(),d!==Pb?(e=w(),e===Pb&&(e=jc),e!==Pb?(f=db(),f!==Pb?(123===a.charCodeAt(ti)?(h=_b,ti++):(h=Pb,0===zi&&g(ac)),h!==Pb?(i=db(),i!==Pb?(k=j(),k!==Pb?(l=db(),l!==Pb?(125===a.charCodeAt(ti)?(m=bc,ti++):(m=Pb,0===zi&&g(cc)),m!==Pb?(ui=b,c=kc(e,k),b=c):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb),b===Pb)if(b=ti,a.substr(ti,5)===hc?(c=hc,ti+=5):(c=Pb,0===zi&&g(ic)),c!==Pb){for(d=[],ec.test(a.charAt(ti))?(e=a.charAt(ti),ti++):(e=Pb,0===zi&&g(fc));e!==Pb;)d.push(e),ec.test(a.charAt(ti))?(e=a.charAt(ti),ti++):(e=Pb,0===zi&&g(fc));d!==Pb?(e=db(),e!==Pb?(123===a.charCodeAt(ti)?(f=_b,ti++):(f=Pb,0===zi&&g(ac)),f!==Pb?(h=db(),h!==Pb?(i=j(),i!==Pb?(k=db(),k!==Pb?(125===a.charCodeAt(ti)?(l=bc,ti++):(l=Pb,0===zi&&g(cc)),l!==Pb?(ui=b,c=lc(i),b=c):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)}else ti=b,b=Sb;return b}function q(){var a,b,c,d,e,f,h,i;if(zi++,a=ti,b=B(),b!==Pb){for(c=[],d=ti,e=db(),e!==Pb?(f=A(),f!==Pb?(h=db(),h!==Pb?(i=B(),i!==Pb?(e=[e,f,h,i],d=e):(ti=d,d=Sb)):(ti=d,d=Sb)):(ti=d,d=Sb)):(ti=d,d=Sb);d!==Pb;)c.push(d),d=ti,e=db(),e!==Pb?(f=A(),f!==Pb?(h=db(),h!==Pb?(i=B(),i!==Pb?(e=[e,f,h,i],d=e):(ti=d,d=Sb)):(ti=d,d=Sb)):(ti=d,d=Sb)):(ti=d,d=Sb);c!==Pb?(d=db(),d!==Pb?(e=Fb(),e===Pb&&(e=jc),e!==Pb?(ui=a,b=nc(b,c,e),a=b):(ti=a,a=Sb)):(ti=a,a=Sb)):(ti=a,a=Sb)}else ti=a,a=Sb;return zi--,a===Pb&&(b=Pb,0===zi&&g(mc)),a}function r(){var b,c,d,e,f,h,i,j,k,l;if(zi++,b=ti,c=db(),c!==Pb){if(d=[],pc.test(a.charAt(ti))?(e=a.charAt(ti),ti++):(e=Pb,0===zi&&g(qc)),e!==Pb)for(;e!==Pb;)d.push(e),pc.test(a.charAt(ti))?(e=a.charAt(ti),ti++):(e=Pb,0===zi&&g(qc));else d=Sb;if(d!==Pb)if(e=cb(),e!==Pb)if(58===a.charCodeAt(ti)?(f=rc,ti++):(f=Pb,0===zi&&g(sc)),f!==Pb)if(h=cb(),h!==Pb)if(i=A(),i!==Pb){if(j=[],tc.test(a.charAt(ti))?(k=a.charAt(ti),ti++):(k=Pb,0===zi&&g(uc)),k!==Pb)for(;k!==Pb;)j.push(k),tc.test(a.charAt(ti))?(k=a.charAt(ti),ti++):(k=Pb,0===zi&&g(uc));else j=Sb;j!==Pb?(k=ti,zi++,59===a.charCodeAt(ti)?(l=wc,ti++):(l=Pb,0===zi&&g(xc)),zi--,l!==Pb?(ti=k,k=vc):k=Sb,k!==Pb?(ui=b,c=yc(d,i,j),b=c):(ti=b,b=Sb)):(ti=b,b=Sb)}else ti=b,b=Sb;else ti=b,b=Sb;else ti=b,b=Sb;else ti=b,b=Sb;else ti=b,b=Sb}else ti=b,b=Sb;return zi--,b===Pb&&(c=Pb,0===zi&&g(oc)),b}function s(){var b,c,d,e,f,h,i,j;if(zi++,b=ti,c=db(),c!==Pb){if(d=[],pc.test(a.charAt(ti))?(e=a.charAt(ti),ti++):(e=Pb,0===zi&&g(qc)),e!==Pb)for(;e!==Pb;)d.push(e),pc.test(a.charAt(ti))?(e=a.charAt(ti),ti++):(e=Pb,0===zi&&g(qc));else d=Sb;if(d!==Pb)if(e=cb(),e!==Pb)if(58===a.charCodeAt(ti)?(f=rc,ti++):(f=Pb,0===zi&&g(sc)),f!==Pb){if(h=[],tc.test(a.charAt(ti))?(i=a.charAt(ti),ti++):(i=Pb,0===zi&&g(uc)),i!==Pb)for(;i!==Pb;)h.push(i),tc.test(a.charAt(ti))?(i=a.charAt(ti),ti++):(i=Pb,0===zi&&g(uc));else h=Sb;h!==Pb?(i=ti,zi++,59===a.charCodeAt(ti)?(j=wc,ti++):(j=Pb,0===zi&&g(xc)),zi--,j!==Pb?(ti=i,i=vc):i=Sb,i!==Pb?(ui=b,c=Ac(d,h),b=c):(ti=b,b=Sb)):(ti=b,b=Sb)}else ti=b,b=Sb;else ti=b,b=Sb;else ti=b,b=Sb}else ti=b,b=Sb;return zi--,b===Pb&&(c=Pb,0===zi&&g(zc)),b}function t(){var b,c,d,e,f,h;return b=ti,c=u(),c!==Pb?(d=db(),d!==Pb?(e=j(),e!==Pb?(f=db(),f!==Pb?(125===a.charCodeAt(ti)?(h=bc,ti++):(h=Pb,0===zi&&g(cc)),h!==Pb?(ui=b,c=Bc(c,e),b=c):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb),b}function u(){var b,c,d,e;return b=ti,c=gb(),c!==Pb?(d=db(),d!==Pb?(123===a.charCodeAt(ti)?(e=_b,ti++):(e=Pb,0===zi&&g(ac)),e!==Pb?(ui=b,c=Cc(c),b=c):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb),b}function v(){var b,c,d,e,f,h,i,k,l;if(zi++,b=ti,64===a.charCodeAt(ti)?(c=Ec,ti++):(c=Pb,0===zi&&g(Fc)),c!==Pb){if(d=[],Gc.test(a.charAt(ti))?(e=a.charAt(ti),ti++):(e=Pb,0===zi&&g(Hc)),e!==Pb)for(;e!==Pb;)d.push(e),Gc.test(a.charAt(ti))?(e=a.charAt(ti),ti++):(e=Pb,0===zi&&g(Hc));else d=Sb;if(d!==Pb){if(e=[],Ic.test(a.charAt(ti))?(f=a.charAt(ti),ti++):(f=Pb,0===zi&&g(Jc)),f!==Pb)for(;f!==Pb;)e.push(f),Ic.test(a.charAt(ti))?(f=a.charAt(ti),ti++):(f=Pb,0===zi&&g(Jc));else e=Sb;e!==Pb?(123===a.charCodeAt(ti)?(f=_b,ti++):(f=Pb,0===zi&&g(ac)),f!==Pb?(h=db(),h!==Pb?(i=j(),i!==Pb?(k=db(),k!==Pb?(125===a.charCodeAt(ti)?(l=bc,ti++):(l=Pb,0===zi&&g(cc)),l!==Pb?(ui=b,c=Kc(d,e,i),b=c):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)}else ti=b,b=Sb}else ti=b,b=Sb;if(b===Pb)if(b=ti,64===a.charCodeAt(ti)?(c=Ec,ti++):(c=Pb,0===zi&&g(Fc)),c!==Pb){if(d=[],Gc.test(a.charAt(ti))?(e=a.charAt(ti),ti++):(e=Pb,0===zi&&g(Hc)),e!==Pb)for(;e!==Pb;)d.push(e),Gc.test(a.charAt(ti))?(e=a.charAt(ti),ti++):(e=Pb,0===zi&&g(Hc));else d=Sb;if(d!==Pb){if(e=[],tc.test(a.charAt(ti))?(f=a.charAt(ti),ti++):(f=Pb,0===zi&&g(uc)),f!==Pb)for(;f!==Pb;)e.push(f),tc.test(a.charAt(ti))?(f=a.charAt(ti),ti++):(f=Pb,0===zi&&g(uc));else e=Sb;e!==Pb?(f=ti,zi++,59===a.charCodeAt(ti)?(h=wc,ti++):(h=Pb,0===zi&&g(xc)),zi--,h!==Pb?(ti=f,f=vc):f=Sb,f!==Pb?(ui=b,c=Lc(d,e),b=c):(ti=b,b=Sb)):(ti=b,b=Sb)}else ti=b,b=Sb}else ti=b,b=Sb;return zi--,b===Pb&&(c=Pb,0===zi&&g(Dc)),b}function w(){var a,b,c,d,e,f,g,h;if(a=ti,b=y(),b!==Pb){for(c=[],d=ti,e=db(),e!==Pb?(f=x(),f!==Pb?(g=db(),g!==Pb?(h=y(),h!==Pb?(e=[e,f,g,h],d=e):(ti=d,d=Sb)):(ti=d,d=Sb)):(ti=d,d=Sb)):(ti=d,d=Sb);d!==Pb;)c.push(d),d=ti,e=db(),e!==Pb?(f=x(),f!==Pb?(g=db(),g!==Pb?(h=y(),h!==Pb?(e=[e,f,g,h],d=e):(ti=d,d=Sb)):(ti=d,d=Sb)):(ti=d,d=Sb)):(ti=d,d=Sb);c!==Pb?(ui=a,b=Mc(b,c),a=b):(ti=a,a=Sb)}else ti=a,a=Sb;return a}function x(){var b,c;return b=ti,a.substr(ti,3)===Nc?(c=Nc,ti+=3):(c=Pb,0===zi&&g(Oc)),c===Pb&&(a.substr(ti,3)===Pc?(c=Pc,ti+=3):(c=Pb,0===zi&&g(Qc)),c===Pb&&(a.substr(ti,3)===Rc?(c=Rc,ti+=3):(c=Pb,0===zi&&g(Sc)),c===Pb&&(a.substr(ti,2)===Tc?(c=Tc,ti+=2):(c=Pb,0===zi&&g(Uc))))),c!==Pb&&(ui=b,c=Vc()),b=c,b===Pb&&(b=ti,a.substr(ti,2)===Wc?(c=Wc,ti+=2):(c=Pb,0===zi&&g(Xc)),c===Pb&&(a.substr(ti,2)===Yc?(c=Yc,ti+=2):(c=Pb,0===zi&&g(Zc)),c===Pb&&(a.substr(ti,2)===$c?(c=$c,ti+=2):(c=Pb,0===zi&&g(_c)),c===Pb&&(a.substr(ti,2)===ad?(c=ad,ti+=2):(c=Pb,0===zi&&g(bd))))),c!==Pb&&(ui=b,c=cd()),b=c),b}function y(){var a,b,c,d,e,f,g,h;if(a=ti,b=C(),b!==Pb){for(c=[],d=ti,e=db(),e!==Pb?(f=z(),f!==Pb?(g=db(),g!==Pb?(h=C(),h!==Pb?(e=[e,f,g,h],d=e):(ti=d,d=Sb)):(ti=d,d=Sb)):(ti=d,d=Sb)):(ti=d,d=Sb);d!==Pb;)c.push(d),d=ti,e=db(),e!==Pb?(f=z(),f!==Pb?(g=db(),g!==Pb?(h=C(),h!==Pb?(e=[e,f,g,h],d=e):(ti=d,d=Sb)):(ti=d,d=Sb)):(ti=d,d=Sb)):(ti=d,d=Sb);c!==Pb?(ui=a,b=dd(b,c),a=b):(ti=a,a=Sb)}else ti=a,a=Sb;return a}function z(){var b,c;return b=A(),b===Pb&&(b=ti,a.substr(ti,2)===ed?(c=ed,ti+=2):(c=Pb,0===zi&&g(fd)),c!==Pb&&(ui=b,c=gd()),b=c,b===Pb&&(b=ti,61===a.charCodeAt(ti)?(c=hd,ti++):(c=Pb,0===zi&&g(id)),c!==Pb&&(ui=b,c=jd()),b=c,b===Pb&&(b=ti,a.substr(ti,2)===kd?(c=kd,ti+=2):(c=Pb,0===zi&&g(ld)),c!==Pb&&(ui=b,c=md()),b=c))),b}function A(){var b,c;return zi++,b=ti,a.substr(ti,2)===od?(c=od,ti+=2):(c=Pb,0===zi&&g(pd)),c!==Pb&&(ui=b,c=qd()),b=c,b===Pb&&(b=ti,a.substr(ti,2)===rd?(c=rd,ti+=2):(c=Pb,0===zi&&g(sd)),c===Pb&&(a.substr(ti,2)===td?(c=td,ti+=2):(c=Pb,0===zi&&g(ud))),c!==Pb&&(ui=b,c=vd()),b=c,b===Pb&&(b=ti,a.substr(ti,2)===wd?(c=wd,ti+=2):(c=Pb,0===zi&&g(xd)),c===Pb&&(a.substr(ti,2)===yd?(c=yd,ti+=2):(c=Pb,0===zi&&g(zd))),c!==Pb&&(ui=b,c=Ad()),b=c,b===Pb&&(b=ti,60===a.charCodeAt(ti)?(c=Bd,ti++):(c=Pb,0===zi&&g(Cd)),c!==Pb&&(ui=b,c=Dd()),b=c,b===Pb&&(b=ti,62===a.charCodeAt(ti)?(c=Ed,ti++):(c=Pb,0===zi&&g(Fd)),c!==Pb&&(ui=b,c=Gd()),b=c)))),zi--,b===Pb&&(c=Pb,0===zi&&g(nd)),b}function B(){var a,b,c,d,e,f,g,h;if(a=ti,b=E(),b!==Pb){for(c=[],d=ti,e=db(),e!==Pb?(f=D(),f!==Pb?(g=db(),g!==Pb?(h=E(),h!==Pb?(e=[e,f,g,h],d=e):(ti=d,d=Sb)):(ti=d,d=Sb)):(ti=d,d=Sb)):(ti=d,d=Sb);d!==Pb;)c.push(d),d=ti,e=db(),e!==Pb?(f=D(),f!==Pb?(g=db(),g!==Pb?(h=E(),h!==Pb?(e=[e,f,g,h],d=e):(ti=d,d=Sb)):(ti=d,d=Sb)):(ti=d,d=Sb)):(ti=d,d=Sb);c!==Pb?(ui=a,b=dd(b,c),a=b):(ti=a,a=Sb)}else ti=a,a=Sb;return a}function C(){var a,b,c,d,e,f,g,h;if(a=ti,b=F(),b!==Pb){for(c=[],d=ti,e=db(),e!==Pb?(f=D(),f!==Pb?(g=db(),g!==Pb?(h=F(),h!==Pb?(e=[e,f,g,h],d=e):(ti=d,d=Sb)):(ti=d,d=Sb)):(ti=d,d=Sb)):(ti=d,d=Sb);d!==Pb;)c.push(d),d=ti,e=db(),e!==Pb?(f=D(),f!==Pb?(g=db(),g!==Pb?(h=F(),h!==Pb?(e=[e,f,g,h],d=e):(ti=d,d=Sb)):(ti=d,d=Sb)):(ti=d,d=Sb)):(ti=d,d=Sb);c!==Pb?(ui=a,b=dd(b,c),a=b):(ti=a,a=Sb)}else ti=a,a=Sb;return a}function D(){var b,c;return b=ti,43===a.charCodeAt(ti)?(c=Hd,ti++):(c=Pb,0===zi&&g(Id)),c!==Pb&&(ui=b,c=Jd()),b=c,b===Pb&&(b=ti,45===a.charCodeAt(ti)?(c=Kd,ti++):(c=Pb,0===zi&&g(Ld)),c!==Pb&&(ui=b,c=Md()),b=c),b}function E(){var a,b,c,d,e,f,g,h;if(a=ti,b=H(),b!==Pb){for(c=[],d=ti,e=db(),e!==Pb?(f=G(),f!==Pb?(g=db(),g!==Pb?(h=H(),h!==Pb?(e=[e,f,g,h],d=e):(ti=d,d=Sb)):(ti=d,d=Sb)):(ti=d,d=Sb)):(ti=d,d=Sb);d!==Pb;)c.push(d),d=ti,e=db(),e!==Pb?(f=G(),f!==Pb?(g=db(),g!==Pb?(h=H(),h!==Pb?(e=[e,f,g,h],d=e):(ti=d,d=Sb)):(ti=d,d=Sb)):(ti=d,d=Sb)):(ti=d,d=Sb);c!==Pb?(ui=a,b=dd(b,c),a=b):(ti=a,a=Sb)}else ti=a,a=Sb;return a}function F(){var a,b,c,d,e,f,g,h;if(a=ti,b=I(),b!==Pb){for(c=[],d=ti,e=db(),e!==Pb?(f=G(),f!==Pb?(g=db(),g!==Pb?(h=I(),h!==Pb?(e=[e,f,g,h],d=e):(ti=d,d=Sb)):(ti=d,d=Sb)):(ti=d,d=Sb)):(ti=d,d=Sb);d!==Pb;)c.push(d),d=ti,e=db(),e!==Pb?(f=G(),f!==Pb?(g=db(),g!==Pb?(h=I(),h!==Pb?(e=[e,f,g,h],d=e):(ti=d,d=Sb)):(ti=d,d=Sb)):(ti=d,d=Sb)):(ti=d,d=Sb);c!==Pb?(ui=a,b=dd(b,c),a=b):(ti=a,a=Sb)}else ti=a,a=Sb;return a}function G(){var b,c;return b=ti,42===a.charCodeAt(ti)?(c=Nd,ti++):(c=Pb,0===zi&&g(Od)),c!==Pb&&(ui=b,c=Pd()),b=c,b===Pb&&(b=ti,47===a.charCodeAt(ti)?(c=Qd,ti++):(c=Pb,0===zi&&g(Rd)),c!==Pb&&(ui=b,c=Sd()),b=c),b}function H(){var b,c,d,e,f,h;return b=J(),b===Pb&&(b=N(),b===Pb&&(b=ti,40===a.charCodeAt(ti)?(c=Td,ti++):(c=Pb,0===zi&&g(Ud)),c!==Pb?(d=db(),d!==Pb?(e=B(),e!==Pb?(f=db(),f!==Pb?(41===a.charCodeAt(ti)?(h=Vd,ti++):(h=Pb,0===zi&&g(Wd)),h!==Pb?(ui=b,c=Xd(e),b=c):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb))),b}function I(){var b,c,d,e,f,h;return b=J(),b===Pb&&(b=N(),b===Pb&&(b=K(),b===Pb&&(b=ti,a.substr(ti,4)===Yd?(c=Yd,ti+=4):(c=Pb,0===zi&&g(Zd)),c!==Pb&&(ui=b,c=$d()),b=c,b===Pb&&(b=ti,a.substr(ti,5)===_d?(c=_d,ti+=5):(c=Pb,0===zi&&g(ae)),c!==Pb&&(ui=b,c=be()),b=c,b===Pb&&(b=ti,a.substr(ti,4)===ce?(c=ce,ti+=4):(c=Pb,0===zi&&g(de)),c!==Pb&&(ui=b,c=ee()),b=c,b===Pb&&(b=ti,a.substr(ti,9)===fe?(c=fe,ti+=9):(c=Pb,0===zi&&g(ge)),c!==Pb&&(ui=b,c=he()),b=c,b===Pb&&(b=ti,40===a.charCodeAt(ti)?(c=Td,ti++):(c=Pb,0===zi&&g(Ud)),c!==Pb?(d=db(),d!==Pb?(e=w(),e!==Pb?(f=db(),f!==Pb?(41===a.charCodeAt(ti)?(h=Vd,ti++):(h=Pb,0===zi&&g(Wd)),h!==Pb?(ui=b,c=ie(e),b=c):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)))))))),b}function J(){var b,c,d,e,f,h;if(zi++,b=ti,45===a.charCodeAt(ti)?(c=Kd,ti++):(c=Pb,0===zi&&g(Ld)),c===Pb&&(c=jc),c!==Pb)if(d=eb(),d===Pb&&(d=jc),d!==Pb)if(91===a.charCodeAt(ti)?(e=ke,ti++):(e=Pb,0===zi&&g(le)),e!==Pb){if(f=[],h=L(),h!==Pb)for(;h!==Pb;)f.push(h),h=L();else f=Sb;f!==Pb?(93===a.charCodeAt(ti)?(h=me,ti++):(h=Pb,0===zi&&g(ne)),h!==Pb?(ui=b,c=oe(c,d,f),b=c):(ti=b,b=Sb)):(ti=b,b=Sb)}else ti=b,b=Sb;else ti=b,b=Sb;else ti=b,b=Sb;return b===Pb&&(b=ti,c=yb(),c===Pb&&(c=jc),c!==Pb?(d=M(),d!==Pb?(ui=b,c=pe(c,d),b=c):(ti=b,b=Sb)):(ti=b,b=Sb)),zi--,b===Pb&&(c=Pb,0===zi&&g(je)),b}function K(){var b,c,d,e;if(b=ti,qe.test(a.charAt(ti))?(c=a.charAt(ti),ti++):(c=Pb,0===zi&&g(re)),c!==Pb){for(d=[],se.test(a.charAt(ti))?(e=a.charAt(ti),ti++):(e=Pb,0===zi&&g(te));e!==Pb;)d.push(e),se.test(a.charAt(ti))?(e=a.charAt(ti),ti++):(e=Pb,0===zi&&g(te));d!==Pb?(qe.test(a.charAt(ti))?(e=a.charAt(ti),ti++):(e=Pb,0===zi&&g(re)),e!==Pb?(ui=b,c=ue(d),b=c):(ti=b,b=Sb)):(ti=b,b=Sb)}else ti=b,b=Sb;return b}function L(){var b;return ve.test(a.charAt(ti))?(b=a.charAt(ti),ti++):(b=Pb,0===zi&&g(we)),b}function M(){var b,c,d,e,f;if(b=ti,xe.test(a.charAt(ti))?(c=a.charAt(ti),ti++):(c=Pb,0===zi&&g(ye)),c!==Pb){for(d=[],ze.test(a.charAt(ti))?(e=a.charAt(ti),ti++):(e=Pb,0===zi&&g(Ae));e!==Pb;)d.push(e),ze.test(a.charAt(ti))?(e=a.charAt(ti),ti++):(e=Pb,0===zi&&g(Ae));d!==Pb?(ui=b,c=Be(c,d),b=c):(ti=b,b=Sb)}else ti=b,b=Sb;if(b===Pb){if(b=ti,c=[],Ce.test(a.charAt(ti))?(d=a.charAt(ti),ti++):(d=Pb,0===zi&&g(De)),d!==Pb)for(;d!==Pb;)c.push(d),Ce.test(a.charAt(ti))?(d=a.charAt(ti),ti++):(d=Pb,0===zi&&g(De));else c=Sb;if(c!==Pb)if(xe.test(a.charAt(ti))?(d=a.charAt(ti),ti++):(d=Pb,0===zi&&g(ye)),d!==Pb){if(e=[],ze.test(a.charAt(ti))?(f=a.charAt(ti),ti++):(f=Pb,0===zi&&g(Ae)),f!==Pb)for(;f!==Pb;)e.push(f),ze.test(a.charAt(ti))?(f=a.charAt(ti),ti++):(f=Pb,0===zi&&g(Ae));else e=Sb;e!==Pb?(ui=b,c=Ee(c,d,e),b=c):(ti=b,b=Sb)}else ti=b,b=Sb;else ti=b,b=Sb}return b}function N(){var a,b,c;return a=ti,b=P(),b!==Pb?(c=O(),c!==Pb?(ui=a,b=He(b,c),a=b):(ti=a,a=Sb)):(ti=a,a=Sb),a===Pb&&(a=ti,b=P(),b!==Pb&&(ui=a,b=Ie(b)),a=b),a}function O(){var b;return a.substr(ti,2)===Je?(b=Je,ti+=2):(b=Pb,0===zi&&g(Ke)),b===Pb&&(a.substr(ti,2)===Le?(b=Le,ti+=2):(b=Pb,0===zi&&g(Me)),b===Pb&&(a.substr(ti,2)===Ne?(b=Ne,ti+=2):(b=Pb,0===zi&&g(Oe)),b===Pb&&(a.substr(ti,2)===Ne?(b=Ne,ti+=2):(b=Pb,0===zi&&g(Oe)),b===Pb&&(37===a.charCodeAt(ti)?(b=Pe,ti++):(b=Pb,0===zi&&g(Qe)),b===Pb&&(a.substr(ti,3)===Re?(b=Re,ti+=3):(b=Pb,0===zi&&g(Se)),b===Pb&&(a.substr(ti,2)===Te?(b=Te,ti+=2):(b=Pb,0===zi&&g(Ue)),b===Pb&&(a.substr(ti,2)===Ve?(b=Ve,ti+=2):(b=Pb,0===zi&&g(We)),b===Pb&&(a.substr(ti,4)===Xe?(b=Xe,ti+=4):(b=Pb,0===zi&&g(Ye)),b===Pb&&(a.substr(ti,4)===Ze?(b=Ze,ti+=4):(b=Pb,0===zi&&g($e)),b===Pb&&(a.substr(ti,2)===_e?(b=_e,ti+=2):(b=Pb,0===zi&&g(af)),b===Pb&&(a.substr(ti,2)===bf?(b=bf,ti+=2):(b=Pb,0===zi&&g(cf)),b===Pb&&(a.substr(ti,2)===df?(b=df,ti+=2):(b=Pb,0===zi&&g(ef)),b===Pb&&(a.substr(ti,2)===ff?(b=ff,ti+=2):(b=Pb,0===zi&&g(gf)),b===Pb&&(a.substr(ti,2)===hf?(b=hf,ti+=2):(b=Pb,0===zi&&g(jf)))))))))))))))),b}function P(){var a;return a=S(),a===Pb&&(a=Q(),a===Pb&&(a=T(),a===Pb&&(a=R()))),a}function Q(){var b,c,d;if(b=ti,c=[],kf.test(a.charAt(ti))?(d=a.charAt(ti),ti++):(d=Pb,0===zi&&g(lf)),d!==Pb)for(;d!==Pb;)c.push(d),kf.test(a.charAt(ti))?(d=a.charAt(ti),ti++):(d=Pb,0===zi&&g(lf));else c=Sb;return c!==Pb&&(ui=b,c=mf(c)),b=c}function R(){var b,c,d;return b=ti,nf.test(a.charAt(ti))?(c=a.charAt(ti),ti++):(c=Pb,0===zi&&g(of)),c!==Pb?(d=Q(),d===Pb&&(d=jc),d!==Pb?(ui=b,c=pf(c,d),b=c):(ti=b,b=Sb)):(ti=b,b=Sb),b}function S(){var b,c,d,e,f;for(b=ti,c=[],kf.test(a.charAt(ti))?(d=a.charAt(ti),ti++):(d=Pb,0===zi&&g(lf));d!==Pb;)c.push(d),kf.test(a.charAt(ti))?(d=a.charAt(ti),ti++):(d=Pb,0===zi&&g(lf));if(c!==Pb)if(46===a.charCodeAt(ti)?(d=qf,ti++):(d=Pb,0===zi&&g(rf)),d!==Pb){if(e=[],kf.test(a.charAt(ti))?(f=a.charAt(ti),ti++):(f=Pb,0===zi&&g(lf)),f!==Pb)for(;f!==Pb;)e.push(f),kf.test(a.charAt(ti))?(f=a.charAt(ti),ti++):(f=Pb,0===zi&&g(lf));else e=Sb;e!==Pb?(ui=b,c=sf(c,e),b=c):(ti=b,b=Sb)}else ti=b,b=Sb;else ti=b,b=Sb;return b}function T(){var b,c,d;return b=ti,nf.test(a.charAt(ti))?(c=a.charAt(ti),ti++):(c=Pb,0===zi&&g(of)),c!==Pb?(d=S(),d!==Pb?(ui=b,c=tf(c,d),b=c):(ti=b,b=Sb)):(ti=b,b=Sb),b}function U(){var b;return a.length>ti?(b=a.charAt(ti),ti++):(b=Pb,0===zi&&g(uf)),b}function V(){var b,c;return zi++,wf.test(a.charAt(ti))?(b=a.charAt(ti),ti++):(b=Pb,0===zi&&g(xf)),zi--,b===Pb&&(c=Pb,0===zi&&g(vf)),b}function W(){var b;return yf.test(a.charAt(ti))?(b=a.charAt(ti),ti++):(b=Pb,0===zi&&g(zf)),b}function X(){var b,c;return zi++,10===a.charCodeAt(ti)?(b=Bf,ti++):(b=Pb,0===zi&&g(Cf)),b===Pb&&(a.substr(ti,2)===Df?(b=Df,ti+=2):(b=Pb,0===zi&&g(Ef)),b===Pb&&(13===a.charCodeAt(ti)?(b=Ff,ti++):(b=Pb,0===zi&&g(Gf)),b===Pb&&(8232===a.charCodeAt(ti)?(b=Hf,ti++):(b=Pb,0===zi&&g(If)),b===Pb&&(8233===a.charCodeAt(ti)?(b=Jf,ti++):(b=Pb,0===zi&&g(Kf)))))),zi--,b===Pb&&(c=Pb,0===zi&&g(Af)),b}function Y(){var b,c,d;return b=ti,c=db(),c!==Pb?(59===a.charCodeAt(ti)?(d=wc,ti++):(d=Pb,0===zi&&g(xc)),d!==Pb?(c=[c,d],b=c):(ti=b,b=Sb)):(ti=b,b=Sb),b===Pb&&(b=ti,c=cb(),c!==Pb?(d=X(),d!==Pb?(c=[c,d],b=c):(ti=b,b=Sb)):(ti=b,b=Sb),b===Pb&&(b=ti,c=db(),c!==Pb?(d=Z(),d!==Pb?(c=[c,d],b=c):(ti=b,b=Sb)):(ti=b,b=Sb))),b}function Z(){var b,c;return b=ti,zi++,a.length>ti?(c=a.charAt(ti),ti++):(c=Pb,0===zi&&g(uf)),zi--,c===Pb?b=vc:(ti=b,b=Sb),b}function $(){var a,b;return zi++,a=_(),a===Pb&&(a=bb()),zi--,a===Pb&&(b=Pb,0===zi&&g(Lf)),a}function _(){var b,c,d,e,f,h;if(b=ti,a.substr(ti,2)===Mf?(c=Mf,ti+=2):(c=Pb,0===zi&&g(Nf)),c!==Pb){for(d=[],e=ti,f=ti,zi++,a.substr(ti,2)===Of?(h=Of,ti+=2):(h=Pb,0===zi&&g(Pf)),zi--,h===Pb?f=vc:(ti=f,f=Sb),f!==Pb?(h=U(),h!==Pb?(f=[f,h],e=f):(ti=e,e=Sb)):(ti=e,e=Sb);e!==Pb;)d.push(e),e=ti,f=ti,zi++,a.substr(ti,2)===Of?(h=Of,ti+=2):(h=Pb,0===zi&&g(Pf)),zi--,h===Pb?f=vc:(ti=f,f=Sb),f!==Pb?(h=U(),h!==Pb?(f=[f,h],e=f):(ti=e,e=Sb)):(ti=e,e=Sb);d!==Pb?(a.substr(ti,2)===Of?(e=Of,ti+=2):(e=Pb,0===zi&&g(Pf)),e!==Pb?(c=[c,d,e],b=c):(ti=b,b=Sb)):(ti=b,b=Sb)}else ti=b,b=Sb;return b}function ab(){var b,c,d,e,f,h;if(b=ti,a.substr(ti,2)===Mf?(c=Mf,ti+=2):(c=Pb,0===zi&&g(Nf)),c!==Pb){for(d=[],e=ti,f=ti,zi++,a.substr(ti,2)===Of?(h=Of,ti+=2):(h=Pb,0===zi&&g(Pf)),h===Pb&&(h=W()),zi--,h===Pb?f=vc:(ti=f,f=Sb),f!==Pb?(h=U(),h!==Pb?(f=[f,h],e=f):(ti=e,e=Sb)):(ti=e,e=Sb);e!==Pb;)d.push(e),e=ti,f=ti,zi++,a.substr(ti,2)===Of?(h=Of,ti+=2):(h=Pb,0===zi&&g(Pf)),h===Pb&&(h=W()),zi--,h===Pb?f=vc:(ti=f,f=Sb),f!==Pb?(h=U(),h!==Pb?(f=[f,h],e=f):(ti=e,e=Sb)):(ti=e,e=Sb);d!==Pb?(a.substr(ti,2)===Of?(e=Of,ti+=2):(e=Pb,0===zi&&g(Pf)),e!==Pb?(c=[c,d,e],b=c):(ti=b,b=Sb)):(ti=b,b=Sb)}else ti=b,b=Sb;return b}function bb(){var b,c,d,e,f,h;if(b=ti,a.substr(ti,2)===Qf?(c=Qf,ti+=2):(c=Pb,0===zi&&g(Rf)),c!==Pb){for(d=[],e=ti,f=ti,zi++,h=W(),zi--,h===Pb?f=vc:(ti=f,f=Sb),f!==Pb?(h=U(),h!==Pb?(f=[f,h],e=f):(ti=e,e=Sb)):(ti=e,e=Sb);e!==Pb;)d.push(e),e=ti,f=ti,zi++,h=W(),zi--,h===Pb?f=vc:(ti=f,f=Sb),f!==Pb?(h=U(),h!==Pb?(f=[f,h],e=f):(ti=e,e=Sb)):(ti=e,e=Sb);d!==Pb?(e=W(),e===Pb&&(e=Z()),e!==Pb?(c=[c,d,e],b=c):(ti=b,b=Sb)):(ti=b,b=Sb)}else ti=b,b=Sb;return b}function cb(){var a,b;for(a=[],b=V(),b===Pb&&(b=ab(),b===Pb&&(b=bb()));b!==Pb;)a.push(b),b=V(),b===Pb&&(b=ab(),b===Pb&&(b=bb()));return a}function db(){var a,b;for(a=[],b=V(),b===Pb&&(b=X(),b===Pb&&(b=$()));b!==Pb;)a.push(b),b=V(),b===Pb&&(b=X(),b===Pb&&(b=$()));return a}function eb(){var a,b,c;return a=ti,b=jb(),b!==Pb?(c=fb(),c!==Pb?(ui=a,b=Sf(b,c),a=b):(ti=a,a=Sb)):(ti=a,a=Sb),a===Pb&&(a=fb(),a===Pb&&(a=ti,b=ib(),b!==Pb?(c=cb(),c!==Pb?(ui=a,b=Tf(b),a=b):(ti=a,a=Sb)):(ti=a,a=Sb))),a}function fb(){var b,c,d,e,f,h;return b=ti,40===a.charCodeAt(ti)?(c=Td,ti++):(c=Pb,0===zi&&g(Ud)),c!==Pb?(d=db(),d!==Pb?(e=gb(),e!==Pb?(f=db(),f!==Pb?(41===a.charCodeAt(ti)?(h=Vd,ti++):(h=Pb,0===zi&&g(Wd)),h!==Pb?(ui=b,c=Uf(e),b=c):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb),b}function gb(){var b,c,d,e,f,h,i,j;if(b=ti,c=hb(),c!==Pb){if(d=[],e=ti,f=db(),f!==Pb?(44===a.charCodeAt(ti)?(h=Vf,ti++):(h=Pb,0===zi&&g(Wf)),h!==Pb?(i=db(),i!==Pb?(j=hb(),j!==Pb?(f=[f,h,i,j],e=f):(ti=e,e=Sb)):(ti=e,e=Sb)):(ti=e,e=Sb)):(ti=e,e=Sb),e!==Pb)for(;e!==Pb;)d.push(e),e=ti,f=db(),f!==Pb?(44===a.charCodeAt(ti)?(h=Vf,ti++):(h=Pb,0===zi&&g(Wf)),h!==Pb?(i=db(),i!==Pb?(j=hb(),j!==Pb?(f=[f,h,i,j],e=f):(ti=e,e=Sb)):(ti=e,e=Sb)):(ti=e,e=Sb)):(ti=e,e=Sb);else d=Sb;d!==Pb?(ui=b,c=Xf(c,d),b=c):(ti=b,b=Sb)}else ti=b,b=Sb;return b===Pb&&(b=hb()),b}function hb(){var a,b,c;if(a=ti,b=[],c=nb(),c!==Pb)for(;c!==Pb;)b.push(c),c=nb();else b=Sb;return b!==Pb&&(ui=a,b=Yf(b)),a=b}function ib(){var a,b,c;if(a=ti,b=[],c=lb(),c!==Pb)for(;c!==Pb;)b.push(c),c=lb();else b=Sb;return b!==Pb&&(ui=a,b=Yf(b)),a=b}function jb(){var a,b,c;if(a=ti,b=[],c=kb(),c!==Pb)for(;c!==Pb;)b.push(c),c=kb();else b=Sb;return b!==Pb&&(ui=a,b=Yf(b)),a=b}function kb(){var a,b;return zi++,a=yb(),a===Pb&&(a=pb(),a===Pb&&(a=ub(),a===Pb&&(a=vb(),a===Pb&&(a=wb(),a===Pb&&(a=xb(),a===Pb&&(a=Ab())))))),zi--,a===Pb&&(b=Pb,0===zi&&g(Zf)),a}function lb(){var a,b;return zi++,a=kb(),a===Pb&&(a=fb()),zi--,a===Pb&&(b=Pb,0===zi&&g($f)),a}function mb(){var a;return a=lb(),a===Pb&&(a=Cb()),a}function nb(){var a,b;return a=mb(),a===Pb&&(a=ti,b=ob(),b!==Pb&&(ui=a,b=_f(b)),a=b),a}function ob(){var b,c,d,e;if(zi++,b=ti,c=cb(),c!==Pb){if(d=[],bg.test(a.charAt(ti))?(e=a.charAt(ti),ti++):(e=Pb,0===zi&&g(cg)),e!==Pb)for(;e!==Pb;)d.push(e),bg.test(a.charAt(ti))?(e=a.charAt(ti),ti++):(e=Pb,0===zi&&g(cg));else d=Sb;d!==Pb?(e=cb(),e!==Pb?(ui=b,c=dg(d),b=c):(ti=b,b=Sb)):(ti=b,b=Sb)}else ti=b,b=Sb;if(b===Pb){if(b=ti,c=[],32===a.charCodeAt(ti)?(d=Fe,ti++):(d=Pb,0===zi&&g(Ge)),d!==Pb)for(;d!==Pb;)c.push(d),32===a.charCodeAt(ti)?(d=Fe,ti++):(d=Pb,0===zi&&g(Ge));
else c=Sb;c!==Pb?(d=ti,zi++,eg.test(a.charAt(ti))?(e=a.charAt(ti),ti++):(e=Pb,0===zi&&g(fg)),zi--,e!==Pb?(ti=d,d=vc):d=Sb,d!==Pb?(ui=b,c=gg(),b=c):(ti=b,b=Sb)):(ti=b,b=Sb)}return zi--,b===Pb&&(c=Pb,0===zi&&g(ag)),b}function pb(){var b,c,d,e;if(b=ti,hg.test(a.charAt(ti))?(c=a.charAt(ti),ti++):(c=Pb,0===zi&&g(ig)),c!==Pb?(d=qb(),d!==Pb?(hg.test(a.charAt(ti))?(e=a.charAt(ti),ti++):(e=Pb,0===zi&&g(ig)),e!==Pb?(ui=b,c=jg(d),b=c):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb),b===Pb)if(b=ti,hg.test(a.charAt(ti))?(c=a.charAt(ti),ti++):(c=Pb,0===zi&&g(ig)),c!==Pb){if(d=[],kg.test(a.charAt(ti))?(e=a.charAt(ti),ti++):(e=Pb,0===zi&&g(lg)),e!==Pb)for(;e!==Pb;)d.push(e),kg.test(a.charAt(ti))?(e=a.charAt(ti),ti++):(e=Pb,0===zi&&g(lg));else d=Sb;d!==Pb?(hg.test(a.charAt(ti))?(e=a.charAt(ti),ti++):(e=Pb,0===zi&&g(ig)),e!==Pb?(ui=b,c=mg(d),b=c):(ti=b,b=Sb)):(ti=b,b=Sb)}else ti=b,b=Sb;return b}function qb(){var a,b,c,d;if(a=ti,b=[],c=rb(),c!==Pb)for(;c!==Pb;)b.push(c),c=rb();else b=Sb;if(b!==Pb){for(c=[],d=tb();d!==Pb;)c.push(d),d=tb();c!==Pb?(ui=a,b=ng(b,c),a=b):(ti=a,a=Sb)}else ti=a,a=Sb;return a}function rb(){var a,b,c;if(zi++,a=ti,b=[],c=tb(),c!==Pb)for(;c!==Pb;)b.push(c),c=tb();else b=Sb;return b!==Pb?(c=sb(),c!==Pb?(ui=a,b=pg(b,c),a=b):(ti=a,a=Sb)):(ti=a,a=Sb),zi--,a===Pb&&(b=Pb,0===zi&&g(og)),a}function sb(){var b,c,d,e,f;if(zi++,b=ti,c=[],kf.test(a.charAt(ti))?(d=a.charAt(ti),ti++):(d=Pb,0===zi&&g(lf)),d!==Pb)for(;d!==Pb;)c.push(d),kf.test(a.charAt(ti))?(d=a.charAt(ti),ti++):(d=Pb,0===zi&&g(lf));else c=Sb;if(c!==Pb)if(a.substr(ti,3)===rg?(d=rg,ti+=3):(d=Pb,0===zi&&g(sg)),d!==Pb){if(e=[],kf.test(a.charAt(ti))?(f=a.charAt(ti),ti++):(f=Pb,0===zi&&g(lf)),f!==Pb)for(;f!==Pb;)e.push(f),kf.test(a.charAt(ti))?(f=a.charAt(ti),ti++):(f=Pb,0===zi&&g(lf));else e=Sb;e!==Pb?(ui=b,c=tg(c,e),b=c):(ti=b,b=Sb)}else ti=b,b=Sb;else ti=b,b=Sb;return zi--,b===Pb&&(c=Pb,0===zi&&g(qg)),b}function tb(){var a,b,c;return a=ti,b=ti,zi++,c=sb(),zi--,c===Pb?b=vc:(ti=b,b=Sb),b!==Pb?(c=Eb(),c!==Pb?(ui=a,b=ug(c),a=b):(ti=a,a=Sb)):(ti=a,a=Sb),a}function ub(){var b,c;return b=ti,c=Db(),c!==Pb&&(ui=b,c=vg(c)),b=c,b===Pb&&(b=ti,42===a.charCodeAt(ti)?(c=Nd,ti++):(c=Pb,0===zi&&g(Od)),c!==Pb&&(ui=b,c=wg()),b=c),b}function vb(){var b,c,d;return b=ti,35===a.charCodeAt(ti)?(c=xg,ti++):(c=Pb,0===zi&&g(yg)),c!==Pb?(d=qb(),d===Pb&&(d=Db()),d!==Pb?(ui=b,c=zg(d),b=c):(ti=b,b=Sb)):(ti=b,b=Sb),b}function wb(){var b,c,d;return b=ti,46===a.charCodeAt(ti)?(c=qf,ti++):(c=Pb,0===zi&&g(rf)),c!==Pb?(d=qb(),d===Pb&&(d=Db()),d!==Pb?(ui=b,c=Ag(d),b=c):(ti=b,b=Sb)):(ti=b,b=Sb),b}function xb(){var a,b;return a=ti,b=zb(),b!==Pb&&(ui=a,b=Bg(b)),a=b}function yb(){var b,c,d,e;if(b=ti,36===a.charCodeAt(ti)?(c=Cg,ti++):(c=Pb,0===zi&&g(Dg)),c!==Pb&&(ui=b,c=Eg()),b=c,b===Pb&&(b=ti,38===a.charCodeAt(ti)?(c=Fg,ti++):(c=Pb,0===zi&&g(Gg)),c!==Pb?(d=ti,zi++,Hg.test(a.charAt(ti))?(e=a.charAt(ti),ti++):(e=Pb,0===zi&&g(Ig)),zi--,e!==Pb?(ti=d,d=vc):d=Sb,d!==Pb?(ui=b,c=Jg(),b=c):(ti=b,b=Sb)):(ti=b,b=Sb),b===Pb)){if(b=ti,c=[],94===a.charCodeAt(ti)?(d=Kg,ti++):(d=Pb,0===zi&&g(Lg)),d!==Pb)for(;d!==Pb;)c.push(d),94===a.charCodeAt(ti)?(d=Kg,ti++):(d=Pb,0===zi&&g(Lg));else c=Sb;c!==Pb&&(ui=b,c=Mg(c)),b=c}return b}function zb(){var b,c;return a.substr(ti,10)===Ng?(b=Ng,ti+=10):(b=Pb,0===zi&&g(Og)),b===Pb&&(a.substr(ti,6)===Pg?(b=Pg,ti+=6):(b=Pb,0===zi&&g(Qg)),b===Pb&&(a.substr(ti,7)===Rg?(b=Rg,ti+=7):(b=Pb,0===zi&&g(Sg)),b===Pb&&(a.substr(ti,8)===Tg?(b=Tg,ti+=8):(b=Pb,0===zi&&g(Ug))))),b===Pb&&(b=ti,a.substr(ti,8)===Vg?(c=Vg,ti+=8):(c=Pb,0===zi&&g(Wg)),c===Pb&&(a.substr(ti,10)===Xg?(c=Xg,ti+=10):(c=Pb,0===zi&&g(Yg))),c!==Pb&&(ui=b,c=Zg()),b=c,b===Pb&&(b=ti,a.substr(ti,6)===$g?(c=$g,ti+=6):(c=Pb,0===zi&&g(_g)),c===Pb&&(a.substr(ti,2)===ah?(c=ah,ti+=2):(c=Pb,0===zi&&g(bh))),c!==Pb&&(ui=b,c=ch()),b=c)),b}function Ab(){var b,c,d,e;return b=ti,a.substr(ti,2)===ah?(c=ah,ti+=2):(c=Pb,0===zi&&g(bh)),c===Pb&&(58===a.charCodeAt(ti)?(c=rc,ti++):(c=Pb,0===zi&&g(sc))),c!==Pb?(d=Db(),d!==Pb?(e=Bb(),e===Pb&&(e=jc),e!==Pb?(ui=b,c=dh(c,d,e),b=c):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb),b}function Bb(){var b,c,d,e;if(b=ti,40===a.charCodeAt(ti)?(c=Td,ti++):(c=Pb,0===zi&&g(Ud)),c!==Pb){for(d=[],eh.test(a.charAt(ti))?(e=a.charAt(ti),ti++):(e=Pb,0===zi&&g(fh));e!==Pb;)d.push(e),eh.test(a.charAt(ti))?(e=a.charAt(ti),ti++):(e=Pb,0===zi&&g(fh));d!==Pb?(41===a.charCodeAt(ti)?(e=Vd,ti++):(e=Pb,0===zi&&g(Wd)),e!==Pb?(ui=b,c=gh(d),b=c):(ti=b,b=Sb)):(ti=b,b=Sb)}else ti=b,b=Sb;return b}function Cb(){var b,c,d,e,f,h;if(b=ti,91===a.charCodeAt(ti)?(c=ke,ti++):(c=Pb,0===zi&&g(le)),c!==Pb){if(d=[],hh.test(a.charAt(ti))?(e=a.charAt(ti),ti++):(e=Pb,0===zi&&g(ih)),e!==Pb)for(;e!==Pb;)d.push(e),hh.test(a.charAt(ti))?(e=a.charAt(ti),ti++):(e=Pb,0===zi&&g(ih));else d=Sb;if(d!==Pb){if(e=[],jh.test(a.charAt(ti))?(f=a.charAt(ti),ti++):(f=Pb,0===zi&&g(kh)),f!==Pb)for(;f!==Pb;)e.push(f),jh.test(a.charAt(ti))?(f=a.charAt(ti),ti++):(f=Pb,0===zi&&g(kh));else e=Sb;if(e!==Pb){if(f=[],lh.test(a.charAt(ti))?(h=a.charAt(ti),ti++):(h=Pb,0===zi&&g(mh)),h!==Pb)for(;h!==Pb;)f.push(h),lh.test(a.charAt(ti))?(h=a.charAt(ti),ti++):(h=Pb,0===zi&&g(mh));else f=Sb;f!==Pb?(93===a.charCodeAt(ti)?(h=me,ti++):(h=Pb,0===zi&&g(ne)),h!==Pb?(ui=b,c=nh(d,e,f),b=c):(ti=b,b=Sb)):(ti=b,b=Sb)}else ti=b,b=Sb}else ti=b,b=Sb}else ti=b,b=Sb;if(b===Pb)if(b=ti,91===a.charCodeAt(ti)?(c=ke,ti++):(c=Pb,0===zi&&g(le)),c!==Pb){if(d=[],lh.test(a.charAt(ti))?(e=a.charAt(ti),ti++):(e=Pb,0===zi&&g(mh)),e!==Pb)for(;e!==Pb;)d.push(e),lh.test(a.charAt(ti))?(e=a.charAt(ti),ti++):(e=Pb,0===zi&&g(mh));else d=Sb;d!==Pb?(93===a.charCodeAt(ti)?(e=me,ti++):(e=Pb,0===zi&&g(ne)),e!==Pb?(ui=b,c=oh(d),b=c):(ti=b,b=Sb)):(ti=b,b=Sb)}else ti=b,b=Sb;return b}function Db(){var a,b,c;if(a=ti,b=[],c=Eb(),c!==Pb)for(;c!==Pb;)b.push(c),c=Eb();else b=Sb;return b!==Pb&&(ui=a,b=ph(b)),a=b}function Eb(){var b;return ze.test(a.charAt(ti))?(b=a.charAt(ti),ti++):(b=Pb,0===zi&&g(Ae)),b}function Fb(){var b,c,d,e;return zi++,b=ti,33===a.charCodeAt(ti)?(c=rh,ti++):(c=Pb,0===zi&&g(sh)),c!==Pb?(d=Hb(),d!==Pb?(e=Gb(),e===Pb&&(e=jc),e!==Pb?(ui=b,c=th(d,e),b=c):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb),b===Pb&&(b=ti,33===a.charCodeAt(ti)?(c=rh,ti++):(c=Pb,0===zi&&g(sh)),c!==Pb?(a.length>ti?(d=a.charAt(ti),ti++):(d=Pb,0===zi&&g(uf)),d===Pb&&(d=jc),d!==Pb?(ui=b,c=uh(),b=c):(ti=b,b=Sb)):(ti=b,b=Sb)),zi--,b===Pb&&(c=Pb,0===zi&&g(qh)),b}function Gb(){var b,c,d;if(b=ti,c=[],kf.test(a.charAt(ti))?(d=a.charAt(ti),ti++):(d=Pb,0===zi&&g(lf)),d!==Pb)for(;d!==Pb;)c.push(d),kf.test(a.charAt(ti))?(d=a.charAt(ti),ti++):(d=Pb,0===zi&&g(lf));else c=Sb;return c!==Pb&&(ui=b,c=vh(c)),b=c}function Hb(){var b,c,d;if(b=ti,a.substr(ti,8)===wh?(c=wh,ti+=8):(c=Pb,0===zi&&g(xh)),c===Pb&&(a.substr(ti,8)===yh?(c=yh,ti+=8):(c=Pb,0===zi&&g(zh)),c===Pb&&(a.substr(ti,8)===Ah?(c=Ah,ti+=8):(c=Pb,0===zi&&g(Bh)))),c!==Pb&&(ui=b,c=Ch()),b=c,b===Pb&&(b=ti,a.substr(ti,7)===Dh?(c=Dh,ti+=7):(c=Pb,0===zi&&g(Eh)),c===Pb&&(a.substr(ti,7)===Fh?(c=Fh,ti+=7):(c=Pb,0===zi&&g(Gh)),c===Pb&&(a.substr(ti,7)===Hh?(c=Hh,ti+=7):(c=Pb,0===zi&&g(Ih)))),c!==Pb&&(ui=b,c=Ch()),b=c,b===Pb&&(b=ti,a.substr(ti,6)===Jh?(c=Jh,ti+=6):(c=Pb,0===zi&&g(Kh)),c===Pb&&(a.substr(ti,6)===Lh?(c=Lh,ti+=6):(c=Pb,0===zi&&g(Mh)),c===Pb&&(a.substr(ti,6)===Nh?(c=Nh,ti+=6):(c=Pb,0===zi&&g(Oh)))),c!==Pb&&(ui=b,c=Ph()),b=c,b===Pb&&(b=ti,a.substr(ti,6)===Qh?(c=Qh,ti+=6):(c=Pb,0===zi&&g(Rh)),c===Pb&&(a.substr(ti,6)===Sh?(c=Sh,ti+=6):(c=Pb,0===zi&&g(Th)),c===Pb&&(a.substr(ti,6)===Uh?(c=Uh,ti+=6):(c=Pb,0===zi&&g(Vh)))),c!==Pb&&(ui=b,c=Wh()),b=c,b===Pb&&(b=ti,a.substr(ti,4)===Xh?(c=Xh,ti+=4):(c=Pb,0===zi&&g(Yh)),c===Pb&&(a.substr(ti,4)===Zh?(c=Zh,ti+=4):(c=Pb,0===zi&&g($h)),c===Pb&&(a.substr(ti,4)===_h?(c=_h,ti+=4):(c=Pb,0===zi&&g(ai)))),c!==Pb&&(ui=b,c=bi()),b=c,b===Pb))))){if(b=ti,c=[],ci.test(a.charAt(ti))?(d=a.charAt(ti),ti++):(d=Pb,0===zi&&g(di)),d!==Pb)for(;d!==Pb;)c.push(d),ci.test(a.charAt(ti))?(d=a.charAt(ti),ti++):(d=Pb,0===zi&&g(di));else c=Sb;c!==Pb&&(ui=b,c=ei(c)),b=c}return b}function Ib(){var b,c,d,e,f,h;if(b=ti,64===a.charCodeAt(ti)?(c=Ec,ti++):(c=Pb,0===zi&&g(Fc)),c!==Pb)if(a.substr(ti,12)===fi?(d=fi,ti+=12):(d=Pb,0===zi&&g(gi)),d===Pb&&(a.substr(ti,7)===hi?(d=hi,ti+=7):(d=Pb,0===zi&&g(ii))),d!==Pb)if(e=db(),e!==Pb){if(f=[],h=Jb(),h!==Pb)for(;h!==Pb;)f.push(h),h=Jb();else f=Sb;f!==Pb?(ui=b,c=ji(f),b=c):(ti=b,b=Sb)}else ti=b,b=Sb;else ti=b,b=Sb;else ti=b,b=Sb;return b}function Jb(){var b,c,d,e,f;if(b=ti,34===a.charCodeAt(ti)?(c=ki,ti++):(c=Pb,0===zi&&g(li)),c!==Pb){if(d=[],kg.test(a.charAt(ti))?(e=a.charAt(ti),ti++):(e=Pb,0===zi&&g(lg)),e!==Pb)for(;e!==Pb;)d.push(e),kg.test(a.charAt(ti))?(e=a.charAt(ti),ti++):(e=Pb,0===zi&&g(lg));else d=Sb;d!==Pb?(34===a.charCodeAt(ti)?(e=ki,ti++):(e=Pb,0===zi&&g(li)),e!==Pb?(f=db(),f!==Pb?(ui=b,c=mi(d),b=c):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)}else ti=b,b=Sb;return b}function Kb(){var a,b,c,d;if(a=ti,b=Mb(),b!==Pb){if(c=[],d=Lb(),d!==Pb)for(;d!==Pb;)c.push(d),d=Lb();else c=Sb;c!==Pb?(ui=a,b=ni(c),a=b):(ti=a,a=Sb)}else ti=a,a=Sb;return a}function Lb(){var b,c,d,e,f;return b=ti,c=db(),c!==Pb?(d=J(),d!==Pb?(e=db(),e!==Pb?(44===a.charCodeAt(ti)?(f=Vf,ti++):(f=Pb,0===zi&&g(Wf)),f===Pb&&(f=jc),f!==Pb?(ui=b,c=oi(d),b=c):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb)):(ti=b,b=Sb),b}function Mb(){var b;return a.substr(ti,10)===pi?(b=pi,ti+=10):(b=Pb,0===zi&&g(qi)),b===Pb&&(a.substr(ti,5)===ri?(b=ri,ti+=5):(b=Pb,0===zi&&g(si))),b}var Nb,Ob=arguments.length>1?arguments[1]:{},Pb={},Qb={start:i},Rb=i,Sb=Pb,Tb=function(a){return a},Ub=function(a){return Bi.mergeCommands(a)},Vb={type:"other",description:"IfElseStatement"},Wb=function(a,b){return{commands:[a.concat(b)]}},Xb=function(a){return{commands:[a]}},Yb=function(a){return a},Zb="@if",$b={type:"literal",value:"@if",description:'"@if"'},_b="{",ac={type:"literal",value:"{",description:'"{"'},bc="}",cc={type:"literal",value:"}",description:'"}"'},dc=function(a,b){return["if",a,b.commands]},ec=/^[^{]/,fc={type:"class",value:"[^{]",description:"[^{]"},gc=function(){throw new Bi._Error("Invalid If Clause",null,null,null,Bi._lineNumber(),Bi._columnNumber())},hc="@else",ic={type:"literal",value:"@else",description:'"@else"'},jc=null,kc=function(a,b){return[a||!0,b.commands]},lc=function(){throw new Bi._Error("Invalid Else Clause",null,null,null,Bi._lineNumber(),Bi._columnNumber())},mc={type:"other",description:"ConstraintStatement"},nc=function(a,b,c){return Bi.constraint(a,b,c)},oc={type:"other",description:"InlineConstraintStatement"},pc=/^[^:&$\^)(\][@ ]/,qc={type:"class",value:"[^:&$\\^)(\\][@ ]",description:"[^:&$\\^)(\\][@ ]"},rc=":",sc={type:"literal",value:":",description:'":"'},tc=/^[^;]/,uc={type:"class",value:"[^;]",description:"[^;]"},vc=void 0,wc=";",xc={type:"literal",value:";",description:'";"'},yc=function(a,b,c){return Bi.inlineConstraint(a,b,c)},zc={type:"other",description:"Inline Set"},Ac=function(a,b){return Bi.inlineSet(a,b)},Bc=function(a,b){return{commands:[["rule",a,b.commands]]}},Cc=function(a){return a},Dc={type:"other",description:"Directive"},Ec="@",Fc={type:"literal",value:"@",description:'"@"'},Gc=/^[^ {}]/,Hc={type:"class",value:"[^ {}]",description:"[^ {}]"},Ic=/^[^{};]/,Jc={type:"class",value:"[^{};]",description:"[^{};]"},Kc=function(a,b,c){return Bi.directive(a.join(""),b.join("").trim(),c.commands)},Lc=function(a,b){return Bi.directive(a.join(""),b.join("").trim())},Mc=function(a,b){return Bi.nestedDualTermCommands(a,b)},Nc="AND",Oc={type:"literal",value:"AND",description:'"AND"'},Pc="and",Qc={type:"literal",value:"and",description:'"and"'},Rc="And",Sc={type:"literal",value:"And",description:'"And"'},Tc="&&",Uc={type:"literal",value:"&&",description:'"&&"'},Vc=function(){return"&&"},Wc="OR",Xc={type:"literal",value:"OR",description:'"OR"'},Yc="or",Zc={type:"literal",value:"or",description:'"or"'},$c="Or",_c={type:"literal",value:"Or",description:'"Or"'},ad="||",bd={type:"literal",value:"||",description:'"||"'},cd=function(){return"||"},dd=function(a,b){return Bi.nestedDualTermCommands(a,b)},ed="!=",fd={type:"literal",value:"!=",description:'"!="'},gd=function(){return"!="},hd="=",id={type:"literal",value:"=",description:'"="'},jd=function(){return"="},kd="~=",ld={type:"literal",value:"~=",description:'"~="'},md=function(){return"~="},nd={type:"other",description:"Constraint Operator"},od="==",pd={type:"literal",value:"==",description:'"=="'},qd=function(){return"=="},rd="<=",sd={type:"literal",value:"<=",description:'"<="'},td="=<",ud={type:"literal",value:"=<",description:'"=<"'},vd=function(){return"<="},wd=">=",xd={type:"literal",value:">=",description:'">="'},yd="=>",zd={type:"literal",value:"=>",description:'"=>"'},Ad=function(){return">="},Bd="<",Cd={type:"literal",value:"<",description:'"<"'},Dd=function(){return"<"},Ed=">",Fd={type:"literal",value:">",description:'">"'},Gd=function(){return">"},Hd="+",Id={type:"literal",value:"+",description:'"+"'},Jd=function(){return"+"},Kd="-",Ld={type:"literal",value:"-",description:'"-"'},Md=function(){return"-"},Nd="*",Od={type:"literal",value:"*",description:'"*"'},Pd=function(){return"*"},Qd="/",Rd={type:"literal",value:"/",description:'"/"'},Sd=function(){return"/"},Td="(",Ud={type:"literal",value:"(",description:'"("'},Vd=")",Wd={type:"literal",value:")",description:'")"'},Xd=function(a){return a},Yd="true",Zd={type:"literal",value:"true",description:'"true"'},$d=function(){return!0},_d="false",ae={type:"literal",value:"false",description:'"false"'},be=function(){return!1},ce="null",de={type:"literal",value:"null",description:'"null"'},ee=function(){return null},fe="undefined",ge={type:"literal",value:"undefined",description:'"undefined"'},he=function(){return void 0},ie=function(a){return a},je={type:"other",description:"variable"},ke="[",le={type:"literal",value:"[",description:'"["'},me="]",ne={type:"literal",value:"]",description:'"]"'},oe=function(a,b,c){return Bi.variable(a,b,c)},pe=function(a,b){return Bi.variable(!1,a,b)},qe=/^["']/,re={type:"class",value:"[\"']",description:"[\"']"},se=/^[^"']/,te={type:"class",value:"[^\"']",description:"[^\"']"},ue=function(a){return a.join("")},ve=/^[a-zA-Z0-9#.\-_$]/,we={type:"class",value:"[a-zA-Z0-9#.\\-_$]",description:"[a-zA-Z0-9#.\\-_$]"},xe=/^[a-zA-Z]/,ye={type:"class",value:"[a-zA-Z]",description:"[a-zA-Z]"},ze=/^[a-zA-Z0-9\-_]/,Ae={type:"class",value:"[a-zA-Z0-9\\-_]",description:"[a-zA-Z0-9\\-_]"},Be=function(a,b){return a+b.join("")},Ce=/^[\-]/,De={type:"class",value:"[\\-]",description:"[\\-]"},Ee=function(a,b,c){return a.join("")+b+c.join("")},Fe=" ",Ge={type:"literal",value:" ",description:'" "'},He=function(a,b){return[b,a]},Ie=function(a){return a},Je="px",Ke={type:"literal",value:"px",description:'"px"'},Le="em",Me={type:"literal",value:"em",description:'"em"'},Ne="vh",Oe={type:"literal",value:"vh",description:'"vh"'},Pe="%",Qe={type:"literal",value:"%",description:'"%"'},Re="rem",Se={type:"literal",value:"rem",description:'"rem"'},Te="ex",Ue={type:"literal",value:"ex",description:'"ex"'},Ve="ch",We={type:"literal",value:"ch",description:'"ch"'},Xe="vmin",Ye={type:"literal",value:"vmin",description:'"vmin"'},Ze="vmax",$e={type:"literal",value:"vmax",description:'"vmax"'},_e="cm",af={type:"literal",value:"cm",description:'"cm"'},bf="mm",cf={type:"literal",value:"mm",description:'"mm"'},df="in",ef={type:"literal",value:"in",description:'"in"'},ff="pt",gf={type:"literal",value:"pt",description:'"pt"'},hf="pc",jf={type:"literal",value:"pc",description:'"pc"'},kf=/^[0-9]/,lf={type:"class",value:"[0-9]",description:"[0-9]"},mf=function(a){return Bi.integer(a)},nf=/^[\-+]/,of={type:"class",value:"[\\-+]",description:"[\\-+]"},pf=function(a,b){return Bi.signedInteger(a,b)},qf=".",rf={type:"literal",value:".",description:'"."'},sf=function(a,b){return parseFloat(a.join("")+"."+b.join(""))},tf=function(a,b){return Bi.signedReal(a,b)},uf={type:"any",description:"any character"},vf={type:"other",description:"whitespace"},wf=/^[\t\x0B\f \xA0\uFEFF]/,xf={type:"class",value:"[\\t\\x0B\\f \\xA0\\uFEFF]",description:"[\\t\\x0B\\f \\xA0\\uFEFF]"},yf=/^[\n\r\u2028\u2029]/,zf={type:"class",value:"[\\n\\r\\u2028\\u2029]",description:"[\\n\\r\\u2028\\u2029]"},Af={type:"other",description:"end of line"},Bf="\n",Cf={type:"literal",value:"\n",description:'"\\n"'},Df="\r\n",Ef={type:"literal",value:"\r\n",description:'"\\r\\n"'},Ff="\r",Gf={type:"literal",value:"\r",description:'"\\r"'},Hf="\u2028",If={type:"literal",value:"\u2028",description:'"\\u2028"'},Jf="\u2029",Kf={type:"literal",value:"\u2029",description:'"\\u2029"'},Lf={type:"other",description:"comment"},Mf="/*",Nf={type:"literal",value:"/*",description:'"/*"'},Of="*/",Pf={type:"literal",value:"*/",description:'"*/"'},Qf="//",Rf={type:"literal",value:"//",description:'"//"'},Sf=function(a,b){return[a,b]},Tf=function(a){return a},Uf=function(a){return a},Vf=",",Wf={type:"literal",value:",",description:'","'},Xf=function(a,b){return Bi.createSelectorCommaCommand(a,b)},Yf=function(a){return Bi.reverseFilterNest(a)},Zf={type:"other",description:"NoParanSelector"},$f={type:"other",description:"SimpleSelector"},_f=function(a){return[a]},ag={type:"other",description:"Combinator"},bg=/^[><+~!]/,cg={type:"class",value:"[><+~!]",description:"[><+~!]"},dg=function(a){return a.join("")},eg=/^[^{,)]/,fg={type:"class",value:"[^{,)]",description:"[^{,)]"},gg=function(){return" "},hg=/^["]/,ig={type:"class",value:'["]',description:'["]'},jg=function(a){return Bi.splatExpander("virtual",a)},kg=/^[^"]/,lg={type:"class",value:'[^"]',description:'[^"]'},mg=function(a){return["virtual",a.join("")]},ng=function(a,b){return{splats:a,postfix:b.join("")}},og={type:"other",description:"Splat"},pg=function(a,b){return b.prefix=a.join(""),b},qg={type:"other",description:"Range"},rg="...",sg={type:"literal",value:"...",description:'"..."'},tg=function(a,b){return a=Number(a.join("")),b=Number(b.join("")),{from:a,to:b}},ug=function(a){return a},vg=function(a){return["tag",a]},wg=function(){return["tag","*"]},xg="#",yg={type:"literal",value:"#",description:'"#"'},zg=function(a){return Bi.splatifyIfNeeded("#",a)},Ag=function(a){return Bi.splatifyIfNeeded(".",a)},Bg=function(a){return[a]},Cg="$",Dg={type:"literal",value:"$",description:'"$"'},Eg=function(){return["$"]},Fg="&",Gg={type:"literal",value:"&",description:'"&"'},Hg=/^[^&]/,Ig={type:"class",value:"[^&]",description:"[^&]"},Jg=function(){return["&"]},Kg="^",Lg={type:"literal",value:"^",description:'"^"'},Mg=function(a){var b=a.length;return b>1?["^",b]:["^"]},Ng="::document",Og={type:"literal",value:"::document",description:'"::document"'},Pg="::host",Qg={type:"literal",value:"::host",description:'"::host"'},Rg="::scope",Sg={type:"literal",value:"::scope",description:'"::scope"'},Tg="::parent",Ug={type:"literal",value:"::parent",description:'"::parent"'},Vg="::window",Wg={type:"literal",value:"::window",description:'"::window"'},Xg="::viewport",Yg={type:"literal",value:"::viewport",description:'"::viewport"'},Zg=function(){return"::window"},$g="::this",_g={type:"literal",value:"::this",description:'"::this"'},ah="::",bh={type:"literal",value:"::",description:'"::"'},ch=function(){return"&"},dh=function(a,b,c){return c?[a+b,c]:[a+b]},eh=/^[^)]/,fh={type:"class",value:"[^)]",description:"[^)]"},gh=function(a){return a.join("")},hh=/^[^~|=!\^$&*\]]/,ih={type:"class",value:"[^~|=!\\^$&*\\]]",description:"[^~|=!\\^$&*\\]]"},jh=/^[~|=!\^$&*]/,kh={type:"class",value:"[~|=!\\^$&*]",description:"[~|=!\\^$&*]"},lh=/^[^\]]/,mh={type:"class",value:"[^\\]]",description:"[^\\]]"},nh=function(a,b,c){return["["+b.join("")+"]",a.join("").trim(),c.join("").trim()]},oh=function(a){return["[]",a.join("")]},ph=function(a){return a.join("")},qh={type:"other",description:"Strength and Weight"},rh="!",sh={type:"literal",value:"!",description:'"!"'},th=function(a,b){return Bi.strengthAndWeight().valid(a,b)},uh=function(){return Bi.strengthAndWeight().invalid()},vh=function(a){return Number(a.join(""))},wh="required",xh={type:"literal",value:"required",description:'"required"'},yh="REQUIRED",zh={type:"literal",value:"REQUIRED",description:'"REQUIRED"'},Ah="Required",Bh={type:"literal",value:"Required",description:'"Required"'},Ch=function(){return"require"},Dh="require",Eh={type:"literal",value:"require",description:'"require"'},Fh="REQUIRE",Gh={type:"literal",value:"REQUIRE",description:'"REQUIRE"'},Hh="Require",Ih={type:"literal",value:"Require",description:'"Require"'},Jh="strong",Kh={type:"literal",value:"strong",description:'"strong"'},Lh="STRONG",Mh={type:"literal",value:"STRONG",description:'"STRONG"'},Nh="Strong",Oh={type:"literal",value:"Strong",description:'"Strong"'},Ph=function(){return"strong"},Qh="medium",Rh={type:"literal",value:"medium",description:'"medium"'},Sh="MEDIUM",Th={type:"literal",value:"MEDIUM",description:'"MEDIUM"'},Uh="Medium",Vh={type:"literal",value:"Medium",description:'"Medium"'},Wh=function(){return"medium"},Xh="weak",Yh={type:"literal",value:"weak",description:'"weak"'},Zh="WEAK",$h={type:"literal",value:"WEAK",description:'"WEAK"'},_h="Weak",ai={type:"literal",value:"Weak",description:'"Weak"'},bi=function(){return"weak"},ci=/^[a-zA-Z\-_]/,di={type:"class",value:"[a-zA-Z\\-_]",description:"[a-zA-Z\\-_]"},ei=function(a){return a.join("").toLowerCase()},fi="-gss-virtual",gi={type:"literal",value:"-gss-virtual",description:'"-gss-virtual"'},hi="virtual",ii={type:"literal",value:"virtual",description:'"virtual"'},ji=function(a){return Bi.virtualElement(a)},ki='"',li={type:"literal",value:'"',description:'"\\""'},mi=function(a){return a.join("")},ni=function(a){return Bi.stay(a)},oi=function(a){return Bi.stayVariable(a)},pi="@-gss-stay",qi={type:"literal",value:"@-gss-stay",description:'"@-gss-stay"'},ri="@stay",si={type:"literal",value:"@stay",description:'"@stay"'},ti=0,ui=0,vi=0,wi={line:1,column:1,seenCR:!1},xi=0,yi=[],zi=0;if("startRule"in Ob){if(!(Ob.startRule in Qb))throw new Error("Can't start parsing from rule \""+Ob.startRule+'".');Rb=Qb[Ob.startRule]}var Ai=this,Bi=function(){var a=function(){return d()},f=function(){return e()},g=function(){return c},h=b("./grammar");return new h(Ai,a,f,g)}();if(Nb=Rb(),Nb!==Pb&&ti===a.length)return Nb;throw Nb!==Pb&&ti<a.length&&g({type:"end",description:"end of input"}),h(null,yi,xi)}return a(c,Error),{SyntaxError:c,parse:d}}()}),a.register("gss-ccss-compiler/lib/scoper.js",function(a,b,c){var d,e,f,g;c.exports=function(a){var b;return b=[{_parentScope:void 0,_childScopes:[],_unscopedVars:[]}],d(a,b),e(b),a},d=function(a,b){var c,d,e,g,h;if(null!=a.commands){for(g=a.commands,h=[],d=0,e=g.length;e>d;d++)c=g[d],h.push(f(c,b));return h}},f=function(a,b,c){var d,e,g,h,i,j,k,l,m,n;for(null==c&&(c=1),g=!1,h=a[0],"rule"===h?(a._isScope=!0,j=a,i=b[b.length-1],i._childScopes.push(j),j._parentScope=i,j._childScopes=[],j._unscopedVars=[],b.push(j)):("get"===h||"virtual"===h)&&(d=b[b.length-c],d&&2===a.length&&(a._varKey=a.toString(),d._unscopedVars.push(a))),n=a.slice(0,+a.length+1||9e9),e=l=0,m=n.length;m>l;e=++l)k=n[e],k instanceof Array&&("rule"===h&&1===e?f(k,b,2):f(k,b,c));return a._isScope?b.pop():void 0},e=function(a){var b,c,d,e,f;for(e=a[0]._childScopes,f=[],c=0,d=e.length;d>c;c++)b=e[c],f.push(g(b));return f},g=function(a){var b,c,d,e,f,h,i,j,k,l,m,n,o,p,q,r,s;for(o=a._childScopes,i=0,l=o.length;l>i;i++)b=o[i],g(b);if((null!=(p=a._unscopedVars)?p.length:void 0)>0){for(q=a._unscopedVars,s=[],j=0,m=q.length;m>j;j++){for(f=q[j],d=0,c=0,e=a._parentScope;e;){for(d++,r=e._unscopedVars,k=0,n=r.length;n>k;k++)h=r[k],h._varKey===f._varKey&&(c=d);e=e._parentScope}s.push(1===c?f.splice(1,0,["^"]):c>1?f.splice(1,0,["^",c]):void 0)}return s}}}),a.register("slightlyoff-cassowary.js/index.js",function(a,b,c){c.exports=b("./src/c.js"),b("./src/HashTable.js"),b("./src/HashSet.js"),b("./src/Error.js"),b("./src/SymbolicWeight.js"),b("./src/Strength.js"),b("./src/Variable.js"),b("./src/Point.js"),b("./src/Expression.js"),b("./src/Constraint.js"),b("./src/Constraint.js"),b("./src/EditInfo.js"),b("./src/Tableau.js"),b("./src/SimplexSolver.js"),b("./src/Timer.js"),b("./src/parser/parser.js"),b("./src/parser/api.js")}),a.register("slightlyoff-cassowary.js/src/c.js",function(a,b,c){!function(a){"use strict";try{(function(){}).bind(a)}catch(b){Object.defineProperty(Function.prototype,"bind",{value:function(a){var b=this;return function(){return b.apply(a,arguments)}},enumerable:!1,configurable:!0,writable:!0})}var d="undefined"!=typeof a.HTMLElement,e=function(a){for(var b=null;a&&a!=Object.prototype;){if(a.tagName){b=a.tagName;break}a=a.prototype}return b||"div"},f=1e-8,g={},h=function(a,b){if(a&&b){if("function"==typeof a[b])return a[b];var c=a.prototype;if(c&&"function"==typeof c[b])return c[b];if(c!==Object.prototype&&c!==Function.prototype)return"function"==typeof a.__super__?h(a.__super__,b):void 0}},i=a.c=function(){return i._api?i._api.apply(this,arguments):void 0};i.debug=!1,i.trace=!1,i.verbose=!1,i.traceAdded=!1,i.GC=!1,i.GEQ=1,i.LEQ=2,i.inherit=function(b){var c=null,f=null;b["extends"]&&(f=b["extends"],delete b["extends"]),b.initialize&&(c=b.initialize,delete b.initialize);var h=c||function(){};Object.defineProperty(h,"__super__",{value:f?f:Object,enumerable:!1,configurable:!0,writable:!1}),b._t&&(g[b._t]=h);var j=h.prototype=Object.create(f?f.prototype:Object.prototype);if(i.extend(j,b),d&&f&&f.prototype instanceof a.HTMLElement){var k=h,l=e(j),m=function(a){return a.__proto__=j,k.apply(a,arguments),j.created&&a.created(),j.decorate&&a.decorate(),a};this.extend(j,{upgrade:m}),h=function(){return m(a.document.createElement(l))},h.prototype=j,this.extend(h,{ctor:k})}return h},i.own=function(b,c,d){return Object.getOwnPropertyNames(b).forEach(c,d||a),b},i.extend=function(a,b){return i.own(b,function(c){var d=Object.getOwnPropertyDescriptor(b,c);try{"function"==typeof d.get||"function"==typeof d.set?Object.defineProperty(a,c,d):"function"==typeof d.value||"_"===c.charAt(0)?(d.writable=!0,d.configurable=!0,d.enumerable=!1,Object.defineProperty(a,c,d)):a[c]=b[c]}catch(e){}}),a},i.traceprint=function(a){i.verbose&&console.log(a)},i.fnenterprint=function(a){console.log("* "+a)},i.fnexitprint=function(a){console.log("- "+a)},i.assert=function(a,b){if(!a)throw new i.InternalError("Assertion failed: "+b)};var j=function(a){return"number"==typeof a?i.Expression.fromConstant(a):a instanceof i.Variable?i.Expression.fromVariable(a):a};i.plus=function(a,b){return a=j(a),b=j(b),a.plus(b)},i.minus=function(a,b){return a=j(a),b=j(b),a.minus(b)},i.times=function(a,b){return a=j(a),b=j(b),a.times(b)},i.divide=function(a,b){return a=j(a),b=j(b),a.divide(b)},i.approx=function(a,b){return a===b?!0:(a=+a,b=+b,0==a?Math.abs(b)<f:0==b?Math.abs(a)<f:Math.abs(a-b)<Math.abs(a)*f)};var k=1;i._inc=function(){return k++},i.parseJSON=function(a){return JSON.parse(a,function(a,b){if("object"!=typeof b||"string"!=typeof b._t)return b;var c=b._t,d=g[c];if(c&&d){var e=h(d,"fromJSON");if(e)return e(b,d)}return b})},"function"==typeof define&&define.amd?define(i):"object"==typeof c&&c.exports?c.exports=i:a.c=i}(this)}),a.register("slightlyoff-cassowary.js/src/HashTable.js",function(a,b,c){!function(a){"use strict";var b=function(a,b){Object.keys(a).forEach(function(c){b[c]=a[c]})},c={};a.HashTable=a.inherit({initialize:function(){this.size=0,this._store={},this._keyStrMap={},this._deleted=0},set:function(a,b){var c=a.hashCode;"undefined"==typeof this._store[c]&&this.size++,this._store[c]=b,this._keyStrMap[c]=a},get:function(a){if(!this.size)return null;a=a.hashCode;var b=this._store[a];return"undefined"!=typeof b?this._store[a]:null},clear:function(){this.size=0,this._store={},this._keyStrMap={}},_compact:function(){var a={};b(this._store,a),this._store=a},_compactThreshold:100,_perhapsCompact:function(){this._size>30||this._deleted>this._compactThreshold&&(this._compact(),this._deleted=0)},"delete":function(a){a=a.hashCode,this._store.hasOwnProperty(a)&&(this._deleted++,delete this._store[a],this.size>0&&this.size--)},each:function(a,b){if(this.size){this._perhapsCompact();var c=this._store,d=this._keyStrMap;for(var e in this._store)this._store.hasOwnProperty(e)&&a.call(b||null,d[e],c[e])}},escapingEach:function(a,b){if(this.size){this._perhapsCompact();for(var d=this,e=this._store,f=this._keyStrMap,g=c,h=Object.keys(e),i=0;i<h.length;i++)if(function(c){d._store.hasOwnProperty(c)&&(g=a.call(b||null,f[c],e[c]))}(h[i]),g){if(void 0!==g.retval)return g;if(g.brk)break}}},clone:function(){var c=new a.HashTable;return this.size&&(c.size=this.size,b(this._store,c._store),b(this._keyStrMap,c._keyStrMap)),c},equals:function(b){if(b===this)return!0;if(!(b instanceof a.HashTable)||b._size!==this._size)return!1;for(var c=Object.keys(this._store),d=0;d<c.length;d++){var e=c[d];if(this._keyStrMap[e]!==b._keyStrMap[e]||this._store[e]!==b._store[e])return!1}return!0},toString:function(){var a="";return this.each(function(b,c){a+=b+" => "+c+"\n"}),a}})}(this.c||c.parent.exports||{})}),a.register("slightlyoff-cassowary.js/src/HashSet.js",function(a,b,c){!function(a){"use strict";a.HashSet=a.inherit({_t:"c.HashSet",initialize:function(){this.storage=[],this.size=0,this.hashCode=a._inc()},add:function(a){{var b=this.storage;b.indexOf(a)}-1==b.indexOf(a)&&(b[b.length]=a),this.size=this.storage.length},values:function(){return this.storage},has:function(a){var b=this.storage;return-1!=b.indexOf(a)},"delete":function(a){var b=this.storage.indexOf(a);return-1==b?null:(this.storage.splice(b,1)[0],void(this.size=this.storage.length))},clear:function(){this.storage.length=0},each:function(a,b){this.size&&this.storage.forEach(a,b)},escapingEach:function(a,b){this.size&&this.storage.forEach(a,b)},toString:function(){var a=this.size+" {",b=!0;return this.each(function(c){b?b=!1:a+=", ",a+=c}),a+="}\n"},toJSON:function(){var a=[];return this.each(function(b){a[a.length]=b.toJSON()}),{_t:"c.HashSet",data:a}},fromJSON:function(b){var c=new a.HashSet;return b.data&&(c.size=b.data.length,c.storage=b.data),c}})}(this.c||c.parent.exports||{})}),a.register("slightlyoff-cassowary.js/src/Error.js",function(a,b,c){!function(a){"use strict";a.Error=a.inherit({initialize:function(a){a&&(this._description=a)},_name:"c.Error",_description:"An error has occured in Cassowary",set description(a){this._description=a},get description(){return"("+this._name+") "+this._description},get message(){return this.description},toString:function(){return this.description}});var b=function(b,c){return a.inherit({"extends":a.Error,initialize:function(){a.Error.apply(this,arguments)},_name:b||"",_description:c||""})};a.ConstraintNotFound=b("c.ConstraintNotFound","Tried to remove a constraint never added to the tableu"),a.InternalError=b("c.InternalError"),a.NonExpression=b("c.NonExpression","The resulting expression would be non"),a.NotEnoughStays=b("c.NotEnoughStays","There are not enough stays to give specific values to every variable"),a.RequiredFailure=b("c.RequiredFailure","A required constraint cannot be satisfied"),a.TooDifficult=b("c.TooDifficult","The constraints are too difficult to solve")}(this.c||c.parent.exports||{})}),a.register("slightlyoff-cassowary.js/src/SymbolicWeight.js",function(a,b,c){!function(a){"use strict";var b=1e3;a.SymbolicWeight=a.inherit({_t:"c.SymbolicWeight",initialize:function(){this.value=0;for(var a=1,c=arguments.length-1;c>=0;--c)this.value+=arguments[c]*a,a*=b},toJSON:function(){return{_t:this._t,value:this.value}}})}(this.c||c.parent.exports||{})}),a.register("slightlyoff-cassowary.js/src/Strength.js",function(a,b,c){!function(a){a.Strength=a.inherit({initialize:function(b,c,d,e){this.name=b,this.symbolicWeight=c instanceof a.SymbolicWeight?c:new a.SymbolicWeight(c,d,e)},get required(){return this===a.Strength.required},toString:function(){return this.name+(this.isRequired?"":":"+this.symbolicWeight)}}),a.Strength.required=new a.Strength("<Required>",1e3,1e3,1e3),a.Strength.strong=new a.Strength("strong",1,0,0),a.Strength.medium=new a.Strength("medium",0,1,0),a.Strength.weak=new a.Strength("weak",0,0,1)}(this.c||("undefined"!=typeof c?c.parent.exports.c:{}))}),a.register("slightlyoff-cassowary.js/src/Variable.js",function(a,b,c){!function(a){"use strict";
a.AbstractVariable=a.inherit({isDummy:!1,isExternal:!1,isPivotable:!1,isRestricted:!1,_init:function(b,c){this.hashCode=a._inc(),this.name=(c||"")+this.hashCode,b&&("undefined"!=typeof b.name&&(this.name=b.name),"undefined"!=typeof b.value&&(this.value=b.value),"undefined"!=typeof b.prefix&&(this._prefix=b.prefix))},_prefix:"",name:"",value:0,valueOf:function(){return this.value},toJSON:function(){var a={};return this._t&&(a._t=this._t),this.name&&(a.name=this.name),"undefined"!=typeof this.value&&(a.value=this.value),this._prefix&&(a._prefix=this._prefix),this._t&&(a._t=this._t),a},fromJSON:function(b,c){var d=new c;return a.extend(d,b),d},toString:function(){return this._prefix+"["+this.name+":"+this.value+"]"}}),a.Variable=a.inherit({_t:"c.Variable","extends":a.AbstractVariable,initialize:function(b){this._init(b,"v");var c=a.Variable._map;c&&(c[this.name]=this)},isExternal:!0}),a.DummyVariable=a.inherit({_t:"c.DummyVariable","extends":a.AbstractVariable,initialize:function(a){this._init(a,"d")},isDummy:!0,isRestricted:!0,value:"dummy"}),a.ObjectiveVariable=a.inherit({_t:"c.ObjectiveVariable","extends":a.AbstractVariable,initialize:function(a){this._init(a,"o")},value:"obj"}),a.SlackVariable=a.inherit({_t:"c.SlackVariable","extends":a.AbstractVariable,initialize:function(a){this._init(a,"s")},isPivotable:!0,isRestricted:!0,value:"slack"})}(this.c||c.parent.exports||{})}),a.register("slightlyoff-cassowary.js/src/Point.js",function(a,b,c){!function(a){"use strict";a.Point=a.inherit({initialize:function(b,c,d){if(b instanceof a.Variable)this._x=b;else{var e={value:b};d&&(e.name="x"+d),this._x=new a.Variable(e)}if(c instanceof a.Variable)this._y=c;else{var f={value:c};d&&(f.name="y"+d),this._y=new a.Variable(f)}},get x(){return this._x},set x(b){b instanceof a.Variable?this._x=b:this._x.value=b},get y(){return this._y},set y(b){b instanceof a.Variable?this._y=b:this._y.value=b},toString:function(){return"("+this.x+", "+this.y+")"}})}(this.c||c.parent.exports||{})}),a.register("slightlyoff-cassowary.js/src/Expression.js",function(a,b,c){!function(a){"use strict";var b=function(a,b){return"number"==typeof a?a:b};a.Expression=a.inherit({initialize:function(c,d,e){this.constant=b(e,0),this.terms=new a.HashTable,c instanceof a.AbstractVariable?(d=b(d,1),this.setVariable(c,d)):"number"==typeof c&&(isNaN(c)?console.trace():this.constant=c)},initializeFromHash:function(b,c){return a.verbose&&(console.log("*******************************"),console.log("clone c.initializeFromHash"),console.log("*******************************")),a.GC&&console.log("clone c.Expression"),this.constant=b,this.terms=c.clone(),this},multiplyMe:function(a){this.constant*=a;var b=this.terms;return b.each(function(c,d){b.set(c,d*a)}),this},clone:function(){a.verbose&&(console.log("*******************************"),console.log("clone c.Expression"),console.log("*******************************"));var b=a.Expression.empty();return b.initializeFromHash(this.constant,this.terms),b},times:function(b){if("number"==typeof b)return this.clone().multiplyMe(b);if(this.isConstant)return b.times(this.constant);if(b.isConstant)return this.times(b.constant);throw new a.NonExpression},plus:function(b){return b instanceof a.Expression?this.clone().addExpression(b,1):b instanceof a.Variable?this.clone().addVariable(b,1):void 0},minus:function(b){return b instanceof a.Expression?this.clone().addExpression(b,-1):b instanceof a.Variable?this.clone().addVariable(b,-1):void 0},divide:function(b){if("number"==typeof b){if(a.approx(b,0))throw new a.NonExpression;return this.times(1/b)}if(b instanceof a.Expression){if(!b.isConstant)throw new a.NonExpression;return this.times(1/b.constant)}},addExpression:function(c,d,e,f){return c instanceof a.AbstractVariable&&(c=a.Expression.fromVariable(c)),d=b(d,1),this.constant+=d*c.constant,c.terms.each(function(a,b){this.addVariable(a,b*d,e,f)},this),this},addVariable:function(b,c,d,e){null==c&&(c=1);var f=this.terms.get(b);if(f){var g=f+c;0==g||a.approx(g,0)?(e&&e.noteRemovedVariable(b,d),this.terms.delete(b)):this.setVariable(b,g)}else a.approx(c,0)||(this.setVariable(b,c),e&&e.noteAddedVariable(b,d));return this},setVariable:function(a,b){return this.terms.set(a,b),this},anyPivotableVariable:function(){if(this.isConstant)throw new a.InternalError("anyPivotableVariable called on a constant");var b=this.terms.escapingEach(function(a){return a.isPivotable?{retval:a}:void 0});return b&&void 0!==b.retval?b.retval:null},substituteOut:function(b,c,d,e){var f=(this.setVariable.bind(this),this.terms),g=f.get(b);f.delete(b),this.constant+=g*c.constant,c.terms.each(function(b,c){var h=f.get(b);if(h){var i=h+g*c;a.approx(i,0)?(e.noteRemovedVariable(b,d),f.delete(b)):f.set(b,i)}else f.set(b,g*c),e&&e.noteAddedVariable(b,d)})},changeSubject:function(a,b){this.setVariable(a,this.newSubject(b))},newSubject:function(a){var b=1/this.terms.get(a);return this.terms.delete(a),this.multiplyMe(-b),b},coefficientFor:function(a){return this.terms.get(a)||0},get isConstant(){return 0==this.terms.size},toString:function(){var b="",c=!1;if(!a.approx(this.constant,0)||this.isConstant){if(b+=this.constant,this.isConstant)return b;c=!0}return this.terms.each(function(a,d){c&&(b+=" + "),b+=d+"*"+a,c=!0}),b},equals:function(b){return b===this?!0:b instanceof a.Expression&&b.constant===this.constant&&b.terms.equals(this.terms)},Plus:function(a,b){return a.plus(b)},Minus:function(a,b){return a.minus(b)},Times:function(a,b){return a.times(b)},Divide:function(a,b){return a.divide(b)}}),a.Expression.empty=function(){return new a.Expression(void 0,1,0)},a.Expression.fromConstant=function(b){return new a.Expression(b)},a.Expression.fromValue=function(b){return b=+b,new a.Expression(void 0,b,0)},a.Expression.fromVariable=function(b){return new a.Expression(b,1,0)}}(this.c||c.parent.exports||{})}),a.register("slightlyoff-cassowary.js/src/Constraint.js",function(a,b,c){!function(a){"use strict";a.AbstractConstraint=a.inherit({initialize:function(b,c){this.hashCode=a._inc(),this.strength=b||a.Strength.required,this.weight=c||1},isEditConstraint:!1,isInequality:!1,isStayConstraint:!1,get required(){return this.strength===a.Strength.required},toString:function(){return this.strength+" {"+this.weight+"} ("+this.expression+")"}});var b=a.AbstractConstraint.prototype.toString,c=function(b,c,d){a.AbstractConstraint.call(this,c||a.Strength.strong,d),this.variable=b,this.expression=new a.Expression(b,-1,b.value)};a.EditConstraint=a.inherit({"extends":a.AbstractConstraint,initialize:function(){c.apply(this,arguments)},isEditConstraint:!0,toString:function(){return"edit:"+b.call(this)}}),a.StayConstraint=a.inherit({"extends":a.AbstractConstraint,initialize:function(){c.apply(this,arguments)},isStayConstraint:!0,toString:function(){return"stay:"+b.call(this)}});var d=a.Constraint=a.inherit({"extends":a.AbstractConstraint,initialize:function(b,c,d){a.AbstractConstraint.call(this,c,d),this.expression=b}});a.Inequality=a.inherit({"extends":a.Constraint,_cloneOrNewCle:function(b){return b.clone?b.clone():new a.Expression(b)},initialize:function(b,c,e,f,g){var h=b instanceof a.Expression,i=e instanceof a.Expression,j=b instanceof a.AbstractVariable,k=e instanceof a.AbstractVariable,l="number"==typeof b,m="number"==typeof e;if((h||l)&&k){var n=b,o=c,p=e,q=f,r=g;if(d.call(this,this._cloneOrNewCle(n),q,r),o==a.LEQ)this.expression.multiplyMe(-1),this.expression.addVariable(p);else{if(o!=a.GEQ)throw new a.InternalError("Invalid operator in c.Inequality constructor");this.expression.addVariable(p,-1)}}else if(j&&(i||m)){var n=e,o=c,p=b,q=f,r=g;if(d.call(this,this._cloneOrNewCle(n),q,r),o==a.GEQ)this.expression.multiplyMe(-1),this.expression.addVariable(p);else{if(o!=a.LEQ)throw new a.InternalError("Invalid operator in c.Inequality constructor");this.expression.addVariable(p,-1)}}else{if(h&&m){var s=b,o=c,t=e,q=f,r=g;if(d.call(this,this._cloneOrNewCle(s),q,r),o==a.LEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(t));else{if(o!=a.GEQ)throw new a.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(t),-1)}return this}if(l&&i){var s=e,o=c,t=b,q=f,r=g;if(d.call(this,this._cloneOrNewCle(s),q,r),o==a.GEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(t));else{if(o!=a.LEQ)throw new a.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(t),-1)}return this}if(h&&i){var s=b,o=c,t=e,q=f,r=g;if(d.call(this,this._cloneOrNewCle(t),q,r),o==a.GEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(s));else{if(o!=a.LEQ)throw new a.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(s),-1)}}else{if(h)return d.call(this,b,c,e);if(c==a.GEQ)d.call(this,new a.Expression(e),f,g),this.expression.multiplyMe(-1),this.expression.addVariable(b);else{if(c!=a.LEQ)throw new a.InternalError("Invalid operator in c.Inequality constructor");d.call(this,new a.Expression(e),f,g),this.expression.addVariable(b,-1)}}}},isInequality:!0,toString:function(){return d.prototype.toString.call(this)+" >= 0) id: "+this.hashCode}}),a.Equation=a.inherit({"extends":a.Constraint,initialize:function(b,c,e,f){if(b instanceof a.Expression&&!c||c instanceof a.Strength)d.call(this,b,c,e);else if(b instanceof a.AbstractVariable&&c instanceof a.Expression){var g=b,h=c,i=e,j=f;d.call(this,h.clone(),i,j),this.expression.addVariable(g,-1)}else if(b instanceof a.AbstractVariable&&"number"==typeof c){var g=b,k=c,i=e,j=f;d.call(this,new a.Expression(k),i,j),this.expression.addVariable(g,-1)}else if(b instanceof a.Expression&&c instanceof a.AbstractVariable){var h=b,g=c,i=e,j=f;d.call(this,h.clone(),i,j),this.expression.addVariable(g,-1)}else{if(!(b instanceof a.Expression||b instanceof a.AbstractVariable||"number"==typeof b)||!(c instanceof a.Expression||c instanceof a.AbstractVariable||"number"==typeof c))throw"Bad initializer to c.Equation";b=b instanceof a.Expression?b.clone():new a.Expression(b),c=c instanceof a.Expression?c.clone():new a.Expression(c),d.call(this,b,e,f),this.expression.addExpression(c,-1)}a.assert(this.strength instanceof a.Strength,"_strength not set")},toString:function(){return d.prototype.toString.call(this)+" = 0)"}})}(this.c||c.parent.exports||{})}),a.register("slightlyoff-cassowary.js/src/EditInfo.js",function(a,b,c){!function(a){"use strict";a.EditInfo=a.inherit({initialize:function(a,b,c,d,e){this.constraint=a,this.editPlus=b,this.editMinus=c,this.prevEditConstant=d,this.index=e},toString:function(){return"<cn="+this.constraint+", ep="+this.editPlus+", em="+this.editMinus+", pec="+this.prevEditConstant+", index="+this.index+">"}})}(this.c||c.parent.exports||{})}),a.register("slightlyoff-cassowary.js/src/Tableau.js",function(a,b,c){!function(a){"use strict";a.Tableau=a.inherit({initialize:function(){this.columns=new a.HashTable,this.rows=new a.HashTable,this._infeasibleRows=new a.HashSet,this._externalRows=new a.HashSet,this._externalParametricVars=new a.HashSet},noteRemovedVariable:function(b,c){a.trace&&console.log("c.Tableau::noteRemovedVariable: ",b,c);var d=this.columns.get(b);c&&d&&d.delete(c)},noteAddedVariable:function(a,b){b&&this.insertColVar(a,b)},getInternalInfo:function(){var a="Tableau Information:\n";return a+="Rows: "+this.rows.size,a+=" (= "+(this.rows.size-1)+" constraints)",a+="\nColumns: "+this.columns.size,a+="\nInfeasible Rows: "+this._infeasibleRows.size,a+="\nExternal basic variables: "+this._externalRows.size,a+="\nExternal parametric variables: ",a+=this._externalParametricVars.size,a+="\n"},toString:function(){var a="Tableau:\n";return this.rows.each(function(b,c){a+=b,a+=" <==> ",a+=c,a+="\n"}),a+="\nColumns:\n",a+=this.columns,a+="\nInfeasible rows: ",a+=this._infeasibleRows,a+="External basic variables: ",a+=this._externalRows,a+="External parametric variables: ",a+=this._externalParametricVars},insertColVar:function(b,c){var d=this.columns.get(b);d||(d=new a.HashSet,this.columns.set(b,d)),d.add(c)},addRow:function(b,c){a.trace&&a.fnenterprint("addRow: "+b+", "+c),this.rows.set(b,c),c.terms.each(function(a){this.insertColVar(a,b),a.isExternal&&this._externalParametricVars.add(a)},this),b.isExternal&&this._externalRows.add(b),a.trace&&a.traceprint(this.toString())},removeColumn:function(b){a.trace&&a.fnenterprint("removeColumn:"+b);var c=this.columns.get(b);c?(this.columns.delete(b),c.each(function(a){var c=this.rows.get(a);c.terms.delete(b)},this)):a.trace&&console.log("Could not find var",b,"in columns"),b.isExternal&&(this._externalRows.delete(b),this._externalParametricVars.delete(b))},removeRow:function(b){a.trace&&a.fnenterprint("removeRow:"+b);var c=this.rows.get(b);return a.assert(null!=c),c.terms.each(function(c){var d=this.columns.get(c);null!=d&&(a.trace&&console.log("removing from varset:",b),d.delete(b))},this),this._infeasibleRows.delete(b),b.isExternal&&this._externalRows.delete(b),this.rows.delete(b),a.trace&&a.fnexitprint("returning "+c),c},substituteOut:function(b,c){a.trace&&a.fnenterprint("substituteOut:"+b+", "+c),a.trace&&a.traceprint(this.toString());var d=this.columns.get(b);d.each(function(a){var d=this.rows.get(a);d.substituteOut(b,c,a,this),a.isRestricted&&d.constant<0&&this._infeasibleRows.add(a)},this),b.isExternal&&(this._externalRows.add(b),this._externalParametricVars.delete(b)),this.columns.delete(b)},columnsHasKey:function(a){return!!this.columns.get(a)}})}(this.c||c.parent.exports||{})}),a.register("slightlyoff-cassowary.js/src/SimplexSolver.js",function(a,b,c){!function(a){var b=a.Tableau,c=b.prototype,d=1e-8,e=a.Strength.weak;a.SimplexSolver=a.inherit({"extends":a.Tableau,initialize:function(){a.Tableau.call(this),this._stayMinusErrorVars=[],this._stayPlusErrorVars=[],this._errorVars=new a.HashTable,this._markerVars=new a.HashTable,this._objective=new a.ObjectiveVariable({name:"Z"}),this._editVarMap=new a.HashTable,this._editVarList=[],this._slackCounter=0,this._artificialCounter=0,this._dummyCounter=0,this.autoSolve=!0,this._needsSolving=!1,this._optimizeCount=0,this.rows.set(this._objective,a.Expression.empty()),this._editVariableStack=[0],a.trace&&a.traceprint("objective expr == "+this.rows.get(this._objective))},add:function(){for(var a=0;a<arguments.length;a++)this.addConstraint(arguments[a]);return this},_addEditConstraint:function(b,c,d){var e=this._editVarMap.size,f=c[0],g=c[1],h=new a.EditInfo(b,f,g,d,e);this._editVarMap.set(b.variable,h),this._editVarList[e]={v:b.variable,info:h}},addConstraint:function(b){a.trace&&a.fnenterprint("addConstraint: "+b);var c=new Array(2),d=new Array(1),e=this.newExpression(b,c,d);return d=d[0],this.tryAddingDirectly(e)||this.addWithArtificialVariable(e),this._needsSolving=!0,b.isEditConstraint&&this._addEditConstraint(b,c,d),this.autoSolve&&(this.optimize(this._objective),this._setExternalVariables()),this},addConstraintNoException:function(b){a.trace&&a.fnenterprint("addConstraintNoException: "+b);try{return this.addConstraint(b),!0}catch(c){return!1}},addEditVar:function(b,c,d){return a.trace&&a.fnenterprint("addEditVar: "+b+" @ "+c+" {"+d+"}"),this.addConstraint(new a.EditConstraint(b,c||a.Strength.strong,d))},beginEdit:function(){return a.assert(this._editVarMap.size>0,"_editVarMap.size > 0"),this._infeasibleRows.clear(),this._resetStayConstants(),this._editVariableStack[this._editVariableStack.length]=this._editVarMap.size,this},endEdit:function(){return a.assert(this._editVarMap.size>0,"_editVarMap.size > 0"),this.resolve(),this._editVariableStack.pop(),this.removeEditVarsTo(this._editVariableStack[this._editVariableStack.length-1]),this},removeAllEditVars:function(){return this.removeEditVarsTo(0)},removeEditVarsTo:function(b){try{for(var c=this._editVarList.length,d=b;c>d;d++)this._editVarList[d]&&this.removeConstraint(this._editVarMap.get(this._editVarList[d].v).constraint);return this._editVarList.length=b,a.assert(this._editVarMap.size==b,"_editVarMap.size == n"),this}catch(e){throw new a.InternalError("Constraint not found in removeEditVarsTo")}},addPointStays:function(b){return a.trace&&console.log("addPointStays",b),b.forEach(function(a,b){this.addStay(a.x,e,Math.pow(2,b)),this.addStay(a.y,e,Math.pow(2,b))},this),this},addStay:function(b,c,d){var f=new a.StayConstraint(b,c||e,d||1);return this.addConstraint(f)},removeConstraint:function(b){a.trace&&a.fnenterprint("removeConstraintInternal: "+b),a.trace&&a.traceprint(this.toString()),this._needsSolving=!0,this._resetStayConstants();var c=this.rows.get(this._objective),d=this._errorVars.get(b);a.trace&&a.traceprint("eVars == "+d),null!=d&&d.each(function(e){var f=this.rows.get(e);null==f?c.addVariable(e,-b.weight*b.strength.symbolicWeight.value,this._objective,this):c.addExpression(f,-b.weight*b.strength.symbolicWeight.value,this._objective,this),a.trace&&a.traceprint("now eVars == "+d)},this);var e=this._markerVars.get(b);if(this._markerVars.delete(b),null==e)throw new a.InternalError("Constraint not found in removeConstraintInternal");if(a.trace&&a.traceprint("Looking to remove var "+e),null==this.rows.get(e)){var f=this.columns.get(e);a.trace&&a.traceprint("Must pivot -- columns are "+f);var g=null,h=0;f.each(function(b){if(b.isRestricted){var c=this.rows.get(b),d=c.coefficientFor(e);if(a.trace&&a.traceprint("Marker "+e+"'s coefficient in "+c+" is "+d),0>d){var f=-c.constant/d;(null==g||h>f||a.approx(f,h)&&b.hashCode<g.hashCode)&&(h=f,g=b)}}},this),null==g&&(a.trace&&a.traceprint("exitVar is still null"),f.each(function(a){if(a.isRestricted){var b=this.rows.get(a),c=b.coefficientFor(e),d=b.constant/c;(null==g||h>d)&&(h=d,g=a)}},this)),null==g&&(0==f.size?this.removeColumn(e):f.escapingEach(function(a){return a!=this._objective?(g=a,{brk:!0}):void 0},this)),null!=g&&this.pivot(e,g)}if(null!=this.rows.get(e)){this.removeRow(e)}if(null!=d&&d.each(function(a){a!=e&&this.removeColumn(a)},this),b.isStayConstraint){if(null!=d)for(var i=0;i<this._stayPlusErrorVars.length;i++)d.delete(this._stayPlusErrorVars[i]),d.delete(this._stayMinusErrorVars[i])}else if(b.isEditConstraint){a.assert(null!=d,"eVars != null");var j=this._editVarMap.get(b.variable);this.removeColumn(j.editMinus),this._editVarMap.delete(b.variable)}return null!=d&&this._errorVars.delete(d),this.autoSolve&&(this.optimize(this._objective),this._setExternalVariables()),this},reset:function(){throw a.trace&&a.fnenterprint("reset"),new a.InternalError("reset not implemented")},resolveArray:function(b){a.trace&&a.fnenterprint("resolveArray"+b);var c=b.length;this._editVarMap.each(function(a,d){var e=d.index;c>e&&this.suggestValue(a,b[e])},this),this.resolve()},resolvePair:function(a,b){this.suggestValue(this._editVarList[0].v,a),this.suggestValue(this._editVarList[1].v,b),this.resolve()},resolve:function(){a.trace&&a.fnenterprint("resolve()"),this.dualOptimize(),this._setExternalVariables(),this._infeasibleRows.clear(),this._resetStayConstants()},suggestValue:function(b,c){a.trace&&console.log("suggestValue("+b+", "+c+")");var d=this._editVarMap.get(b);if(!d)throw new a.Error("suggestValue for variable "+b+", but var is not an edit variable");var e=c-d.prevEditConstant;return d.prevEditConstant=c,this.deltaEditConstant(e,d.editPlus,d.editMinus),this},solve:function(){return this._needsSolving&&(this.optimize(this._objective),this._setExternalVariables()),this},setEditedValue:function(b,c){if(!this.columnsHasKey(b)&&null==this.rows.get(b))return b.value=c,this;if(!a.approx(c,b.value)){this.addEditVar(b),this.beginEdit();try{this.suggestValue(b,c)}catch(d){throw new a.InternalError("Error in setEditedValue")}this.endEdit()}return this},addVar:function(b){if(!this.columnsHasKey(b)&&null==this.rows.get(b)){try{this.addStay(b)}catch(c){throw new a.InternalError("Error in addVar -- required failure is impossible")}a.trace&&a.traceprint("added initial stay on "+b)}return this},getInternalInfo:function(){var a=c.getInternalInfo.call(this);return a+="\nSolver info:\n",a+="Stay Error Variables: ",a+=this._stayPlusErrorVars.length+this._stayMinusErrorVars.length,a+=" ("+this._stayPlusErrorVars.length+" +, ",a+=this._stayMinusErrorVars.length+" -)\n",a+="Edit Variables: "+this._editVarMap.size,a+="\n"},getDebugInfo:function(){return this.toString()+this.getInternalInfo()+"\n"},toString:function(){var a=c.getInternalInfo.call(this);return a+="\n_stayPlusErrorVars: ",a+="["+this._stayPlusErrorVars+"]",a+="\n_stayMinusErrorVars: ",a+="["+this._stayMinusErrorVars+"]",a+="\n",a+="_editVarMap:\n"+this._editVarMap,a+="\n"},addWithArtificialVariable:function(b){a.trace&&a.fnenterprint("addWithArtificialVariable: "+b);var c=new a.SlackVariable({value:++this._artificialCounter,prefix:"a"}),d=new a.ObjectiveVariable({name:"az"}),e=b.clone();a.trace&&a.traceprint("before addRows:\n"+this),this.addRow(d,e),this.addRow(c,b),a.trace&&a.traceprint("after addRows:\n"+this),this.optimize(d);var f=this.rows.get(d);if(a.trace&&a.traceprint("azTableauRow.constant == "+f.constant),!a.approx(f.constant,0))throw this.removeRow(d),this.removeColumn(c),new a.RequiredFailure;var g=this.rows.get(c);if(null!=g){if(g.isConstant)return this.removeRow(c),void this.removeRow(d);var h=g.anyPivotableVariable();this.pivot(h,c)}a.assert(null==this.rows.get(c),"rowExpression(av) == null"),this.removeColumn(c),this.removeRow(d)},tryAddingDirectly:function(b){a.trace&&a.fnenterprint("tryAddingDirectly: "+b);var c=this.chooseSubject(b);return null==c?(a.trace&&a.fnexitprint("returning false"),!1):(b.newSubject(c),this.columnsHasKey(c)&&this.substituteOut(c,b),this.addRow(c,b),a.trace&&a.fnexitprint("returning true"),!0)},chooseSubject:function(b){a.trace&&a.fnenterprint("chooseSubject: "+b);var c=null,d=!1,e=!1,f=b.terms,g=f.escapingEach(function(a,b){if(d){if(!a.isRestricted&&!this.columnsHasKey(a))return{retval:a}}else if(a.isRestricted){if(!e&&!a.isDummy&&0>b){var f=this.columns.get(a);(null==f||1==f.size&&this.columnsHasKey(this._objective))&&(c=a,e=!0)}}else c=a,d=!0},this);if(g&&void 0!==g.retval)return g.retval;if(null!=c)return c;var h=0,g=f.escapingEach(function(a,b){return a.isDummy?void(this.columnsHasKey(a)||(c=a,h=b)):{retval:null}},this);if(g&&void 0!==g.retval)return g.retval;if(!a.approx(b.constant,0))throw new a.RequiredFailure;return h>0&&b.multiplyMe(-1),c},deltaEditConstant:function(b,c,d){a.trace&&a.fnenterprint("deltaEditConstant :"+b+", "+c+", "+d);var e=this.rows.get(c);if(null!=e)return e.constant+=b,void(e.constant<0&&this._infeasibleRows.add(c));var f=this.rows.get(d);if(null!=f)return f.constant+=-b,void(f.constant<0&&this._infeasibleRows.add(d));var g=this.columns.get(d);g||console.log("columnVars is null -- tableau is:\n"+this),g.each(function(a){var c=this.rows.get(a),e=c.coefficientFor(d);c.constant+=e*b,a.isRestricted&&c.constant<0&&this._infeasibleRows.add(a)},this)},dualOptimize:function(){a.trace&&a.fnenterprint("dualOptimize:");for(var b=this.rows.get(this._objective);this._infeasibleRows.size;){var c=this._infeasibleRows.values()[0];this._infeasibleRows.delete(c);var d=null,e=this.rows.get(c);if(e&&e.constant<0){var f,g=Number.MAX_VALUE,h=e.terms;if(h.each(function(c,e){if(e>0&&c.isPivotable){var h=b.coefficientFor(c);f=h/e,(g>f||a.approx(f,g)&&c.hashCode<d.hashCode)&&(d=c,g=f)}}),g==Number.MAX_VALUE)throw new a.InternalError("ratio == nil (MAX_VALUE) in dualOptimize");this.pivot(d,c)}}},newExpression:function(b,c,d){a.trace&&(a.fnenterprint("newExpression: "+b),a.traceprint("cn.isInequality == "+b.isInequality),a.traceprint("cn.required == "+b.required));var e=b.expression,f=a.Expression.fromConstant(e.constant),g=new a.SlackVariable,h=new a.DummyVariable,i=new a.SlackVariable,j=new a.SlackVariable,k=e.terms;if(k.each(function(a,b){var c=this.rows.get(a);c?f.addExpression(c,b):f.addVariable(a,b)},this),b.isInequality){if(a.trace&&a.traceprint("Inequality, adding slack"),++this._slackCounter,g=new a.SlackVariable({value:this._slackCounter,prefix:"s"}),f.setVariable(g,-1),this._markerVars.set(b,g),!b.required){++this._slackCounter,i=new a.SlackVariable({value:this._slackCounter,prefix:"em"}),f.setVariable(i,1);var l=this.rows.get(this._objective);l.setVariable(i,b.strength.symbolicWeight.value*b.weight),this.insertErrorVar(b,i),this.noteAddedVariable(i,this._objective)}}else if(b.required)a.trace&&a.traceprint("Equality, required"),++this._dummyCounter,h=new a.DummyVariable({value:this._dummyCounter,prefix:"d"}),c[0]=h,c[1]=h,d[0]=e.constant,f.setVariable(h,1),this._markerVars.set(b,h),a.trace&&a.traceprint("Adding dummyVar == d"+this._dummyCounter);else{a.trace&&a.traceprint("Equality, not required"),++this._slackCounter,j=new a.SlackVariable({value:this._slackCounter,prefix:"ep"}),i=new a.SlackVariable({value:this._slackCounter,prefix:"em"}),f.setVariable(j,-1),f.setVariable(i,1),this._markerVars.set(b,j);var l=this.rows.get(this._objective);a.trace&&console.log(l);var m=b.strength.symbolicWeight.value*b.weight;0==m&&(a.trace&&a.traceprint("cn == "+b),a.trace&&a.traceprint("adding "+j+" and "+i+" with swCoeff == "+m)),l.setVariable(j,m),this.noteAddedVariable(j,this._objective),l.setVariable(i,m),this.noteAddedVariable(i,this._objective),this.insertErrorVar(b,i),this.insertErrorVar(b,j),b.isStayConstraint?(this._stayPlusErrorVars[this._stayPlusErrorVars.length]=j,this._stayMinusErrorVars[this._stayMinusErrorVars.length]=i):b.isEditConstraint&&(c[0]=j,c[1]=i,d[0]=e.constant)}return f.constant<0&&f.multiplyMe(-1),a.trace&&a.fnexitprint("returning "+f),f},optimize:function(b){a.trace&&a.fnenterprint("optimize: "+b),a.trace&&a.traceprint(this.toString()),this._optimizeCount++;var c=this.rows.get(b);a.assert(null!=c,"zRow != null");for(var e,f,g=null,h=null;;){if(e=0,f=c.terms,f.escapingEach(function(a,b){return a.isPivotable&&e>b?(e=b,g=a,{brk:1}):void 0},this),e>=-d)return;a.trace&&console.log("entryVar:",g,"objectiveCoeff:",e);var i=Number.MAX_VALUE,j=this.columns.get(g),k=0;if(j.each(function(b){if(a.trace&&a.traceprint("Checking "+b),b.isPivotable){var c=this.rows.get(b),d=c.coefficientFor(g);a.trace&&a.traceprint("pivotable, coeff = "+d),0>d&&(k=-c.constant/d,(i>k||a.approx(k,i)&&b.hashCode<h.hashCode)&&(i=k,h=b))}},this),i==Number.MAX_VALUE)throw new a.InternalError("Objective function is unbounded in optimize");this.pivot(g,h),a.trace&&a.traceprint(this.toString())}},pivot:function(b,c){a.trace&&console.log("pivot: ",b,c);var d=!1;d&&console.time(" SimplexSolver::pivot"),null==b&&console.warn("pivot: entryVar == null"),null==c&&console.warn("pivot: exitVar == null"),d&&console.time("  removeRow");var e=this.removeRow(c);d&&console.timeEnd("  removeRow"),d&&console.time("  changeSubject"),e.changeSubject(c,b),d&&console.timeEnd("  changeSubject"),d&&console.time("  substituteOut"),this.substituteOut(b,e),d&&console.timeEnd("  substituteOut"),d&&console.time("  addRow"),this.addRow(b,e),d&&console.timeEnd("  addRow"),d&&console.timeEnd(" SimplexSolver::pivot")},_resetStayConstants:function(){a.trace&&console.log("_resetStayConstants");for(var b=this._stayPlusErrorVars,c=b.length,d=0;c>d;d++){var e=this.rows.get(b[d]);null===e&&(e=this.rows.get(this._stayMinusErrorVars[d])),null!=e&&(e.constant=0)}},_setExternalVariables:function(){a.trace&&a.fnenterprint("_setExternalVariables:"),a.trace&&a.traceprint(this.toString());var b={};this._externalParametricVars.each(function(c){null!=this.rows.get(c)?a.trace&&console.log("Error: variable"+c+" in _externalParametricVars is basic"):(c.value=0,b[c.name]=0)},this),this._externalRows.each(function(a){var c=this.rows.get(a);a.value!=c.constant&&(a.value=c.constant,b[a.name]=c.constant)},this),this._changed=b,this._needsSolving=!1,this._informCallbacks(),this.onsolved()},onsolved:function(){},_informCallbacks:function(){if(this._callbacks){var a=this._changed;this._callbacks.forEach(function(b){b(a)})}},_addCallback:function(a){var b=this._callbacks||(this._callbacks=[]);b[b.length]=a},insertErrorVar:function(b,c){a.trace&&a.fnenterprint("insertErrorVar:"+b+", "+c);var d=this._errorVars.get(c);d||(d=new a.HashSet,this._errorVars.set(b,d)),d.add(c)}})}(this.c||c.parent.exports||{})}),a.register("slightlyoff-cassowary.js/src/Timer.js",function(a,b,c){!function(a){"use strict";a.Timer=a.inherit({initialize:function(){this.isRunning=!1,this._elapsedMs=0},start:function(){return this.isRunning=!0,this._startReading=new Date,this},stop:function(){return this.isRunning=!1,this._elapsedMs+=new Date-this._startReading,this},reset:function(){return this.isRunning=!1,this._elapsedMs=0,this},elapsedTime:function(){return this.isRunning?(this._elapsedMs+(new Date-this._startReading))/1e3:this._elapsedMs/1e3}})}(this.c||c.parent.exports||{})}),a.register("slightlyoff-cassowary.js/src/parser/parser.js",function(){this.c.parser=function(){function a(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var b={parse:function(b,c){function d(a){O>M||(M>O&&(O=M,P=[]),P.push(a))}function e(){var a,b,c,d,e;if(d=M,e=M,a=s(),null!==a){for(b=[],c=f();null!==c;)b.push(c),c=f();null!==b?(c=s(),null!==c?a=[a,b,c]:(a=null,M=e)):(a=null,M=e)}else a=null,M=e;return null!==a&&(a=function(a,b){return b}(d,a[1])),null===a&&(M=d),a}function f(){var a,b,c,d;return c=M,d=M,a=I(),null!==a?(b=l(),null!==b?a=[a,b]:(a=null,M=d)):(a=null,M=d),null!==a&&(a=function(a,b){return b}(c,a[0])),null===a&&(M=c),a}function g(){var a;return b.length>M?(a=b.charAt(M),M++):(a=null,0===N&&d("any character")),a}function h(){var a;return/^[a-zA-Z]/.test(b.charAt(M))?(a=b.charAt(M),M++):(a=null,0===N&&d("[a-zA-Z]")),null===a&&(36===b.charCodeAt(M)?(a="$",M++):(a=null,0===N&&d('"$"')),null===a&&(95===b.charCodeAt(M)?(a="_",M++):(a=null,0===N&&d('"_"')))),a}function i(){var a;return N++,/^[\t\x0B\f \xA0\uFEFF]/.test(b.charAt(M))?(a=b.charAt(M),M++):(a=null,0===N&&d("[\\t\\x0B\\f \\xA0\\uFEFF]")),N--,0===N&&null===a&&d("whitespace"),a}function j(){var a;return/^[\n\r\u2028\u2029]/.test(b.charAt(M))?(a=b.charAt(M),M++):(a=null,0===N&&d("[\\n\\r\\u2028\\u2029]")),a}function k(){var a;return N++,10===b.charCodeAt(M)?(a="\n",M++):(a=null,0===N&&d('"\\n"')),null===a&&("\r\n"===b.substr(M,2)?(a="\r\n",M+=2):(a=null,0===N&&d('"\\r\\n"')),null===a&&(13===b.charCodeAt(M)?(a="\r",M++):(a=null,0===N&&d('"\\r"')),null===a&&(8232===b.charCodeAt(M)?(a="\u2028",M++):(a=null,0===N&&d('"\\u2028"')),null===a&&(8233===b.charCodeAt(M)?(a="\u2029",M++):(a=null,0===N&&d('"\\u2029"')))))),N--,0===N&&null===a&&d("end of line"),a}function l(){var a,c,e;return e=M,a=s(),null!==a?(59===b.charCodeAt(M)?(c=";",M++):(c=null,0===N&&d('";"')),null!==c?a=[a,c]:(a=null,M=e)):(a=null,M=e),null===a&&(e=M,a=r(),null!==a?(c=k(),null!==c?a=[a,c]:(a=null,M=e)):(a=null,M=e),null===a&&(e=M,a=s(),null!==a?(c=m(),null!==c?a=[a,c]:(a=null,M=e)):(a=null,M=e))),a}function m(){var a,c;return c=M,N++,b.length>M?(a=b.charAt(M),M++):(a=null,0===N&&d("any character")),N--,null===a?a="":(a=null,M=c),a}function n(){var a;return N++,a=o(),null===a&&(a=q()),N--,0===N&&null===a&&d("comment"),a}function o(){var a,c,e,f,h,i,j;if(h=M,"/*"===b.substr(M,2)?(a="/*",M+=2):(a=null,0===N&&d('"/*"')),null!==a){for(c=[],i=M,j=M,N++,"*/"===b.substr(M,2)?(e="*/",M+=2):(e=null,0===N&&d('"*/"')),N--,null===e?e="":(e=null,M=j),null!==e?(f=g(),null!==f?e=[e,f]:(e=null,M=i)):(e=null,M=i);null!==e;)c.push(e),i=M,j=M,N++,"*/"===b.substr(M,2)?(e="*/",M+=2):(e=null,0===N&&d('"*/"')),N--,null===e?e="":(e=null,M=j),null!==e?(f=g(),null!==f?e=[e,f]:(e=null,M=i)):(e=null,M=i);null!==c?("*/"===b.substr(M,2)?(e="*/",M+=2):(e=null,0===N&&d('"*/"')),null!==e?a=[a,c,e]:(a=null,M=h)):(a=null,M=h)}else a=null,M=h;return a}function p(){var a,c,e,f,h,i,k;if(h=M,"/*"===b.substr(M,2)?(a="/*",M+=2):(a=null,0===N&&d('"/*"')),null!==a){for(c=[],i=M,k=M,N++,"*/"===b.substr(M,2)?(e="*/",M+=2):(e=null,0===N&&d('"*/"')),null===e&&(e=j()),N--,null===e?e="":(e=null,M=k),null!==e?(f=g(),null!==f?e=[e,f]:(e=null,M=i)):(e=null,M=i);null!==e;)c.push(e),i=M,k=M,N++,"*/"===b.substr(M,2)?(e="*/",M+=2):(e=null,0===N&&d('"*/"')),null===e&&(e=j()),N--,null===e?e="":(e=null,M=k),null!==e?(f=g(),null!==f?e=[e,f]:(e=null,M=i)):(e=null,M=i);
null!==c?("*/"===b.substr(M,2)?(e="*/",M+=2):(e=null,0===N&&d('"*/"')),null!==e?a=[a,c,e]:(a=null,M=h)):(a=null,M=h)}else a=null,M=h;return a}function q(){var a,c,e,f,h,i,k;if(h=M,"//"===b.substr(M,2)?(a="//",M+=2):(a=null,0===N&&d('"//"')),null!==a){for(c=[],i=M,k=M,N++,e=j(),N--,null===e?e="":(e=null,M=k),null!==e?(f=g(),null!==f?e=[e,f]:(e=null,M=i)):(e=null,M=i);null!==e;)c.push(e),i=M,k=M,N++,e=j(),N--,null===e?e="":(e=null,M=k),null!==e?(f=g(),null!==f?e=[e,f]:(e=null,M=i)):(e=null,M=i);null!==c?(e=j(),null===e&&(e=m()),null!==e?a=[a,c,e]:(a=null,M=h)):(a=null,M=h)}else a=null,M=h;return a}function r(){var a,b;for(a=[],b=i(),null===b&&(b=p(),null===b&&(b=q()));null!==b;)a.push(b),b=i(),null===b&&(b=p(),null===b&&(b=q()));return a}function s(){var a,b;for(a=[],b=i(),null===b&&(b=k(),null===b&&(b=n()));null!==b;)a.push(b),b=i(),null===b&&(b=k(),null===b&&(b=n()));return a}function t(){var a,b;return b=M,a=v(),null===a&&(a=u()),null!==a&&(a=function(a,b){return{type:"NumericLiteral",value:b}}(b,a)),null===a&&(M=b),a}function u(){var a,c,e;if(e=M,/^[0-9]/.test(b.charAt(M))?(c=b.charAt(M),M++):(c=null,0===N&&d("[0-9]")),null!==c)for(a=[];null!==c;)a.push(c),/^[0-9]/.test(b.charAt(M))?(c=b.charAt(M),M++):(c=null,0===N&&d("[0-9]"));else a=null;return null!==a&&(a=function(a,b){return parseInt(b.join(""))}(e,a)),null===a&&(M=e),a}function v(){var a,c,e,f,g;return f=M,g=M,a=u(),null!==a?(46===b.charCodeAt(M)?(c=".",M++):(c=null,0===N&&d('"."')),null!==c?(e=u(),null!==e?a=[a,c,e]:(a=null,M=g)):(a=null,M=g)):(a=null,M=g),null!==a&&(a=function(a,b){return parseFloat(b.join(""))}(f,a)),null===a&&(M=f),a}function w(){var a,c,e,f;if(f=M,/^[\-+]/.test(b.charAt(M))?(a=b.charAt(M),M++):(a=null,0===N&&d("[\\-+]")),a=null!==a?a:"",null!==a){if(/^[0-9]/.test(b.charAt(M))?(e=b.charAt(M),M++):(e=null,0===N&&d("[0-9]")),null!==e)for(c=[];null!==e;)c.push(e),/^[0-9]/.test(b.charAt(M))?(e=b.charAt(M),M++):(e=null,0===N&&d("[0-9]"));else c=null;null!==c?a=[a,c]:(a=null,M=f)}else a=null,M=f;return a}function x(){var a,b;return N++,b=M,a=y(),null!==a&&(a=function(a,b){return b}(b,a)),null===a&&(M=b),N--,0===N&&null===a&&d("identifier"),a}function y(){var a,b,c,e,f;if(N++,e=M,f=M,a=h(),null!==a){for(b=[],c=h();null!==c;)b.push(c),c=h();null!==b?a=[a,b]:(a=null,M=f)}else a=null,M=f;return null!==a&&(a=function(a,b,c){return b+c.join("")}(e,a[0],a[1])),null===a&&(M=e),N--,0===N&&null===a&&d("identifier"),a}function z(){var a,c,e,f,g,h,i;return h=M,a=x(),null!==a&&(a=function(a,b){return{type:"Variable",name:b}}(h,a)),null===a&&(M=h),null===a&&(a=t(),null===a&&(h=M,i=M,40===b.charCodeAt(M)?(a="(",M++):(a=null,0===N&&d('"("')),null!==a?(c=s(),null!==c?(e=I(),null!==e?(f=s(),null!==f?(41===b.charCodeAt(M)?(g=")",M++):(g=null,0===N&&d('")"')),null!==g?a=[a,c,e,f,g]:(a=null,M=i)):(a=null,M=i)):(a=null,M=i)):(a=null,M=i)):(a=null,M=i),null!==a&&(a=function(a,b){return b}(h,a[2])),null===a&&(M=h))),a}function A(){var a,b,c,d,e;return a=z(),null===a&&(d=M,e=M,a=B(),null!==a?(b=s(),null!==b?(c=A(),null!==c?a=[a,b,c]:(a=null,M=e)):(a=null,M=e)):(a=null,M=e),null!==a&&(a=function(a,b,c){return{type:"UnaryExpression",operator:b,expression:c}}(d,a[0],a[2])),null===a&&(M=d)),a}function B(){var a;return 43===b.charCodeAt(M)?(a="+",M++):(a=null,0===N&&d('"+"')),null===a&&(45===b.charCodeAt(M)?(a="-",M++):(a=null,0===N&&d('"-"')),null===a&&(33===b.charCodeAt(M)?(a="!",M++):(a=null,0===N&&d('"!"')))),a}function C(){var a,b,c,d,e,f,g,h,i;if(g=M,h=M,a=A(),null!==a){for(b=[],i=M,c=s(),null!==c?(d=D(),null!==d?(e=s(),null!==e?(f=A(),null!==f?c=[c,d,e,f]:(c=null,M=i)):(c=null,M=i)):(c=null,M=i)):(c=null,M=i);null!==c;)b.push(c),i=M,c=s(),null!==c?(d=D(),null!==d?(e=s(),null!==e?(f=A(),null!==f?c=[c,d,e,f]:(c=null,M=i)):(c=null,M=i)):(c=null,M=i)):(c=null,M=i);null!==b?a=[a,b]:(a=null,M=h)}else a=null,M=h;return null!==a&&(a=function(a,b,c){for(var d=b,e=0;e<c.length;e++)d={type:"MultiplicativeExpression",operator:c[e][1],left:d,right:c[e][3]};return d}(g,a[0],a[1])),null===a&&(M=g),a}function D(){var a;return 42===b.charCodeAt(M)?(a="*",M++):(a=null,0===N&&d('"*"')),null===a&&(47===b.charCodeAt(M)?(a="/",M++):(a=null,0===N&&d('"/"'))),a}function E(){var a,b,c,d,e,f,g,h,i;if(g=M,h=M,a=C(),null!==a){for(b=[],i=M,c=s(),null!==c?(d=F(),null!==d?(e=s(),null!==e?(f=C(),null!==f?c=[c,d,e,f]:(c=null,M=i)):(c=null,M=i)):(c=null,M=i)):(c=null,M=i);null!==c;)b.push(c),i=M,c=s(),null!==c?(d=F(),null!==d?(e=s(),null!==e?(f=C(),null!==f?c=[c,d,e,f]:(c=null,M=i)):(c=null,M=i)):(c=null,M=i)):(c=null,M=i);null!==b?a=[a,b]:(a=null,M=h)}else a=null,M=h;return null!==a&&(a=function(a,b,c){for(var d=b,e=0;e<c.length;e++)d={type:"AdditiveExpression",operator:c[e][1],left:d,right:c[e][3]};return d}(g,a[0],a[1])),null===a&&(M=g),a}function F(){var a;return 43===b.charCodeAt(M)?(a="+",M++):(a=null,0===N&&d('"+"')),null===a&&(45===b.charCodeAt(M)?(a="-",M++):(a=null,0===N&&d('"-"'))),a}function G(){var a,b,c,d,e,f,g,h,i;if(g=M,h=M,a=E(),null!==a){for(b=[],i=M,c=s(),null!==c?(d=H(),null!==d?(e=s(),null!==e?(f=E(),null!==f?c=[c,d,e,f]:(c=null,M=i)):(c=null,M=i)):(c=null,M=i)):(c=null,M=i);null!==c;)b.push(c),i=M,c=s(),null!==c?(d=H(),null!==d?(e=s(),null!==e?(f=E(),null!==f?c=[c,d,e,f]:(c=null,M=i)):(c=null,M=i)):(c=null,M=i)):(c=null,M=i);null!==b?a=[a,b]:(a=null,M=h)}else a=null,M=h;return null!==a&&(a=function(a,b,c){for(var d=b,e=0;e<c.length;e++)d={type:"Inequality",operator:c[e][1],left:d,right:c[e][3]};return d}(g,a[0],a[1])),null===a&&(M=g),a}function H(){var a;return"<="===b.substr(M,2)?(a="<=",M+=2):(a=null,0===N&&d('"<="')),null===a&&(">="===b.substr(M,2)?(a=">=",M+=2):(a=null,0===N&&d('">="')),null===a&&(60===b.charCodeAt(M)?(a="<",M++):(a=null,0===N&&d('"<"')),null===a&&(62===b.charCodeAt(M)?(a=">",M++):(a=null,0===N&&d('">"'))))),a}function I(){var a,c,e,f,g,h,i,j,k;if(i=M,j=M,a=G(),null!==a){for(c=[],k=M,e=s(),null!==e?("=="===b.substr(M,2)?(f="==",M+=2):(f=null,0===N&&d('"=="')),null!==f?(g=s(),null!==g?(h=G(),null!==h?e=[e,f,g,h]:(e=null,M=k)):(e=null,M=k)):(e=null,M=k)):(e=null,M=k);null!==e;)c.push(e),k=M,e=s(),null!==e?("=="===b.substr(M,2)?(f="==",M+=2):(f=null,0===N&&d('"=="')),null!==f?(g=s(),null!==g?(h=G(),null!==h?e=[e,f,g,h]:(e=null,M=k)):(e=null,M=k)):(e=null,M=k)):(e=null,M=k);null!==c?a=[a,c]:(a=null,M=j)}else a=null,M=j;return null!==a&&(a=function(a,b,c){for(var d=b,e=0;e<c.length;e++)d={type:"Equality",operator:c[e][1],left:d,right:c[e][3]};return d}(i,a[0],a[1])),null===a&&(M=i),a}function J(a){a.sort();for(var b=null,c=[],d=0;d<a.length;d++)a[d]!==b&&(c.push(a[d]),b=a[d]);return c}function K(){for(var a=1,c=1,d=!1,e=0;e<Math.max(M,O);e++){var f=b.charAt(e);"\n"===f?(d||a++,c=1,d=!1):"\r"===f||"\u2028"===f||"\u2029"===f?(a++,c=1,d=!0):(c++,d=!1)}return{line:a,column:c}}var L={start:e,Statement:f,SourceCharacter:g,IdentifierStart:h,WhiteSpace:i,LineTerminator:j,LineTerminatorSequence:k,EOS:l,EOF:m,Comment:n,MultiLineComment:o,MultiLineCommentNoLineTerminator:p,SingleLineComment:q,_:r,__:s,Literal:t,Integer:u,Real:v,SignedInteger:w,Identifier:x,IdentifierName:y,PrimaryExpression:z,UnaryExpression:A,UnaryOperator:B,MultiplicativeExpression:C,MultiplicativeOperator:D,AdditiveExpression:E,AdditiveOperator:F,InequalityExpression:G,InequalityOperator:H,LinearExpression:I};if(void 0!==c){if(void 0===L[c])throw new Error("Invalid rule name: "+a(c)+".")}else c="start";var M=0,N=0,O=0,P=[],Q=L[c]();if(null===Q||M!==b.length){var R=Math.max(M,O),S=R<b.length?b.charAt(R):null,T=K();throw new this.SyntaxError(J(P),S,R,T.line,T.column)}return Q},toSource:function(){return this._source}};return b.SyntaxError=function(b,c,d,e,f){function g(b,c){var d,e;switch(b.length){case 0:d="end of input";break;case 1:d=b[0];break;default:d=b.slice(0,b.length-1).join(", ")+" or "+b[b.length-1]}return e=c?a(c):"end of input","Expected "+d+" but "+e+" found."}this.name="SyntaxError",this.expected=b,this.found=c,this.message=g(b,c),this.offset=d,this.line=e,this.column=f},b.SyntaxError.prototype=Error.prototype,b}()}),a.register("slightlyoff-cassowary.js/src/parser/api.js",function(a,b,c){!function(a){"use strict";var b=new a.SimplexSolver,c={},d={},e=a.Strength.weak,f=(a.Strength.medium,a.Strength.strong,a.Strength.required,function(g){if(d[g])return d[g];switch(g.type){case"Inequality":var h="<="==g.operator?a.LEQ:a.GEQ,i=new a.Inequality(f(g.left),h,f(g.right),e);return b.addConstraint(i),i;case"Equality":var i=new a.Equation(f(g.left),f(g.right),e);return b.addConstraint(i),i;case"MultiplicativeExpression":var i=a.times(f(g.left),f(g.right));return b.addConstraint(i),i;case"AdditiveExpression":return"+"==g.operator?a.plus(f(g.left),f(g.right)):a.minus(f(g.left),f(g.right));case"NumericLiteral":return new a.Expression(g.value);case"Variable":return c[g.name]||(c[g.name]=new a.Variable({name:g.name})),c[g.name];case"UnaryExpression":console.log("UnaryExpression...WTF?")}}),g=function(a){return a.map(f)};a._api=function(){var c=Array.prototype.slice.call(arguments);if(1==c.length){if("string"==typeof c[0]){var d=a.parser.parse(c[0]);return g(d)}"function"==typeof c[0]&&b._addCallback(c[0])}}}(this.c||c.parent.exports||{})}),a.register("gss/lib/Engine.js",function(a,b,c){var d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e=b("./structures/Events"),d=function(a){function c(){var a,b,d,e,f,g,h,i,j,k,l;for(f=k=0,l=arguments.length;l>k;f=++k)if(a=arguments[f])switch(typeof a){case"object":if(a.nodeType)if(this.Command)this.scope=h=this.getScopeElement(a),c[c.identify(a)]=this;else for(h=a;h;){if((e=c.identity.find(h))&&(d=c[e]))return d;if(!h.parentNode)break;h=h.parentNode}else b=a;break;case"string":case"boolean":i=a}if(!this.Command)return new c(arguments[0],arguments[1],arguments[2]);null!=i&&(this.url=i),c.__super__.constructor.apply(this,arguments),this.addListeners(this.$events),this.variables={},this.domains=[],this.engine=this,this.inspector=new this.Inspector(this),this.precompile(),this.assumed=new this.Numeric,this.assumed.displayName="Assumed",this.assumed["static"]=!0,this.assumed.setup();for(g in b)j=b[g],this.assumed.values[g]=j;return this.solved=new this.Boolean,this.solved.displayName="Solved",this.solved.priority=-200,this.solved.setup(),this.values=this.solved.values,this.domain=this.linear,this.strategy="undefined"==typeof window||null===window?"evaluate":this.scope?"document":"abstract",this}return g(c,a),c.prototype.Command=b("./Command"),c.prototype.Domain=b("./Domain"),c.prototype.Update=b("./Update"),c.prototype.Console=b("./utilities/Console"),c.prototype.Inspector=b("./utilities/Inspector"),c.prototype.Exporter=b("./utilities/Exporter"),c.prototype.Identity=b("./structures/Identity"),c.prototype.Signatures=b("./structures/Signatures"),c.prototype.Domains={Abstract:b("./domains/Abstract"),Document:b("./domains/Document"),Intrinsic:b("./domains/Intrinsic"),Numeric:b("./domains/Numeric"),Linear:b("./domains/Linear"),Finite:b("./domains/Finite"),Boolean:b("./domains/Boolean")},c.prototype.evaluate=function(a){return this.update(a).solution},c.prototype.solve=function(){var a,b,c,d,e,f;return this.transacting||(this.transacting=e=!0),a=this.transact.apply(this,arguments),(b=this.updating)||(this.engine.updating=new this.update,null==(f=this.updating).start&&(f.start=this.engine.console.time())),"function"==typeof a[0]?c=a.shift().apply(this,a):null!=a[0]&&(d=this[this.strategy],c=d.solve?d.solve.apply(d,a)||{}:d.apply(this,a)),this.commit(c,b,e)},c.prototype.transact=function(){var a,b,c,d,e,f,g,h,i;for("string"==typeof arguments[0]&&("string"==typeof arguments[1]?(g=arguments[0],f=arguments[1],c=2):(f=arguments[0],c=1)),b=Array.prototype.slice.call(arguments,c||0),this.running||this.compile(),e=void 0,c=h=0,i=b.length;i>h;c=++h)if(a=b[c],a&&"string"!=typeof a)if(e){if("function"==typeof a){this.then(a),b.splice(c,1);break}}else e=a;return(d=g||this.displayName)&&this.console.start(f||b[0],d),b},c.prototype.commit=function(a,b,c){var d,e,f,g,h,i,j,k;return a&&this.updating.apply(a),this.triggerEvent("commit",a),(h=this.started)&&(this.started=void 0),c&&(this.transacting=void 0,this.console.end()),i=this.updating,i.domains.length&&(b&&b!==i&&b.push(i),b&&(null!=(j=i.busy)?j.length:void 0)||i.each(this.resolve,this),null!=(k=i.busy)?k.length:void 0)?i:(f=1===i.problems.length&&null===i.domains[0],g=this.restyled&&!i.problems.length,d=!i.problems[i.index+1],e=f||g||d,this.engine===this&&c&&e?this.onSolve(null,e):void 0)},c.prototype.onSolve=function(a,b){var c,d,e,f,g,h;if(d=this.updating,a||(a=d.solution))this.fireEvent("apply",a,d),null!=(e=this.applier)&&e.solve(a);else if(!d.reflown&&!b)return void(d.problems.length||(this.updating=void 0));return(null!=(f=this.intrinsic)?f.objects:void 0)&&d.apply(this.intrinsic.solve()),this.solved.merge(a),d.reset(),c=d.each(this.resolve,this),(null!=(g=d.busy)?g.length:void 0)?c:c&&Object.keys(c).length?this.onSolve(c):a&&(a.push||Object.keys(a).length)&&!d.problems[d.index+1]||1===d.problems.length&&null===d.domains[0]||this.engine.restyled?(this.updating.finish(),!d.problems.length&&(null!=(h=this.updated)?h.problems.length:void 0)&&!this.engine.restyled?void(this.restyled=this.updating=void 0):(this.restyled=this.updating=void 0,this.updated=d,this.console.info("Solution	   ",this.updated,a,this.solved.values),this.fireEvent("solve",this.updated.solution,this.updated),this.fireEvent("solved",this.updated.solution,this.updated),this.inspector.update(this),this.updated.solution)):void 0},c.prototype["yield"]=function(a){var b;return a.push?this.update.apply(this.engine,arguments):(null!=(b=this.updating)?b.each(this.resolve,this.engine,a):void 0)||this.onSolve(a)},c.prototype.resolve=function(a,b,c,d){var e,f,g,h;if(a&&!a.solve&&a.postMessage)return d.postMessage(a,b),d.await(a.url),a;for(c=g=0,h=b.length;h>g;c=++g)e=b[c],e instanceof Array&&1===e.length&&e[0]instanceof Array&&(e=b[c]=e[0]);return a?(this.console.start(b,a.displayName),f=a.solve(b)||void 0,f&&f.postMessage?d.await(f.url):1===(null!=f?f.length:void 0)&&(f=f[0]),this.console.end(),a.setup(),a.Solver&&!a.url&&-1===this.domains.indexOf(a)&&this.domains.push(a),f):this.broadcast(b,d)},c.prototype.broadcast=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F;if(null==b&&(b=this.updating),i=[],n=[],c&&(null!==b.domains[b.index+1]?(b.domains.splice(b.index,0,null),b.problems.splice(b.index,0,a)):(d=b.problems[b.index+1],d.push.apply(d,a))),"remove"===a[0])n.push(a);else for(t=0,x=a.length;x>t;t++)k=a[t],"remove"===k[0]?n.push(k):i.push(k);for(B=[this.assumed,this.solved].concat(this.domains),e=u=0,y=B.length;y>u;e=++u){for(h=B[e],g=[],h.changes=void 0,v=0,z=n.length;z>v;v++)for(m=n[v],f=w=0,A=m.length;A>w;f=++w)j=m[f],0!==f&&((null!=(C=h.paths)?C[j]:void 0)?g.push(j):(null!=(D=h.observers)?D[j]:void 0)&&h.remove(j));if(h.changes){E=h.changes;for(l in E)q=E[l],(o||(o={}))[l]=q;h.changes=void 0}g.length&&(g.unshift("remove"),b.push([g],h,!0)),i.length&&b.push(i,h)}"string"==typeof a[0]&&(a=[a]),F=this.workers;for(p in F)r=F[p],s=a.filter(function(a){var b;return"remove"!==a[0]||(null!=(b=r.paths)?b[a[1]]:void 0)}),b.push(s,r,!0)},c.prototype.precompile=function(){return this.Domain.compile(this.Domains,this),this.update=c.prototype.Update.compile(this),location.search.indexOf("export=")>-1?this.preexport():void 0},c.prototype.compile=function(){var a,b;for(b in this.Domains)(a=this[b.toLowerCase()])&&a.compile();return this.assumed.compile(),this.solved.compile(),this.console.compile(this),this.running=!0,this.triggerEvent("compile",this)},c.prototype.fireEvent=function(a,b,c){return this.triggerEvent(a,b,c),this.scope?this.dispatchEvent(this.scope,a,b,c):void 0},c.prototype.DONE="solve",c.prototype.$events={remove:function(a){return this.updating.remove(a)},destroy:function(){return this.scope&&(c[this.scope._gss_id]=void 0),this.worker?(this.worker.removeEventListener("message",this.eventHandler),this.worker.removeEventListener("error",this.eventHandler)):void 0},message:function(a){var b,c,d,e,f;d=(e=a.target).values||(e.values={}),f=a.data;for(b in f)c=f[b],null!=c?d[b]=c:delete d[b];this.updating&&this.updating.busy.length&&(this.updating.busy.splice(this.updating.busy.indexOf(a.target.url),1),this.commit(a.data,this.updating,!0))},error:function(a){throw new Error(""+a.message+" ("+a.filename+":"+a.lineno+")")}},c.prototype.getWorkerURL=function(){var a,b,c;return"undefined"!=typeof document&&null!==document&&(a=document.getElementsByTagName("script"),b=a[a.length-1].src,(null!=(c=location.search)?c.indexOf("log=0"):void 0)>-1&&(b+=(b.indexOf("?")>-1&&"&"||"?")+"log=0")),function(a){return"string"==typeof a&&a||b}}(),c.prototype.useWorker=function(a){var b,c=this;if("string"==typeof a&&"undefined"!=typeof Worker&&null!==Worker&&void 0!==self.onmessage)return(b=this.engine).worker||(b.worker=this.engine.getWorker(a)),this.solve=function(a){var b;return(b=c.engine).updating||(b.updating=new c.update),c.engine.updating.postMessage(c.worker,a),c.worker},this.worker},c.prototype.getWorker=function(a){var b,d,e,f;return b=(d=(e=this.engine).workers||(e.workers={}))[a]||(d[a]=(f=c.workers||(c.workers={}))[a]||(f[a]=new Worker(a))),b.url||(b.url=a),b.addEventListener("message",this.engine.eventHandler),b.addEventListener("error",this.engine.eventHandler),b},c.prototype.getVariableDomain=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o;return a.domain?a.domain:(h=a[1],(d=h.indexOf("["))>-1&&(j=h.substring(d+1,h.length-1)),this.assumed.values.hasOwnProperty(h)?this.assumed:j&&(f=null!=(k=this.intrinsic)?k.properties:void 0)&&(null!=f[h]||f[j]&&!f[j].matcher)?this.intrinsic:b?b:j&&(e=j.indexOf("-"))>-1&&(i=j.substring(0,e),(c=this[i])&&c instanceof this.Domain)?c:(g=null!=(l=this.variables[h])&&null!=(m=l.constraints)&&null!=(n=m[0])&&null!=(o=n.operations[0])?o.domain:void 0)?g:this.domain.url?this.domain:this.domain.maybe())},c.prototype.getScopeElement=function(a){switch(a.tagName){case"HTML":case"BODY":case"HEAD":return document;case"STYLE":if(a.scoped)return this.getScopeElement(a.parentNode)}return a},c}(e),self.window||void 0===self.onmessage||self.addEventListener("message",function(a){var b,c,e,f,g,h,i,j,k;if((e=d.messenger)||(e=d.messenger=d()),c=a.data,k=void 0,b=[],g=[],i=e.solve(function(){var a,d,e,f,h;if((k=c[0])&&!k.push)for(d=e=0,f=c.length;f>e;d=++e)a=c[d],d&&("remove"===a[0]?g.push(a):(null!=(null!=(h=a[0])?h.key:void 0)&&(a[1].parent=a),b.push(a)));return g.length&&this.broadcast(g,this.updating,!0),k&&this.assumed.merge(k),b.length?this.solve(b):void 0}),h={},k){for(f in k)j=k[f],h[f]=j;for(f in i)j=i[f],h[f]=j}return postMessage(h)}),d.Engine=d,d.identity=d.prototype.identity=new d.prototype.Identity,d.identify=d.prototype.identify=d.identity.set,d.console=d.prototype.console=new d.prototype.Console,d.clone=d.prototype.clone=function(a){return a&&a.map?a.map(this.clone,this):a},c.exports=this.GSS=d}),a.register("gss/lib/Domain.js",function(a,b,c){var d,e={}.hasOwnProperty;d=function(){function a(a,b,c,d){var e;return this.values={},a&&(this.engine=a),d&&(this.displayName=d),b&&(this.url=b),c&&this.merge(c),this.events!==this.engine.events&&this.addListeners(this.events),this.signatures=new this.Signatures(this),this.Properties&&(this.Property.compile(this.Properties.prototype,this),e=this.Properties),this.properties=new(e||Object),this.properties.engine=this,this.url&&this.getWorkerURL&&this.url&&(this.url="function"==typeof this.getWorkerURL?this.getWorkerURL(this.url):void 0)&&a!==this&&(this.useWorker(this.url)||(this.url=void 0)),this}return a.prototype.priority=0,a.prototype.strategy=void 0,a.prototype.setup=function(){if(this.engine!==this&&!this.hasOwnProperty("watchers")&&!this.hasOwnProperty("paths")){if(this.hasOwnProperty("values")||(this.values={}),this.MAYBE)return this.paths={},this.MAYBE=void 0;if(this.watchers={},this.observers={},this.subscribing)return this.objects={}}},a.prototype.solve=function(a,b,c,d,e){var f,g,h,i,j;return i=this.transact(),"object"==typeof a&&(h=a.push?this.Command(a).solve(this,a,b||"",c||this.scope,d,e):this.assumed.merge(a)),(this.constrained||this.unconstrained)&&(f=this.Constraint.prototype.split(this),this.Constraint.prototype.reset(this)),"object"!=typeof h&&(h=null!=(j=this.perform)?j.apply(this,arguments):void 0)&&(h=this.apply(h)),f&&this.update(f),i&&(g=this.commit()),h||g},a.prototype.watch=function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o;return this.setup(),j=this.getPath(a,b),-1===this.indexOfTriplet(this.watchers[j],c,d,e)&&(i=(m=this.observers)[d]||(m[d]=[]),i.push(c,j,e),l=(n=this.watchers)[j]||(n[j]=[]),l.push(c,d,e),this.subscribing&&3===l.length&&(g=j.indexOf("["))>-1&&(f=j.substring(0,g),h=(o=this.objects)[f]||(o[f]={}),k=j.substring(g+1,j.length-1),h[k]=!0,"function"==typeof this.onWatch&&this.onWatch(f,k))),this.get(j)},a.prototype.unwatch=function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o;return l=this.getPath(a,b),j=this.observers[d],g=this.indexOfTriplet(j,c,l,e),j.splice(g,3),j.length||delete this.observers[d],n=this.watchers[l],g=this.indexOfTriplet(n,c,d,e),n.splice(g,3),!n.length&&(delete this.watchers[l],this.subscribing&&(h=l.indexOf("["))>-1&&(f=l.substring(0,h),i=(o=this.objects)[f]||(o[f]={}),m=l.substring(h+1,l.length-1),k=i[m],delete i[m],this.updating&&(this.transact(),this.changes[l]=null,this.updating.domains.indexOf(this)>this.updating.index||this.updating.apply(this.changes)),this.immediate&&this.solved.set(l,null),0===Object.keys(i).length))?delete this.objects[f]:void 0},a.prototype.get=function(a,b){return this.values[this.getPath(a,b)]},a.prototype.merge=function(b){if(b&&!b.push){if(b instanceof a)return;return this.updating?this.merger(b):this.engine.solve(this.displayName||"GSS",this.merger,b,this)}},a.prototype.merger=function(a,b){var c,d,e,f;null==b&&(b=this),e=b.transact(),c=!1;for(d in a)f=a[d],b.set(void 0,d,f);return e?b.commit():void 0},a.prototype.set=function(a,b,c){var d,e;return e=this.getPath(a,b),d=this.values[e],d!==c?(this.transact(),this.changes[e]=null!=c?c:null,null!=c?this.values[e]=c:delete this.values[e],this.updating?this.callback(e,c):this.engine.solve(this.displayName||"GSS",function(a){return a.callback(e,c)},this),c):void 0},a.prototype.callback=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;if(k=null!=(t=this.watchers)?t[a]:void 0)for(d=n=0,q=k.length;q>n&&(j=k[d],j);d=n+=3)null!=b?j.command.ascend(this,j,k[d+1],k[d+2],b,!0):j.command.patch(this,j,k[d+1],k[d+2]);if(!this.immutable){if(!this.Solver&&(i=this.variables[a]))for(u=i.constraints,o=0,r=u.length;r>o;o++)for(c=u[o],v=c.operations,p=0,s=v.length;s>p;p++)f=v[p],(e=f.variables[a])&&e.domain&&e.domain.displayName!==this.displayName&&(k&&-1!==k.indexOf(e)||(e.command.patch(e.domain,e,void 0,void 0,this),e.command.solve(this,e)));if(m=this.workers)for(g in m)l=m[g],(h=l.values)&&h.hasOwnProperty(a)&&this.updating.push([["value",a,null!=b?b:null]],l)}},a.prototype.toObject=function(){var a,b,c;a={};for(b in this)e.call(this,b)&&(c=this[b],"engine"!==b&&"observers"!==b&&"watchers"!==b&&"values"!==b&&(a[b]=c));return a},a.prototype.compile=function(){return this.Command.compile(this)},a.prototype.add=function(a,b){var c,d;c=(d=this.paths||(this.paths={}))[a]||(d[a]=[]),c.push(b)},a.prototype.transform=function(a){var b,c,d,e,f,g,h,i,j,k;if(null==a&&(a={}),b=this.nullified,d=this.replaced,this.declared){g=this.declared;for(c in g)f=g[c],e=null!=(h=f.value)?h:0,this.values[c]!==e&&"%"!==c.charAt(0)&&(null==a[c]&&(a[c]=e),this.values[c]=e);this.declared=void 0}if(this.replaced=void 0,b){for(c in b)f=b[c],"%"!==c.charAt(0)&&(a[c]=null!=(i=null!=(j=this.assumed.values[c])?j:null!=(k=this.intrinsic)?k.values[c]:void 0)?i:null),this.nullify(f);this.nullified=void 0}return a},a.prototype.apply=function(a){var b,c,d,e,f,g,h;f={},c=this.nullified,e=this.replaced;for(d in a)g=a[d],(null!=c?c[d]:void 0)||(null!=e?e[d]:void 0)||"%"===d.charAt(0)||(f[d]=g);return f=this.transform(f),this.merge(f,!0),this.constraints&&(0===(null!=(h=this.constraints)?h.length:void 0)?(b=this.engine.domains.indexOf(this))>-1&&this.engine.domains.splice(b,1):-1===this.engine.domains.indexOf(this)&&this.engine.domains.push(this)),f},a.prototype.remove=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n;for(g=0,j=arguments.length;j>g;g++){if(f=arguments[g],this.observers)for(m=(null!=(l=this.queries)?l.getVariants(f):void 0)||[f],h=0,k=m.length;k>h;h++)if(a=m[h],c=this.observers[a])for(;c[0];)this.unwatch(c[1],void 0,c[0],a,c[2]);if(e=null!=(n=this.paths)?n[f]:void 0)for(b=i=e.length-1;i>=0;b=i+=-1)d=e[b],d.command.remove(this,d,f)}},a.prototype["export"]=function(a){var b,c,d,e,f,g,h,i;if(a||(a=this.constraints)){for(d=[],f=0,h=a.length;h>f;f++)if(b=a[f],e=b.operations)for(g=0,i=e.length;i>g;g++)c=e[g],d.push(c.parent);return d}},a.prototype.transfer=function(a,b){var c,d;if(b&&b.perform(this),a&&a.perform(this),this.updating.perform(this),this.unconstrained&&this.Constraint.prototype.reset(this),this.nullified){d={};for(c in this.nullified)(d||(d={}))[c]=null;return this.updating.apply(d)}},a.prototype.maybe=function(){var a;return this.Maybe||(a=function(){},a.prototype=this,this.Maybe=function(){},this.Maybe.prototype=new a,this.Maybe.prototype.MAYBE=this),new this.Maybe},a.prototype.getPath=function(a,b){var c;return b||(b=a,a=void 0),b.indexOf("[")>-1||!a?b:("string"!=typeof a&&(a=a.nodeType?this.identify(a):a.path),a===(null!=(c=this.scope)?c._gss_id:void 0)&&"intrinsic-"!==b.substring(0,10)?b:('$"'===a.substring(0,2)&&(a=a.substring(1)),a+"["+b+"]"))},a.prototype.transact=function(){return this.changes&&this.hasOwnProperty("changes")?void 0:(this.setup(),this.changes={})},a.prototype.commit=function(){var a;return(a=this.changes)?(this.changes=void 0,a):void 0},a.compile=function(a,b){var c,d,f,g,h,i,j,k;for(g in a)if(e.call(a,g)&&(f=a[g],(null!=(j=f.condition)?j.call(b):void 0)!==!1)){c=b[g]=function(a){return f.prototype.constructor.call(this,void 0,void 0,a)},d=function(){},d.prototype=b,c.prototype=new d,c.prototype.engine=b,c.prototype.displayName=g,k=f.prototype;for(h in k)i=k[h],c.prototype[h]=i;b[g.toLowerCase()]=new c}return this},a.prototype.Property=function(a,b,c){var d,e,f,g,h,i,j;if("object"==typeof a){if(a.push)return c[b]=this.Style(a,b,c);for(e in a)i=a[e],(d=b.indexOf("["))>-1?(g=b.replace("]","-"+e+"]"),f=b.substring(0,d),h=g.substring(d+1,g.length-1),(j=c[f])[h]||(j[h]=this.Property(i,g,c))):g=b.match(/^[a-z]/i)?b+"-"+e:b+"["+e+"]",c[g]=this.Property(i,g,c)}return a},a.prototype.Property.compile=function(a,b){var c,d;for(c in a)e.call(a,c)&&(d=a[c],"engine"!==c&&this.call(b,d,c,a));return a},a.prototype.isCollection=function(a){if(a&&void 0!==a.length&&!a.substring&&!a.nodeType){if(a.isCollection)return!0;switch(typeof a[0]){case"object":return a[0].nodeType;case"undefined":return 0===a.length}}},a.prototype.indexOfTriplet=function(a,b,c,d){var e,f,g,h;if(a)for(e=g=0,h=a.length;h>g;e=g+=3)if(f=a[e],f===b&&a[e+1]===c&&a[e+2]===d)return e;return-1},a}(),c.exports=d}),a.register("gss/lib/Command.js",function(a,b,c){var d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},g=[].slice;d=function(){function a(b,c,d){var e,f;return(e=b.command)||(f=a.match(this,b,c,d),(e=f.instance)||(e=new f(b,this)),c||(e=a.descend(e,this,b)),null!=e.key?e.push(b):(e.definition||f).instance=e,b.command=e),e}var b,c;return a.prototype.solve=function(a,b,c,d,e,f){var g,h,i;switch(h=b.domain||a,typeof(i=this.retrieve(h,b,c,d,e,f))){case"object":case"string":if(c.indexOf(this.PAIR)>-1||this.reference)return i;break;case"boolean":if(!i)return;i=void 0,c=this.rewind(a,b,c,d)}if(this.head)return this.jump(h,b,c,d,e,f);if(void 0===i){if(g=this.descend(h,b,c,d,e,f),g===!1)return;this.log(g,h,b,c),i=this.before(g,h,b,c,d,e,f),null==i&&(i=this.execute.apply(this,g)),(i=this.after(g,i,h,b,c,d,e,f))&&(c=this["continue"](i,h,b,c,d,e,f))}return null!=i?this.ascend(a,b,c,d,i,e,f):void 0},a.prototype.descend=function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q;for(m=n=1,p=b.length;p>n;m=n+=1){if(e===m)h=f;else if(h=b[m],h instanceof Array&&(i=h.command||a.Command(h),h.parent||(h.parent=b),c&&f&&e!==m&&(j=this.connect(a,b,c,d,g,e)),h=i.solve(b.domain||a,h,j||c,d,void 0,f),void 0===h))return!1;(g||(g=Array(b.length-1+this.padding)))[this.permutation[m-1]]=h}if(k=null!=(q=this.extras)?q:this.execute.length-m+1,k>0)for(l=o=0;k>o;l=o+=1)(g||(g=Array(b.length-1+this.padding))).push(arguments[l]);return g},a.prototype.ascend=function(a,b,c,d,e,f,g){var h,i,j,k,l;if(i=b.parent){if((h=b.domain)&&(k=i.domain)&&k!==h&&k!==a)return void this.transfer(b.domain,i,c,d,f,g,i.command);if((j=i.command)&&(l="function"==typeof j["yield"]?j["yield"](e,a,b,c,d,f):void 0)){if(l===!0)return;return l}if(null!=f)return j.solve(i.domain||a,i,c,d,i.indexOf(b),e)}return e},a.subtype=function(){},a.match=function(b,c){var d,e,f,g,h,i,j,k,l;switch(g=c[0],h=-1,typeof g){case"string":if(!(k=b.signatures[g])&&!(d=b.Default))throw new Error("`"+g+"` is not defined in "+b.displayName+" domain");h=0;break;case"object":if(l=this.typeOfObject(g),k=b.signatures[l.toLowerCase()])h=0;else if(!(d=b[l]||a[l]))throw new Error("`"+l+"` can't be invoked in "+b.displayName+" domain")}for(i=c.length;++h<i;)if(e=c[h],(null!=e?e.push:void 0)?(null==e.parent&&(e.parent=c),l=b.Command(e,c,h).type):(l=this.types[typeof e],"Object"===l&&(l=this.typeOfObject(e))),k)if(j=k[l]||k.Any)k=j;else if(!d&&!(d=k.Default||b.Default))throw new Error("Unexpected `"+l+"` in `"+c[0]+"` of "+b.displayName+" domain");if(f=d||(null!=k?k.resolved:void 0)||b.Default)return f;throw new Error("Too few arguments in `"+c[0]+"` for "+b.displayName+" domain")},a.descend=function(b,c,d){var e,f,g,h,i,j,k,l,m;if(e=b.advices)for(j=0,l=e.length;l>j;j++)if(i=e[j],(h=i.prototype).condition){if(h.condition(c,d,b)){(b=i.instance)||(b=new i(d)),d.command=b,null==b.key&&(i.instance=b);break}}else i(c,d,b);for(k=0,m=d.length;m>k;k++)f=d[k],(g=f.command)&&a.descend(g,c,f);return b},a.prototype["continue"]=function(a,b,c,d){return d},a.prototype.before=function(){},a.prototype.after=function(a,b){return b},a.prototype.log=function(a,b,c,d,e,f){return b.console.row(f||c[0],a,d||"")},a.prototype.patch=function(a,b,c,d,e){var f,g;return g=this.sanitize(a,b,void 0,e).parent,f=e||a,g.domain!==f&&g.command?g.command.transfer(f,g,c,d,void 0,void 0,g.command,e):void 0},a.prototype.transfer=function(b,c,d,e,f,g,h,i){var j,k,l,m,n,o;if(j=this.getMeta(c))for(l in c.variables)null!=(m=(i||b).values[l])?(j.values||(j.values={}))[l]=m:(null!=(n=j.values)?n[l]:void 0)&&delete j.values[l];if(h){for(k=c;(null!=(o=k.parent)?o.domain:void 0)===k.domain&&!(k.parent.command instanceof a.List);)k=k.parent;return b.updating.push([k],k.domain)}},a.prototype.getMeta=function(a){var b;for(b=a;b=b.parent;)if(null!=b[0].key)return b[0]},a.prototype.connect=function(a,b,c,d,e,f){return null!=f&&c[c.length-1]!==this.DESCEND?this.delimit(c,this.PAIR):void 0},a.prototype.rewind=function(a,b,c,d){return a.queries.getScopePath(d,c)},a.prototype.fork=function(a,b,c){return this.delimit(b+a.identify(c),this.ASCEND)},a.prototype.jump=function(){},a.prototype.retrieve=function(){},a.prototype.permutation=function(){for(c=[],b=0;640>b;b++)c.push(b);return c}.apply(this),a.prototype.padding=0,a.prototype.extras=void 0,a.prototype.toExpression=function(a){var b,c,d;switch(typeof a){case"object":return"get"===a[0]?2===a.length?a[1]:a[1].command.path+"["+a[2]+"]":b=this.toExpression(null!=(c=a[1])?c:"")+a[0]+this.toExpression(null!=(d=a[2])?d:"");default:return a}},a.prototype.sanitize=function(a,b,c,d){var e,f,g,h;if(c!==!1)for(g=0,h=b.length;h>g;g++)if(e=b[g],c!==e&&e.push&&(null!=e?e.domain:void 0)===a){if("get"===e[0])return c;this.sanitize(a,e,!1,d)}return b.domain=b.command=void 0,d&&(b.domain=d,d.Command(b)),c!==!1&&(f=b.parent)&&f.domain===a?this.sanitize(a,f,b,d):b
},a.extend=function(b,c){var d,e,f,g,h;((d=this.prototype.constructor)===a||0===d.length)&&(d=void 0),e=function(){return d?d.apply(this,arguments):void 0},e.__super__=this,f=function(){},f.prototype=this.prototype,e.prototype=new f,e.prototype.definition=e,e.extend=a.extend,e.define=a.define;for(g in b)h=b[g],e.prototype[g]=h;return c&&e.define(c),e},a.define=function(b,c){var d,e;if(c)"function"==typeof c&&(c={execute:c}),this[b]=this.extend(c);else for(d in b)e=b[d],a.define.call(this,d,e)},a.types={string:"String",number:"Number",object:"Object"},a.typeOfObject=function(a){return a.nodeType?"Node":a.push?"List":"Object"},a.orphanize=function(a){var b,c,d;for(a.domain&&(a.domain=void 0),a.variables&&(a.variables=void 0),c=0,d=a.length;d>c;c++)b=a[c],(null!=b?b.push:void 0)&&this.orphanize(b);return a},a.getRoot=function(b){for(;!(b.command instanceof a.Default);)b=b.parent;return b},a.compile=function(b,c){var d,e,f,g,h,i,j,k,l;{if(c){d=c.types={};for(g in c)i=c[g],g.match(/^[A-Z]/)&&(null!=i?i.prototype:void 0)instanceof a&&(d[g]=i,this.compile(b,i));for(g in c)if(i=c[g],i!==a[g]&&"__super__"!==g&&(null!=i?i.prototype:void 0)instanceof a&&!g.match(/^[A-Z]/)&&(b.Signatures.set(b.signatures,g,i,d),b.helps&&((j=b.engine)[g]||(j[g]=this.Helper(b,g)),e=i.prototype.helpers)))for(k=0,l=e.length;l>k;k++)f=e[k],b.engine[f]=b.engine[g];return this.Types=d,this}for(g in b)i=b[g],null!=(h=null!=i?i.prototype:void 0)&&h instanceof a&&g.match(/^[A-Z]/)&&this.compile(b,i)}},a.Helper=function(b,c){var d,e,f;return e=b.signatures[c],d=[c],(f=b.engine)[c]||(f[c]=function(){var c,e,f,g,h;return c=Array.prototype.slice.call(arguments),e=a.match(b,d.concat(c)).prototype,g=(e.hasOwnProperty("permutation")&&e.permutation.length||0)+e.padding,g>c.length&&(c.length=g),(f=null!=(h=e.extras)?h:e.execute.length)&&(c.push(b),f>1&&(c.push(c),f>2&&(c.push(""),f>3&&c.push(b.scope)))),e.execute.apply(e,c)})},a.prototype.ASCEND=String.fromCharCode(8593),a.prototype.PAIR=String.fromCharCode(8594),a.prototype.DESCEND=String.fromCharCode(8595),a.prototype.DELIMITERS=[8593,8594,8595],a.prototype.delimit=function(a,b){return null==b&&(b=""),this.DELIMITERS.indexOf(a.charCodeAt(a.length-1))>-1?a.substring(0,a.length-1)+b:a+b},a}(),d.List=function(a){function b(){}return f(b,a),b.prototype.extras=0,b.prototype.execute=function(){},b.prototype.log=function(){},b.prototype["yield"]=function(){return!0},b.prototype.descend=function(a,b,c,d){var e,f,g,h,i;for(g=h=0,i=b.length;i>h;g=++h)e=b[g],(f=null!=e?e.command:void 0)&&f.solve(a,e,c,d)},b}(d),d.Default=function(a){function b(){}return f(b,a),b.prototype.type="Default",b.prototype.extras=2,b.prototype.execute=function(){var a,b,c,d;return a=3<=arguments.length?g.call(arguments,0,d=arguments.length-2):(d=0,[]),b=arguments[d++],c=arguments[d++],a.unshift(c[0]),a},b}(d),d.Object=function(a){function b(){}return f(b,a),b.prototype.type="List",b}(d),c.exports=d}),a.register("gss/lib/Update.js",function(a,b,c){var d,e,f=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};e=function(a){var b,c,d,e;if(b=function(a,c,d,e){var f,g,h,i,j,k,l,m;if(this instanceof b)return this.problems=a&&(c.push&&a||[a])||[],void(this.domains=c&&(c.push&&c||[c])||[]);for(j=void 0,g=l=0,m=a.length;m>l;g=++l)f=a[g],(null!=f?f.push:void 0)&&(f[0]instanceof Array||(f.parent||(f.parent=a),"get"===f[0]?(k=f.domain||(f.domain=this.domain.getVariableDomain(f,e)),(j||(j=new this.update)).push([f],k)):(i=this.update(f,c,j||!1,e))&&(j||(j=i)),h=!0));if(h||a instanceof Array||j.push([a],null),!(a[0]instanceof Array))if(j)j.wrap(a,d,c||e);else{if("remove"!==a[0])return;j=new this.update([a],[c||e||null])}return d===!1?j:d||(d=this.updating)?d.push(j):j.each(this.resolve,this.engine)},this.prototype){e=this.prototype;for(c in e)d=e[c],b.prototype[c]=d}return a&&(b.prototype.engine=a),b},d=e(),d.compile=e,d.prototype={push:function(a,b,c){var d,e,f,g,h,i;if(void 0===b){for(i=a.domains,d=g=0,h=i.length;h>g;d=++g)b=i[d],this.push(a.problems[d],b);return this}if((f=this.domains.indexOf(b,this.index+1))>-1)return this.append(f,a,c);if(b)for(f=this.domains.length;f-1>this.index&&(e=this.domains[f-1])&&(e.priority<b.priority||c&&"remove"!==this.problems[f-1][0][0]);)--f;else f=this.index+1;return this.insert(f,b,a),f},append:function(a,b,c){var d,e,f,g,h;for(d=this.problems[a],e=this.domains[a],c?d.unshift.apply(d,b):d.push.apply(d,b),g=0,h=b.length;h>g;g++)f=b[g],e&&(this.setVariables(d,f),this.reify(f,e));return e?this.connect(a):void 0},insert:function(a,b,c){var d,e,f,g,h,i;for(h=0,i=c.length;i>h;h++)d=c[h],this.setVariables(c,d);if(this.domains.splice(a,0,b),this.problems.splice(a,0,c),g=this.variables)for(e in g)f=g[e],f>=a&&g[e]++;return this.reify(c,b),this.connect(a)},splice:function(a){var b,c,d,e;if((b=this.engine.domains.indexOf(this.domains[a]))>-1&&this.engine.domains.splice(b,1),this.domains.splice(a,1),this.problems.splice(a,1),this.variables){e=this.variables;for(c in e)d=e[c],d>=a&&(this.variables[c]=d===a?void 0:d-1)}},wrap:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;for(k=void 0,w=this.problems,g=n=0,r=w.length;r>n;g=++n)if(l=w[g],e=this.domains[g])for(m="string"!=typeof a[0]||e.signatures[a[0]],o=0,s=a.length;s>o;o++)d=a[o],m&&l.indexOf(d)>-1&&(!i||e.Solver&&!i.Solver)&&(j=g,i=e),k&&-1!==k.indexOf(g)||(k||(k=[])).push(g);if(!c||i&&i.displayName===c.displayName||(i=c,j=this.push([a],c)),!k)return void this.push([a],null);for(h=p=k.length-1;p>=0;h=p+=-1)if(g=k[h],(e=this.domains[g]).displayName!==i.displayName)k.splice(h,1);else for(l=this.problems[g],q=0,t=a.length;t>q;q++)d=a[q],(f=l.indexOf(d))>-1&&(d.push&&this.reify(d,i,e),g===j&&-1===l.indexOf(a)?(l[f]=a,k.splice(h,1),a.domain=e):(l.splice(f,1),0===l.length&&e.MAYBE&&(this.splice(g,1),j>g&&j--,k.splice(h,1))));if(i){for(a.domain=i,v=0,u=a.length;u>v;v++)d=a[v],d.push&&(a.variables=d.variables=this.setVariables(a,d,!0));this.setVariables(this.problems[j],a)}return k.length?this.connect(j,k):this.connect(j)},match:function(a,b,c){var d,e,g,h,i,j,k,l;if(h=this.problems[a],k=this.variables||(this.variables={}),d=b.Solver){l=h.variables;for(i in l)if(j=l[i],j.domain.Solver===d)if(null!=(e=k[i])&&e!==a){if(f.call(c||(c=[]),e)<0){for(g=0;c[g]<e;)g++;c.splice(g,0,e)}}else k[i]=a}return c},connect:function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p;if(f=this.domains[a]){if(b||(b=this.match(a,f,b)))for(d=f.constraints,i=l=0,n=b.length;n>l;i=l+=1)for(h=b[i],c=this.domains[h].constraints,e=c||d?(c&&c.length)<(d&&d.length):h>a,e?(g=h,k=a):(g=a,k=h),a=this.merge(g,k),j=m=o=i+1,p=b.length;p>m;j=m+=1)b[j]>=g&&b[j]--;return a}},merge:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;if(h=this.domains[b],j=this.problems[a],l=this.problems[b],e=this.domains[a])for(e.MAYBE||e.consumed||(e.transfer(c,this,h),f=e["export"](),e.consumed=!0),n=0,p=j.length;p>n;n++)i=j[n],-1===l.indexOf(i)&&(f||(f=[])).push(i);if(this.splice(a,1),b>a&&(g="unshift",b--),f){for(l[g||"push"].apply(l,f),o=0,q=f.length;q>o;o++)i=f[o],this.setVariables(l,i);if(this.reify(f,h,e),d=e.Solver){r=l.variables;for(k in r)m=r[k],m.domain.Solver===d&&((this.variables||(this.variables={}))[k]=b)}}return h&&!h.url&&-1===this.engine.domains.indexOf(h)&&this.engine.domains.push(h),b},await:function(a){return(this.busy||(this.busy=[])).push(a)},postMessage:function(a,b){var c,d;return((c=this.posted||(this.posted={}))[d=a.url||a]||(c[d]=[])).push(this.engine.clone(b))},terminate:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;if(this.posted){v=this.posted;for(m in v){for(h=v[m],p=this.engine.workers[m],j=p.paths||(p.paths={}),o=p.values||(p.values={}),a={},c=[a],l=[],q=0,t=h.length;t>q;q++)for(f=h[q],r=0,u=f.length;u>r;r++)if(b=f[r],e=b[0],"remove"===e)for(g=s=1,w=b.length;w>=1?w>s:s>w;g=w>=1?++s:--s)delete j[b[g]],l.push(b[g]);else if("value"===e)b[2]!==o[b[1]]&&(a[b[1]]=b[2]);else{if(null!=(i=e.key)&&(j[i]=!0,d=e.values))for(k in d)n=d[k],n!==o[k]&&(a[k]=n);c.push(b)}for(l.length&&(l.unshift("remove"),c.splice(1,0,l)),p.postMessage(c);(g=this.busy.indexOf(m))>-1&&this.busy.lastIndexOf(m)!==g;)this.busy.splice(g,1)}return this.posted=void 0}},each:function(a,b,c){var d,e,f,g,h,i,j,k;if(c&&this.apply(c),this.problems[this.index+1]){for(e=this.domains[this.index];void 0!==(d=this.domains[++this.index]);){if(e=d,this.variables){i=this.variables;for(f in i)h=i[f],h<=this.index&&delete this.variables[f]}if(g=(this.solutions||(this.solutions=[]))[this.index]=a.call(b||this,d,this.problems[this.index],this.index,this),(null!=(j=this.busy)?j.length:void 0)&&-1===this.busy.indexOf(null!=(k=this.domains[this.index+1])?k.url:void 0))return this.terminate(),g;g&&void 0===g.onerror&&(g.push?this.engine.update(g):(this.apply(g),c=this.apply(g,c||{})))}return this.terminate(),this.index--,c||this}},apply:function(a,b){var c,d,e,f,g,h;if(null==b&&(b=this.solution),a!==this.solution){b||(b=this.solution||(this.solution={}));for(d in a)f=a[d],(e=null!=(h=this.redefined)?h[d]:void 0)&&(c=e.indexOf(f),c>-1)?(b[d]=e[e.length-1],c!==e.length-1&&console.error(d,"is looping: ",this.redefined[d]," and now ",f,"again")):(b===this.solution&&(e=(g=this.redefined||(this.redefined={}))[d]||(g[d]=[]),e[e.length-1]!==f&&null!=f&&e.push(f)),b[d]=f)}return b},remove:function(a,b){var c,d,e,f,g,h;for(this.push([["remove",a]],null),h=this.problems,d=f=h.length-1;f>=0&&(e=h[d],d!==this.index);d=f+=-1)for(c=g=e.length-1;g>=0;c=g+=-1)b=e[c],b&&b[0]&&b[0].key===a&&(e.splice(c,1),0===e.length&&this.splice(d,1))},perform:function(a){var b,c,d,e,f;if(c=this.domains.indexOf(null,this.index+1),c>-1)if(d=this.problems[c],"string"==typeof d[0])"remove"===d[0]&&a.remove.apply(a,d.slice(1));else for(e=0,f=d.length;f>e;e++)b=d[e],"remove"===b[0]&&a.remove.apply(a,b.slice(1))},setVariables:function(a,b,c){var d,e,f;if(f=b.variables)if(!a.variables&&c)a.variables=f;else for(d in f)e=f[d],(a.variables||(a.variables={}))[d]=e;else"get"===b[0]&&((a.variables||(a.variables={}))[b[1]]=b);return a.variables},reify:function(a,b,c){var d,e,f;for(a.domain===c&&(a.domain=b),e=0,f=a.length;f>e;e++)d=a[e],d&&d.push&&this.reify(d,b,c);return a},cleanup:function(a,b){var c,d,e,f;if(d=this[a],!b)return this[a]={},this[a].previous=d;if(d){c=b.length,f=[];for(e in d)f.push(e.substring(0,c)===b?delete d[e]:void 0);return f}},reset:function(a){return this.cleanup("queries",a),this.cleanup("collections",a),this.cleanup("mutations")},getProblems:function(){return GSS.prototype.clone(this.problems)},finish:function(){return this.time=this.engine.console.time(this.start),this.start=void 0},index:-1},c.exports=d}),a.register("gss/lib/commands/Assignment.js",function(a,b,c){var d,e,f,g,h={}.hasOwnProperty,i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e=b("../Command"),d=function(a){function b(){return f=b.__super__.constructor.apply(this,arguments)}return i(b,a),b.prototype.type="Assignment",b.prototype.signature=[[{object:["Query","Selector"]}],{property:["String"],value:["Variable"]}],b}(e),d.Unsafe=function(a){function b(){return g=b.__super__.constructor.apply(this,arguments)}return i(b,a),b.prototype.signature=[[{object:["Query","Selector"]}],{property:["String"],value:["Any"]}],b.prototype.advices=[function(a,b){var c,d;for(c=b,d=void 0;c.parent;)d||"rule"!==c[0]||(d=c),c=c.parent;b.index=c.rules=(c.rules||0)+1,d&&(d.properties||(d.properties=[])).push(b.index)}],b}(d),c.exports=d}),a.register("gss/lib/commands/Block.js",function(a,b,c){var d,e,f,g,h={}.hasOwnProperty,i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e=b("../Command"),d=function(a){function b(){return f=b.__super__.constructor.apply(this,arguments)}return i(b,a),b.prototype.type="Block",b.prototype.signature=[{body:null}],b}(e),d.define({scoped:{solve:function(a,b,c,d,e,f){return 2!==b.index||e||null==f?void 0:(this._solve(a,b,c,f,b),!1)}}}),d.Meta=function(a){function b(){return g=b.__super__.constructor.apply(this,arguments)}return i(b,a),b.prototype.signature=[{data:["Object"],body:["Any"]}],b.prototype.execute=function(a){return a},b}(d),c.exports=d}),a.register("gss/lib/commands/Condition.js",function(a,b,c){var d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("../Command"),e=function(a){function b(a,b){this.key||(this.key=this.serialize(a,b))}return g(b,a),b.prototype.type="Condition",b.prototype.signature=[{"if":["Query","Selector","Variable","Constraint","Default"],then:["Any"]},[{"else":["Any"]}]],b.prototype.cleaning=!0,b.prototype.domain="solved",b.prototype.push=function(){},b.prototype.serialize=function(a){return"@"+this.toExpression(a[1])},b.prototype.update=function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p;return n=(o=a.queries.watchers)[p=d._gss_id]||(o[p]=[]),n.length&&-1!==a.indexOfTriplet(n,b.parent,c,d)||n.push(b.parent,c+this.DESCEND,d),k=c+this.DESCEND+this.key,j=a.queries[k],!!j!=!!f||void 0===j&&j!==f?(void 0!==j&&a.queries.clean(k,c,b.parent,d),a.switching||(m=a.switching=!0),a.queries[k]=f,m&&(a.triggerEvent("switch",b,k),a.updating&&(h=a.updating.collections,a.updating.collections={},a.updating.previous=h)),i=f^this.inverted&&2||3,a.console.group("%s 				%o			%c%s",(2===i&&"if"||"else")+this.DESCEND,b.parent[i],"font-weight: normal; color: #999",c),(g=b.parent[i])&&(l=a.Command(g).solve(a,g,this.delimit(k,this.DESCEND),d)),m&&(a.triggerEvent("switch",b,!0),a.switching=void 0),a.console.groupEnd(k)):void 0},b.prototype["yield"]=function(a,b,c,d,e){return-1===c.parent.indexOf(c)?(c[0].key?(d=c[0].key,e=b.identity[c[0].scope]||e):d=this.delimit(d,this.DESCEND),null!=d&&this.update(b.document||b.abstract,c.parent[1],d,e,void 0,a),!0):void 0},b}(d),e.define("if",{}),e.define("unless",{inverted:!0}),c.exports=e}),a.register("gss/lib/commands/Constraint.js",function(a,b,c){var d,e;d=b("../Command"),e=d.extend({type:"Constraint",signature:[{left:["Variable","Number"],right:["Variable","Number"]},[{strength:["String"],weight:["Number"]}]],toHash:function(a){var b,c;if(b="",a.values)for(c in a.values)b+=c;return b},fetch:function(a,b){var c,d,e,f,g;if(d=null!=(f=a.operations)?f[b.hash||(b.hash=this.toExpression(b))]:void 0)for(e in d)if(c=d[e],(null!=(g=a.constraints)?g.indexOf(c):void 0)>-1)return c},declare:function(a,b){var c,d,e,f,g,h,i,j;g=b.variables;for(f in g)e=g[f],(d=a.variables[f])&&(c=d.constraints||(d.constraints=[]),null==(null!=(h=c[0])&&null!=(i=h.operations[0])&&null!=(j=i.parent.values)?j[f]:void 0)&&-1===c.indexOf(b)&&c.push(b))},undeclare:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o;l=b.variables;for(i in l)if(g=l[i],(f=a.variables[i])&&(d=null!=(m=f.constraints)?m.indexOf(b):void 0)>-1){for(f.constraints.splice(d,1),e=!1,n=f.constraints,j=0,k=n.length;k>j;j++)if(h=n[j],a.constraints.indexOf(h)>-1&&null==(null!=(o=h.operations[0].parent[0].values)?o[i]:void 0)){e=!0;break}e||g.command.undeclare(a,f,c)}},add:function(a,b,c,d){var e,f,g,h,i;if(h=this.fetch(b,c),g=a.operations||(a.operations=(null!=h?h.operations:void 0)||[]),a.variables=c.variables,-1===g.indexOf(c)){for(e=i=g.length-1;i>=0;e=i+=-1)f=g[e],f.hash===c.hash&&f.parent[0].key===d&&(g.splice(e,1),this.unwatch(b,f,d));g.push(c)}this.watch(b,c,d),h!==a&&(h&&this.unset(b,h),this.set(b,a))},reset:function(a){var b,c,d,e,f,g,h;if(a.constrained){for(g=a.constrained,c=0,e=g.length;e>c;c++)b=g[c],a.Constraint.prototype.inject(a,b),a.Constraint.prototype.declare(a,b);a.constrained||(a.constrained=[])}if(a.unconstrained){for(h=a.unconstrained,d=0,f=h.length;f>d;d++)b=h[d],a.Constraint.prototype.eject(a,b),a.Constraint.prototype.undeclare(a,b);a.constrained||(a.constrained=[])}return a.unconstrained=void 0},set:function(a,b){var c,d;return-1===(a.constraints||(a.constraints=[])).indexOf(b)&&(a.constraints.push(b),(a.constrained||(a.constrained=[])).push(b)),(c=null!=(d=a.unconstrained)?d.indexOf(b):void 0)>-1?a.unconstrained.splice(c,1):void 0},unset:function(a,b){var c,d,e,f,g,h,i;for((c=a.constraints.indexOf(b))>-1&&a.constraints.splice(c,1),(c=null!=(h=a.constrained)?h.indexOf(b):void 0)>-1?a.constrained.splice(c,1):-1===(a.unconstrained||(a.unconstrained=[])).indexOf(b)&&a.unconstrained.push(b),i=b.operations,f=0,g=i.length;g>f;f++)d=i[f],null!=(e=d.parent[0].key)&&this.unwatch(a,d,e)},unwatch:function(a,b,c){var d,e;return(e=a.paths[c])&&(d=e.indexOf(b))>-1&&(e.splice(d,1),0===e.length)?delete a.paths[c]:void 0},watch:function(a,b,c){return a.add(c,b)},remove:function(a,b,c){var d,e,f;return(d=this.fetch(a,b))&&(f=d.operations)&&(e=f.indexOf(b))>-1?(f.splice(e,1),0===f.length&&this.unset(a,d),this.unwatch(a,b,c)):void 0},find:function(a,b){var c,d,e,f;for(f=b.constraints,d=0,e=f.length;e>d;d++)if(c=f[d],c.operations[0].variables[b.name].domain===a&&a.constraints.indexOf(c)>-1)return!0},group:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n;for(e=[],j=0,m=a.length;m>j;j++){for(b=a[j],d=void 0,i=b.variables,k=e.length-1;k>=0;k+=-1)for(c=e[k],l=0,n=c.length;n>l;l++){f=c[l],g=f.variables;for(h in i)if(g[h]){d&&d!==c?(d.push.apply(d,c),e.splice(e.indexOf(c),1)):d=c;break}if(-1===e.indexOf(c))break}d||e.push(d=[]),d.push(b)}return e},split:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;if(h=this.group(a.constraints).sort(function(a,b){var c,d;return c=a.length,d=b.length,d-c}),l=h.splice(1),d=[],l.length)for(m=0,j=n=0,r=l.length;r>n;j=++n)for(g=l[j],j=o=0,s=g.length;s>o;j=++o)for(e=g[j],this.unset(a,e),v=e.operations,p=0,t=v.length;t>p;p++)k=v[p],d.push(k.parent);if(null!=d?d.length:void 0){if(1===d.length&&(d=d[0]),c=arguments,1===c.length&&(c=c[0]),d.length===c.length){for(f=!0,i=q=0,u=c.length;u>q;i=++q)if(b=c[i],-1===d.indexOf(b)){f=!1;break}if(f)throw new Error("Trying to separate what was just added. Means loop. ")}return a.Command.orphanize(d)}}}),c.exports=e}),a.register("gss/lib/commands/Iterator.js",function(a,b,c){var d,e,f,g={}.hasOwnProperty,h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("../Command"),e=function(a){function b(){return f=b.__super__.constructor.apply(this,arguments)}return h(b,a),b.prototype.type="Iterator",b.prototype.signature=[{collection:["Query","Selector"],body:["Any"]}],b.prototype["yield"]=function(a,b,c,d){var e,f;return 1===c.parent.indexOf(c)?(e=this.delimit(d,this.DESCEND),f=c.parent[2],f.command.solve(b,f,e,a),!0):void 0},b.prototype.descend=function(a,b,c,d){var e,f;return e=b[1],f=e.command||a.Command(e),e.parent||(e.parent=b),f.solve(b.domain||a,e,c,d),!1},b}(d),e.define({rule:{index:"rules",advices:[function(a,b){var c;for(c=b;c.parent;)c=c.parent;b.index=c.rules=(c.rules||0)+1}]},each:{}}),c.exports=e}),a.register("gss/lib/commands/Query.js",function(a,b,c){var d,e;d=b("../Command"),e=d.extend({type:"Query",constructor:function(a){return this.key=this.path=this.serialize(a)},ascend:function(a,b,c,d,e,f){var g,h,i,j,k,l,m;if(i=b.parent)if(a.isCollection(e))for(l=0,m=e.length;m>l;l++)h=e[l],g=this.fork(a,c,h),("function"==typeof(j=i.command)["yield"]?j["yield"](h,a,b,g,d,f):void 0)||i.command.solve(a,i,g,d,i.indexOf(b),h);else if(!("function"==typeof(k=i.command)["yield"]?k["yield"](e,a,b,c,d,f):void 0))return null==f&&this.hidden&&this.reference?e:i.command.solve(a,i,c,this.subscope(d,e)||d,i.indexOf(b),e)},subscope:function(){},serialize:function(a){var b,c,d,e,f,g,h,i;for(g=null!=this.prefix?this.prefix:a[0],"object"==typeof a[1]&&(f=2),e=a.length,d=h=i=f||1;e>=i?e>h:h>e;d=e>=i?++h:--h)(b=a[d])&&((c=b.command)?g+=c.key:(g+=b,e-1>d&&(g+=this.separator)));return this.suffix&&(g+=this.suffix),g},push:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;for(e=j=1,o=a.length;o>=1?o>j:j>o;e=o>=1?++j:--j)(c=null!=(p=a[e])?p.command:void 0)&&(f=this.inherit(c,f));if(i=this.tags)for(d=k=0,n=i.length;n>k;d=++k){for(h=i[d],g=!0,e=l=1,q=a.length;q>=1?q>l:l>q;e=q>=1?++l:--l)if((c=null!=(r=b=a[e])?r.command:void 0)&&!((null!=(s=c.tags)?s.indexOf(h):void 0)>-1&&this.checkers[h](this,c,a,b,f))){g=!1;break}if(g)for(f=!1,e=m=1,t=a.length;t>=1?t>m:m>t;e=t>=1?++m:--m)(c=null!=(u=b=a[e])?u.command:void 0)&&(f=this.mergers[h](this,c,a,b,f))}return this},inherit:function(a,b){var c;return a.scoped&&(this.scoped=a.scoped),(c=a.path)&&(b?this.path+=this.separator+c:this.path=c+this.path),!0},"continue":function(a,b,c,d){return null==d&&(d=""),d+this.key},jump:function(a,b,c,d,e,f){var g,h,i;return g=this.tail,null!=(null!=(h=g[1])&&null!=(i=h.command)?i.key:void 0)&&null==e&&c.lastIndexOf(this.PAIR)===c.indexOf(this.PAIR)?g[1].command.solve(a,g[1],c,d):this.perform(a,this.head,c,d,e,f)},getPath:function(a,b,c){return c?c.nodeType?a.identify(c)+" "+this.path:c+(this.selector||this.key):this.selector||this.key},retrieve:function(a,b,c,d,e,f){return a.pairs.getSolution(b,c,d,e,f)},prepare:function(){},mergers:{},checkers:{}}),c.exports=e}),a.register("gss/lib/commands/Selector.js",function(a,b,c){var d,e,f,g,h={}.hasOwnProperty,i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},j=[].slice;d=b("../Command"),e=b("./Query"),f=function(a){function b(a){this.key=this.path=this.serialize(a)}return i(b,a),b.prototype.type="Selector",b.prototype.prepare=function(a,b){var c,d,e,f,g,h,i,j,k,l,m;if(e=this.getIndexPrefix(a,b),d=this.getIndex(a,b),f=this.getIndexSuffix(a,b),((g=(h=b||this)[k=e+d]||(h[k]={}))[f]||(g[f]=[])).push(a),this.tail){for(m=[],i=0,j=a.length;j>i;i++)c=a[i],m.push((null!=(l=c.command)?l.head:void 0)===(b||this).head?c.command.prepare(c,b||this):void 0);return m}},b.prototype.perform=function(a,b,c,d,e,f){var g,h,i,j,k;return h=b.command,k=h.selector,g=[null!=e?f:d,k],h.log(g,a,b,c,d,h.selecting&&"select"||"match"),j=h.before(g,a,b,c,d),i=g[0],h.selecting?null==j&&(j=i.querySelectorAll(g[1])):j!==i&&i.matches(g[1])&&null==j&&(j=i),(j=h.after(g,j,a,b,c,d))?h.ascend(a,b,c+k,d,j,e):void 0},b.prototype.separator="",b.prototype.scoped=void 0,b.prototype.prefix=void 0,b.prototype.suffix=void 0,b.prototype.key=void 0,b.prototype.path=void 0,b.prototype.tail=void 0,b.prototype.head=void 0,b.prototype.singular=void 0,b.prototype.relative=void 0,b.prototype.before=function(a,b,c,d,e){return b.queries.fetch(a,c,d,e)},b.prototype.after=function(a,b,c,d,e,f){return c.queries.update(a,b,d,e,f)},b.prototype.getIndexPrefix=function(a,b){return(b||this.selecting)&&" "||""},b.prototype.getIndex=function(a){var b;return null!=(b=this.prefix)?b:a[0]},b.prototype.getIndexSuffix=function(a){return a[2]||a[1]},b}(e),f.prototype.checkers.selector=function(a,b,c,d){var e;if(!(!b.head&&b instanceof f.Combinator&&" "!==d[0]||!a.key&&!b.selector&&b.key!==b.path||(e=a.selecting)&&!b.selecting||","===c[0]&&(b.selector||b.key)!==b.path))return!0},f.prototype.mergers.selector=function(a,b,c,d,e){var f,g;return b.selecting&&(a.selecting||(a.selecting=!0)),b.head=c,a.head=c,a.tail=b.tail||(b.tail=d),a.tail.command.head=c,f=b.selector||b.key,g=a.selector||a.key,a.selector=e?g+a.separator+f:f+g,!0},f.Selecter=f.extend({signature:[{query:["String"]}],selecting:!0,getIndexPrefix:function(){return" "}}),f.Combinator=f.Selecter.extend({signature:[[{context:["Selector"]}]],getIndexSuffix:function(a){return"tag"===a.parent[0]&&a.parent[2].toUpperCase()||"*"},getIndexPrefix:function(a,b){return b&&" "||""}}),f.Virtual=f.extend({signature:[[{context:["Selector"]}],{query:["String"]}]}),f.Qualifier=f.extend({signature:[{context:["Selector"],matcher:["String"]}]}),f.Search=f.extend({signature:[[{context:["Selector"]}],{matcher:["String"],query:["String"]}]}),f.Attribute=f.Search.extend({getIndex:function(){return"attribute"}}),f.Element=f.extend({signature:[[{parameter:["Number","String"]}]]}),f.Reference=f.Element.extend({condition:function(a,b){return!(b.parent.command instanceof f)},kind:"Element",prefix:"",after:function(){return result},retrieve:function(){var a;return a=1<=arguments.length?j.call(arguments,0):[],a.unshift(a[1][1]),this.execute.apply(this,a)},reference:!0}),f.define({".":{helpers:["class","getElementsByClassName"],tags:["selector"],Selecter:function(a,b,c,d,e){return e.getElementsByClassName(a)},Qualifier:function(a,b){return a.classList.contains(b)?a:void 0}},tag:{helpers:["getElementsByTagName"],tags:["selector"],prefix:"",Selecter:function(a,b,c,d,e){return e.getElementsByTagName(a)},Qualifier:function(a,b){return"*"===b||a.tagName===b.toUpperCase()?a:void 0},getIndexSuffix:function(a){return a[a.length-1].toUpperCase()}},"#":{helpers:["id","getElementById"],tags:["selector"],Selecter:function(a,b,c,d,e){return null==e&&(e=b.scope),("function"==typeof e.getElementById?e.getElementById(a):void 0)||e.querySelector('[id="'+a+'"]')},Qualifier:function(a,b){return a.id===b?a:void 0},singular:!0}," ":{tags:["selector"],Combinator:{execute:function(a,b,c,d,e){return(a||e).getElementsByTagName("*")},getIndexPrefix:function(){return""}}},"!":{Combinator:function(a,b,c,d,e){var f;for(f=void 0;a=(a||e).parentNode;)1===a.nodeType&&(f||(f=[])).push(a);return f}},">":{tags:["selector"],Combinator:function(a,b,c,d,e){return(a||e).children}},"!>":{Combinator:function(a,b,c,d,e){return(a||e).parentElement}},"+":{tags:["selector"],Combinator:function(a,b,c,d,e){return(a||e).nextElementSibling}},"!+":{Combinator:function(a,b,c,d,e){return(a||e).previousElementSibling}},"++":{Combinator:function(a){var b,c,d;return c=void 0,(d=a.previousElementSibling)&&(c||(c=[])).push(d),(b=a.nextElementSibling)&&(c||(c=[])).push(b),c}},"~":{tags:["selector"],Combinator:function(a){var b;for(b=void 0;a=a.nextElementSibling;)(b||(b=[])).push(a);return b}},"!~":{Combinator:function(a){var b,c;for(b=void 0,c=a.parentNode.firstElementChild;c!==a;)(b||(b=[])).push(c),c=c.nextElementSibling;return b}},"~~":{Combinator:function(a){var b,c;for(b=void 0,c=a.parentNode.firstElementChild;c;)c!==a&&(b||(b=[])).push(c),c=c.nextElementSibling;return b}}}),f.define({"&":{before:function(){},after:function(a,b){return b},log:function(){},hidden:!0,serialize:function(){return""},Element:function(a,b,c,d,e){return e},retrieve:function(){return this.execute.apply(this,arguments)}},"^":{Element:function(a,b,c,d,e){return b.queries.getParentScope(e,d)}},$:{Element:function(a,b){return b.scope}},"::window":{Reference:function(){return"::window"},stringy:!0},virtual:{Virtual:function(a,b,c,d,e){var f;return f=c.queries.getScope(a,e)||"$",f+'"'+b+'"'},prefix:'"'}}),f.define({"[=]":{tags:["selector"],prefix:"[",separator:'="',suffix:'"]',Attribute:function(a,b,c){return a.getAttribute(b)===c?a:void 0}},"[*=]":{tags:["selector"],prefix:"[",separator:'*="',suffix:'"]',Attribute:function(a,b,c){var d;return(null!=(d=a.getAttribute(b))?d.indexOf(c):void 0)>-1?a:void 0}},"[|=]":{tags:["selector"],prefix:"[",separator:'|="',suffix:'"]',Attribute:function(a,b){return null!=a.getAttribute(b)?a:void 0}},"[]":{tags:["selector"],prefix:"[",suffix:"]",Attribute:function(a,b){return null!=a.getAttribute(b)?a:void 0}}}),f.define({":value":{Qualifier:function(a){return a.value},watch:"oninput"},":get":{Qualifier:function(a,b){return a[b]}},":first-child":{tags:["selector"],Combinator:function(a){return a.previousElementSibling?void 0:a}},":last-child":{tags:["selector"],Combinator:function(a){return a.nextElementSibling?void 0:a}},":next":{relative:!0,Combinator:function(a,b,c,d,e){var f,g;return null==a&&(a=e),f=b.queries.getCanonicalCollection(d),g=null!=f?f.indexOf(a):void 0,null!=g&&-1!==g&&g!==f.length-1?f[g+1]:void 0}},":previous":{relative:!0,Combinator:function(a,b,c,d,e){var f,g;return null==a&&(a=e),f=b.queries.getCanonicalCollection(d),g=null!=f?f.indexOf(a):void 0,-1!==g&&g?f[g-1]:void 0}},":last":{relative:!0,singular:!0,Combinator:function(a,b,c,d,e){var f,g;return null==a&&(a=e),f=b.queries.getCanonicalCollection(d),g=null!=f?f.indexOf(a):void 0,null!=g&&g===f.length-1?a:void 0}},":first":{relative:!0,singular:!0,Combinator:function(a,b,c,d,e){var f,g;return null==a&&(a=e),f=b.queries.getCanonicalCollection(d),g=null!=f?f.indexOf(a):void 0,null!=g&&0===g?a:void 0}},",":{tags:["selector"],signature:!1,separator:",",execute:function(){},serialize:function(){return""},"yield":function(a,b,c,d,e){var f,g;return f=b.queries.getScopePath(e,d)+c.parent.command.path,b.queries.add(a,f,c.parent,e,c,d),(g=b.queries).ascending||(g.ascending=[]),-1===b.indexOfTriplet(b.queries.ascending,c.parent,f,e)&&b.queries.ascending.push(c.parent,f,e),!0},release:function(a,b,c,d,e){var f;return f=b.queries.getScopePath(e,d)+c.parent.command.path,b.queries.remove(a,f,c.parent,e,c,void 0,d),!0},descend:function(a,b,c,d,e){var f,g,h,i,j,k;for(i=j=1,k=b.length;k>j;i=j+=1)(f=b[i])instanceof Array&&(g=f.command||a.Command(f),f.parent||(f.parent=b),h=this.connect(a,b,c,d,void 0,e),f=g.solve(b.domain||a,f,h||c,d));return Array.prototype.slice.call(arguments,0,4)}}}),"undefined"!=typeof document&&null!==document&&(g=f.dummy=document.createElement("_"),g.hasOwnProperty("classList")||(f["."].prototype.Qualifier=function(a,b){return a.className.split(/\s+/).indexOf(b)>-1?a:void 0}),g.hasOwnProperty("parentElement")||(f["!>"].prototype.Combinator=function(a,b,c,d,e){var f;return null==a&&(a=e),(f=a.parentNode)&&1===f.nodeType?f:void 0}),g.hasOwnProperty("nextElementSibling")||(f["+"].prototype.Combinator=function(a){for(;a=a.nextSibling;)if(1===a.nodeType)return a},f["!+"].prototype.Combinator=function(a){for(;a=a.previousSibling;)if(1===a.nodeType)return a},f["++"].prototype.Combinator=function(a){var b,c,d;for(c=void 0,d=b=a;d=d.previousSibling;)if(1===d.nodeType){(c||(c=[])).push(d);break}for(;b=b.nextSibling;)if(1===b.nodeType){(c||(c=[])).push(b);break}return c},f["~"].prototype.Combinator=function(a){var b;for(b=void 0;a=a.nextSibling;)1===a.nodeType&&(b||(b=[])).push(a);return b},f["!~"].prototype.Combinator=function(a){var b,c;for(b=void 0,c=a.parentNode.firstChild;c&&c!==a;)1===c.nodeType&&(b||(b=[])).push(c),c=c.nextSibling;return b},f["~~"].prototype.Combinator=function(a){var b,c;for(b=void 0,c=a.parentNode.firstChild;c;)c!==a&&1===c.nodeType&&(b||(b=[])).push(c),c=c.nextSibling;return b},f[":first-child"].prototype.Selecter=function(a){var b,c;if(c=a.parentNode){for(b=c.firstChild;b&&1!==b.nodeType;)b=b.nextSibling;if(b===a)return a}},f[":last-child"].prototype.Qualifier=function(a){var b,c;if(c=a.parentNode){for(b=c.lastChild;b&&1!==b.nodeType;)b=b.previousSibling;if(b===a)return mpde}})),c.exports=f}),a.register("gss/lib/commands/Style.js",function(a,b,c){var d,e,f;f=function(a,b,c,f,g,h,i,j,k,l){var m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T;if(null==f&&(f={}),null==g&&(g=[]),null==h&&(h=[]),null==i&&(i=[]),null==j&&(j={}),null==l&&(l=0),A=!0,w=q=x=void 0,u=l,void 0===a.length){for(s in a)if(o=a[s],"object"==typeof o){if(z=s.indexOf("-")>-1&&c[s]&&s||b+"-"+s,C=this.Style(o,z,c,null,null,null,null,null,null,null,l),k!==!0&&(j[z]=k||A,A=z),C.types)for(Q=C.types,p=G=0,K=Q.length;K>G;p=++G)E=Q[p],g.push(E),y=(null!=(R=C.keys)?R[p]:void 0)||z,h.push(y),-1===i.indexOf(y)&&i.push(y);if(C.keywords){S=C.keywords;for(y in S){for(F=S[y],H=0,L=F.length;L>H;H++)for(r=F[H],T=r.push&&r||[r],I=0,M=T.length;M>I;I++)v=T[I],-1===i.indexOf(v)&&i.push(v);(f[y]||(f[y]=[])).push(F)}}}}else for(p=J=0,N=a.length;N>J;p=++J)switch(z=a[p],typeof z){case"object":D=this.Style(z,b,c,f,g,h,i,j,z.push&&(A||!0)||k,l+1),w=z.pad||D.pad,u=Math.max(D.depth,u);break;case"string":if(m=this.Type,E=m[z]){if(g.push(E),void 0===q){if(void 0===E.displayName)for(s in m)if(F=m[s],F===E){E.displayName=s;break}if(B=m[E.displayName+"s"])for(s in B){E.call(this,s)&&(q=s);break}null==q&&(q=0)}}else null==q&&(q=z),(f[z]||(f[z]=[])).push(b);break;default:null==q&&(q=z)}if("function"==typeof q&&(n=q,q=void 0),void 0===q)for(q=new e,q.displayName=q.prototype.property=b,P=0,O=i.length;O>P;P++)z=i[P],q.prototype[z]=c[z].initial;
else 0===h.length&&(h=void 0);return t=new d(b,f,g,h,j,w,u,q,n),(null!=q?q.displayName:void 0)&&(q.prototype.style=t,q.prototype.styles=c,q.prototype.properties=i),t.format=function(a){return e.prototype.toExpressionString(b,a,!1,c)},c[b]=t},e=function(){function a(a){return a||(a=function(a){var b,c;if(a)for(b in a)c=a[b],this[b]=c;return this}),a.prototype=this,a}return a.prototype.format=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;if(l=void 0,this.style.keys){for(;m=this[d=(null!=d?d:-1)+1];)l=(l&&l+", "||"")+m.format(a,d+1);for(i=this.style.pad,s=h=this.properties,e=p=0,r=s.length;r>p;e=++p){if(g=s[e],e&&i){if(e>2){if(this.equals(g,h[1]))continue}else if(e>1){if(this.equals(g,h[0])&&(!this.hasOwnProperty[h[3]]||this.equals(h[3],h[1])))continue}else if(this.equals(g,h[0])&&this.equals(h[1],h[2])&&this.equals(h[2],h[3]))continue}else if(a&&b&&null!=(o=a[g+"-"+b])){if(j=k=void 0,"string"!=typeof o)for(h=this.style.keys,n=this.style.types,e=q=t=h.indexOf(g)-1;q>0;e=q+=-1)if((f=h[e])!==k){if(this.hasOwnProperty(f))break;n[e]===this.styles.engine.Type.Length&&(c=this.toExpressionString(f,this[f]),j=((l||j)&&" "||"")+c+(j&&" "+j||""),k=f)}j&&(l+=j)}else{if(!this.hasOwnProperty(g))continue;o=this[g]}c=this.toExpressionString(g,o),l=(l&&l+" "||"")+c}}return l},a.prototype.equals=function(a,b){var c,d;return c=this[a],d=this[b],"object"!=typeof c?c===d:c[0]===d[0]&&c[1]===d[1]&&c[2]===d[2]},a.prototype.toExpressionString=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n;switch(null==d&&(d=this.styles),typeof b){case"object":if(g=b[0],e=this.styles.engine,"%"===g||e.Unit[g]||e.Type.Times[g])return this.toExpressionString(a,b[1],!0)+g;for(h=g+"(",f=k=1,n=b.length-1;n>=1?n>=k:k>=n;f=n>=1?++k:--k)1!==f&&(h+=","),h+=this.toExpressionString(a,b[f],!0);return h+")";case"number":if(!c){for(j=d[a].types,l=0,m=j.length;m>l;l++)if(i=j[l],"Integer"===i.displayName||"Float"===i.displayName)return b;0!==b&&(b=Math.floor(b)+"px")}}return b},a}(),d=function(a,b,c,d,e,f,g,h,i){var j;return j=function(){var a,g,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F;for(s=o=void 0,f&&arguments.length<4&&(g=[arguments[0],null!=(C=arguments[1])?C:arguments[0],null!=(D=arguments[2])?D:arguments[0],null!=(E=arguments[1])?E:arguments[0]]),F=g||arguments,l=w=0,z=F.length;z>w;l=++w){switch(k=F[l],typeof k){case"object":if("string"!=typeof k[0]||1===k.length){if(!(o=j.apply(this,k)))return;(s||(s=new h))[l]=o}break;case"string":if(q=b[k]){if(!d)return k;for(n=f&&l||0;null!=(p=q[n++]);){if(s&&s.hasOwnProperty(p)){if(1===q.length&&k!==s[p]){if(a=k,k=s[p],s[p]=a,"string"==typeof k&&(q=b[k])){n=f&&l||0;continue}break}}else if(!e[p]||s&&void 0!==s[e[p]]){o=(s||(s=new h))[p]=k;break}if(f)break}}}if(c&&null==o)if(d){for(m=x=0,A=d.length;A>x;m=++x)if(p=d[m],!(s&&(s.hasOwnProperty(p)||(r=e[p])&&!s.hasOwnProperty(r))||void 0===(o=c[m].call(this,k)))){(s||(s=new h))[p]=o;break}}else for(m=y=0,B=c.length;B>y;m=++y)if(u=c[m],void 0!==(v=u.call(this,k)))return v;if(null==o)return;o=void 0}return i&&null!=(t=i(s))?t:s},j.matcher=!0,j.displayName=a,null!=b&&(j.keywords=b),null!=c&&(j.types=c),null!=d&&(j.keys=d),null!=f&&(j.pad=f),null!=g&&(j.depth=g),null!=h&&(j.initial=h),null!=i&&(j.callback=i),j},c.exports=f}),a.register("gss/lib/commands/Stylesheet.js",function(a,b,c){var d,e,f,g,h={}.hasOwnProperty,i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e=b("ccss-compiler"),d=b("../Command"),f=function(a){function b(){return g=b.__super__.constructor.apply(this,arguments)}return i(b,a),b.prototype.type="Stylesheet",b.prototype.signature=[{source:["Selector","String","Node"]},[{type:["String"],text:["String"]}]],b.define({eval:function(a,b,c,d,e,f){d.Stylesheet.add(d.engine,e,f,a,b,a.textContent)},load:function(a,b,c,d,e,f){var g,h;return g=a.href||a.src||a,b||(b=a.type||"text/gss"),h=new XMLHttpRequest,d.Stylesheet.block(d),h.onreadystatechange=function(){return 4===h.readyState&&200===h.status&&(d.Stylesheet.add(d,e,f,a,b,h.responseText),d.Stylesheet.unblock(d))?d.Stylesheet.complete(d):void 0},h.open("GET",c&&c.toUpperCase()||g),h.send()}}),b.mimes={"text/gss-ast":function(a){return JSON.parse(a)},"text/gss":function(a){var b;return null!=(b=e.parse(a))?b.commands:void 0}},b.add=function(a,b,c,d,e,f){var g,h,i,j,k,l,m;if(e=d.getAttribute("type")||"text/gss",d.operations?(a.queries.clean(this.prototype.delimit(d.continuation)),(i=a.stylesheets[d.continuation])!==d&&a.stylesheets.splice(a.stylesheets.indexOf(i),1)):d.continuation=this.prototype.delimit(c,this.prototype.DESCEND),d.command=this,d.operations=a.clone(this.mimes[e](f)),j=(k=a.engine).stylesheets||(k.stylesheets=[]),a.console.row("parse",d.operations,d.continuation),-1===j.indexOf(d)){for(h=l=0,m=j.length;m>l&&(g=j[h],a.queries.comparePosition(g,d,b,b));h=++l);j.splice(h,0,d)}a.stylesheets[d.continuation]=d,d.dirty=!0},b.operations=[["eval",["[*=]",["tag","style"],"type","text/gss"]],["load",["[*=]",["tag","link"],"type","text/gss"]]],b.perform=function(a){var b,c,d,e;if(a.stylesheets)for(e=a.stylesheets,c=0,d=e.length;d>c;c++)b=e[c],this.evaluate(a,b);return this},b.evaluate=function(a,b){var c;if(b.dirty)return b.dirty=void 0,null!=b.getAttribute("scoped")&&(null==b.scoped&&(b.scoped="scoped"),c=a.getScopeElement(b.parentNode)),a.solve(b.operations,b.continuation,c)},b.complete=function(a){return this.perform(a),0===a.blocking?(a.blocking=void 0,a.engine.commit(void 0,void 0,!0)):void 0},b.compile=function(a){return this.CanonicalizeSelectorRegExp=new RegExp("[$][a-z0-9]+["+a.queries.DESCEND+"]s*","gi"),a.engine.solve("Document","stylesheets",this.operations),!a.blocking&&a.stylesheets?this.complete(a):void 0},b.update=function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;for(t=this.getWatchers(a,e),h=this.getStylesheet(a,e),s=h.sheet,l=this.getOperation(b,t,f),p=[],j=u=0,w=t.length;w>u&&(k=t[j],!(j>=l));j=++u)(n=t[j])&&(o=this.getRule(t[n[0]][0]),-1===p.indexOf(o)&&p.push(o));if(!s)return void(h.parentNode&&h.parentNode.removeChild(h));if(q=s.rules||s.cssRules,l!==b.index||""===d){for(i=q[p.length],i.style[c]=d,m=void 0,l===b.index&&l++,j=v=l,x=t.length;x>=l?x>v:v>x;j=x>=l?++v:--v)if(n=t[j]){m=this.getRule(t[n[0]][0]),m!==f&&s.deleteRule(p.length);break}m||s.deleteRule(p.length)}else g=c+":"+d,r=this.getSelector(b),j=s.insertRule(r+"{"+g+"}",p.length);return!0},b.getRule=function(a){var b;for(b=a;b=b.parent;)if("rule"===b[0])return b},b.getStylesheet=function(a,b){var c,d;return(c=((d=a.stylesheets).dumps||(d.dumps={}))[b._gss_id])||(c=a.stylesheets.dumps[b._gss_id]=document.createElement("STYLE"),b.parentNode.insertBefore(c,b.nextSibling)),c},b.getWatchers=function(a,b){var c,d,e;return(c=(d=a.stylesheets).watchers||(d.watchers={}))[e=b._gss_id]||(c[e]=[])},b.getOperation=function(a,b,c){var d,e,f,g,h,i;for(d=a.index,h=c.properties,f=0,g=h.length;g>f;f++)if(e=h[f],null!=(i=b[e])?i.length:void 0){d=e;break}return d},b.set=function(a,b,c,d,e,f,g){var h;return(h=this.getRule(b))?(this.watch(a,b,c,d)&&this.update(a,b,f,g,d,h)&&(a.engine.restyled=!0),!0):void 0},b.block=function(a){return a.blocking=(a.blocking||0)+1},b.unblock=function(a){return 0===--a.blocking},b.remove=function(a,b){var c,d,e,f,g,h,i,j;if(a.stylesheets)for(j=a.stylesheets,g=0,i=j.length;i>g;g++)if(e=j[g],(f=this.getWatchers(a,e))&&(d=f[b]))for(h=d.length-1;h>=0;h+=-1)c=d[h],this.unwatch(a,c,b,e,f)},b.watch=function(a,b,c,d){var e,f,g;return f=this.getWatchers(a,d),e=f[g=b.index]||(f[g]=[]),e.indexOf(c)>-1?void 0:((f[c]||(f[c]=[])).push(b),1===e.push(c))},b.unwatch=function(a,b,c,d,e){var f,g,h;return null==e&&(e=this.getWatchers(a,d)),f=b.index,g=e[f],g.splice(g.indexOf(c),1),h=e[c],h.splice(h.indexOf(b),1),h.length||delete e[c],g.length?void 0:(delete e[f],this.update(a,b,b[1],"",d,this.getRule(b)))},b["export"]=function(){var a,b,c,d,e,f,g,h,i;c=[],h=engine.stylesheets.dumps;for(a in h)for(d=h[a],i=d.sheet.rules||d.sheet.cssRules,f=0,g=i.length;g>f;f++)b=i[f],e=b.cssText.replace(/\[matches~="(.*?)"\]/g,function(a,b){return b.replace(/@\d+/g,"").replace(//g," ")}),c.push(e);return c.join("")},b.getSelector=function(a){return this.getSelectors(a).join(", ")},b.getSelectors=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=this;for(h=a,k=n=e=void 0;h;){if("Condition"===(null!=(u=h.command)?u.type:void 0)){if(k)for(g=o=0,r=k.length;r>o;g=++o)j=k[g],'[matches~="'!==j.substring(0,11)&&(j=this.getCustomSelector(j)),k[g]=j.substring(0,11)+h.command.key+this.prototype.DESCEND+j.substring(11)}else if("rule"===h[0])if(d=h[1].command,l=d.path,","===h[1][0]?(i=h[1].slice(1).map(function(a){return a.command.selector||a.command.path}),f=(null!=(v=d.selector)?v.split(","):void 0)||[]):(i=[l],f=[d.selector||d.key===d.path&&d.key]),null!=k?k.length:void 0){for(c=l.split(","),m=[],p=0,s=k.length;s>p;p++)if(j=k[p],'[matches~="'===j.substring(0,11))m.push(j.substring(0,11)+l+this.prototype.DESCEND+j.substring(11));else for(g=q=0,t=c.length;t>q;g=++q)b=c[g],m.push(f[g]!==b?this.getCustomSelector(l)+" "+j:b+" "+j);k=m}else k=l.split(",").map(function(a,b){return a!==f[b]?w.getCustomSelector(l):a});h=h.parent}return k},b.getCustomSelector=function(a){return'[matches~="'+a.replace(/\s+/g,this.prototype.DESCEND)+'"]'},b.getCanonicalSelector=function(a){return a=a.trim(),a=a.replace(this.CanonicalizeSelectorRegExp," ").replace(/\s+/g,this.prototype.DESCEND)},b.match=function(a,b){var c;if(1===a.nodeType)return(c=b.indexOf(this.prototype.DESCEND))>-1&&(b=b.substring(c+1)),b=this.getCanonicalSelector(b),a.setAttribute("matches",(a.getAttribute("matches")||"")+" "+b.replace(/\s+/,this.prototype.DESCEND))},b.unmatch=function(a,b){var c,d,e;if(1===a.nodeType)return(d=a.getAttribute("matches"))&&((c=b.indexOf(this.prototype.DESCEND))>-1&&(b=b.substring(c+1)),e=" "+this.getCanonicalSelector(b),d.indexOf(e)>-1)?a.setAttribute("matches",d.replace(e,"")):void 0},b}(d),c.exports=f}),a.register("gss/lib/commands/Type.js",function(a,b,c){var d;d=function(){function a(){}return a.define=function(a,b){var c,d;if(b)return this[a]=b;d=[];for(c in a)b=a[c],d.push(this.define(c,b));return d},a}(),d.define({Float:function(a){var b;return b=parseFloat(a),b===a?b:void 0},Integer:function(a){var b;return b=parseInt(a),String(b)===String(a)?b:void 0},String:function(a){return"string"==typeof a?a:void 0},Strings:function(a){return"string"==typeof a||a instanceof Array?a:void 0},Timings:{ease:["cubic-bezier",.42,0,1,1],"ease-in":["cubic-bezier",.42,0,1,1],"ease-out":["cubic-bezier",0,0,.58,1],"ease-in-out":["cubic-bezier",.42,0,.58,1],linear:["cubic-bezier",0,0,1,1],"step-start":"step-start","step-end":"step-end"},Timing:function(a){if(null==a&&(a="ease"),"string"==typeof a){if(a=this.Type.Timings[a])return a}else if("steps"===a[0]||"cubic-bezier"===a[0])return a},Length:function(a){return"number"==typeof a?a:this.Unit[a[0]]?0===a[1]?0:a:void 0},Percentage:function(a){return"%"===a[0]?a:void 0},Positions:{top:"top",bottom:"bottom",left:"left",right:"right"},Position:function(a){return this.Type.Positions[a]?a:void 0},Times:{s:"s",ms:"ms",m:"m"},Time:function(a){return this.Type.Times[a[0]]?a:void 0},Colors:{transparent:"transparent",hsl:"hsl",rgb:"rgb",hsla:"hsla",rgba:"rgba",hsb:"hsb"},Pseudocolors:{transparent:"transparent",currentColor:"currentColor"},Color:function(a){if("string"==typeof a){if(this.Type.Pseudocolors[a])return a}else if(this.Type.Colors[a[0]])return a},Sizes:{medium:"medium","xx-small":"xx-small","x-small":"x-small",small:"small",large:"large","x-large":"x-large","xx-large":"xx-large",smaller:"smaller",larger:"larger"},Size:function(a){return this.Type.Sizes[a]?a:void 0},Gradients:{"linear-gradient":"linear-gradient","radial-gradient":"radial-gradient","repeating-linear-gradient":"repeating-linear-gradient","repeating-radial-gradient":"repeating-radial-gradient"},Gradient:function(a){return this.Type.Gradients[a[0]]?a:void 0},URLs:{url:"url",src:"src"},URL:function(a){return this.Type.URLs[a[0]]?a:void 0},Property:function(a){return this.properties[a]?a:void 0},Matrix:function(a){return"object"==typeof a&&void 0!==object.length?a:void 0}}),c.exports=d}),a.register("gss/lib/commands/Transformation.js",function(a,b,c){var d,e,f,g={}.hasOwnProperty,h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("../Command"),e=function(a){function c(){return f=c.__super__.constructor.apply(this,arguments)}return h(c,a),c.prototype.type="Transformation",c.Matrix=b("../../vendor/gl-matrix"),c.prototype.matrix=function(){},c.prototype.matrix3d=function(){},c.prototype._transform=function(a,b,c,d,e){return 9===a.length?mat3[b](a,a,c,d,e):mat4[b](a,a,c,d,e)},c.prototype._transform3d=function(a,b,c,d,e){return 9===a.length&&(a=mat4.fromMat3(a)),mat4[b](a,a,c,d,e)},c.prototype.translate=[function(a,b,c){return null==c&&(c=b),this._transform(a,"translate",[b,c])},{"3d":function(a,b,c,d){return null==c&&(c=b),null==d&&(d=0),0===d?this._transform(a,"translate",[b,c]):this._transform3d(a,"translate",[b,c,d])},x:function(a,b){return this._transform(a,"translate",[b,1,1])},y:function(a,b){return this._transform(a,"translate",[1,b,1])},z:function(a,b){return this._transform3d(a,"translate",[1,1,b])}}],c.prototype.rotate=[function(a,b,c,d){return this._transform(a,"rotate",[b,c],d)},{"3d":function(a,b,c,d,e){return this._transform3d(a,"rotate",[b,c,d],e)},x:function(a,b){return this._transform(a,"rotateX",b)},y:function(a,b){return this._transform(a,"rotateY",b)},z:function(a,b){return this._transform3d(a,"rotateZ",b)}}],c.prototype.scale=[function(a,b,c,d){return null==c&&(c=b),null==d&&(d=1),1===d?this._transform(a,"scale",[b,c]):this._transform3d(a,"scale",[b,c,d])},{x:function(a,b){return this._transform(a,"scale",[b,1,1])},y:function(a,b){return this._transform(a,"scale",[1,b,1])},z:function(a,b){return this._transform3d(a,"scale",[1,1,b])}}],c}(d),c.exports=e}),a.register("gss/lib/commands/Unit.js",function(a,b,c){var d,e,f,g={}.hasOwnProperty,h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("../Command"),e=function(a){function b(){return f=b.__super__.constructor.apply(this,arguments)}return h(b,a),b.prototype.type="Unit",b.prototype.signature=[{value:["Variable"]}],b}(d),e.define({px:function(a){return a},pt:function(a){return a},cm:function(a){return this["*"](a,37.8)},mm:function(a){return this["*"](a,3.78)},"in":function(a){return this["*"](a,96)},deg:function(a){return this["*"](a,Math.PI/180)},grad:function(a){return this.deg(this["/"](a,.9))},turn:function(a){return this.deg(this["*"](a,360))},rad:function(a){return a}}),e.define({em:function(a,b,c,d,e){return this["*"](this.get(e,"font-size",d),a)},rem:function(a,b,c,d){return this["*"](this.get("::window","font-size",d),a)},vw:function(a,b,c,d){return this["*"](this["/"](this.get("::window","width",d),100),a)},vh:function(a,b,c,d){return this["*"](this["/"](this.get("::window","height",d),100),a)},vmin:function(a,b,c,d){return this["*"](this["/"](this.get("::window","min",d),100),a)},vmax:function(a,b,c,d){return this["*"](this["/"](this.get("::window","max",d),100),a)}}),c.exports=e}),a.register("gss/lib/commands/Variable.js",function(a,b,c){var d,e,f,g={}.hasOwnProperty,h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("../Command"),e=function(a){function b(){}return h(b,a),b.prototype.type="Variable",b.prototype.signature=[{property:["String"]}],b.prototype.before=function(a,b,c,d,e,f,g){var h,i;return null!=(h=null!=g&&null!=(i=g.values)?i[a[0]]:void 0)?h:void 0},b.prototype.declare=function(a,b){var c,d;return d=a.variables,(c=d[b])||(c=d[b]=a.variable(b)),(a.declared||(a.declared={}))[b]=c,c},b.prototype.undeclare=function(a,b,c){var d;return c?(a.replaced||(a.replaced={}))[b.name]=b:((a.nullified||(a.nullified={}))[b.name]=b,(null!=(d=a.declared)?d[b.name]:void 0)&&delete a.declared[b.name]),delete a.values[b.name],a.nullify(b),a.unedit(b)},b}(d),e.Expression=function(a){function b(){return f=b.__super__.constructor.apply(this,arguments)}return h(b,a),b.prototype.signature=[{left:["Variable","Number"],right:["Variable","Number"]}],b}(e),e.Expression.algebra={"+":function(a,b){return a+b},"-":function(a,b){return a-b},"*":function(a,b){return a*b},"/":function(a,b){return a/b}},c.exports=e}),a.register("gss/lib/commands/Call.js",function(a,b,c){var d,e,f,g,h={}.hasOwnProperty,i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e=b("../Command"),d=function(a){function b(){return f=b.__super__.constructor.apply(this,arguments)}return i(b,a),b.prototype.type="Call",b.prototype.signature=[{value:["Variable"]}],b}(e),d.Unsafe=function(a){function b(){return g=b.__super__.constructor.apply(this,arguments)}return i(b,a),b.prototype.signature=!1,b}(d),c.exports=d}),a.register("gss/lib/domains/Numeric.js",function(a,b,c){var d,e,f,g,h,i,j={}.hasOwnProperty,k=function(a,b){function c(){this.constructor=a}for(var d in b)j.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};f=b("../Domain"),e=b("../Command"),h=b("../commands/Variable"),d=b("../commands/Block"),g=function(a){function b(){return i=b.__super__.constructor.apply(this,arguments)}return k(b,a),b.prototype.priority=200,b.prototype.url=null,b}(f),g.prototype.Variable=h.extend({},{get:function(a,b,c,d,e){var f;return(f=this.getMeta(c))&&(d=f.key,e||(e=f.scope&&b.identity[f.scope]||b.scope)),b.watch(null,a,c,this.delimit(d||""),e)}}),g.prototype.Variable.Expression=h.Expression.extend(),g.prototype.Variable.Expression.define(h.Expression.algebra),g.prototype.Block=d.extend(),g.prototype.Block.Meta=d.Meta.extend({signature:[{body:["Any"]}]},{object:{execute:function(a){return a},descend:function(a,b){var c,d;return c=b[0],d=c.scope&&a.identity[c.scope]||a.scope,[b[1].command.solve(a,b[1],c.key,d,void 0,b[0])]}}}),c.exports=g}),a.register("gss/lib/domains/Abstract.js",function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o={}.hasOwnProperty,p=function(a,b){function c(){this.constructor=a}for(var d in b)o.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},q=[].slice;k=b("../Domain"),h=b("../Command"),n=b("../commands/Variable"),j=b("../commands/Constraint"),e=b("../commands/Assignment"),i=b("../commands/Condition"),l=b("../commands/Iterator"),f=b("../commands/Call"),d=function(a){function c(){this.running&&this.compile(),c.__super__.constructor.apply(this,arguments)}return p(c,a),c.prototype.url=void 0,c.prototype.helps=!0,c.prototype.Properties=b("../properties/Axioms"),c.condition=function(){return!this.scope},c}(k),d.prototype.Remove=f.Unsafe.extend({extras:1},{remove:function(){var a,b,c,d,e,f;for(a=2<=arguments.length?q.call(arguments,0,d=arguments.length-1):(d=0,[]),b=arguments[d++],e=0,f=a.length;f>e;e++)c=a[e],b.triggerEvent("remove",c);return!0}}),d.prototype.Default=h.Default.extend({extras:2,execute:function(){var a,b,c,d;return a=3<=arguments.length?q.call(arguments,0,d=arguments.length-2):(d=0,[]),b=arguments[d++],c=arguments[d++],a.unshift(c[0]),a}}),m=d.prototype.Default.extend({condition:function(a,b){var c;return(c=b.parent)&&c.command instanceof d.prototype.Default?!1:!0},extras:4,execute:function(){var a,b,c,d,e,f,g,h,i;a=5<=arguments.length?q.call(arguments,0,i=arguments.length-4):(i=0,[]),d=arguments[i++],f=arguments[i++],b=arguments[i++],g=arguments[i++],e={key:this.delimit(b)},g!==d.scope&&(e.scope=d.identify(g)),a.unshift(f[0]),h=this.produce(e,a,f),a.parent=h,this.inheriting&&(h.parent=f.parent),(c="function"==typeof this.domain?this.domain(d):void 0)&&(h.domain||(h.domain=c)),d.update(h,void 0,void 0,c)},produce:function(a,b){return[a,b]}}),g=m.extend({condition:function(a,b){var c;return(c=b.parent)&&c[1]===b?c.command instanceof d.prototype.Condition:void 0},domain:function(a){return a.solved},inheriting:!0}),d.prototype.Default.prototype.advices=[g,m],d.prototype.Iterator=l,d.prototype.Condition=i,d.prototype.List=h.List,d.prototype.Variable=n.extend({signature:[{property:["String"]}]},{get:function(a,b,c,d,e){var f;return b.queries&&(e===b.scope&&(e=void 0),f=b.queries.getScope(e,d)),["get",b.getPath(f,a)]}}),d.prototype.Variable.Getter=d.prototype.Variable.extend({signature:[{object:["Query","Selector","String"],property:["String"]}]},{get:function(a,b,c,d,e){var f;return c.queries&&(a=c.queries.getScope(a,e)),(f=c.properties[b])&&!f.matcher?f.call(c,a,e):["get",c.getPath(a,b)]}}),d.prototype.Variable.Expression=n.Expression.extend({},{"+":function(a,b){return["+",a,b]},"-":function(a,b){return["-",a,b]},"/":function(a,b){return["/",a,b]},"*":function(a,b){return["*",a,b]}}),d.prototype.Assignment=e.extend({},{"=":function(a,b,c,d){return d.assumed.set(a,b,c)}}),d.prototype.Assignment.Unsafe=e.Unsafe.extend({},{set:function(a,b,c,d,e,f,g){d.intrinsic?d.intrinsic.restyle(a||g,b,c,f,e):d.assumed.set(a||g,b,c)}}),c.exports=d}),a.register("gss/lib/domains/Boolean.js",function(a,b,c){var d,e,f,g,h={}.hasOwnProperty,i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};f=b("./Numeric"),e=b("../commands/Constraint"),d=function(a){function b(){return g=b.__super__.constructor.apply(this,arguments)}return i(b,a),b.prototype.immutable=!0,b}(f),d.prototype.Constraint=e.extend({signature:[{left:["Variable","Number","Constraint"],right:["Variable","Number","Constraint"]}]},{"&&":function(a,b){return a&&b},"||":function(a,b){return a||b},"!=":function(a,b){return a===b},"==":function(a,b){return a===b},"<=":function(a,b){return b>=a},">=":function(a,b){return a>=b},"<":function(a,b){return b>a},">":function(a,b){return a>b}}),c.exports=d}),a.register("gss/lib/domains/Intrinsic.js",function(a,b,c){var d,e,f,g,h={}.hasOwnProperty,i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};f=b("./Numeric"),d=b("../properties/Dimensions"),g=b("../properties/Styles"),e=function(a){function c(){this.types=new this.Type(this),c.__super__.constructor.apply(this,arguments)}return i(c,a),c.prototype.priority=100,c.prototype.subscribing=!0,c.prototype.immediate=!0,c.prototype.Unit=b("../commands/Unit"),c.prototype.Style=b("../commands/Style"),c.prototype.Type=b("../commands/Type"),c.prototype.Transformation=b("../commands/Transformation"),c.prototype.Properties=function(){var a,b,c,e,f;a=function(){},e=g.prototype;for(b in e)c=e[b],a.prototype[b]=c;f=d.prototype;for(b in f)c=f[b],a.prototype[b]=c;return a}(),c.prototype.getComputedStyle=function(a,b){var c,d,e;return null==(e=a.currentStyle)&&(c=this.computed||(this.computed={}),d=this.identify(a),e=c[d],b||null==e)?c[d]=window.getComputedStyle(a):e},c.prototype.restyle=function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;switch(null==c&&(c=""),b){case"x":b="left";break;case"y":b="top"}if(null!=(r=o=this.properties[b])?r.matcher:void 0){if(g=this.camelize(b),"string"!=typeof c&&(c=o.format(c)),"left"===b||"top"===b){if(n=a.style.position,void 0===a.positioned&&(a.positioned=+!!n),n&&"absolute"!==n)return;""===a.style[g]?null!=c&&""!==c&&(a.positioned=(a.positioned||0)+1):(null==c||""===c)&&(a.positioned=(a.positioned||0)-1),1===a.positioned?a.style.position="absolute":0===a.positioned&&(a.style.position="")}if(d&&(f=d.split(this.queries.DESCEND),i=f.shift(),(k=i.lastIndexOf("$"))>-1&&(j=i.substring(k),h=null!=(s=q=this.identity[j])?s.command:void 0))){for(l=e;(l=l.parent)&&"rule"!==l[0];)if("if"===l[0]){p=!1;break}if(p!==!1&&h.set(this,e,this.queries.delimit(d),q,a,b,c))return}m=this.getPath(a,"intrinsic-"+b),(null!=(t=this.watchers)?t[m]:0)||(a.style[g]=c)}},c.prototype.perform=function(){return arguments.length<4?(this.each(this.scope,this.measure),this.console.row("Intrinsic",this.changes),this.changes):void 0},c.prototype.get=function(a,b,c){var d,e,g,h,i;if(g=this.getPath(a,b),null!=(h=this.properties[g]))return i="function"==typeof h?h.call(this,a,c):h,this.set(null,g,i),i;if((e=g.indexOf("["))>-1&&(d=g.substring(0,e),b=g.substring(e+1,g.length-1),a=this.identity.solve(g.substring(0,e)),null!=(h=this.properties[b]))){if(h.axiom)return h.call(this,a,c);if("function"!=typeof h)return h;if(!h.matcher&&-1===b.indexOf("intrinsic"))return h.call(this,a,c)}return f.prototype.get.call(this,null,g,c)},c.prototype.validate=function(){var a;if(a=this.objects)return this.engine.updating.reflown=this.scope},c.prototype.verify=function(a,b,c){var d;return d=this.getPath(a,b),this.values.hasOwnProperty(d)?this.set(null,d,this.get(null,d,c)):void 0},c.prototype.each=function(a,b,c,d,e,f,g,h,i){var j,k,l,m,n;for(null==c&&(c=0),null==d&&(d=0),n=this.engine.scope,a||(a=n),(m=b.call(this,a,c,d,f,g,h,i))&&(c+=m.x||0,d+=m.y||0),a.offsetParent===n?(c-=n.offsetLeft,d-=n.offsetTop):a!==n&&(m||(l=!0)),a===document&&(a=document.body),j=a.firstChild,k=0;j;)1===j.nodeType&&(l&&0===k&&j.offsetParent===a&&(c+=a.offsetLeft+a.clientLeft,d+=a.offsetTop+a.clientTop,e=a),"relative"===j.style.position?this.each(j,b,0,0,e,f,g,h,i):this.each(j,b,c,d,e,f,g,h,i),k++),j=j.nextSibling;return f},c.prototype.getStyle=function(a,b){var c,d;return d=a.style[b]||this.getComputedStyle(a)[b],d&&(c=parseFloat(d),String(c)===String(d)||c+"px"===d)?c:d},c.prototype.onWatch=function(a,b){var c;return(c=this.identity.solve(a))&&1===c.nodeType&&(b.indexOf("intrinsic-")>-1&&(b=b.substring(10)),void 0!==this.engine.values[this.getPath(a,b)])?c.style[b]="":void 0},c.prototype.measure=function(a,b,c,d){var e,f,g,h,i;if(this.objects&&(e=a._gss_id)&&(g=this.objects[e]))for(f in g)if(!d||"width"!==f&&"height"!==f)switch(f){case"x":case"intrinsic-x":this.set(e,f,b+a.offsetLeft);break;case"y":case"intrinsic-y":this.set(e,f,c+a.offsetTop);break;case"width":case"intrinsic-width":this.set(e,f,a.offsetWidth);break;case"height":case"intrinsic-height":this.set(e,f,a.offsetHeight);break;default:h=this.getIntrinsicProperty(f)||f,(null!=(i=this.properties[h])?i.matcher:void 0)?this.set(e,f,this.getStyle(a,h)):this.set(e,f,this.get(a,f))}},c.prototype.getIntrinsicProperty=function(a){var b,c,d;return b=a.indexOf("intrinsic-"),b>-1?(-1===(c=a.indexOf("]",b))&&(c=void 0),d=a.substring(b+10,c)):void 0},c.prototype.camelize=function(a){return a.toLowerCase().replace(/-([a-z])/gi,function(a){return a[1].toUpperCase()})},c.prototype.dasherize=function(a){return a.replace(/[A-Z]/g,function(a){return"-"+a[0].toLowerCase()})},c.condition=function(){return null!=this.scope},c.prototype.url=null,c}(f),c.exports=e}),a.register("gss/lib/domains/Document.js",function(a,b,c){var d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("./Abstract"),e=function(a){function c(){var a;a=this.engine,a.positions||(a.positions=new this.Positions(this)),a.queries||(a.queries=new this.Queries(this)),a.pairs||(a.pairs=new this.Pairs(this)),a.mutations||(a.mutations=new this.Mutations(this)),a.applier||(a.applier=a.positions),a.scope||(a.scope=document),9===this.scope.nodeType&&(-1===["complete","loaded"].indexOf(this.scope.readyState)?(document.addEventListener("DOMContentLoaded",a),document.addEventListener("readystatechange",a),window.addEventListener("load",a)):this.compile()),this.scope.addEventListener("scroll",a,!0),"undefined"!=typeof window&&null!==window&&window.addEventListener("resize",a),c.__super__.constructor.apply(this,arguments)}return g(c,a),c.prototype.priority=1/0,c.prototype.Selector=b("../commands/Selector"),c.prototype.Stylesheet=b("../commands/Stylesheet"),c.prototype.Queries=b("../structures/Queries"),c.prototype.Pairs=b("../structures/Pairs"),c.prototype.Mutations=b("../structures/Mutations"),c.prototype.Positions=b("../structures/Positions"),c.prototype.disconnected=!0,c.prototype.events={resize:function(a){var b,c=this;if(null==a&&(a="::window"),b=a.target&&this.identify(a.target)||a,null==this.resizer){if(a.target&&this.updating){if(this.updating.resizing)return this.updating.resizing="scheduled";this.updating.resizing="computing"}this.once("solve",function(){return requestAnimationFrame(function(){var a;return"scheduled"===(null!=(a=this.updated)?a.resizing:void 0)?this.triggerEvent("resize"):void 0})})}else cancelAnimationFrame(this.resizer);return this.resizer=requestAnimationFrame(function(){return c.resizer=void 0,c.solve(b+" resized",function(){return this.intrinsic.verify(b,"width"),this.intrinsic.verify(b,"height")})})},scroll:function(a){var b;return null==a&&(a="::window"),b=a.target&&this.identify(a.target)||a,this.solve(b+" scrolled",function(){return this.intrinsic.verify(b,"scroll-top"),this.intrinsic.verify(b,"scroll-left")})},DOMContentLoaded:function(){return document.removeEventListener("DOMContentLoaded",this),this.compile()},readystatechange:function(){return this.running&&"complete"===document.readyState?this.solve("Document","readystatechange",function(){return this.intrinsic.solve()}):void 0},load:function(){return window.removeEventListener("load",this),document.removeEventListener("DOMContentLoaded",this),this.solve("Document","load",function(){})},compile:function(){return this.document.Stylesheet.compile(this.document),this.document.mutations.connect()},solve:function(){var a,b,c,d,e,f,g,h;if(9===this.scope.nodeType&&(a=this.scope.body.parentNode,c=a.className,-1===c.indexOf("gss-ready")&&(null!=(f=this.mutations)&&f.disconnect(!0),a.className=(c&&c+" "||"")+"gss-ready",null!=(g=this.mutations)&&g.connect(!0))),this.document.removed){for(h=this.document.removed,d=0,e=h.length;e>d;d++)b=h[d],this.identity.unset(b);return this.document.removed=void 0}},commit:function(){return this.document.Stylesheet.perform(this.document)},destroy:function(){return this.scope.removeEventListener("DOMContentLoaded",this),this.scope.removeEventListener("scroll",this),window.removeEventListener("resize",this)}},c.condition=function(){return null!=this.scope},c.prototype.transact=function(){var a,b;return(a=c.__super__.transact.apply(this,arguments))?(null!=(b=this.mutations)&&b.disconnect(!0),a):void 0},c.prototype.commit=function(){var a,b;return(a=c.__super__.commit.apply(this,arguments))?(null!=(b=this.mutations)&&b.connect(!0),a):void 0},c.prototype.url=null,c}(d),c.exports=e}),a.register("gss/lib/domains/Linear.js",function(a,b,d){var e,f,g,h,i,j,k,l={}.hasOwnProperty,m=function(a,b){function c(){this.constructor=a}for(var d in b)l.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},n=[].slice;h=b("../Domain"),j=b("../commands/Variable"),g=b("../commands/Constraint"),e=b("../commands/Block"),f=b("../commands/Call"),i=function(a){function d(){return k=d.__super__.constructor.apply(this,arguments)}return m(d,a),d.prototype.priority=0,d.prototype.Solver=b("cassowary"),d.prototype.setup=function(){return d.__super__.setup.apply(this,arguments),this.hasOwnProperty("solver")?void 0:(this.solver=new c.SimplexSolver,this.solver.autoSolve=!1,this.solver._store=[],this.console.level>1&&(c.debug=!0,c.trace=!0),c.Strength.require=c.Strength.required,d.hack())},d.prototype.perform=function(){if(this.constrained){if(this.constrained=this.suggested=void 0,this.solver._needsSolving)return this.solver.solve(),this.solver._changed}else if(this.suggested)return this.suggested=void 0,this.solver.resolve(),this.solver._changed},d.prototype.unedit=function(a){var b,c,d;return(c=null!=(d=this.editing)?d["%"+a.name]:void 0)?(b=this.solver._editVarMap.get(c.variable),this.solver.removeColumn(b.editMinus),this.solver._editVarMap["delete"](c.variable)):void 0
},d.prototype.edit=function(a,b,d){var e,f;return(null!=(f=this.editing)?f[a.name]:void 0)||(e=new c.EditConstraint(a,this.strength(b,"strong"),this.weight(d)),e.variable=a,this.Constraint.prototype.inject(this,e),(this.editing||(this.editing={}))[a.name]=e),e},d.prototype.nullify=function(a){return this.solver._externalParametricVars["delete"](a),a.value=0},d.prototype.suggest=function(a,b,c,d,e){var f;return"string"==typeof a?(f=this.variables[a])||(f=this.Variable.prototype.declare(this,a)):f=a,this.edit(f,c,d,e),this.solver.suggestValue(f,b),this.suggested=!0,f},d.prototype.variable=function(a){return new c.Variable({name:a})},d.prototype.strength=function(a,b){return null==b&&(b="medium"),a&&c.Strength[a]||c.Strength[b]},d.prototype.weight=function(a){return a},d}(h),i.Mixin={"yield":function(a,b,c){return"number"==typeof a?c.parent.domain.suggest("%"+c.command.toExpression(c),a,"require"):void 0}},i.prototype.Constraint=g.extend({before:function(a,b,c,d,e,f,g){return this.get(b,c,g)},after:function(a,b,c,d,e,f,g,h){var i,j,k,l,m;return b.hashCode?(i=(j=(k=c.linear).operations||(k.operations={}))[m=d.hash||(d.hash=this.toExpression(d))]||(j[m]={}))[l=this.toHash(h)]||(i[l]=b):b},get:function(a,b,c){var d,e;return null!=(d=a.linear.operations)&&null!=(e=d[b.hash||(b.hash=this.toExpression(b))])?e[this.toHash(c)]:void 0},"yield":i.Mixin["yield"],inject:function(a,b){return a.solver.addConstraint(b)},eject:function(a,b){return a.solver.removeConstraint(b)}},{"==":function(a,b,d,e,f){return new c.Equation(a,b,f.strength(d),f.weight(e))},"<=":function(a,b,d,e,f){return new c.Inequality(a,c.LEQ,b,f.strength(d),f.weight(e))},">=":function(a,b,d,e,f){return new c.Inequality(a,c.GEQ,b,f.strength(d),f.weight(e))},"<":function(a,b,d,e,f){return new c.Inequality(a,c.LEQ,f["+"](b,1),f.strength(d),f.weight(e))},">":function(a,b,d,e,f){return new c.Inequality(a,c.GEQ,f["+"](b,1),f.strength(d),f.weight(e))}}),i.prototype.Variable=j.extend(i.Mixin,{get:function(a,b){var c;return c=this.declare(b,a),b.unedit(c),c}}),i.prototype.Variable.Expression=j.Expression.extend(i.Mixin,{"+":function(a,b){return c.plus(a,b)},"-":function(a,b){return c.minus(a,b)},"*":function(a,b){return c.times(a,b)},"/":function(a,b){return c.divide(a,b)}}),i.prototype.Block=e.extend(),i.prototype.Block.Meta=e.Meta.extend({signature:[{body:["Any"]}]},{object:{execute:function(a,b,c){return null!=(null!=a?a.hashCode:void 0)?c[1].command.add(a,b,c[1],c[0].key):void 0},descend:function(a,b){return b[1].parent=b,[b[1].command.solve(a,b[1],"",void 0,void 0,b[0]),a,b]}}}),i.prototype.Call=f.extend({},{stay:function(a,b){b.suggested=!0,b.solver.addStay(a)}}),i.prototype.Call.Unsafe=f.Unsafe.extend({extras:1},{remove:function(){var a,b,c;return a=2<=arguments.length?n.call(arguments,0,c=arguments.length-1):(c=0,[]),b=arguments[c++],b.remove.apply(b,a)}}),i.hack=function(){var a,b,d;if(null==c.isUnordered){a={9:1,10:1};for(b in a)break;if(c.isUnordered=10===b)return d=c.HashTable.prototype.set,c.HashTable.prototype.set=function(){var a;if(!this._store.push){a=this._store,this._store=[];for(b in a)this._store[b]=a[b]}return d.apply(this,arguments)}}},d.exports=i}),a.register("gss/lib/domains/Finite.js",function(a,b,c){var d,e,f,g,h,i={}.hasOwnProperty,j=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};f=b("../Domain"),d=b("../Command"),h=b("../commands/Variable"),e=b("../commands/Constraint"),g=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return j(b,a),b.prototype.priority=-10,b.prototype.variable=function(a){return this.solver.decl(a)},b}(f),g.Constraint=e.extend({},{"==":function(a,b){return this.solver.eq(a,b)},"!=":function(a,b){return this.solver.neq(a,b)},distinct:function(){return this.solver.distinct.apply(this.solver,arguments)},"<=":function(a,b){return this.solver.lte(a,b)},">=":function(a,b){return this.solver.gte(a,b)},"<":function(a,b){return this.solver.lt(a,b)},">":function(a,b){return this.solver.gt(a,b)}}),g.Variable=h.extend({group:"finite"}),g.Variable.Expression=h.Expression.extend({group:"finite"},{"+":function(a,b){return this.solver.plus(a,b)},"-":function(a,b){return this.solver.minus(a,b)},"*":function(a,b){return this.solver.product(a,b)},"/":function(a,b){return this.solver.divide(a,b)}}),c.exports=g}),a.register("gss/lib/structures/Events.js",function(a,b,c){var d,e;d=function(a,b){var c;return null==b&&(b={bubbles:!1,cancelable:!1,detail:void 0}),c=document.createEvent("CustomEvent"),c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c},"undefined"!=typeof window&&null!==window&&(d.prototype=window.Event.prototype,window.CustomEvent=d),e=function(){function a(){this.listeners||(this.listeners={}),this.eventHandler=this.handleEvent.bind(this),this.events&&this.addListeners(this.events)}return a.prototype.destroy=function(){return this.triggerEvent("destroy"),this.scope&&this.dispatchEvent(this.scope,"destroy"),this.events?this.removeListeners(this.events):void 0},a.prototype.addListeners=function(a){var b,c,d;d=[];for(c in a)b=a[c],d.push(this.addEventListener(c,b));return d},a.prototype.removeListeners=function(a){var b,c,d;d=[];for(c in a)b=a[c],d.push(this.removeEventListener(c,b));return d},a.prototype.once=function(a,b){return b.once=!0,this.addEventListener(a,b)},a.prototype.addEventListener=function(a,b){var c;return((c=this.listeners)[a]||(c[a]=[])).push(b)},a.prototype.removeEventListener=function(a,b){var c,d;return(c=this.listeners[a])&&(d=c.indexOf(b))>-1?c.splice(d,1):void 0},a.prototype.triggerEvent=function(a,b,c,d){var e,f,g,h,i,j;if(f=null!=(j=this.listeners)?j[a]:void 0)for(g=0,h=f.length;h>g;)e=f[g],e.once&&(f.splice(g--,1),h--),e.call(this,b,c,d),g++;return this[i="on"+a]?this[i](b,c,d):void 0},a.prototype.dispatchEvent=function(a,b,c,e,f){var g,h,i;if(this.scope){g={engine:this};for(h in c)i=c[h],g[h]=i;return a.dispatchEvent(new d(b,{detail:g,bubbles:e,cancelable:f}))}},a.prototype.handleEvent=function(a){return this.triggerEvent(a.type,a)},a.prototype.then=function(a){return this.once(this.DONE,a)},a}(),c.exports=e}),a.register("gss/lib/structures/Identity.js",function(a,b,c){var d,e=function(a,b){return function(){return a.apply(b,arguments)}};d=function(){function a(){this.set=e(this.set,this)}return a.uid=0,a.prototype.set=function(b,c){var d,e;return"string"==typeof b?"$"!==b.charAt(0)&&":"!==b.charAt(0)?"$"+b:b:((d=b._gss_id)||(b===document?d="::document":b===window&&(d="::window"),c!==!1&&((e=b._gss_uid)&&(b._gss_id=e),b._gss_id=d||(d="$"+(b.id||b._gss_id||++a.uid)),this[d]=b)),d)},a.prototype.get=function(a){return this[a]},a.prototype.solve=function(a){return this[a]},a.prototype.unset=function(a){return delete this[a._gss_id]},a.prototype.find=function(a){return this.set(a,!1)},a}(),c.exports=d}),a.register("gss/lib/structures/Mutations.js",function(a,b,c){var d;b("../../vendor/weakmap.js"),b("../../vendor/MutationObserver.js"),b("../../vendor/MutationObserver.attributes.js"),d=function(){function a(a){this.engine=a,this.Observer&&(this.listener=new this.Observer(this.solve.bind(this.engine)),this.connect())}return a.prototype.options={subtree:!0,childList:!0,attributes:!0,characterData:!0,attributeOldValue:!0},a.prototype.Observer="undefined"!=typeof window&&null!==window&&(window.MutationObserver||window.WebKitMutationObserver||window.JsMutationObserver),a.prototype.connect=function(a){var b;if(!a||window.JsMutationObserver!==this.Observer)return null!=(b=this.listener)?b.observe(this.engine.scope,this.options):void 0},a.prototype.disconnect=function(a){var b;if(!a||window.JsMutationObserver!==this.Observer)return null!=(b=this.listener)?b.disconnect():void 0},a.prototype.filter=function(a){var b;for(b=a.target;b;){if(1===b.nodeType&&this.filterNode(b)===!1)return!1;b=b.parentNode}return!0},a.prototype.filterNode=function(a){return a._gss?!1:!0},a.prototype.solve=function(a){var b;if(!this.engine.running){if(9===this.engine.scope.nodeType)return;return this.engine.engine.solve(function(){})}return b=this.engine.engine.solve("Document","mutations",function(){var b,c,d;for(this.updating.index>-1&&this.updating.reset(),c=0,d=a.length;d>c;c++)if(b=a[c],this.mutations.filter(b)!==!1){switch(b.type){case"attributes":this.mutations.onAttributes(b.target,b.attributeName,b.oldValue);break;case"childList":this.mutations.onChildList(b.target,b);break;case"characterData":this.mutations.onCharacterData(b.target,b)}this.intrinsic.validate(b.target)}}),this.engine.scope.parentNode||1!==this.engine.scope.nodeType||this.engine.destroy(),b},a.prototype.onChildList=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb;for(c=[],z=[],bb=b.addedNodes,F=0,J=bb.length;J>F;F++)k=bb[F],1===k.nodeType&&this.filterNode(k)!==!1&&c.push(k);for(cb=b.removedNodes,G=0,K=cb.length;K>G;G++)k=cb[G],1===k.nodeType&&this.filterNode(k)!==!1&&((p=c.indexOf(k))>-1?c.splice(p,1):z.push(k));for(this.onCharacterData(a,a),i=c.concat(z),j=[],H=0,P=i.length;P>H;H++)u=i[H],A=u.tagName,-1===j.indexOf(A)&&j.push(A);for(w=t=b,n=m=!0,y=this.engine.queries;w=w.previousSibling;)1===w.nodeType&&(n&&(y.match(w,"+",void 0,"*"),y.match(w,"++",void 0,"*"),n=!1),y.match(w,"~",void 0,j),y.match(w,"~~",void 0,j),t=w);for(;t=t.nextSibling;)1===t.nodeType&&(m&&(y.match(t,"!+",void 0,"*"),y.match(t,"++",void 0,"*"),m=!1),y.match(t,"!~",void 0,j),y.match(t,"~~",void 0,j));for(y.match(a,">",void 0,j),d=[],g=[],f=[],s=[],I=0,Q=c.length;Q>I;I++)for(k=c[I],y.match(k,"!>",void 0,a),d.push(k),db=k.getElementsByTagName("*"),X=0,R=db.length;R>X;X++)l=db[X],d.push(l);for(Y=0,S=z.length;S>Y;Y++)for(k=z[Y],g.push(k),eb=k.getElementsByTagName("*"),Z=0,T=eb.length;T>Z;Z++)l=eb[Z],g.push(l);for(e=d.concat(g,f),B={},$=0,U=e.length;U>$;$++){for(u=e[$],fb=u.attributes,_=0,V=fb.length;V>_;_++){switch(h=fb[_],h.name){case"class":for(gb=u.classList||u.className.split(/\s+/),ab=0,W=gb.length;W>ab;ab++)r=gb[ab],this.index(B," .",r);break;case"id":this.index(B," #",h.value)}this.index(B," attribute",h.name)}for(w=t=u;w=w.previousSibling;)if(1===w.nodeType){this.index(B," +",w.tagName);break}for(;(t=t.nextSibling)&&1!==t.nodeType;);w||this.index(B," :","first-child"),t||this.index(B," :","last-child"),this.index(B," +",k.tagName)}for(v=a;v;){for(y.match(v," ",void 0,e),hb=0,L=e.length;L>hb;hb++)k=e[hb],y.match(k,"!",void 0,v);for(x in B)for(D=B[x],ib=0,M=D.length;M>ib;ib++)C=D[ib],"$"===x.charAt(1)?y.match(v,x,C):y.match(v,x,void 0,C);if(v===this.engine.scope)break;if(!(v=v.parentNode))break}for(jb=0,N=g.length;N>jb;jb++)z=g[jb],-1===d.indexOf(z)&&(o=this.engine.identity.find(z))&&((E=this.engine).removed||(E.removed=[])).push(o);if(this.engine.removed)for(kb=0,O=d.length;O>kb;kb++)c=d[kb],(q=this.engine.removed.indexOf(this.engine.identity.find(c)))>-1&&this.engine.removed.splice(q,1);return this},a.prototype.index=function(a,b,c){var d;if(d=a[b]){if(-1!==d.indexOf(c))return}else a[b]=[];return a[b].push(c)},a.prototype.onCharacterData=function(a,b){var c,d;return null==b&&(b=a.parentNode),(c=this.engine.identity.find(b))&&"STYLE"===b.tagName&&(null!=(d=b.getAttribute("type"))?d.indexOf("text/gss"):void 0)>-1?this.engine.eval(b):void 0},a.prototype.onAttributes=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p;if("style"===b&&(this.engine.engine.restyled=!0),"class"===b&&"string"==typeof c){for(f=a.classList||a.className.split(/\s+/),h=c.split(" "),c=[],j=0,m=h.length;m>j;j++)g=h[j],g&&(null!=(p=f.indexOf&&f.indexOf(g)>-1)?p:f.contains(g))||c.push(g);for(k=0,n=f.length;n>k;k++)g=f[k],g&&h.indexOf(g)>-1||c.push(g)}for(i=a;i;){if(d=a===i&&"attribute"||" attribute",this.engine.queries.match(i,d,b,a),(null!=c?c.length:void 0)&&"class"===b)for(e=a===i&&"."||" .",l=0,o=c.length;o>l;l++)g=c[l],this.engine.queries.match(i,e,g,a);if(i===this.engine.scope)break;if(!(i=i.parentNode))break}return this},a}(),c.exports=d}),a.register("gss/lib/structures/Pairs.js",function(a,b,c){var d;d=function(){function a(a){this.engine=a,this.lefts=[],this.paths={},this.engine.addEventListener("commit",this.commit.bind(this)),this.engine.addEventListener("switch",this.commit.bind(this))}return a.prototype.onLeft=function(a,b,c,d){var e;return e=this.engine.queries.getCanonicalPath(c),-1===this.engine.Domain.prototype.indexOfTriplet(this.lefts,b,e,d)?(b.right=a,this.lefts.push(b,e,d),!0):((this.dirty||(this.dirty={}))[e]=!0,!1)},a.prototype.onRight=function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n;for(f=this.engine.queries.getCanonicalPath(c.substring(0,c.length-1)),n=this.lefts,g=l=0,m=n.length;m>l;g=l+=3)h=n[g],h===b&&this.lefts[g+2]===d&&(e=this.lefts[g+1],this.watch(a,c,d,e,f));return e?(e=this.engine.queries.getCanonicalPath(e),i=(k=this.paths)[e]||(k[e]=[]),-1===i.indexOf(f)&&(j=i.push(f,a,d)),void 0===this.repairing&&((this.dirty||(this.dirty={}))[e]=!0),!1):void 0},a.prototype.remove=function(a,b){return this.paths[b]?(this.dirty||(this.dirty={}))[b]=!0:void 0},a.prototype.getSolution=function(a,b,c,d,e){var f,g,h,i,j,k,l;if(i=b.lastIndexOf(this.engine.queries.PAIR),i>-1&&!a.command.reference){for(k=-1;(h=b.indexOf(this.engine.queries.PAIR,k+1))>-1;){if(l=this.getSolution(a,b.substring(k+1,h),c,d,e,!0))return l;k=h}if(i===b.length-1&&e)return j=this.engine.Command.getRoot(a),j.right&&j.right!==a?this.onRight(a,j,b,c,d,e):this.onLeft(a,j,b,c,d,e)}else{if(1===b.length)return;if(f=this.engine.queries.getCanonicalPath(b,!0),f.charAt(0)===this.engine.queries.PAIR&&(f=f.substring(1)),f===a.command.path)return(g=b.match(this.TrailingIDRegExp))?g[1].indexOf('"')>-1?g[1]:this.engine.identity[g[1]]:this.engine.queries[b]}},a.prototype.TrailingIDRegExp=/(\$[a-z0-9-_"]+)[]?$/i,a.prototype.commit=function(){var a,b,c,d,e,f,g,h,i;if(a=this.dirty){this.dirty=void 0,this.repairing=!0;for(e in a)if(f=a[e],d=null!=(i=this.paths[e])?i.slice():void 0)for(b=g=0,h=d.length;h>g;b=g+=3)c=d[b],this.solve(e,c,d[b+1],d[b+2]);return this.repairing=void 0}},a.prototype.match=function(a,b,c){var d,e;if((e=a.indexOf(b))>-1){if(a.scopes[e]===c)return!0;if(e=-1,d=a.duplicates)for(;(e=d.indexOf(b,e+1))>-1;)if(a.scopes[e+a.length]===c)return!0}},a.prototype.count=function(a){return(null!=a?a.push:void 0)?a.length:null!=a&&1||0},a.prototype.pad=function(a,b){var c,d,e;if(a&&!a.push){for(d=[],c=e=0;b>=0?b>e:e>b;c=b>=0?++e:--e)d.push(a);return d.single=!0,d}return(null!=a?a.splice:void 0)?a.slice():a||[]},a.prototype.solve=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J;for(v=this.engine.Command.getRoot(c),b=this.engine.queries.getScopePath(d,a)+v.right.command.path,n=this.engine.queries.get(a),t=this.engine.queries.get(b),o=this.engine.updating.collections.hasOwnProperty(a)?this.engine.updating.collections[a]:n,u=this.engine.updating.collections.hasOwnProperty(b)?this.engine.updating.collections[b]:t,c.command.singular&&((null!=n?n.push:void 0)&&(n=n[0]),(null!=o?o.push:void 0)&&(o=o[0])),v.right.command.singular&&((null!=t?t.push:void 0)&&(t=t[0]),(null!=u?u.push:void 0)&&(u=u[0])),e=Math.max(this.count(n),this.count(t)),f=Math.max(this.count(o),this.count(u)),n=this.pad(n,e),o=this.pad(o,f),t=this.pad(t,e),u=this.pad(u,f),s=[],h=[],m=x=0,B=o.length;B>x;m=++x)p=o[m],(n[m]!==p||u[m]!==t[m])&&(u&&u[m]&&s.push([p,u[m]]),n[m]&&t[m]&&h.push([n[m],t[m]]));if(o.length<n.length)for(m=y=I=o.length,J=n.length;J>y;m=y+=1)t[m]&&h.push([n[m],t[m]]);for(g=this.engine.queries.PAIR,this.engine.console.group("%s 				%o			%c%s",g,[["pairs",h,s],["new",n,t],["old",o,u]],"font-weight: normal; color: #999",a+" "+g+" "+v.right.command.path+" in "+this.engine.identify(d)),i=[],z=0,C=s.length;C>z;z++)r=s[z],r[0]&&r[1]&&(k=a,k+=this.engine.identify(r[0]),k+=g,k+=v.right.command.path,k+=this.engine.identify(r[1]),i.push(k));for(w=[],A=0,D=h.length;D>A;A++)r=h[A],k=a,k+=this.engine.identify(r[0]),k+=g,k+=v.right.command.path,k+=this.engine.identify(r[1]),(m=i.indexOf(k))>-1?i.splice(m,1):(q=c.parent,this.engine.document.solve(q,k+g,d,!0));for(G=0,E=i.length;E>G;G++)k=i[G],this.engine.queries.clean(k);for(j=!0,H=0,F=n.length;F>H;H++)if(l=n[H]){j=!1;break}return j&&this.clean(a,d,c),this.engine.console.groupEnd()},a.prototype.clean=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;if(l=null!=(y=this.paths)?y[a]:void 0){for(o=[],p=this.engine.Command.getRoot(c),g=q=0,u=l.length;u>q;g=q+=3)i=l[g],l[g+2]===b&&this.engine.Command.getRoot(l[g+1])===p&&o.push(g);d=o.slice(),p=this.engine.Command.getRoot(c),z=this.paths;for(m in z)for(k=z[m],f=r=0,v=k.length;v>r;f=r+=3)for(j=k[f],h=s=d.length-1;s>=0;h=s+=-1)g=d[h],j!==l[g]||k===l&&b===k[f+2]||d.splice(h,1);for(t=0,w=d.length;w>t;t++)g=d[t],delete this.engine.queries[n];for(x=o.length-1;x>=0;x+=-1)g=o[x],n=l[g],this.engine.queries.unobserve(b._gss_id,this.engine.queries.PAIR,null,n.substring(1),void 0,b,p),l.splice(g,3);l.length||delete this.paths[a]}for(g=0;e=this.lefts[g+1];)e===a&&this.lefts[g+2]===b?this.lefts.splice(g,3):g+=3;return this},a.prototype.set=function(a){var b,c,d;a=this.engine.queries.getCanonicalPath(a),d=this.paths;for(b in d)c=d[b],c.indexOf(a)>-1&&((this.dirty||(this.dirty={}))[b]=!0)},a.prototype.watch=function(a,b,c,d,e){var f,g;return f=(g=this.paths)[d]||(g[d]=[]),-1===this.engine.Domain.prototype.indexOfTriplet(f,e,a,c)?f.push(e,a,c):void 0},a.prototype.unwatch=function(a,b,c,d,e){var f,g,h;return g=(h=this.paths)[d]||(h[d]=[]),-1!==(f=this.engine.Domain.prototype.indexOfTriplet(g,e,a,c))?g.splice(f,3):void 0},a}(),c.exports=d}),a.register("gss/lib/structures/Positions.js",function(a,b,c){var d;d=function(){function a(a){this.engine=a}return a.prototype["yield"]=function(a,b,c,d){var e,f,g;if(null==a){if(g=b,f=g.lastIndexOf("["),-1===f)return;b=g.substring(f+1,g.length-1),a=g.substring(0,f)}if(":"!==a.charAt(0)){if(!(e=this.engine.identity[a])){if(a.indexOf('"')>-1)return;if(!(e=document.getElementById(a.substring(1))))return}return!d||"x"!==b&&"y"!==b?this.engine.intrinsic.restyle(e,b,c):(d[a]||(d[a]={}))[b]=c}},a.prototype.solve=function(a,b){var c,d,e,f,g,h,i,j;if(b||(b=this.reflown||this.engine.scope),null!=(i=this.engine.mutations)&&i.disconnect(!0),e={},a)for(d in a)h=a[d],void 0!==h&&this["yield"](null,d,h,e);this.engine.intrinsic.each(b,this.placehold,null,null,null,e,!!a);for(c in e){g=e[c];for(f in g)h=g[f],this["yield"](c,f,h)}return null!=(j=this.engine.mutations)&&j.connect(!0),a},a.prototype.placehold=function(a,b,c,d){var e,f,g,h,i,j,k,l;if(f=void 0,(j=a._gss_id)&&(h=null!=d?d[j]:void 0,(l=this.engine.values)&&(void 0===(null!=h?h.x:void 0)&&null!=(e=l[j+"[x]"])&&((h||(h=d[j]||(d[j]={}))).x=e),void 0===(null!=h?h.y:void 0)&&null!=(i=l[j+"[y]"])&&((h||(h=d[j]||(d[j]={}))).y=i)),h))for(g in h)if(k=h[g],null!==k)switch(g){case"x":h.x=k-b,(f||(f={})).x=k-b;break;case"y":h.y=k-c,(f||(f={})).y=k-c}return f},a}(),c.exports=d}),a.register("gss/lib/structures/Queries.js",function(a,b,c){var d;d=function(){function a(b){var c,d,e,f;if(this.engine=b,this.watchers={},this.mutations=[],this.engine.addEventListener("commit",this.commit.bind(this)),!this.CanonicalizeRegExp){for(f=["PAIR","ASCEND","DESCEND","DELIMITERS","delimit"],d=0,e=f.length;e>d;d++)c=f[d],a.prototype[c]=this.engine.Command.prototype[c];a.prototype.CanonicalizeRegExp=new RegExp("([^"+a.prototype.PAIR+",])\\$[^"+a.prototype.ASCEND+"]+(?:"+a.prototype.ASCEND+"|$)","g")}}return a.prototype.commit=function(){var a,b,c,d,e,f,g,h,i,j,k;for(d=0;this.mutations[d];)h=this.mutations.splice(0,3),this.engine.document.solve(h[0],h[1],h[2]);if(d=0,this.ascending){for(;this.ascending[d];){if(b=this.ascending[d+1],a=this[b],f=null!=(j=this.engine.updating)&&null!=(k=j.collections)?k[b]:void 0)for(a=a.slice(),a.isCollection=!0,c=i=a.length-1;i>=0;c=i+=-1)e=a[c],f.indexOf(e)>-1&&a.splice(c,1);(null!=a?a.length:void 0)&&(g=this.ascending[d],this.engine.document.Command(g).ascend(this.engine.document,g,b,this.ascending[d+2],a)),d+=3}this.ascending=void 0}return this},a.prototype.add=function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r;if(g=this[b]||(this[b]=[]),g.push){if(g.isCollection=!0,l=g.continuations||(g.continuations=[]),m=g.paths||(g.paths=[]),n=g.scopes||(g.scopes=[]),this.snapshot(b,g),-1===(k=g.indexOf(a))){for(k=o=0,q=g.length;q>o&&(j=g[k],this.comparePosition(j,a,l[k],e));k=++o);return g.splice(k,0,a),l.splice(k,0,e),m.splice(k,0,f),n.splice(k,0,d),this.chain(g[k-1],a,b),this.chain(a,g[k+1],b),"rule"===c.parent[0]&&this.engine.Stylesheet.match(a,b),!0}if(n[k]!==d||m[k]!==f){for(i=g.duplicates||(g.duplicates=[]),k=p=0,r=i.length;r>p;k=++p)if(h=i[k],h===a&&n[k]===d&&m[k]===f)return;return i.push(a),l.push(e),m.push(f),void n.push(d)}return g}},a.prototype.get=function(a){var b;return"string"==typeof a?b=this[a]:void 0},a.prototype.unobserve=function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o;if(b!==!0&&(l=this.getVariants(b)),h=0,o="object"==typeof a&&a||this.watchers[a]){for(;n=o[h];)if(k=o[h+1],l&&(-1===l.indexOf(k)||f&&f!==o[h+2]||g&&this.engine.Command.getRoot(n)!==g))h+=3;else{if(d){for(j=n,i=!1;j;){if(j.path===d){i=!0;break}j=j.parent}if(!i){h+=3;continue}}m=o[h+2],o.splice(h,3),c||this.clean(n,k,n,m,!0,null!=e?e:k)}return o.length||o!==this.watchers[a]?void 0:delete this.watchers[a]}},a.prototype.filterByScope=function(a,b,c,d){var e,f,g,h,i,j,k,l;if(!(null!=a?a.scopes:void 0))return a;for(f=a.length,g=[],c&&(c=this.engine.Command.getRoot(c)),l=a.scopes,e=j=0,k=l.length;k>j;e=++j)if(h=l[e],h===b){if(c&&a.continuations&&(d=this.engine.Command.getRoot(a.continuations[e]),d!==c))continue;i=f>e?a[e]:a.duplicates[e-f],-1===g.indexOf(i)&&g.push(i)}return g},a.prototype.snapshot=function(a,b){var c,d,e;if(!(d=(e=this.engine.updating).collections||(e.collections={})).hasOwnProperty(a))return(null!=b?b.push:void 0)&&(c=b.slice(),b.isCollection&&(c.isCollection=!0),b.duplicates&&(c.duplicates=b.duplicates.slice()),b.scopes&&(c.scopes=b.scopes.slice()),b.continuations&&(c.continuations=b.continuations.slice()),b=c),d[a]=b},a.prototype.removeFromCollection=function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s;if(g=this.get(b),m=g.length,l=g.continuations,o=g.paths,q=g.scopes,i=null,p=this.getVariants(f),j=g.duplicates)for(k=r=0,s=j.length;s>r;k=++r)if(h=j[k],h===a){if(p.indexOf(o[m+k])>-1&&q[m+k]===d)return this.snapshot(b,g),j.splice(k,1),l.splice(m+k,1),o.splice(m+k,1),q.splice(m+k,1),!1;null==i&&(i=k)}if(c&&m&&null!=e&&(this.snapshot(b,g),(k=g.indexOf(a))>-1)){if(l){if(n=!1,q[k]!==d)return null;if(-1===p.indexOf(o[k]))return null;if(null!=i)return j.splice(i,1),o[k]=o[i+m],o.splice(i+m,1),l[k]=l[i+m],l.splice(i+m,1),q[k]=q[i+m],q.splice(i+m,1),!1}return g.splice(k,1),l&&(l.splice(k,1),o.splice(k,1),q.splice(k,1)),this.chain(g[k-1],a,b),this.chain(a,g[k],b),"rule"===c.parent[0]&&this.engine.Stylesheet.unmatch(a,b),!0}},a.prototype.remove=function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n;return null==e&&(e=c),null==g&&(g=b),"object"==typeof a?(i=a,a=this.engine.identify(a)):i=a.indexOf('"')>-1?a:this.engine.identity[a],b?(h=this.get(b),h&&this.engine.isCollection(h)?(this.snapshot(b,h),l=this.removeFromCollection(i,b,c,d,e,g)):l=void 0,l!==!1&&(this.engine.pairs.remove(a,b),(j=null!=c?c.parent:void 0)&&(m=this.engine.isCollection(h)?b+a:b,"function"==typeof(n=j.command).release&&n.release(i,this.engine,c,m,d)),k=b+(null!=(null!=h?h.length:void 0)&&a||""),this.unobserve(a,k,void 0,void 0,k),f!==b&&(l!==!1&&this.updateCollections(c,b,d,f,i,b,g),l&&this.clean(b+a)))):i&&this.unobserve(a,!0),l},a.prototype.clean=function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o;if((g=a.command)&&(a=(b||"")+(c.uid||"")+(g.selector||g.key||"")),e&&(b=a),i=this.get(a),void 0!==(i=this.get(a,void 0,!0))&&this.each("remove",i,a,c,d,c,!1,f),this.engine.solved.remove(a),this.engine.intrinsic.remove(a),null!=(n=this.engine.Stylesheet)&&n.remove(this.engine,a),k=!1,this.engine.isCollection(i)&&i.scopes)for(o=i.scopes,h=l=0,m=o.length;m>l;h=++l)if(j=o[h],j!==d||c&&i.continuations[h]!==c){k=!0;break}return k||this.set(a,void 0),this.mutations&&this.unobserve(this.mutations,a,!0),this.unobserve((d||this.engine.scope)._gss_id,a),i&&this.engine.isCollection(i)||this.engine.triggerEvent("remove",a),!0},a.prototype.fetch=function(a,b,c,d){var e,f,g,h,i;return e=1===(null!=(g=a[0])?g.nodeType:void 0)?a[0]:d,f=b.command.getPath(this.engine,b,e),null!=(h=this.engine.updating)&&null!=(i=h.queries)?i[f]:void 0},a.prototype.chain=function(a,b,c){return a&&(this.match(a,":last","*",void 0,c),this.match(a,":next","*",void 0,c)),b?(this.match(b,":previous","*",void 0,c),this.match(b,":first","*",void 0,c)):void 0},a.prototype.updateCollections=function(a,b,c,d,e,f,g){var h;return h=this.getCanonicalPath(b),b!==h&&f!==h&&this.updateCollection(a,h,c,d,e,h,b),this.updateCollection(a,b,c,d,e,f,g||"")},a.prototype.updateCollection=function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r=this;if(e&&this.each("remove",e,b,a,c,a,f,g),d&&this.each("add",d,b,a,c,a,g),null!=(p=h=this[b])?p.continuations:void 0){for(l=h.slice().sort(function(a,b){var c,d;return c=h.indexOf(a),d=h.indexOf(b),r.comparePosition(a,b,h.continuations[c],h.continuations[d])&&-1||1}),m=void 0,q=[],j=n=0,o=l.length;o>n;j=++n)k=l[j],k!==h[j]?(m||(m=h.slice(),this[b]&&(this[b]=m),m.continuations=h.continuations.slice(),m.paths=h.paths.slice(),m.scopes=h.scopes.slice(),m.duplicates=h.duplicates,m.isCollection=h.isCollection,m[j]=k),i=h.indexOf(k),m[j]=k,m.continuations[j]=h.continuations[i],m.paths[j]=h.paths[i],m.scopes[j]=h.scopes[i],this.chain(l[j-1],k,b),q.push(this.chain(k,l[j+1],b))):q.push(void 0);return q}},a.prototype.each=function(a,b,c,d,e,f,g,h){var i,j,k,l,m;if(null==b&&(b=void 0),this.engine.isCollection(b)){for(j=b.slice(),k=void 0,l=0,m=j.length;m>l;l++)i=j[l],this[a](i,c,d,e,f,g,h)&&(k=!0);return k}return"object"==typeof b?this[a](b,c,d,e,f,g,h):void 0},a.prototype.update=function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;if(null==b&&(b=void 0),i=this.engine,r=i.updating,o=c.command.getPath(i,c,d),n=this.get(o),h=c.command,m=1===(null!=(A=a[0])?A.nodeType:void 0)?a[0]:e,!h.relative&&!h.marked&&(p=c.command.getPath(i,c,m,e))&&(null!=(B=r.queries)?B.hasOwnProperty(p):void 0)&&(b=r.queries[p]),(null!=(C=r.collections)?C.hasOwnProperty(o):void 0)?n=r.collections[o]:null==n&&b&&0===b.length&&d&&(n=this.get(this.getCanonicalPath(o))),l=i.isCollection(b),n)if(i.isCollection(n))for((null!=d?d.charAt(0):void 0)===this.PAIR&&(n=this.filterByScope(n,e,c)),q=void 0,k=w=0,y=n.length;y>w;k=++w)g=n[k],n.scopes&&(null!=(D=n.scopes)?D[k]:void 0)!==e||b&&-1!==Array.prototype.indexOf.call(b,g)||(q||(q=[])).push(g);else{if(b===n)return d.charAt(0)===this.PAIR?((j=i.identify(m))&&(s=(t=this.watchers)[j]||(t[j]=[]),-1===i.indexOfTriplet(s,c,d,e)&&(c.command.prepare(c),s.push(c,d,e))),n):void 0;b||(q=n),this.clean(o,void 0,c,e)}if(l){for(this[o]||(this[o]=[]),f=void 0,x=0,z=b.length;z>x;x++)g=b[x],n&&-1!==Array.prototype.indexOf.call(n,g)||((f||(f=[])).push(g),f.isCollection=!0);b&&b.item&&(b=Array.prototype.slice.call(b,0))}else f=b,q=n;return(null!=b?b.continuations:void 0)?this.updateCollections(c,o,e,void 0,void 0,void 0,d):this.updateCollections(c,o,e,f,q,void 0,d),(j=i.identify(m))&&(s=(u=this.watchers)[j]||(u[j]=[]),-1===i.indexOfTriplet(s,c,d,e)&&(c.command.prepare(c),s.push(c,d,e))),p&&(this.snapshot(p,n),((v=this.engine.updating).queries||(v.queries={}))[p]=b),this.snapshot(o,n),b!==n?((null!=b?b.push:void 0)||this.set(o,b),f):void 0},a.prototype.set=function(a,b){var c,d;c=this[a],null==b&&this.snapshot(a,c),b?this[a]=b:delete this[a],null!=(d=this.engine.pairs)&&d.set(a,b)},a.prototype.match=function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r;if((i=this.engine.identify(a))&&(n=this.watchers[i])){for(e&&(l=this.getCanonicalPath(e)),j=o=0,q=n.length;q>o;j=o+=3)if(k=n[j],h=k.command[b]){if(g=n[j+1],l&&l!==this.getCanonicalPath(g))continue;if(m=n[j+2],c)this.qualify(k,g,m,h,c);else if(d.nodeType)this.qualify(k,g,m,h,d.tagName,"*");else if("string"==typeof d)this.qualify(k,g,m,h,d,"*");else for(p=0,r=d.length;r>p;p++)f=d[p],"string"==typeof f?this.qualify(k,g,m,h,f,"*"):this.qualify(k,g,m,h,f.tagName,"*")}return this}},a.prototype.qualify=function(a,b,c,d,e,f){var g,h,i,j,k,l,m;if(((h=d[e])||f&&d[f])&&-1===this.engine.indexOfTriplet(this.mutations,a,b,c)){for(i=(b||"").length,m=this.mutations,g=k=0,l=m.length;l>k&&(j=m[g],!((this.mutations[g+1]||"").length>i));g=k+=3);this.mutations.splice(g,0,a,b,c)}return this},a.prototype.getCanonicalCollection=function(a){return this.get(this.getCanonicalPath(a))},a.prototype.comparePosition=function(a,b,c,d){var e,f,g,h,i,j,k;if(c!==d){for(j=c.parent,e=j.indexOf(c),g=j.indexOf(d),e>g?(h=d,k=c):(h=c,k=d),f=e;(i=j[++f])&&i!==k;)if("virtual"===i[0])return g>e;if(!a.nodeType||!b.nodeType)return g>e}return a.compareDocumentPosition?4&a.compareDocumentPosition(b):a.sourceIndex<b.sourceIndex},a.prototype.getScopePath=function(a,b){var c,d,e,f,g,h;return b?(c=b.split(this.DESCEND),c[c.length-1]?(a&&this.engine.scope!==a&&(d=this.engine.identify(a),h=c[c.length-2],h&&h.substring(h.length-d.length)!==d&&(f=c[c.length-1],(e=f.indexOf(d+this.ASCEND))>-1&&c.splice(c.length-1,0,f.substring(0,e+d.length)))),c[c.length-1]="",g=c.join(this.DESCEND)):b):""},a.prototype.getScope=function(a,b){var c,d,e,f,g,h;if(a){if(a!==this.engine.scope)return a._gss_id||a}else if((f=b.lastIndexOf("$"))>-1&&(c=b.charCodeAt((g=b.length)-1),8595===b.charCodeAt((g=b.length)-1)&&g--,e=b.substring(f,g),d=this.engine.identity[e]||this.engine.queries[b.substring(0,g)])){if(d.scoped){if((h=this.engine.getScopeElement(d.parentNode))===this.engine.scope)return;return a._gss_id}return d._gss_id}},a.prototype.getParentScope=function(a,b,c){var d,e,f,g,h,i;if(null==c&&(c=1),!b)return a._gss_id;for(h=b.length-1,8594===b.charCodeAt(h)&&(h=b.lastIndexOf(this.DESCEND,h)-1);;){if(f=b.lastIndexOf(this.DESCEND,h),(d=b.substring(f+1,h+1))&&64!==d.charCodeAt(0)&&-1===--c)break;if(-1===f)return this.engine.scope;h=f-1}if((g=d.lastIndexOf("$"))>-1){if(e=d.substring(g),e.indexOf('"')>-1)return e;if(i=this.engine.identity[e])return this.engine.getScopeElement(i)}return(i=this[b.substring(0,f)])?this.engine.getScopeElement(i):this.engine.scope},a.prototype.getCanonicalPath=function(a,b){var c,d;return c=this.delimit(a).split(this.DESCEND),d=c[c.length-1],d=c[c.length-1]=d.replace(this.CanonicalizeRegExp,"$1"),b?d:c.join(this.DESCEND)},a.prototype.getVariants=function(a){return[a,a+this.ASCEND,a+this.PAIR,a+this.DESCEND]},a}(),c.exports=d}),a.register("gss/lib/structures/Signatures.js",function(a,b,c){var d,e,f={}.hasOwnProperty;d=b("../Command"),e=function(){function a(a){this.engine=a}return a.sign=function(a,b){var c,d,e,f,g,h;if(e=a.signed)return e;if(a.signed=f=[],c=b.signature)this.get(a,f,c);else if(c===!1)f.push(["default"]);else if(d=b.signatures)for(g=0,h=d.length;h>g;g++)c=d[g],this.get(a,f,c);return f},a.permute=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;if(g=Object.keys(a),!b)return g;for(i=Object.keys(a),c=[],e=j=0,n=b.length;n>j;e=++j)h=b[e],null!==h&&(c[h]=g[e]);for(d=k=p=b.length,q=g.length;q>k;d=k+=1)for(f=l=0,r=g.length;r>l;f=l+=1)if(null==c[f]){c[f]=g[d];break}for(m=0,o=c.length;o>m;m++)if(a=c[m],void 0===a)return;return c},a.getPermutation=function(a,b){var c,d,e,f,g,h;for(e=[],d=f=0,h=a.length;h>f;d=++f)c=a[d],null!==c&&(e[c]=b[d]);for(d=g=e.length-1;g>=0;d=g+=-1)c=e[d],null==c&&e.splice(d,1);return e},a.getPositions=function(a){var b,c,d,e,f,g,h;for(d=[],c=f=0,h=a.length;h>f;c=++f)e=a[c],null!=e&&(d[e]=c);for(c=g=d.length-1;g>=0;c=g+=-1)b=d[c],null==b&&d.splice(c,1);return d},a.getProperties=function(a){var b,c,d,e,f,g,h,i,j;if(e=a.properties)return e;for(a.properties=e=[],g=0,i=a.length;i>g;g++)if(c=a[g],c.push)for(h=0,j=c.length;j>h;h++){b=c[h];for(f in b)d=b[f],e.push(d)}else for(f in c)d=c[f],e.push(d);return e},a.generate=function(a,b,c,d,e){var f,g,h,i,j,k,l,m;for(d?f=d.length:(d=[],a.push(d),f=0);void 0===(i=c[f])&&f<c.length;)f++;if(f===c.length)d.length=e,d.push(b);else for(m=c[f],g=k=0,l=m.length;l>k;g=++k)j=m[g],0===g?d.push(j):(h=a.indexOf(d),d=d.slice(0,f),d.push(j),a.push(d)),this.generate(a,b,c,d,e);
return a},a.write=function(a,b,c){var d,e,f,g,h,i,j,k,l,m;for(e=j=0,k=c.length;k>=0?k>j:j>k;e=k>=0?++j:--j)"default"===(d=c[e])?b.Default=a:(f=c.length-1,void 0!==d&&f>e?b=b[d]||(b[d]={}):(i=a.extend({permutation:c[f],padding:f-e,definition:a}),(h=b.resolved)?(g=h.prototype,i.prototype.condition?(g.hasOwnProperty("advices")||(g.advices=(null!=(l=g.advices)?l.slice():void 0)||[],g.condition&&g.advices.push(h)),g.advices.push(i)):g.condition&&(i.prototype.advices=(null!=(m=g.advices)?m.slice():void 0)||[h],b.resolved=i)):b.resolved=i))},a.set=function(a,b,c,d){var e,g,h,i,j,k,l,m,n,o,p,q,r,s,t;k=a[b]||(a[b]={});for(m in d)if(l=d[m],(j=c.prototype)&&((h=j[m])||(i=l.prototype.kind)&&("auto"===i||(h=j[i])))){e=l.extend();for(b in j)f.call(j,b)&&(n=j[b],e.prototype[b]=n);if("object"==typeof h)for(b in h)n=h[b],e.prototype[b]=n;else h&&(e.prototype.execute=h);for(s=this.sign(l,e.prototype),o=0,q=s.length;q>o;o++)g=s[o],this.write(e,k,g)}for(t=this.sign(c,c.prototype),p=0,r=t.length;r>p;p++)g=t[p],this.write(c,k,g)},a.get=function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;d||(d=[]),i=d.length;a:for(o=0,r=c.length;r>o;o++)if(f=c[o],f.push)for(k=p=0,s=f.length;s>p;k=++p){m=f[k],j=0,h=f;for(n in m){if(!i){if(f=m,!(l=this.permute(f,e)))return;g=f[n];break a}i--,j++}}else{j=void 0;for(n in f){if(!i){g=f[n];break a}i--}}if(!g)return void this.generate(b,this.getPositions(d),this.getPermutation(d,this.getProperties(c)),void 0,d.length);if(l&&null!=j){for(e||(e=[]),i=q=0,t=l.length;t>q;i=q+=1)-1===e.indexOf(i)&&this.get(a,b,c,d.concat(d.length-j+i),e.concat(i));return void this.get(a,b,c,d.concat(null),e.concat(null))}return this.get(a,b,c,d.concat(d.length))},a}(),c.exports=e}),a.register("gss/lib/structures/Signatures.js",function(a,b,c){var d,e,f={}.hasOwnProperty;d=b("../Command"),e=function(){function a(a){this.engine=a}return a.sign=function(a,b){var c,d,e,f,g,h;if(e=a.signed)return e;if(a.signed=f=[],c=b.signature)this.get(a,f,c);else if(c===!1)f.push(["default"]);else if(d=b.signatures)for(g=0,h=d.length;h>g;g++)c=d[g],this.get(a,f,c);return f},a.permute=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;if(g=Object.keys(a),!b)return g;for(i=Object.keys(a),c=[],e=j=0,n=b.length;n>j;e=++j)h=b[e],null!==h&&(c[h]=g[e]);for(d=k=p=b.length,q=g.length;q>k;d=k+=1)for(f=l=0,r=g.length;r>l;f=l+=1)if(null==c[f]){c[f]=g[d];break}for(m=0,o=c.length;o>m;m++)if(a=c[m],void 0===a)return;return c},a.getPermutation=function(a,b){var c,d,e,f,g,h;for(e=[],d=f=0,h=a.length;h>f;d=++f)c=a[d],null!==c&&(e[c]=b[d]);for(d=g=e.length-1;g>=0;d=g+=-1)c=e[d],null==c&&e.splice(d,1);return e},a.getPositions=function(a){var b,c,d,e,f,g,h;for(d=[],c=f=0,h=a.length;h>f;c=++f)e=a[c],null!=e&&(d[e]=c);for(c=g=d.length-1;g>=0;c=g+=-1)b=d[c],null==b&&d.splice(c,1);return d},a.getProperties=function(a){var b,c,d,e,f,g,h,i,j;if(e=a.properties)return e;for(a.properties=e=[],g=0,i=a.length;i>g;g++)if(c=a[g],c.push)for(h=0,j=c.length;j>h;h++){b=c[h];for(f in b)d=b[f],e.push(d)}else for(f in c)d=c[f],e.push(d);return e},a.generate=function(a,b,c,d,e){var f,g,h,i,j,k,l,m;for(d?f=d.length:(d=[],a.push(d),f=0);void 0===(i=c[f])&&f<c.length;)f++;if(f===c.length)d.length=e,d.push(b);else for(m=c[f],g=k=0,l=m.length;l>k;g=++k)j=m[g],0===g?d.push(j):(h=a.indexOf(d),d=d.slice(0,f),d.push(j),a.push(d)),this.generate(a,b,c,d,e);return a},a.write=function(a,b,c){var d,e,f,g,h,i,j,k,l,m;for(e=j=0,k=c.length;k>=0?k>j:j>k;e=k>=0?++j:--j)"default"===(d=c[e])?b.Default=a:(f=c.length-1,void 0!==d&&f>e?b=b[d]||(b[d]={}):(i=a.extend({permutation:c[f],padding:f-e,definition:a}),(h=b.resolved)?(g=h.prototype,i.prototype.condition?(g.hasOwnProperty("advices")||(g.advices=(null!=(l=g.advices)?l.slice():void 0)||[],g.condition&&g.advices.push(h)),g.advices.push(i)):g.condition&&(i.prototype.advices=(null!=(m=g.advices)?m.slice():void 0)||[h],b.resolved=i)):b.resolved=i))},a.set=function(a,b,c,d){var e,g,h,i,j,k,l,m,n,o,p,q,r,s,t;k=a[b]||(a[b]={});for(m in d)if(l=d[m],(j=c.prototype)&&((h=j[m])||(i=l.prototype.kind)&&("auto"===i||(h=j[i])))){e=l.extend();for(b in j)f.call(j,b)&&(n=j[b],e.prototype[b]=n);if("object"==typeof h)for(b in h)n=h[b],e.prototype[b]=n;else h&&(e.prototype.execute=h);for(s=this.sign(l,e.prototype),o=0,q=s.length;q>o;o++)g=s[o],this.write(e,k,g)}for(t=this.sign(c,c.prototype),p=0,r=t.length;r>p;p++)g=t[p],this.write(c,k,g)},a.get=function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;d||(d=[]),i=d.length;a:for(o=0,r=c.length;r>o;o++)if(f=c[o],f.push)for(k=p=0,s=f.length;s>p;k=++p){m=f[k],j=0,h=f;for(n in m){if(!i){if(f=m,!(l=this.permute(f,e)))return;g=f[n];break a}i--,j++}}else{j=void 0;for(n in f){if(!i){g=f[n];break a}i--}}if(!g)return void this.generate(b,this.getPositions(d),this.getPermutation(d,this.getProperties(c)),void 0,d.length);if(l&&null!=j){for(e||(e=[]),i=q=0,t=l.length;t>q;i=q+=1)-1===e.indexOf(i)&&this.get(a,b,c,d.concat(d.length-j+i),e.concat(i));return void this.get(a,b,c,d.concat(null),e.concat(null))}return this.get(a,b,c,d.concat(d.length))},a}(),c.exports=e}),a.register("gss/lib/properties/Axioms.js",function(a,b,c){var d;d=function(){function a(){}return a.prototype.right=function(a){var b;return b=this.identify(a),["+",["get",this.getPath(b,"x")],["get",this.getPath(b,"width")]]},a.prototype.bottom=function(a){var b;return b=this.identify(a),["+",["get",this.getPath(b,"y")],["get",this.getPath(b,"height")]]},a.prototype.center={x:function(a){var b;return b=this.identify(a),["+",["get",this.getPath(b,"x")],["/",["get",this.getPath(b,"width")],2]]},y:function(a){var b;return b=this.identify(a),["+",["get",this.getPath(b,"y")],["/",["get",this.getPath(b,"height")],2]]}},a}(),c.exports=d}),a.register("gss/lib/properties/Dimensions.js",function(a,b,c){var d;d=function(){function a(){}return a.prototype["::window"]={width:function(){return window.innerWidth},height:function(){return window.innerHeight},scroll:{left:function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft},top:function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}},x:0,y:0},a.prototype["::document"]={scroll:{left:"::window[scroll-left]",top:"::window[scroll-top]"},x:"::window[x]",y:"::window[y]"},a.prototype.intrinsic={height:function(a){return a.offsetHeight},width:function(a){return a.offsetWidth},y:function(){},x:function(){}},a.prototype.scroll={left:function(a){return a.scrollLeft},top:function(a){return a.scrollTop},height:function(a){return a.scrollHeight},width:function(a){return a.scrollWidth}},a.prototype.client={left:function(a){return a.clientLeft},top:function(a){return a.clientTop},height:function(a){return a.clientHeight},width:function(a){return a.clientWidth}},a.prototype.offset={left:function(a){return a.offsetLeft},top:function(a){return a.offsetTop},height:function(a){return a.offsetHeight},width:function(a){return a.offsetWidth}},a}(),c.exports=d}),a.register("gss/lib/properties/Styles.js",function(a,b,c){var d;d=function(){function a(){}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;for(a.prototype.transform=[[function(){return mat4.create()},"matrix"]],a.prototype.animation=[[[{name:["none","String"],duration:["time"],delay:["time"],direction:["normal","reverse","alternate"],"timing-function":["timing"],"iteration-count":[1,"infinite","Number"],"fill-mode":["none","both","forwards","backwards"],"play-state":["running","paused"]}]]],a.prototype.transition=[[[{property:["all","property","none"],duration:["time"],delay:["time"],direction:["reverse","normal"],"timing-function":["timing"]}]]],a.prototype.background=[[[{image:["Image","Gradient","none"],position:{x:["Length","Percentage","center","left","right"],y:["Length","Percentage","center","top","bottom"]},size:{x:["Length","Percentage","cover","contain"],y:["Length","Percentage"]},repeat:["repeat","no-repeat","repeat-x","repeat-y","space","round"],attachment:["fixed","scroll","local"],origin:["padding-box","border-box","content-box"],clip:["border-box","content-box","padding-box"]}]],[{color:["Color","transparent"]}]],a.prototype.text={shadow:[[[{offset:{x:["Length"],y:["Length"]},blur:["Length"],color:["Color"]}]]],decoration:["none","capitalize","uppercase","lowercase"],align:["left","right","center","justify"],ident:["Length","Percentage"]},a.prototype.box={shadow:[[[{inset:["inset"]}],{offset:{x:["Length"],y:["Length"]}},[{blur:["Length"],spread:["Length"]}],{color:["Color"]}]],sizing:["padding-box","border-box","content-box"]},a.prototype.outline=[{width:["medium","Length"],style:["none","dotted","dashed","solid","double","groove","ridge","inset","outset"],color:["invert","Color"]}],a.prototype["line-height"]=["normal","Number","Length","Percentage"],a.prototype.font=[[{style:["normal","italic","oblique"],variant:["normal","small-caps"],weight:["normal","Number","bold"]}],{size:["Size","Length","Percentage"]},[{"line-height":["normal","Number","Length","Percentage"]}],{family:["inherit","strings"]}],a.prototype["font-stretch"]=["normal","ultra-condensed","extra-condensed","condensed","semi-condensed","semi-expanded","expanded","extra-expanded","ultra-expanded"],a.prototype["font-size-adjust"]=["Float"],a.prototype["letter-spacing"]=["normal","Length"],a.prototype.list={style:[{type:["disc","circle","square","decimal","decimal-leading-zero","lower-roman","upper-roman","lower-greek","lower-latin","upper-latin","armenian","georgian","lower-alpha","none","upper-alpha"],image:["none","URL"],position:["outside","inside","none"]}]},a.prototype.width=["Length","auto"],a.prototype.height=["Length","auto"],a.prototype.min={width:["Length","auto"],height:["Length","auto"]},a.prototype.max={width:["Length","auto"],height:["Length","auto"]},a.prototype.display=["inline","inline-block","block","list-item","run-in","table","inline-table","none","table-row-group","table-header-group","table-footer-group","table-row","table-column-group","table-column","table-cell","table-caption"],a.prototype.visibility=["visible","hidden"],a.prototype.float=["none","left","right"],a.prototype.clear=["none","left","right","both"],a.prototype.overflow=["visible","hidden","scroll","auto"],a.prototype["overflow-x"]=["visible","hidden","scroll","auto"],a.prototype["overflow-y"]=["visible","hidden","scroll","auto"],a.prototype.position=["static","relative","absolute","fixed","sticky"],a.prototype.top=["Length","Percentage","auto"],a.prototype.left=["Length","Percentage","auto"],a.prototype.right=["Length","Percentage","auto"],a.prototype.bottom=["Length","Percentage","auto"],a.prototype.opacity=["Float"],a.prototype["z-index"]=["Integer"],a.prototype.cursor=["auto","crosshair","default","hand","move","e-resize","ne-resize","nw-resize","n-resize","se-resize","sw-resize","s-resize","w-resize","text","wait","help"],a.prototype.color=["color"],a.prototype.columns=["length"],a.prototype["column-gap"]=["length"],a.prototype["column-width"]=["length"],a.prototype["column-count"]=["Integer"],s=f=["top","right","bottom","left"],c=m=0,p=s.length;p>m;c=++m){for(e=s[c],((h=a.prototype).margin||(h.margin=[{pad:"pad"}]))[0][e]=["Length","Percentage","auto"],((i=a.prototype).padding||(i.padding=[{pad:"pad"}]))[0][e]=["Length","Percentage","auto"],((j=a.prototype).border||(j.border=[{pad:"pad"}]))[0][e]=[[{width:["Length","thin","thick","medium"],style:["none","dotted","dashed","solid","double","groove","ridge","inset","outset","none"],color:["Color"]}]],t=["width","color","style"],n=0,q=t.length;q>n;n++)g=t[n],((k=a.prototype)[r="border-"+g]||(k[r]=[[{pad:"pad"}]]))[0][0]["border-"+e+"-"+g]=a.prototype.border[0][e][0][0][g];if(!(c%2))for(b=o=3;o>0;b=o+=-2)d="border-"+e+"-"+f[b]+"-radius",a.prototype[d]=["Length","none"],((l=a.prototype)["border-radius"]||(l["border-radius"]=[{pad:"pad"}]))[0][d]=["Length","none"]}return a}(),c.exports=d}),a.register("gss/lib/properties/Types.js",function(a,b,c){var d;d=function(){function a(){}return a.define=function(a,b){var c,d;if(b)return this[a]=b;d=[];for(c in a)b=a[c],d.push(this.define(c,b));return d},a}(),d.define({Float:function(a){var b;return b=parseFloat(a),b===a?b:void 0},Integer:function(a){var b;return b=parseInt(a),String(b)===String(a)?b:void 0},String:function(a){return"string"==typeof a?a:void 0},Strings:function(a){return"string"==typeof a||a instanceof Array?a:void 0},Timings:{ease:["cubic-bezier",.42,0,1,1],"ease-in":["cubic-bezier",.42,0,1,1],"ease-out":["cubic-bezier",0,0,.58,1],"ease-in-out":["cubic-bezier",.42,0,.58,1],linear:["cubic-bezier",0,0,1,1],"step-start":"step-start","step-end":"step-end"},Timing:function(a){if(null==a&&(a="ease"),"string"==typeof a){if(a=this.Type.Timings[a])return a}else if("steps"===a[0]||"cubic-bezier"===a[0])return a},Length:function(a){return"number"==typeof a?a:this.Unit[a[0]]?0===a[1]?0:a:void 0},Percentage:function(a){return"%"===a[0]?a:void 0},Positions:{top:"top",bottom:"bottom",left:"left",right:"right"},Position:function(a){return this.Type.Positions[a]?a:void 0},Times:{s:"s",ms:"ms",m:"m"},Time:function(a){return this.Type.Times[a[0]]?a:void 0},Colors:{transparent:"transparent",hsl:"hsl",rgb:"rgb",hsla:"hsla",rgba:"rgba",hsb:"hsb"},Pseudocolors:{transparent:"transparent",currentColor:"currentColor"},Color:function(a){if("string"==typeof a){if(this.Type.Pseudocolors[a])return a}else if(this.Type.Colors[a[0]])return a},Sizes:{medium:"medium","xx-small":"xx-small","x-small":"x-small",small:"small",large:"large","x-large":"x-large","xx-large":"xx-large",smaller:"smaller",larger:"larger"},Size:function(a){return this.Type.Sizes[a]?a:void 0},Gradients:{"linear-gradient":"linear-gradient","radial-gradient":"radial-gradient","repeating-linear-gradient":"repeating-linear-gradient","repeating-radial-gradient":"repeating-radial-gradient"},Gradient:function(a){return this.Type.Gradients[a[0]]?a:void 0},URLs:{url:"url",src:"src"},URL:function(a){return this.Type.URLs[a[0]]?a:void 0},Property:function(a){return this.properties[a]?a:void 0},Matrix:function(a){return"object"==typeof a&&void 0!==object.length?a:void 0}}),c.exports=d}),a.register("gss/lib/utilities/Console.js",function(a,b,c){var d,e,f,g,h;for(d=function(){function a(b){var c,d,e;this.level=b,null==this.level&&(this.level=null!=(c=self.GSS_LOG)?c:parseFloat(("undefined"!=typeof self&&null!==self&&null!=(d=self.location)&&null!=(e=d.search.match(/log=([\d.]+)/))?e[1]:void 0)||0)),a.bind||(this.level=0)}return a.prototype.methods=["log","warn","info","error","group","groupEnd","groupCollapsed","time","timeEnd","profile","profileEnd"],a.prototype.groups=0,a.prototype.compile=function(){},a.prototype.stringify=function(a){return a?a.push?a.map(this.stringify,this):a.nodeType?a._gss_id:a.toString!==Object.prototype.toString?a.toString():a.displayName?a.displayName:JSON.stringify(a):""},a.prototype.debug=function(a){return document.location=document.location.toString().replace(/[&?]breakpoint=[^&]+|$/,(document.location.search.indexOf("?")>-1&&"&"||"?")+"breakpoint="+a.trim().replace(/\r?\n+|\r|\s+/g," "))},a.prototype.breakpoint=decodeURIComponent((("undefined"!=typeof document&&null!==document?document.location.search.match(/breakpoint=([^&]+)/,""):void 0)||["",""])[1]),a.prototype.row=function(a,b,c){var d,e,f;if(!(this.level<1)&&(a=a.name||a,"string"==typeof a))return e=Array(5-Math.floor(a.length/4)).join("	"),"undefined"!=typeof document&&null!==document?(d=String(this.stringify([b,c])).trim().replace(/\r?\n+|\r|\s+/g," "),this.breakpoint===a+d):d="","string"==typeof c&&(c=c.replace(/\r?\n|\r|\s+/g," ")),"undefined"!=typeof document&&null!==document?"object"==typeof b?this.log("%c%s%c%s%c%s%O%c			%s","color: #666",a,"font-size: 0;line-height:0;",d,"",e,b,"color: #999",c||""):(f=Array(6-Math.floor(String(b).length/4)).join("	"),this.log("%c%s%s%s%c%s%s","color: #666",a,e,b,"color: #999",f,c||"")):this.log(a,b,c)},a.prototype.start=function(a,b){var c,d,e;return this.startTime=this.getTime(),this.started||(this.started=[]),this.started.indexOf(b)>-1&&(e=!0),this.started.push(b),e||this.level<1?void 0:(c="%c%s",c+=Array(5-Math.floor(String(b).length/4)).join("	"),c+="%c","string"!=typeof a?c+="%O":(c+="%s",d="groupCollapsed"),this[d||"group"](c,"font-weight: normal",b,"color: #666; font-weight: normal",a),!0)},a.prototype.end=function(){var a,b;return a=null!=(b=this.started)?b.pop():void 0,!a||this.started.indexOf(a)>-1||(this.endTime=this.getTime(),this.level<1)?void 0:this.groupEnd()},a.prototype.getTime=function(a,b){return b||(b=("undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)||("function"==typeof Date.now?Date.now():void 0)||+new Date),b&&!a?b:Math.floor(100*(b-a))/100},a}(),h=d.prototype.methods,f=0,g=h.length;g>f;f++)e=h[f],d.prototype[e]=function(a){return function(){return"group"===a||"groupCollapsed"===a?d.prototype.groups++:"groupEnd"===a&&d.prototype.groups--,(this.level||"error"===a)&&"undefined"!=typeof console&&null!==console&&"function"==typeof console[a]?console[a].apply(console,arguments):void 0}}(e);c.exports=d}),a.register("gss/lib/utilities/Exporter.js",function(a,b,c){var d;d=function(){function a(){}return a.prototype.preexport=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=this;for(9===(f=this.scope).nodeType&&(f=this.scope.body),this.identify(f),p=f.getElementsByTagName("*"),h=0,l=p.length;l>h;h++)b=p[h],"SCRIPT"!==b.tagName&&("STYLE"!==b.tagName||(null!=(q=b.getAttribute("type"))?q.indexOf("gss"):void 0)>-1)&&this.identify(b);if(window.Sizes)for(this.sizes=[],r=window.Sizes,i=0,m=r.length;m>i;i++)for(e=r[i],s=e[0],j=0,n=s.length;n>j;j++)for(g=s[j],t=e[1],k=0,o=t.length;o>k;k++)c=t[k],this.sizes.push(g+"x"+c);if(d=null!=(u=location.search.match(/export=([a-z0-9]+)/))?u[1]:void 0){if(d.indexOf("x")>-1)return v=d.split("x"),g=v[0],c=v[1],a=72,g=parseInt(g)*a,c=parseInt(c)*a,window.addEventListener("load",function(){return localStorage[d]=JSON.stringify(w["export"]()),w.postexport()}),document.body.style.width=g+"px",this.intrinsic.properties["::window[height]"]=function(){return c},this.intrinsic.properties["::window[width]"]=function(){return g};if("true"===d)return localStorage.clear(),this.postexport()}},a.prototype.postexport=function(){var a,b,c,d,e,f,g;for(g=this.sizes,e=0,f=g.length;f>e;e++)if(c=g[e],!localStorage[c])return void(location.search=location.search.replace(/[&?]export=([a-z0-9])+/,"")+"?export="+c);b={};for(a in localStorage)d=localStorage[a],a.match(/^\d+x\d+$/)&&(b[a]=JSON.parse(d));return document.write(JSON.stringify(b))},a.prototype["export"]=function(){var a,b,c,d,e,f,g;f={},g=this.values;for(c in g)e=g[c],(b=c.indexOf("["))>-1&&-1===c.indexOf('"')&&(d=this.camelize(c.substring(b+1,c.length-1)),a=c.substring(0,b),("x"===d||"y"===d||void 0!==document.body.style[d])&&null==this.values[a+"[intrinsic-"+d+"]"]&&(f[c]=Math.ceil(e)));return f.stylesheets=this.stylesheets["export"](),f},a}(),c["export"]=d}),a.register("gss/lib/utilities/Inspector.js",function(a,b,c){var d,e=function(a,b){return function(){return a.apply(b,arguments)}},f={}.hasOwnProperty;d=function(){function a(a){this.engine=a,this.draw=e(this.draw,this),this.onMouseMove=e(this.onMouseMove,this),this.onClick=e(this.onClick,this),this.onKeyUp=e(this.onKeyUp,this),this.onKeyDown=e(this.onKeyDown,this)}return a.prototype.toExpressionString=function(a){var b,c,d;return(null!=a?a.push:void 0)?"get"===a[0]?(c=this.engine.Variable.getPath(a[1],a[2]),null!=this.engine.values[c.replace("[","[intrinsic-")]?b="intrinsic":c.indexOf('"')>-1?b="virtual":a[2]&&a[1]&&("x"===a[2]||"y"===a[2]?b="position":(null!=(d=this.engine.intrinsic.properties[a[2]])?d.matcher:void 0)||(b="local")),'<strong class="'+(b||"variable")+'" for="'+c+'" title="'+this.engine.values[c]+'">'+c+"</strong>"):"value"===a[0]?"<em>"+a[1]+"</em>":this.toExpressionString(a[1])+" <b>"+a[0]+"</b> "+this.toExpressionString(a[2]):null!=a?a:""},a.prototype.update=function(){return this.engine.console.level>0&&this.domains(this.engine.domains),this.engine.console.level>1.5||this.rulers?this.refresh():void 0},a.prototype.stylesheet=function(){var a;return this.sheet=a=document.createElement("style"),a.textContent=a.innerText='domains {\n  display: block;\n  position: fixed;\n  z-index: 999999;\n  top: 0;\n  left: 0;\n  background: rgba(255,255,255,0.76);\n  font-family: Helvetica, Arial;\n}\ndomain {\n  -webkit-user-select: none;  /* Chrome all / Safari all */\n  -moz-user-select: none;     /* Firefox all */\n  -ms-user-select: none;      /* IE 10+ */\n\n  user-select: none;     \n}\npanel {\n  padding: 10px;\n  left: 0\n}\npanel strong, panel b{\n  font-weight: normal;\n}\npanel em {\n  color: red;\n}\npanel strong {\n  color: MidnightBlue;\n}\npanel strong.virtual {\n  color: green;\n}\npanel strong.intrinsic {\n  color: red;\n}\npanel strong.local {\n  color: black;\n}\npanel strong.position {\n  color: olive;\n}\npanel strong[mark] {\n  text-decoration: underline;\n}\ndomains domain{\n  padding: 5px;\n  text-align: center;\n  display: inline-block;\n  cursor: pointer;\n}\ndomain[hidden] {\n  color: #999;\n  background: none;\n}\ndomain.intrinsic, domain.assumed, domain.solved, domain.document {\n  background: rgba(255, 0, 0, 0.15);\n  font: 0/0 "0";\n  width: 15px;\n  height: 15px;\n  display: none;\n}\ndomain, domain.active {\n  background: #fff;\n  color: #000;\n}\ndomain.active {\n  font-weight: bold;\n}\ndomains:hover domain {\n  background: none;\n}\ndomains:hover domain:hover {\n  background: #fff\n}\ndomain panel {\n  display: block;\n  position: absolute;\n  background: #fff;\n  text-align: left;\n  white-space: pre;\n  line-height: 18px;\n  font-size: 13px;\n  font-family: monospace, serif;\n}\ndomain panel {\n  display: none;\n}\ndomain:hover panel, body[reaching] panel {\n  display: block;\n}\nruler {\n  display: block;\n  position: absolute;\n  z-index: 99999;\n  border-width: 0;\n}\nruler[hidden] {\n  display: none;\n}\nruler.x {\n  border-bottom: 1px dotted orange;\n}\nruler.y {\n  border-right: 1px dotted orange;\n}\nruler.width {\n  border-bottom: 1px dashed blue;\n}\nruler.height {\n  border-right: 1px dashed blue;\n}\nruler.virtual {\n  border-color: green;\n}\nruler.virtual.height {\n  z-index: 99998;\n}\nbody:not([inspecting]) ruler.virtual.height {\n  width: 0px !important;\n}\nbody[inspecting][reaching] ruler.virtual.height:not(:hover) {\n  width: 0px !important;\n}\nruler.virtual.height:hover, body[inspecting]:not([reaching]) ruler.virtual.height {\n  background: rgba(0,255,0,0.15);\n}\nruler.constant {\n  border-style: solid;\n}\nruler.intrinsic {\n  border-color: red;\n}\nruler:before {\n  content: "";\n  display: block;\n  position: absolute;\n  right: 0;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  cursor: pointer;\n}\nruler.y:before, ruler.height:before, ruler.intrinsic-height:before {\n  left: -10px;\n  right: -10px;\n}\nruler.x:before, ruler.width:before, ruler.intrinsic-width:before {\n  top: -10px;\n  bottom: -10px;\n}\ndomain panel.filtered {\n  display: block\n}\nbody[reaching] ruler {\n  opacity: 0.2\n}\nbody[reaching] ruler.reached {\n  opacity: 1\n}',document.body.appendChild(a),document.addEventListener("mousedown",this.onClick),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp)},a.prototype.refresh=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o;for(l=this.engine.domains,h=0,j=l.length;j>h;h++)b=l[h],b.distances=void 0;g={},m=this.engine.values;for(e in m)f=m[e],g[e]=f;if(this.rulers){n=this.rulers;for(e in n)f=n[e],g.hasOwnProperty(e)||(g[e]=null)}d=this.ids=[];for(e in g)f=g[e],(a=e.split("[")).length>1&&-1===d.indexOf(a[0])&&d.push(a[0]);for(o=[],i=0,k=d.length;k>i;i++)c=d[i],o.push(this.draw(c,g));return o},a.prototype.onKeyDown=function(a){return a.altKey?document.body.setAttribute("inspecting","inspecting"):void 0},a.prototype.onKeyUp=function(){return null!=document.body.getAttribute("inspecting")?document.body.removeAttribute("inspecting"):void 0},a.prototype.getDomains=function(a){var b,c,d,e,g,h,i,j,k;for(c=[],j=this.engine.domains,h=0,i=j.length;i>h;h++)if(b=j[h],"Solved"!==b.displayName&&b.constraints.length){k=b.values;for(e in k)f.call(k,e)&&(g=k[e],d=e.split("["),d.length>1&&a.indexOf(d[0])>-1&&-1===c.indexOf(b)&&c.push(b))}return c},a.prototype.onClick=function(a){var b,c,d,e,f,g,h,i,j,k,l,m;if("domain"===(null!=(l=a.target.tagName)?l.toLowerCase():void 0))return this.rulers||this.refresh(),this.filter([a.target.getAttribute("for")],a.shiftKey||a.ctrlKey,!0),a.preventDefault(),a.stopPropagation();if(a.metaKey&&(this.rulers||this.refresh()),a.altKey||a.metaKey){for(k=a.target,e=[],f=[];k;)1===k.nodeType&&(a.altKey&&k._gss&&k.classList.contains("virtual")?f.push(k.getAttribute("for")):k._gss_id&&f.push(k._gss_id)),k=k.parentNode;d=this.getDomains(f),e=d.map(function(a){return String(a.uid)}),a.altKey&&(this.remap(d[0]),this.visualize(null,f,a.shiftKey),this.constraints(e[0],null,f,a.shiftKey)),a.metaKey&&this.filter(e,a.shiftKey)}else{if(!(i=document.body.getAttribute("reaching"))||"ruler"!==(null!=(m=a.target.tagName)?m.toLowerCase():void 0))return;if(c=this.reaching,c&&(h=c.distances[i])){j=[];for(g in h)b=h[g],b||j.push(g);this.constraints(c.uid,null,j)}}return a.preventDefault(),a.stopPropagation()},a.prototype.constraints=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q=this;if(this.panel?this.panel.classList.remove("filtered"):this.panel=document.createElement("panel"),!b){for(l=this.list.childNodes,h=0,j=l.length;j>h;h++)if(g=l[h],g.getAttribute("for")===String(a)){b=g;break}if(!b)return}for(this.panel.parentNode!==b&&(null!=(m=this.panel.parentNode)&&m.classList.remove("active"),b.appendChild(this.panel)),n=this.engine.domains,p=[],i=0,k=n.length;k>i;i++){if(f=n[i],String(f.uid)===String(a)){this.panel.innerHTML=null!=(o=f.constraints)?o.map(function(a){return q.toExpressionString(a.operation)}).filter(function(a){var b,e,f;if(!c)return!0;for(e=0,f=c.length;f>e;e++)if(b=c[e],a.indexOf(b)>-1)return!d&&c.length>1&&c.splice(1),!0;return!1}).map(function(a){var b,d,e;if(c)for(d=0,e=c.length;e>d;d++)b=c[d],b=b.replace(/([\[\]$])/g,"\\$1"),a=a.replace(new RegExp("\\>("+b+'[\\[\\"])',"g")," mark>$1");return a}).join("\n"):void 0,c&&this.panel.classList.add("filtered"),e=b.offsetLeft+b.offsetWidth+10-this.panel.offsetWidth,this.panel.style.left=e>0?e+"px":"",b.classList.add("active");break}p.push(void 0)}return p},a.prototype.onMouseMove=function(a){var b,c;if(b=a.target,b._gss)return this.visualize(a.target.getAttribute("property"));for(;b;){if(1===b.nodeType&&"domain"===b.tagName.toLowerCase())return this.constraints(b.getAttribute("for"),b);b=b.parentNode}return(null!=(c=this.panel)?c.parentNode:void 0)&&(this.panel.parentNode.classList.remove("active"),this.panel.parentNode.removeChild(this.panel)),this.reaching?this.visualize():void 0},a.prototype.visualize=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;if(a||b){if(b||document.body.getAttribute("reaching")!==a){if(b){j=[];for(a in this.rulers)for(n=0,q=b.length;q>n;n++)if(f=b[n],a.substring(0,f.length)===f&&"["===a.substring(f.length,f.length+1)&&(j.push(a),!c&&b.length>1)){b.splice(1);break}}else j=[a],b=[a.split("[")[0]];for(e=this.getDomains(b)[0],k=!1,t=[],o=0,r=j.length;r>o;o++)h=j[o],t.push(e&&(i=e.distances[h])?function(){var a,b;b=[];for(g in i)d=i[g],d?b.push(void 0):(k=!0,null!=(a=this.rulers[g])&&a.classList.add("reached"),this.reaching=e,b.push(document.body.setAttribute("reaching",h||f)));return b}.call(this):void 0);return t}}else if(this.reaching)for(this.reaching=void 0,document.body.removeAttribute("reaching"),s=document.getElementsByTagName("ruler"),m=0,p=s.length;p>m;m++)l=s[m],l.classList.remove("reached")},a.prototype.filter=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;if(this.indexes||(this.indexes=function(){var a,b,c,d;for(c=this.list.childNodes,d=[],a=0,b=c.length;b>a;a++)h=c[a],d.push(null==h.getAttribute("hidden")?h.getAttribute("for"):void 0);return d}.call(this)),b)a=function(){var a,b,c,d;for(c=this.list.childNodes,d=[],a=0,b=c.length;b>a;a++)h=c[a],d.push(h.getAttribute("for"));return d}.call(this),a.toString()===this.indexes.toString()&&(a=[]),this.indexes=a||[];else for(m=0,o=a.length;o>m;m++)f=a[m],-1===(e=this.indexes.indexOf(f))?this.indexes.push(f):this.indexes.splice(e,1);for(q=this.list.childNodes,g=n=0,p=q.length;p>n;g=++n)d=q[g],null!=this.engine.domains[g]&&(-1===this.indexes.indexOf(String(this.engine.domains[g].uid))?(d.setAttribute("hidden","hidden"),(null!=(r=this.panel)?r.parentNode:void 0)===d&&(d.classList.remove("active"),d.removeChild(this.panel))):d.removeAttribute("hidden"));l=null,s=this.rulers;for(j in s)if(k=s[j],-1===this.indexes.indexOf(k.getAttribute("domain")))k.setAttribute("hidden","hidden");else if(null!=k.getAttribute("hidden")){for(k.removeAttribute("hidden"),i=0;k;)i+=k.offsetTop,k=k.offsetParent;(null==l||l>i)&&(l=i)}return null!=l&&c?window.scrollTo(0,l):void 0},a.prototype.domains=function(b){var c,d,e=this;return this.sheet||this.stylesheet(),this.list||(this.list=document.createElement("domains"),this.list._gss=!0,document.body.appendChild(this.list)),d=0,c=b.map(function(b){var c,f;return a.uid||(a.uid=0),b.uid||(b.uid=++a.uid),c=(null!=(f=b.constraints)?f.length:void 0)||0,d+=c,'<domain for="'+b.uid+'" '+(e.engine.console.level<=1&&"hidden")+' class="'+b.displayName.toLowerCase()+'">'+c+"</domain>"}).join(""),c+="<label> = <strong>"+d+"</strong></label>",this.list.innerHTML=c},a.prototype.remap=function(a){var b,c,d,e,f,g,h,i;if(!(e=a.distances)){for(e=a.distances={},h=a.constraints,i=[],f=0,g=h.length;g>f;f++)d=h[f],i.push(function(){var a;a=[];for(b in d.operation.variables)a.push(b.match(/width\]|height\]|\[\x]|\[\y\]|/)?function(){var a;a=[];for(c in d.operation.variables)a.push(c.match(/width\]|height\]|\[\x]|\[\y\]|/)?this.reach(e,b,c):void 0);return a}.call(this):void 0);return a}.call(this));return i}},a.prototype.ruler=function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;if(i=b.split("["),l=i[0],o=i[1].split("]")[0],p=(this.rulers||(this.rulers={}))[b]){if(null==c)return null!=(u=p.parentNode)&&u.removeChild(p),void delete this.rulers[b]}else{if(null==c)return;p=this.rulers[b]=document.createElement("ruler"),p.className=o,p._gss=!0,l=b.split("[")[0],p.setAttribute("for",l),p.setAttribute("property",b),p.setAttribute("title",b),p.removeAttribute("hidden")}for(k=void 0,v=this.engine.domains,q=0,s=v.length;s>q;q++)if(n=v[q],n.values.hasOwnProperty(b)&&"Solved"!==n.displayName){k=n;break}if(!k)return void(null!=(w=p.parentNode)&&w.removeChild(p));if(p.setAttribute("domain",k.uid),this.remap(k),!(m="string"==typeof this.engine.variables[b]))for(x=k.constraints,r=0,t=x.length;t>r;r++)if(j=x[r],j.operation.variables[b]&&1===Object.keys(j.operation.variables).length){m=!0;break}return m?p.classList.add("constant"):p.classList.remove("constant"),null!=this.engine.values[b.replace("[","[intrinsic-")]?p.classList.add("intrinsic"):p.classList.remove("intrinsic"),h?p.classList.add("virtual"):p.classList.remove("virtual"),p.style.top=Math.floor(e)+"px",p.style.left=Math.floor(d)+"px",p.style.width=f+"px",p.style.height=g+"px",h?(a.appendChild(p),"height"===o&&null!=this.engine.values[l+"[width]"]?p.style.width=this.engine.values[l+"[width]"]+"px":void 0):a.parentNode.appendChild(p)},a.prototype.reach=function(a,b,c,d){var e,f,g;null==d&&(d=0),(a[b]||(a[b]={}))[c]=d,(a[c]||(a[c]={}))[b]=d,g=[];for(f in a[b])e=a[c][f],g.push(null==e||e>d+1?this.reach(a,c,f,d+1):void 0);return g},a.prototype.draw=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;return k=(c=a.split('"')).length>1?c[0]:a,1===(null!=(m=f=this.engine.identity[k])?m.nodeType:void 0)?(k!==a?(l=null!=(n=b[k+"[y]"])?n:0,g=null!=(o=b[k+"[x]"])?o:0,e=null!=(p=b[a+"[y]"])?p:0,d=null!=(q=b[a+"[x]"])?q:0,i=l+e,h=g+d):(l=f.offsetTop,g=f.offsetLeft),(null!=(r=f.offsetWidth!==b[k+"[width]"])?r:b[k+"[intrinsic-width]"])&&(d=g+f.clientLeft),(null!=(s=f.offsetHeight!==b[k+"[height]"])?s:b[k+"[intrinsic-height]"])&&(e=l+f.clientTop)):(f=document.body,g=null!=(t=b[a+"[x]"])?t:0,l=null!=(u=b[a+"[y]"])?u:0),b.hasOwnProperty(j=a+"[width]")&&this.ruler(f,j,b[j],null!=d?d:g,null!=e?e:l,b[j],0,k!==a),b.hasOwnProperty(j=a+"[height]")&&this.ruler(f,j,b[j],null!=d?d:g,null!=e?e:l,0,b[j],k!==a),b.hasOwnProperty(j=a+"[x]")&&this.ruler(f,j,b[j],(null!=h?h:g)-b[j],null!=i?i:l,b[j],0,k!==a),b.hasOwnProperty(j=a+"[y]")?this.ruler(f,j,b[j],null!=h?h:g,(null!=i?i:l)-b[j],0,b[j],k!==a):void 0
},a}(),c.exports=d}),a.register("gss/vendor/gl-matrix.js",function(a){!function(b){"use strict";var c={};"undefined"==typeof a?"function"==typeof define&&"object"==typeof define.amd&&define.amd?(c.exports={},define(function(){return c.exports})):c.exports="undefined"!=typeof window?window:b:c.exports=a,function(a){if(!b)var b=1e-6;if(!c)var c="undefined"!=typeof Float32Array?Float32Array:Array;if(!d)var d=Math.random;var e={};e.setMatrixArrayType=function(a){c=a},"undefined"!=typeof a&&(a.glMatrix=e);var f=Math.PI/180;e.toRadian=function(a){return a*f};var g={};g.create=function(){var a=new c(2);return a[0]=0,a[1]=0,a},g.clone=function(a){var b=new c(2);return b[0]=a[0],b[1]=a[1],b},g.fromValues=function(a,b){var d=new c(2);return d[0]=a,d[1]=b,d},g.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a},g.set=function(a,b,c){return a[0]=b,a[1]=c,a},g.add=function(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a},g.subtract=function(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a},g.sub=g.subtract,g.multiply=function(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a},g.mul=g.multiply,g.divide=function(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a},g.div=g.divide,g.min=function(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a},g.max=function(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a},g.scale=function(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a},g.scaleAndAdd=function(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a},g.distance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1];return Math.sqrt(c*c+d*d)},g.dist=g.distance,g.squaredDistance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1];return c*c+d*d},g.sqrDist=g.squaredDistance,g.length=function(a){var b=a[0],c=a[1];return Math.sqrt(b*b+c*c)},g.len=g.length,g.squaredLength=function(a){var b=a[0],c=a[1];return b*b+c*c},g.sqrLen=g.squaredLength,g.negate=function(a,b){return a[0]=-b[0],a[1]=-b[1],a},g.normalize=function(a,b){var c=b[0],d=b[1],e=c*c+d*d;return e>0&&(e=1/Math.sqrt(e),a[0]=b[0]*e,a[1]=b[1]*e),a},g.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]},g.cross=function(a,b,c){var d=b[0]*c[1]-b[1]*c[0];return a[0]=a[1]=0,a[2]=d,a},g.lerp=function(a,b,c,d){var e=b[0],f=b[1];return a[0]=e+d*(c[0]-e),a[1]=f+d*(c[1]-f),a},g.random=function(a,b){b=b||1;var c=2*d()*Math.PI;return a[0]=Math.cos(c)*b,a[1]=Math.sin(c)*b,a},g.transformMat2=function(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[2]*e,a[1]=c[1]*d+c[3]*e,a},g.transformMat2d=function(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[2]*e+c[4],a[1]=c[1]*d+c[3]*e+c[5],a},g.transformMat3=function(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[3]*e+c[6],a[1]=c[1]*d+c[4]*e+c[7],a},g.transformMat4=function(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[4]*e+c[12],a[1]=c[1]*d+c[5]*e+c[13],a},g.forEach=function(){var a=g.create();return function(b,c,d,e,f,g){var h,i;for(c||(c=2),d||(d=0),i=e?Math.min(e*c+d,b.length):b.length,h=d;i>h;h+=c)a[0]=b[h],a[1]=b[h+1],f(a,a,g),b[h]=a[0],b[h+1]=a[1];return b}}(),g.str=function(a){return"vec2("+a[0]+", "+a[1]+")"},"undefined"!=typeof a&&(a.vec2=g);var h={};h.create=function(){var a=new c(3);return a[0]=0,a[1]=0,a[2]=0,a},h.clone=function(a){var b=new c(3);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b},h.fromValues=function(a,b,d){var e=new c(3);return e[0]=a,e[1]=b,e[2]=d,e},h.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a},h.set=function(a,b,c,d){return a[0]=b,a[1]=c,a[2]=d,a},h.add=function(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2],a},h.subtract=function(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a[2]=b[2]-c[2],a},h.sub=h.subtract,h.multiply=function(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a[2]=b[2]*c[2],a},h.mul=h.multiply,h.divide=function(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a[2]=b[2]/c[2],a},h.div=h.divide,h.min=function(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a[2]=Math.min(b[2],c[2]),a},h.max=function(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a[2]=Math.max(b[2],c[2]),a},h.scale=function(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a},h.scaleAndAdd=function(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a[2]=b[2]+c[2]*d,a},h.distance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2];return Math.sqrt(c*c+d*d+e*e)},h.dist=h.distance,h.squaredDistance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2];return c*c+d*d+e*e},h.sqrDist=h.squaredDistance,h.length=function(a){var b=a[0],c=a[1],d=a[2];return Math.sqrt(b*b+c*c+d*d)},h.len=h.length,h.squaredLength=function(a){var b=a[0],c=a[1],d=a[2];return b*b+c*c+d*d},h.sqrLen=h.squaredLength,h.negate=function(a,b){return a[0]=-b[0],a[1]=-b[1],a[2]=-b[2],a},h.normalize=function(a,b){var c=b[0],d=b[1],e=b[2],f=c*c+d*d+e*e;return f>0&&(f=1/Math.sqrt(f),a[0]=b[0]*f,a[1]=b[1]*f,a[2]=b[2]*f),a},h.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]},h.cross=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=c[0],h=c[1],i=c[2];return a[0]=e*i-f*h,a[1]=f*g-d*i,a[2]=d*h-e*g,a},h.lerp=function(a,b,c,d){var e=b[0],f=b[1],g=b[2];return a[0]=e+d*(c[0]-e),a[1]=f+d*(c[1]-f),a[2]=g+d*(c[2]-g),a},h.random=function(a,b){b=b||1;var c=2*d()*Math.PI,e=2*d()-1,f=Math.sqrt(1-e*e)*b;return a[0]=Math.cos(c)*f,a[1]=Math.sin(c)*f,a[2]=e*b,a},h.transformMat4=function(a,b,c){var d=b[0],e=b[1],f=b[2];return a[0]=c[0]*d+c[4]*e+c[8]*f+c[12],a[1]=c[1]*d+c[5]*e+c[9]*f+c[13],a[2]=c[2]*d+c[6]*e+c[10]*f+c[14],a},h.transformMat3=function(a,b,c){var d=b[0],e=b[1],f=b[2];return a[0]=d*c[0]+e*c[3]+f*c[6],a[1]=d*c[1]+e*c[4]+f*c[7],a[2]=d*c[2]+e*c[5]+f*c[8],a},h.transformQuat=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=c[0],h=c[1],i=c[2],j=c[3],k=j*d+h*f-i*e,l=j*e+i*d-g*f,m=j*f+g*e-h*d,n=-g*d-h*e-i*f;return a[0]=k*j+n*-g+l*-i-m*-h,a[1]=l*j+n*-h+m*-g-k*-i,a[2]=m*j+n*-i+k*-h-l*-g,a},h.forEach=function(){var a=h.create();return function(b,c,d,e,f,g){var h,i;for(c||(c=3),d||(d=0),i=e?Math.min(e*c+d,b.length):b.length,h=d;i>h;h+=c)a[0]=b[h],a[1]=b[h+1],a[2]=b[h+2],f(a,a,g),b[h]=a[0],b[h+1]=a[1],b[h+2]=a[2];return b}}(),h.str=function(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"},"undefined"!=typeof a&&(a.vec3=h);var i={};i.create=function(){var a=new c(4);return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a},i.clone=function(a){var b=new c(4);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b},i.fromValues=function(a,b,d,e){var f=new c(4);return f[0]=a,f[1]=b,f[2]=d,f[3]=e,f},i.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a},i.set=function(a,b,c,d,e){return a[0]=b,a[1]=c,a[2]=d,a[3]=e,a},i.add=function(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2],a[3]=b[3]+c[3],a},i.subtract=function(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a[2]=b[2]-c[2],a[3]=b[3]-c[3],a},i.sub=i.subtract,i.multiply=function(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a[2]=b[2]*c[2],a[3]=b[3]*c[3],a},i.mul=i.multiply,i.divide=function(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a[2]=b[2]/c[2],a[3]=b[3]/c[3],a},i.div=i.divide,i.min=function(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a[2]=Math.min(b[2],c[2]),a[3]=Math.min(b[3],c[3]),a},i.max=function(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a[2]=Math.max(b[2],c[2]),a[3]=Math.max(b[3],c[3]),a},i.scale=function(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a[3]=b[3]*c,a},i.scaleAndAdd=function(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a[2]=b[2]+c[2]*d,a[3]=b[3]+c[3]*d,a},i.distance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2],f=b[3]-a[3];return Math.sqrt(c*c+d*d+e*e+f*f)},i.dist=i.distance,i.squaredDistance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2],f=b[3]-a[3];return c*c+d*d+e*e+f*f},i.sqrDist=i.squaredDistance,i.length=function(a){var b=a[0],c=a[1],d=a[2],e=a[3];return Math.sqrt(b*b+c*c+d*d+e*e)},i.len=i.length,i.squaredLength=function(a){var b=a[0],c=a[1],d=a[2],e=a[3];return b*b+c*c+d*d+e*e},i.sqrLen=i.squaredLength,i.negate=function(a,b){return a[0]=-b[0],a[1]=-b[1],a[2]=-b[2],a[3]=-b[3],a},i.normalize=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c*c+d*d+e*e+f*f;return g>0&&(g=1/Math.sqrt(g),a[0]=b[0]*g,a[1]=b[1]*g,a[2]=b[2]*g,a[3]=b[3]*g),a},i.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]},i.lerp=function(a,b,c,d){var e=b[0],f=b[1],g=b[2],h=b[3];return a[0]=e+d*(c[0]-e),a[1]=f+d*(c[1]-f),a[2]=g+d*(c[2]-g),a[3]=h+d*(c[3]-h),a},i.random=function(a,b){return b=b||1,a[0]=d(),a[1]=d(),a[2]=d(),a[3]=d(),i.normalize(a,a),i.scale(a,a,b),a},i.transformMat4=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3];return a[0]=c[0]*d+c[4]*e+c[8]*f+c[12]*g,a[1]=c[1]*d+c[5]*e+c[9]*f+c[13]*g,a[2]=c[2]*d+c[6]*e+c[10]*f+c[14]*g,a[3]=c[3]*d+c[7]*e+c[11]*f+c[15]*g,a},i.transformQuat=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=c[0],h=c[1],i=c[2],j=c[3],k=j*d+h*f-i*e,l=j*e+i*d-g*f,m=j*f+g*e-h*d,n=-g*d-h*e-i*f;return a[0]=k*j+n*-g+l*-i-m*-h,a[1]=l*j+n*-h+m*-g-k*-i,a[2]=m*j+n*-i+k*-h-l*-g,a},i.forEach=function(){var a=i.create();return function(b,c,d,e,f,g){var h,i;for(c||(c=4),d||(d=0),i=e?Math.min(e*c+d,b.length):b.length,h=d;i>h;h+=c)a[0]=b[h],a[1]=b[h+1],a[2]=b[h+2],a[3]=b[h+3],f(a,a,g),b[h]=a[0],b[h+1]=a[1],b[h+2]=a[2],b[h+3]=a[3];return b}}(),i.str=function(a){return"vec4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"},"undefined"!=typeof a&&(a.vec4=i);var j={};j.create=function(){var a=new c(4);return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a},j.clone=function(a){var b=new c(4);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b},j.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a},j.identity=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a},j.transpose=function(a,b){if(a===b){var c=b[1];a[1]=b[2],a[2]=c}else a[0]=b[0],a[1]=b[2],a[2]=b[1],a[3]=b[3];return a},j.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c*f-e*d;return g?(g=1/g,a[0]=f*g,a[1]=-d*g,a[2]=-e*g,a[3]=c*g,a):null},j.adjoint=function(a,b){var c=b[0];return a[0]=b[3],a[1]=-b[1],a[2]=-b[2],a[3]=c,a},j.determinant=function(a){return a[0]*a[3]-a[2]*a[1]},j.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[0],i=c[1],j=c[2],k=c[3];return a[0]=d*h+e*j,a[1]=d*i+e*k,a[2]=f*h+g*j,a[3]=f*i+g*k,a},j.mul=j.multiply,j.rotate=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i+e*h,a[1]=d*-h+e*i,a[2]=f*i+g*h,a[3]=f*-h+g*i,a},j.scale=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[0],i=c[1];return a[0]=d*h,a[1]=e*i,a[2]=f*h,a[3]=g*i,a},j.str=function(a){return"mat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"},"undefined"!=typeof a&&(a.mat2=j);var k={};k.create=function(){var a=new c(6);return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a},k.clone=function(a){var b=new c(6);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b},k.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a},k.identity=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a},k.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=c*f-d*e;return i?(i=1/i,a[0]=f*i,a[1]=-d*i,a[2]=-e*i,a[3]=c*i,a[4]=(e*h-f*g)*i,a[5]=(d*g-c*h)*i,a):null},k.determinant=function(a){return a[0]*a[3]-a[1]*a[2]},k.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=c[0],k=c[1],l=c[2],m=c[3],n=c[4],o=c[5];return a[0]=d*j+e*l,a[1]=d*k+e*m,a[2]=f*j+g*l,a[3]=f*k+g*m,a[4]=j*h+l*i+n,a[5]=k*h+m*i+o,a},k.mul=k.multiply,k.rotate=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=Math.sin(c),k=Math.cos(c);return a[0]=d*k+e*j,a[1]=-d*j+e*k,a[2]=f*k+g*j,a[3]=-f*j+k*g,a[4]=k*h+j*i,a[5]=k*i-j*h,a},k.scale=function(a,b,c){var d=c[0],e=c[1];return a[0]=b[0]*d,a[1]=b[1]*e,a[2]=b[2]*d,a[3]=b[3]*e,a[4]=b[4]*d,a[5]=b[5]*e,a},k.translate=function(a,b,c){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4]+c[0],a[5]=b[5]+c[1],a},k.str=function(a){return"mat2d("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+")"},"undefined"!=typeof a&&(a.mat2d=k);var l={};l.create=function(){var a=new c(9);return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a},l.fromMat4=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[4],a[4]=b[5],a[5]=b[6],a[6]=b[8],a[7]=b[9],a[8]=b[10],a},l.clone=function(a){var b=new c(9);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b},l.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a},l.identity=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a},l.transpose=function(a,b){if(a===b){var c=b[1],d=b[2],e=b[5];a[1]=b[3],a[2]=b[6],a[3]=c,a[5]=b[7],a[6]=d,a[7]=e}else a[0]=b[0],a[1]=b[3],a[2]=b[6],a[3]=b[1],a[4]=b[4],a[5]=b[7],a[6]=b[2],a[7]=b[5],a[8]=b[8];return a},l.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=k*g-h*j,m=-k*f+h*i,n=j*f-g*i,o=c*l+d*m+e*n;return o?(o=1/o,a[0]=l*o,a[1]=(-k*d+e*j)*o,a[2]=(h*d-e*g)*o,a[3]=m*o,a[4]=(k*c-e*i)*o,a[5]=(-h*c+e*f)*o,a[6]=n*o,a[7]=(-j*c+d*i)*o,a[8]=(g*c-d*f)*o,a):null},l.adjoint=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8];return a[0]=g*k-h*j,a[1]=e*j-d*k,a[2]=d*h-e*g,a[3]=h*i-f*k,a[4]=c*k-e*i,a[5]=e*f-c*h,a[6]=f*j-g*i,a[7]=d*i-c*j,a[8]=c*g-d*f,a},l.determinant=function(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7],j=a[8];return b*(j*f-g*i)+c*(-j*e+g*h)+d*(i*e-f*h)},l.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=c[0],n=c[1],o=c[2],p=c[3],q=c[4],r=c[5],s=c[6],t=c[7],u=c[8];return a[0]=m*d+n*g+o*j,a[1]=m*e+n*h+o*k,a[2]=m*f+n*i+o*l,a[3]=p*d+q*g+r*j,a[4]=p*e+q*h+r*k,a[5]=p*f+q*i+r*l,a[6]=s*d+t*g+u*j,a[7]=s*e+t*h+u*k,a[8]=s*f+t*i+u*l,a},l.mul=l.multiply,l.translate=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=c[0],n=c[1];return a[0]=d,a[1]=e,a[2]=f,a[3]=g,a[4]=h,a[5]=i,a[6]=m*d+n*g+j,a[7]=m*e+n*h+k,a[8]=m*f+n*i+l,a},l.rotate=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=Math.sin(c),n=Math.cos(c);return a[0]=n*d+m*g,a[1]=n*e+m*h,a[2]=n*f+m*i,a[3]=n*g-m*d,a[4]=n*h-m*e,a[5]=n*i-m*f,a[6]=j,a[7]=k,a[8]=l,a},l.scale=function(a,b,c){var d=c[0],e=c[1];return a[0]=d*b[0],a[1]=d*b[1],a[2]=d*b[2],a[3]=e*b[3],a[4]=e*b[4],a[5]=e*b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a},l.fromMat2d=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=0,a[3]=b[2],a[4]=b[3],a[5]=0,a[6]=b[4],a[7]=b[5],a[8]=1,a},l.fromQuat=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c+c,h=d+d,i=e+e,j=c*g,k=d*g,l=d*h,m=e*g,n=e*h,o=e*i,p=f*g,q=f*h,r=f*i;return a[0]=1-l-o,a[3]=k-r,a[6]=m+q,a[1]=k+r,a[4]=1-j-o,a[7]=n-p,a[2]=m-q,a[5]=n+p,a[8]=1-j-l,a},l.normalFromMat4=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11],o=b[12],p=b[13],q=b[14],r=b[15],s=c*h-d*g,t=c*i-e*g,u=c*j-f*g,v=d*i-e*h,w=d*j-f*h,x=e*j-f*i,y=k*p-l*o,z=k*q-m*o,A=k*r-n*o,B=l*q-m*p,C=l*r-n*p,D=m*r-n*q,E=s*D-t*C+u*B+v*A-w*z+x*y;return E?(E=1/E,a[0]=(h*D-i*C+j*B)*E,a[1]=(i*A-g*D-j*z)*E,a[2]=(g*C-h*A+j*y)*E,a[3]=(e*C-d*D-f*B)*E,a[4]=(c*D-e*A+f*z)*E,a[5]=(d*A-c*C-f*y)*E,a[6]=(p*x-q*w+r*v)*E,a[7]=(q*u-o*x-r*t)*E,a[8]=(o*w-p*u+r*s)*E,a):null},l.str=function(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"},"undefined"!=typeof a&&(a.mat3=l);var m={};m.create=function(){var a=new c(16);return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},m.clone=function(a){var b=new c(16);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15],b},m.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15],a},m.identity=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},m.transpose=function(a,b){if(a===b){var c=b[1],d=b[2],e=b[3],f=b[6],g=b[7],h=b[11];a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=c,a[6]=b[9],a[7]=b[13],a[8]=d,a[9]=f,a[11]=b[14],a[12]=e,a[13]=g,a[14]=h}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a},m.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11],o=b[12],p=b[13],q=b[14],r=b[15],s=c*h-d*g,t=c*i-e*g,u=c*j-f*g,v=d*i-e*h,w=d*j-f*h,x=e*j-f*i,y=k*p-l*o,z=k*q-m*o,A=k*r-n*o,B=l*q-m*p,C=l*r-n*p,D=m*r-n*q,E=s*D-t*C+u*B+v*A-w*z+x*y;return E?(E=1/E,a[0]=(h*D-i*C+j*B)*E,a[1]=(e*C-d*D-f*B)*E,a[2]=(p*x-q*w+r*v)*E,a[3]=(m*w-l*x-n*v)*E,a[4]=(i*A-g*D-j*z)*E,a[5]=(c*D-e*A+f*z)*E,a[6]=(q*u-o*x-r*t)*E,a[7]=(k*x-m*u+n*t)*E,a[8]=(g*C-h*A+j*y)*E,a[9]=(d*A-c*C-f*y)*E,a[10]=(o*w-p*u+r*s)*E,a[11]=(l*u-k*w-n*s)*E,a[12]=(h*z-g*B-i*y)*E,a[13]=(c*B-d*z+e*y)*E,a[14]=(p*t-o*v-q*s)*E,a[15]=(k*v-l*t+m*s)*E,a):null},m.adjoint=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11],o=b[12],p=b[13],q=b[14],r=b[15];return a[0]=h*(m*r-n*q)-l*(i*r-j*q)+p*(i*n-j*m),a[1]=-(d*(m*r-n*q)-l*(e*r-f*q)+p*(e*n-f*m)),a[2]=d*(i*r-j*q)-h*(e*r-f*q)+p*(e*j-f*i),a[3]=-(d*(i*n-j*m)-h*(e*n-f*m)+l*(e*j-f*i)),a[4]=-(g*(m*r-n*q)-k*(i*r-j*q)+o*(i*n-j*m)),a[5]=c*(m*r-n*q)-k*(e*r-f*q)+o*(e*n-f*m),a[6]=-(c*(i*r-j*q)-g*(e*r-f*q)+o*(e*j-f*i)),a[7]=c*(i*n-j*m)-g*(e*n-f*m)+k*(e*j-f*i),a[8]=g*(l*r-n*p)-k*(h*r-j*p)+o*(h*n-j*l),a[9]=-(c*(l*r-n*p)-k*(d*r-f*p)+o*(d*n-f*l)),a[10]=c*(h*r-j*p)-g*(d*r-f*p)+o*(d*j-f*h),a[11]=-(c*(h*n-j*l)-g*(d*n-f*l)+k*(d*j-f*h)),a[12]=-(g*(l*q-m*p)-k*(h*q-i*p)+o*(h*m-i*l)),a[13]=c*(l*q-m*p)-k*(d*q-e*p)+o*(d*m-e*l),a[14]=-(c*(h*q-i*p)-g*(d*q-e*p)+o*(d*i-e*h)),a[15]=c*(h*m-i*l)-g*(d*m-e*l)+k*(d*i-e*h),a},m.determinant=function(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7],j=a[8],k=a[9],l=a[10],m=a[11],n=a[12],o=a[13],p=a[14],q=a[15],r=b*g-c*f,s=b*h-d*f,t=b*i-e*f,u=c*h-d*g,v=c*i-e*g,w=d*i-e*h,x=j*o-k*n,y=j*p-l*n,z=j*q-m*n,A=k*p-l*o,B=k*q-m*o,C=l*q-m*p;return r*C-s*B+t*A+u*z-v*y+w*x},m.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=b[9],n=b[10],o=b[11],p=b[12],q=b[13],r=b[14],s=b[15],t=c[0],u=c[1],v=c[2],w=c[3];return a[0]=t*d+u*h+v*l+w*p,a[1]=t*e+u*i+v*m+w*q,a[2]=t*f+u*j+v*n+w*r,a[3]=t*g+u*k+v*o+w*s,t=c[4],u=c[5],v=c[6],w=c[7],a[4]=t*d+u*h+v*l+w*p,a[5]=t*e+u*i+v*m+w*q,a[6]=t*f+u*j+v*n+w*r,a[7]=t*g+u*k+v*o+w*s,t=c[8],u=c[9],v=c[10],w=c[11],a[8]=t*d+u*h+v*l+w*p,a[9]=t*e+u*i+v*m+w*q,a[10]=t*f+u*j+v*n+w*r,a[11]=t*g+u*k+v*o+w*s,t=c[12],u=c[13],v=c[14],w=c[15],a[12]=t*d+u*h+v*l+w*p,a[13]=t*e+u*i+v*m+w*q,a[14]=t*f+u*j+v*n+w*r,a[15]=t*g+u*k+v*o+w*s,a},m.mul=m.multiply,m.translate=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t=c[0],u=c[1],v=c[2];return d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=b[9],n=b[10],o=b[11],p=b[12],q=b[13],r=b[14],s=b[15],a[0]=d+g*t,a[1]=e+g*u,a[2]=f+g*v,a[3]=g,a[4]=h+k*t,a[5]=i+k*u,a[6]=j+k*v,a[7]=k,a[8]=l+o*t,a[9]=m+o*u,a[10]=n+o*v,a[11]=o,a[12]=p+s*t,a[13]=q+s*u,a[14]=r+s*v,a[15]=s,a},m.scale=function(a,b,c){var d=c[0],e=c[1],f=c[2];return a[0]=b[0]*d,a[1]=b[1]*d,a[2]=b[2]*d,a[3]=b[3]*d,a[4]=b[4]*e,a[5]=b[5]*e,a[6]=b[6]*e,a[7]=b[7]*e,a[8]=b[8]*f,a[9]=b[9]*f,a[10]=b[10]*f,a[11]=b[11]*f,a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15],a},m.rotate=function(a,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D=e[0],E=e[1],F=e[2],G=Math.sqrt(D*D+E*E+F*F);return Math.abs(G)<b?null:(G=1/G,D*=G,E*=G,F*=G,f=Math.sin(d),g=Math.cos(d),h=1-g,i=c[0],j=c[1],k=c[2],l=c[3],m=c[4],n=c[5],o=c[6],p=c[7],q=c[8],r=c[9],s=c[10],t=c[11],u=D*D*h+g,v=E*D*h+F*f,w=F*D*h-E*f,x=D*E*h-F*f,y=E*E*h+g,z=F*E*h+D*f,A=D*F*h+E*f,B=E*F*h-D*f,C=F*F*h+g,a[0]=i*u+m*v+q*w,a[1]=j*u+n*v+r*w,a[2]=k*u+o*v+s*w,a[3]=l*u+p*v+t*w,a[4]=i*x+m*y+q*z,a[5]=j*x+n*y+r*z,a[6]=k*x+o*y+s*z,a[7]=l*x+p*y+t*z,a[8]=i*A+m*B+q*C,a[9]=j*A+n*B+r*C,a[10]=k*A+o*B+s*C,a[11]=l*A+p*B+t*C,c!==a&&(a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]),a)},m.rotateX=function(a,b,c){var d=Math.sin(c),e=Math.cos(c),f=b[4],g=b[5],h=b[6],i=b[7],j=b[8],k=b[9],l=b[10],m=b[11];return b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a[4]=f*e+j*d,a[5]=g*e+k*d,a[6]=h*e+l*d,a[7]=i*e+m*d,a[8]=j*e-f*d,a[9]=k*e-g*d,a[10]=l*e-h*d,a[11]=m*e-i*d,a},m.rotateY=function(a,b,c){var d=Math.sin(c),e=Math.cos(c),f=b[0],g=b[1],h=b[2],i=b[3],j=b[8],k=b[9],l=b[10],m=b[11];return b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a[0]=f*e-j*d,a[1]=g*e-k*d,a[2]=h*e-l*d,a[3]=i*e-m*d,a[8]=f*d+j*e,a[9]=g*d+k*e,a[10]=h*d+l*e,a[11]=i*d+m*e,a},m.rotateZ=function(a,b,c){var d=Math.sin(c),e=Math.cos(c),f=b[0],g=b[1],h=b[2],i=b[3],j=b[4],k=b[5],l=b[6],m=b[7];return b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a[0]=f*e+j*d,a[1]=g*e+k*d,a[2]=h*e+l*d,a[3]=i*e+m*d,a[4]=j*e-f*d,a[5]=k*e-g*d,a[6]=l*e-h*d,a[7]=m*e-i*d,a},m.fromRotationTranslation=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=d+d,i=e+e,j=f+f,k=d*h,l=d*i,m=d*j,n=e*i,o=e*j,p=f*j,q=g*h,r=g*i,s=g*j;return a[0]=1-(n+p),a[1]=l+s,a[2]=m-r,a[3]=0,a[4]=l-s,a[5]=1-(k+p),a[6]=o+q,a[7]=0,a[8]=m+r,a[9]=o-q,a[10]=1-(k+n),a[11]=0,a[12]=c[0],a[13]=c[1],a[14]=c[2],a[15]=1,a},m.fromQuat=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c+c,h=d+d,i=e+e,j=c*g,k=d*g,l=d*h,m=e*g,n=e*h,o=e*i,p=f*g,q=f*h,r=f*i;return a[0]=1-l-o,a[1]=k+r,a[2]=m-q,a[3]=0,a[4]=k-r,a[5]=1-j-o,a[6]=n+p,a[7]=0,a[8]=m+q,a[9]=n-p,a[10]=1-j-l,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},m.frustum=function(a,b,c,d,e,f,g){var h=1/(c-b),i=1/(e-d),j=1/(f-g);return a[0]=2*f*h,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2*f*i,a[6]=0,a[7]=0,a[8]=(c+b)*h,a[9]=(e+d)*i,a[10]=(g+f)*j,a[11]=-1,a[12]=0,a[13]=0,a[14]=g*f*2*j,a[15]=0,a},m.perspective=function(a,b,c,d,e){var f=1/Math.tan(b/2),g=1/(d-e);return a[0]=f/c,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=f,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=(e+d)*g,a[11]=-1,a[12]=0,a[13]=0,a[14]=2*e*d*g,a[15]=0,a},m.ortho=function(a,b,c,d,e,f,g){var h=1/(b-c),i=1/(d-e),j=1/(f-g);return a[0]=-2*h,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*i,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2*j,a[11]=0,a[12]=(b+c)*h,a[13]=(e+d)*i,a[14]=(g+f)*j,a[15]=1,a},m.lookAt=function(a,c,d,e){var f,g,h,i,j,k,l,n,o,p,q=c[0],r=c[1],s=c[2],t=e[0],u=e[1],v=e[2],w=d[0],x=d[1],y=d[2];return Math.abs(q-w)<b&&Math.abs(r-x)<b&&Math.abs(s-y)<b?m.identity(a):(l=q-w,n=r-x,o=s-y,p=1/Math.sqrt(l*l+n*n+o*o),l*=p,n*=p,o*=p,f=u*o-v*n,g=v*l-t*o,h=t*n-u*l,p=Math.sqrt(f*f+g*g+h*h),p?(p=1/p,f*=p,g*=p,h*=p):(f=0,g=0,h=0),i=n*h-o*g,j=o*f-l*h,k=l*g-n*f,p=Math.sqrt(i*i+j*j+k*k),p?(p=1/p,i*=p,j*=p,k*=p):(i=0,j=0,k=0),a[0]=f,a[1]=i,a[2]=l,a[3]=0,a[4]=g,a[5]=j,a[6]=n,a[7]=0,a[8]=h,a[9]=k,a[10]=o,a[11]=0,a[12]=-(f*q+g*r+h*s),a[13]=-(i*q+j*r+k*s),a[14]=-(l*q+n*r+o*s),a[15]=1,a)},m.str=function(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"},"undefined"!=typeof a&&(a.mat4=m);var n={};n.create=function(){var a=new c(4);return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a},n.rotationTo=function(){var a=h.create(),b=h.fromValues(1,0,0),c=h.fromValues(0,1,0);return function(d,e,f){var g=h.dot(e,f);return-.999999>g?(h.cross(a,b,e),h.length(a)<1e-6&&h.cross(a,c,e),h.normalize(a,a),n.setAxisAngle(d,a,Math.PI),d):g>.999999?(d[0]=0,d[1]=0,d[2]=0,d[3]=1,d):(h.cross(a,e,f),d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=1+g,n.normalize(d,d))}}(),n.setAxes=function(){var a=l.create();return function(b,c,d,e){return a[0]=d[0],a[3]=d[1],a[6]=d[2],a[1]=e[0],a[4]=e[1],a[7]=e[2],a[2]=-c[0],a[5]=-c[1],a[8]=-c[2],n.normalize(b,n.fromMat3(b,a))}}(),n.clone=i.clone,n.fromValues=i.fromValues,n.copy=i.copy,n.set=i.set,n.identity=function(a){return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a},n.setAxisAngle=function(a,b,c){c=.5*c;var d=Math.sin(c);return a[0]=d*b[0],a[1]=d*b[1],a[2]=d*b[2],a[3]=Math.cos(c),a},n.add=i.add,n.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[0],i=c[1],j=c[2],k=c[3];return a[0]=d*k+g*h+e*j-f*i,a[1]=e*k+g*i+f*h-d*j,a[2]=f*k+g*j+d*i-e*h,a[3]=g*k-d*h-e*i-f*j,a},n.mul=n.multiply,n.scale=i.scale,n.rotateX=function(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i+g*h,a[1]=e*i+f*h,a[2]=f*i-e*h,a[3]=g*i-d*h,a},n.rotateY=function(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i-f*h,a[1]=e*i+g*h,a[2]=f*i+d*h,a[3]=g*i-e*h,a},n.rotateZ=function(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i+e*h,a[1]=e*i-d*h,a[2]=f*i+g*h,a[3]=g*i-f*h,a},n.calculateW=function(a,b){var c=b[0],d=b[1],e=b[2];return a[0]=c,a[1]=d,a[2]=e,a[3]=-Math.sqrt(Math.abs(1-c*c-d*d-e*e)),a},n.dot=i.dot,n.lerp=i.lerp,n.slerp=function(a,b,c,d){var e,f,g,h,i,j=b[0],k=b[1],l=b[2],m=b[3],n=c[0],o=c[1],p=c[2],q=c[3];return f=j*n+k*o+l*p+m*q,0>f&&(f=-f,n=-n,o=-o,p=-p,q=-q),1-f>1e-6?(e=Math.acos(f),g=Math.sin(e),h=Math.sin((1-d)*e)/g,i=Math.sin(d*e)/g):(h=1-d,i=d),a[0]=h*j+i*n,a[1]=h*k+i*o,a[2]=h*l+i*p,a[3]=h*m+i*q,a},n.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c*c+d*d+e*e+f*f,h=g?1/g:0;return a[0]=-c*h,a[1]=-d*h,a[2]=-e*h,a[3]=f*h,a},n.conjugate=function(a,b){return a[0]=-b[0],a[1]=-b[1],a[2]=-b[2],a[3]=b[3],a},n.length=i.length,n.len=n.length,n.squaredLength=i.squaredLength,n.sqrLen=n.squaredLength,n.normalize=i.normalize,n.fromMat3=function(a,b){var c,d=b[0]+b[4]+b[8];if(d>0)c=Math.sqrt(d+1),a[3]=.5*c,c=.5/c,a[0]=(b[7]-b[5])*c,a[1]=(b[2]-b[6])*c,a[2]=(b[3]-b[1])*c;else{var e=0;b[4]>b[0]&&(e=1),b[8]>b[3*e+e]&&(e=2);var f=(e+1)%3,g=(e+2)%3;c=Math.sqrt(b[3*e+e]-b[3*f+f]-b[3*g+g]+1),a[e]=.5*c,c=.5/c,a[3]=(b[3*g+f]-b[3*f+g])*c,a[f]=(b[3*f+e]+b[3*e+f])*c,a[g]=(b[3*g+e]+b[3*e+g])*c}return a},n.str=function(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"},"undefined"!=typeof a&&(a.quat=n)}(c.exports)}(this)}),a.register("gss/vendor/weakmap.js",function(){"undefined"!=typeof window&&"undefined"==typeof WeakMap&&!function(){var a=Object.defineProperty,b=Date.now()%1e9,c=function(){this.name="__st"+(1e9*Math.random()>>>0)+(b++ +"__")};c.prototype={set:function(b,c){var d=b[this.name];d&&d[0]===b?d[1]=c:a(b,this.name,{value:[b,c],writable:!0})},get:function(a){var b;return(b=a[this.name])&&b[0]===a?b[1]:void 0},"delete":function(a){this.set(a,void 0)}},window.WeakMap=c}()}),a.register("gss/vendor/MutationObserver.js",function(){"undefined"!=typeof window&&function(a){function b(a){u.push(a),t||(t=!0,q(d))}function c(a){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(a)||a}function d(){t=!1;var a=u;u=[],a.sort(function(a,b){return a.uid_-b.uid_});var b=!1;a.forEach(function(a){var c=a.takeRecords();e(a),c.length&&(a.callback_(c,a),b=!0)}),b&&d()}function e(a){a.nodes_.forEach(function(b){var c=p.get(b);c&&c.forEach(function(b){b.observer===a&&b.removeTransientObservers()})})}function f(a,b){for(var c=a;c;c=c.parentNode){var d=p.get(c);if(d)for(var e=0;e<d.length;e++){var f=d[e],g=f.options;if(c===a||g.subtree){var h=b(g);h&&f.enqueue(h)}}}}function g(a){this.callback_=a,this.nodes_=[],this.records_=[],this.uid_=++v}function h(a,b){this.type=a,this.target=b,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function i(a){var b=new h(a.type,a.target);return b.addedNodes=a.addedNodes.slice(),b.removedNodes=a.removedNodes.slice(),b.previousSibling=a.previousSibling,b.nextSibling=a.nextSibling,b.attributeName=a.attributeName,b.attributeNamespace=a.attributeNamespace,b.oldValue=a.oldValue,b}function j(a,b){return w=new h(a,b)}function k(a){return x?x:(x=i(w),x.oldValue=a,x)}function l(){w=x=void 0}function m(a){return a===x||a===w}function n(a,b){return a===b?a:x&&m(a)?x:null}function o(a,b,c){this.observer=a,this.target=b,this.options=c,this.transientObservedNodes=[]}var p=new WeakMap,q=window.msSetImmediate||window.setImmediate;if(!q){var r=[],s=String(Math.random());window.addEventListener("message",function(a){if(a.data===s){var b=r;r=[],b.forEach(function(a){a()})}}),q=function(a){r.push(a),window.postMessage(s,"*")}}var t=!1,u=[],v=0;g.prototype={observe:function(a,b){if(a=c(a),!b.childList&&!b.attributes&&!b.characterData||b.attributeOldValue&&!b.attributes||b.attributeFilter&&b.attributeFilter.length&&!b.attributes||b.characterDataOldValue&&!b.characterData)throw new SyntaxError;var d=p.get(a);d||p.set(a,d=[]);for(var e,f=0;f<d.length;f++)if(d[f].observer===this){e=d[f],e.removeListeners(),e.options=b;break}e||(e=new o(this,a,b),d.push(e),this.nodes_.push(a)),e.addListeners()},disconnect:function(){this.nodes_.forEach(function(a){for(var b=p.get(a),c=0;c<b.length;c++){var d=b[c];if(d.observer===this){d.removeListeners(),b.splice(c,1);break}}},this),this.records_=[]},takeRecords:function(){var a=this.records_;return this.records_=[],a}};var w,x;o.prototype={enqueue:function(a){var c=this.observer.records_,d=c.length;if(c.length>0){var e=c[d-1],f=n(e,a);if(f)return void(c[d-1]=f)}else b(this.observer);c[d]=a},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(a){var b=this.options;b.attributes&&a.addEventListener("DOMAttrModified",this,!0),b.characterData&&a.addEventListener("DOMCharacterDataModified",this,!0),b.childList&&a.addEventListener("DOMNodeInserted",this,!0),(b.childList||b.subtree)&&a.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(a){var b=this.options;b.attributes&&a.removeEventListener("DOMAttrModified",this,!0),b.characterData&&a.removeEventListener("DOMCharacterDataModified",this,!0),b.childList&&a.removeEventListener("DOMNodeInserted",this,!0),(b.childList||b.subtree)&&a.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(a){if(a!==this.target){this.addListeners_(a),this.transientObservedNodes.push(a);var b=p.get(a);b||p.set(a,b=[]),b.push(this)}},removeTransientObservers:function(){var a=this.transientObservedNodes;this.transientObservedNodes=[],a.forEach(function(a){this.removeListeners_(a);for(var b=p.get(a),c=0;c<b.length;c++)if(b[c]===this){b.splice(c,1);break}},this)},handleEvent:function(a){switch(a.stopImmediatePropagation(),a.type){case"DOMAttrModified":var b=a.attrName,c=a.relatedNode.namespaceURI,d=a.target,e=new j("attributes",d);e.attributeName=b,e.attributeNamespace=c;var g=a.attrChange===MutationEvent.ADDITION?null:a.prevValue;f(d,function(a){return!a.attributes||a.attributeFilter&&a.attributeFilter.length&&-1===a.attributeFilter.indexOf(b)&&-1===a.attributeFilter.indexOf(c)?void 0:a.attributeOldValue?k(g):e});break;case"DOMCharacterDataModified":var d=a.target,e=j("characterData",d),g=a.prevValue;f(d,function(a){return a.characterData?a.characterDataOldValue?k(g):e:void 0});break;case"DOMNodeRemoved":this.addTransientObserver(a.target);case"DOMNodeInserted":var h,i,d=a.relatedNode,m=a.target;"DOMNodeInserted"===a.type?(h=[m],i=[]):(h=[],i=[m]);var n=m.previousSibling,o=m.nextSibling,e=j("childList",d);e.addedNodes=h,e.removedNodes=i,e.previousSibling=n,e.nextSibling=o,f(d,function(a){return a.childList?e:void 0})}l()}},a.JsMutationObserver=g,a.MutationObserver||(a.MutationObserver=g)}(this)}),a.register("gss/vendor/MutationObserver.attributes.js",function(){"undefined"!=typeof window&&function(){var a=function(a){"___test___"==a[0].attributeName&&(delete HTMLElement.prototype.removeAttribute,delete HTMLElement.prototype.__removeAttribute,delete HTMLElement.prototype.setAttribute,delete HTMLElement.prototype.__setAttribute)},b=new MutationObserver(a),c=document.createElement("div");b.observe(c,{attributes:!0}),c.setAttribute("___test___",!0),setTimeout(function(){b.disconnect(),c.removeAttribute("___test___")},10),HTMLElement.prototype.__removeAttribute=HTMLElement.prototype.removeAttribute,HTMLElement.prototype.removeAttribute=function(a){var b=this.getAttribute(a);this.__removeAttribute(a);
var c=document.createEvent("MutationEvent");c.initMutationEvent("DOMAttrModified",!0,!1,this,b,"",a,c.REMOVAL),this.dispatchEvent(c)},HTMLElement.prototype.__setAttribute=HTMLElement.prototype.setAttribute,HTMLElement.prototype.setAttribute=function(a,b){var c=this.getAttribute(a);if(this.__setAttribute(a,b),b=this.getAttribute(a),b!=c){var d=document.createEvent("MutationEvent");d.initMutationEvent("DOMAttrModified",!0,!1,this,c||"",b||"",a,null==c?d.ADDITION:d.MODIFICATION),d.prevValue=c,d.attrName=a,this.dispatchEvent(d)}}}.call(this)}),a.register("gss/vendor/MutationObserver.classList.js",function(){if("undefined"!=typeof window);var a=function(a){"class"==a[0].attributeName&&delete HTMLElement.prototype.classList},b=new MutationObserver(a),c=document.createElement("div");b.observe(c,{attributes:!0}),c.classList.add("___test___"),setTimeout(function(){b.disconnect(),c.classList.remove("___test___")},10),"document"in self&&!function(a){if("Element"in a){var b="classList",c="prototype",d=a.Element[c],e=Object,f=String[c].trim||function(){return this.replace(/^\s+|\s+$/g,"")},g=Array[c].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1},h=function(a,b){this.name=a,this.code=DOMException[a],this.message=b},i=function(a,b){if(""===b)throw new h("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(b))throw new h("INVALID_CHARACTER_ERR","String contains an invalid character");return g.call(a,b)},j=function(a){for(var b=f.call(a.getAttribute("class")||""),c=b?b.split(/\s+/):[],d=0,e=c.length;e>d;d++)this.push(c[d]);this._updateClassName=function(){a.setAttribute("class",this.toString())}},k=j[c]=[],l=function(){return new j(this)};if(h[c]=Error[c],k.item=function(a){return this[a]||null},k.contains=function(a){return a+="",-1!==i(this,a)},k.add=function(){var a,b=arguments,c=0,d=b.length,e=!1;do a=b[c]+"",-1===i(this,a)&&(this.push(a),e=!0);while(++c<d);e&&this._updateClassName()},k.remove=function(){var a,b=arguments,c=0,d=b.length,e=!1;do{a=b[c]+"";var f=i(this,a);-1!==f&&(this.splice(f,1),e=!0)}while(++c<d);e&&this._updateClassName()},k.toggle=function(a,b){a+="";var c=this.contains(a),d=c?b!==!0&&"remove":b!==!1&&"add";return d&&this[d](a),!c},k.toString=function(){return this.join(" ")},klassList=HTMLElement.prototype.classList,e.defineProperty){var m={get:l,enumerable:!0,configurable:!0};try{e.defineProperty(d,b,m)}catch(n){-2146823252===n.number&&(m.enumerable=!1,e.defineProperty(d,b,m))}}else e[c].__defineGetter__&&d.__defineGetter__(b,l);try{HTMLElement.prototype.classList==klassList&&(HTMLElement.prototype.classList=j)}catch(o){}}}(self)}),a.register("gss-error-reporter/component.json",function(a,b,c){c.exports={name:"error-reporter",description:"Provide source code context when reporting errors.",author:"Paul Young",repo:"gss/error-reporter",version:"0.1.4",json:["component.json"],scripts:["lib/error-reporter.js"],main:"lib/error-reporter.js"}}),a.register("the-gss-error-reporter/component.json",function(a,b,c){c.exports={name:"error-reporter",description:"Provide source code context when reporting errors.",author:"Paul Young",repo:"gss/error-reporter",version:"0.1.4",json:["component.json"],scripts:["lib/error-reporter.js"],main:"lib/error-reporter.js"}}),a.register("gss-ccss-compiler/component.json",function(a,b,c){c.exports={name:"ccss-compiler",description:"Constraint Cascading Style Sheets compiler",author:"Dan Tocchini <d4@thegrid.io>",repo:"gss/ccss-compiler",version:"1.1.2-beta",json:["component.json"],scripts:["lib/compiler.js","lib/grammar.js","lib/parser.js","lib/scoper.js"],dependencies:{"gss/error-reporter":"*","gss/vfl-compiler":"*","gss/vgl-compiler":"*"},main:"lib/compiler.js",license:"MIT"}}),a.register("gss/component.json",function(a,b,c){c.exports={name:"gss",repo:"the-gss/engine",description:"GSS runtime",version:"1.0.4-beta",author:"Dan Tocchini <d4@thegrid.io>",repo:"the-gss/engine",json:["component.json"],scripts:["lib/Engine.js","lib/Domain.js","lib/Command.js","lib/Update.js","lib/commands/Assignment.js","lib/commands/Block.js","lib/commands/Condition.js","lib/commands/Constraint.js","lib/commands/Iterator.js","lib/commands/Query.js","lib/commands/Selector.js","lib/commands/Style.js","lib/commands/Stylesheet.js","lib/commands/Type.js","lib/commands/Transformation.js","lib/commands/Unit.js","lib/commands/Variable.js","lib/commands/Call.js","lib/domains/Numeric.js","lib/domains/Abstract.js","lib/domains/Boolean.js","lib/domains/Intrinsic.js","lib/domains/Document.js","lib/domains/Linear.js","lib/domains/Finite.js","lib/structures/Events.js","lib/structures/Identity.js","lib/structures/Mutations.js","lib/structures/Pairs.js","lib/structures/Positions.js","lib/structures/Queries.js","lib/structures/Signatures.js","lib/structures/Signatures.js","lib/properties/Axioms.js","lib/properties/Dimensions.js","lib/properties/Styles.js","lib/properties/Types.js","lib/utilities/Console.js","lib/utilities/Exporter.js","lib/utilities/Inspector.js","vendor/gl-matrix.js","vendor/weakmap.js","vendor/MutationObserver.js","vendor/MutationObserver.attributes.js","vendor/MutationObserver.classList.js"],dependencies:{"gss/ccss-compiler":"new","slightlyoff/cassowary.js":"*"},paths:["/Users/invizko/Sites/the-gss"],locals:["the-compiler","ccss-compiler"],main:"lib/Engine.js"}}),a.alias("gss-ccss-compiler/lib/compiler.js","gss/deps/ccss-compiler/lib/compiler.js"),a.alias("gss-ccss-compiler/lib/grammar.js","gss/deps/ccss-compiler/lib/grammar.js"),a.alias("gss-ccss-compiler/lib/parser.js","gss/deps/ccss-compiler/lib/parser.js"),a.alias("gss-ccss-compiler/lib/scoper.js","gss/deps/ccss-compiler/lib/scoper.js"),a.alias("gss-ccss-compiler/lib/compiler.js","gss/deps/ccss-compiler/index.js"),a.alias("gss-ccss-compiler/lib/compiler.js","ccss-compiler/index.js"),a.alias("gss-error-reporter/lib/error-reporter.js","gss-ccss-compiler/deps/error-reporter/lib/error-reporter.js"),a.alias("gss-error-reporter/lib/error-reporter.js","gss-ccss-compiler/deps/error-reporter/index.js"),a.alias("gss-error-reporter/lib/error-reporter.js","gss-error-reporter/index.js"),a.alias("gss-vfl-compiler/lib/compiler.js","gss-ccss-compiler/deps/vfl-compiler/lib/compiler.js"),a.alias("gss-vfl-compiler/lib/parser.js","gss-ccss-compiler/deps/vfl-compiler/lib/parser.js"),a.alias("gss-vfl-compiler/lib/compiler.js","gss-ccss-compiler/deps/vfl-compiler/index.js"),a.alias("the-gss-error-reporter/lib/error-reporter.js","gss-vfl-compiler/deps/error-reporter/lib/error-reporter.js"),a.alias("the-gss-error-reporter/lib/error-reporter.js","gss-vfl-compiler/deps/error-reporter/index.js"),a.alias("the-gss-error-reporter/lib/error-reporter.js","the-gss-error-reporter/index.js"),a.alias("gss-vfl-compiler/lib/compiler.js","gss-vfl-compiler/index.js"),a.alias("gss-vgl-compiler/lib/compiler.js","gss-ccss-compiler/deps/vgl-compiler/lib/compiler.js"),a.alias("gss-vgl-compiler/lib/parser.js","gss-ccss-compiler/deps/vgl-compiler/lib/parser.js"),a.alias("gss-vgl-compiler/lib/compiler.js","gss-ccss-compiler/deps/vgl-compiler/index.js"),a.alias("the-gss-error-reporter/lib/error-reporter.js","gss-vgl-compiler/deps/error-reporter/lib/error-reporter.js"),a.alias("the-gss-error-reporter/lib/error-reporter.js","gss-vgl-compiler/deps/error-reporter/index.js"),a.alias("the-gss-error-reporter/lib/error-reporter.js","the-gss-error-reporter/index.js"),a.alias("gss-vgl-compiler/lib/compiler.js","gss-vgl-compiler/index.js"),a.alias("gss-ccss-compiler/lib/compiler.js","gss-ccss-compiler/index.js"),a.alias("slightlyoff-cassowary.js/index.js","gss/deps/cassowary/index.js"),a.alias("slightlyoff-cassowary.js/src/c.js","gss/deps/cassowary/src/c.js"),a.alias("slightlyoff-cassowary.js/src/HashTable.js","gss/deps/cassowary/src/HashTable.js"),a.alias("slightlyoff-cassowary.js/src/HashSet.js","gss/deps/cassowary/src/HashSet.js"),a.alias("slightlyoff-cassowary.js/src/Error.js","gss/deps/cassowary/src/Error.js"),a.alias("slightlyoff-cassowary.js/src/SymbolicWeight.js","gss/deps/cassowary/src/SymbolicWeight.js"),a.alias("slightlyoff-cassowary.js/src/Strength.js","gss/deps/cassowary/src/Strength.js"),a.alias("slightlyoff-cassowary.js/src/Variable.js","gss/deps/cassowary/src/Variable.js"),a.alias("slightlyoff-cassowary.js/src/Point.js","gss/deps/cassowary/src/Point.js"),a.alias("slightlyoff-cassowary.js/src/Expression.js","gss/deps/cassowary/src/Expression.js"),a.alias("slightlyoff-cassowary.js/src/Constraint.js","gss/deps/cassowary/src/Constraint.js"),a.alias("slightlyoff-cassowary.js/src/EditInfo.js","gss/deps/cassowary/src/EditInfo.js"),a.alias("slightlyoff-cassowary.js/src/Tableau.js","gss/deps/cassowary/src/Tableau.js"),a.alias("slightlyoff-cassowary.js/src/SimplexSolver.js","gss/deps/cassowary/src/SimplexSolver.js"),a.alias("slightlyoff-cassowary.js/src/Timer.js","gss/deps/cassowary/src/Timer.js"),a.alias("slightlyoff-cassowary.js/src/parser/parser.js","gss/deps/cassowary/src/parser/parser.js"),a.alias("slightlyoff-cassowary.js/src/parser/api.js","gss/deps/cassowary/src/parser/api.js"),a.alias("slightlyoff-cassowary.js/index.js","cassowary/index.js"),a.alias("gss/lib/Engine.js","gss/index.js"),"object"==typeof exports?module.exports=a("gss"):"function"==typeof define&&define.amd?define([],function(){return a("gss")}):this.gss=a("gss")}();