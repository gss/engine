/* gss-engine - version 1.0.4-beta (2014-10-08) - http://gridstylesheets.org */
!function(){function a(b,c,d){var e=a.resolve(b);if(null==e){d=d||b,c=c||"root";var f=new Error('Failed to require "'+d+'" from "'+c+'"');throw f.path=d,f.parent=c,f.require=!0,f}var g=a.modules[e];if(!g._resolving&&!g.exports){var h={};h.exports={},h.client=h.component=!0,g._resolving=!0,g.call(this,h.exports,a.relative(e),h),delete g._resolving,g.exports=h.exports}return g.exports}a.modules={},a.aliases={},a.resolve=function(b){"/"===b.charAt(0)&&(b=b.slice(1));for(var c=[b,b+".js",b+".json",b+"/index.js",b+"/index.json"],d=0;d<c.length;d++){var b=c[d];if(a.modules.hasOwnProperty(b))return b;if(a.aliases.hasOwnProperty(b))return a.aliases[b]}},a.normalize=function(a,b){var c=[];if("."!=b.charAt(0))return b;a=a.split("/"),b=b.split("/");for(var d=0;d<b.length;++d)".."==b[d]?a.pop():"."!=b[d]&&""!=b[d]&&c.push(b[d]);return a.concat(c).join("/")},a.register=function(b,c){a.modules[b]=c},a.alias=function(b,c){if(!a.modules.hasOwnProperty(b))throw new Error('Failed to alias "'+b+'", it does not exist');a.aliases[c]=b},a.relative=function(b){function c(a,b){for(var c=a.length;c--;)if(a[c]===b)return c;return-1}function d(c){var e=d.resolve(c);return a(e,b,c)}var e=a.normalize(b,"..");return d.resolve=function(d){var f=d.charAt(0);if("/"==f)return d.slice(1);if("."==f)return a.normalize(e,d);var g=b.split("/"),h=c(g,"deps")+1;return h||(h=0),d=g.slice(0,h+1).join("/")+"/deps/"+d},d.exists=function(b){return a.modules.hasOwnProperty(d.resolve(b))},d},a.register("gss-error-reporter/lib/error-reporter.js",function(a,b,c){var d,e=function(a,b){return function(){return a.apply(b,arguments)}};d=function(){function a(a){if(this.reportError=e(this.reportError,this),null==a)throw new Error("Source code not provided");if("[object String]"!==toString.call(a))throw new TypeError("Source code must be a string");this._sourceCode=a}return a.prototype._sourceCode=null,a.prototype.reportError=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;if(null==a)throw new Error("Message not provided");if("[object String]"!==toString.call(a))throw new TypeError("Message must be a string");if(0===a.length)throw new Error("Message must not be empty");if(null==b)throw new Error("Line number not provided");if("[object Number]"!==toString.call(b))throw new TypeError("Line number must be a number");if(0>=b)throw new RangeError("Line number is invalid");if(null==c)throw new Error("Column number not provided");if("[object Number]"!==toString.call(c))throw new TypeError("Column number must be a number");if(0>=c)throw new RangeError("Column number is invalid");if(m=this._sourceCode.split("\n"),b>m.length)throw new RangeError("Line number is out of range");if(f=m[b-1],c>f.length)throw new RangeError("Column number is out of range");for(g=[],g.push("Error on line "+b+", column "+c+": "+a),g.push(""),s=b-1,p=b+1,s-1>=0&&(r=s-1),p-1<=m.length-1&&(o=p-1),k=null!=o?p:b,n=(""+k).length,h=""+Array(c).join("-")+"^",e=[],e.push([s,m[r],null!=r]),e.push([b,f,!0]),e.push(["^",h,!0]),e.push([p,m[o],null!=o]),t=0,u=e.length;u>t;t++)j=e[t],i=j[0],l=j[1],d=j[2],q=Array(n-(""+i).length+1).join(" "),i=""+q+i,d&&g.push(""+i+" : "+l);throw console.error(g.join("\n")),new Error(a)},a}(),c.exports=d}),a.register("the-gss-error-reporter/lib/error-reporter.js",function(a,b,c){var d,e=function(a,b){return function(){return a.apply(b,arguments)}};d=function(){function a(a){if(this.reportError=e(this.reportError,this),null==a)throw new Error("Source code not provided");if("[object String]"!==toString.call(a))throw new TypeError("Source code must be a string");this._sourceCode=a}return a.prototype._sourceCode=null,a.prototype.reportError=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;if(null==a)throw new Error("Message not provided");if("[object String]"!==toString.call(a))throw new TypeError("Message must be a string");if(0===a.length)throw new Error("Message must not be empty");if(null==b)throw new Error("Line number not provided");if("[object Number]"!==toString.call(b))throw new TypeError("Line number must be a number");if(0>=b)throw new RangeError("Line number is invalid");if(null==c)throw new Error("Column number not provided");if("[object Number]"!==toString.call(c))throw new TypeError("Column number must be a number");if(0>=c)throw new RangeError("Column number is invalid");if(m=this._sourceCode.split("\n"),b>m.length)throw new RangeError("Line number is out of range");if(f=m[b-1],c>f.length)throw new RangeError("Column number is out of range");for(g=[],g.push("Error on line "+b+", column "+c+": "+a),g.push(""),s=b-1,p=b+1,s-1>=0&&(r=s-1),p-1<=m.length-1&&(o=p-1),k=null!=o?p:b,n=(""+k).length,h=""+Array(c).join("-")+"^",e=[],e.push([s,m[r],null!=r]),e.push([b,f,!0]),e.push(["^",h,!0]),e.push([p,m[o],null!=o]),t=0,u=e.length;u>t;t++)j=e[t],i=j[0],l=j[1],d=j[2],q=Array(n-(""+i).length+1).join(" "),i=""+q+i,d&&g.push(""+i+" : "+l);throw console.error(g.join("\n")),new Error(a)},a}(),c.exports=d}),a.register("gss-vfl-compiler/lib/compiler.js",function(a,b,c){var d,e;e="undefined"!=typeof window&&null!==window?b("./parser").parse:b("../lib/parser").parse,d=b("error-reporter"),c.exports={parse:function(a){var b,c,f,g,h,i;i=null;try{i=e(a)}catch(j){c=j,f=new d(a),h=c.message,g=c.line,b=c.column,f.reportError(h,g,b)}return i}}}),a.register("gss-vfl-compiler/lib/parser.js",function(a,b,c){c.exports=function(){function a(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c}function b(a,b,c,d,e,f){this.message=a,this.expected=b,this.found=c,this.offset=d,this.line=e,this.column=f,this.name="SyntaxError"}function c(a){function c(){return e(ne).line}function d(){return e(ne).column}function e(b){function c(b,c,d){var e,f;for(e=c;d>e;e++)f=a.charAt(e),"\n"===f?(b.seenCR||b.line++,b.column=1,b.seenCR=!1):"\r"===f||"\u2028"===f||"\u2029"===f?(b.line++,b.column=1,b.seenCR=!0):(b.column++,b.seenCR=!1)}return oe!==b&&(oe>b&&(oe=0,pe={line:1,column:1,seenCR:!1}),c(pe,oe,b),oe=b),pe}function f(a){qe>me||(me>qe&&(qe=me,re=[]),re.push(a))}function g(c,d,f){function g(a){var b=1;for(a.sort(function(a,b){return a.description<b.description?-1:a.description>b.description?1:0});b<a.length;)a[b-1]===a[b]?a.splice(b,1):b++}function h(a,b){function c(a){function b(a){return a.charCodeAt(0).toString(16).toUpperCase()}return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(a){return"\\x0"+b(a)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(a){return"\\x"+b(a)}).replace(/[\u0180-\u0FFF]/g,function(a){return"\\u0"+b(a)}).replace(/[\u1080-\uFFFF]/g,function(a){return"\\u"+b(a)})}var d,e,f,g=new Array(a.length);for(f=0;f<a.length;f++)g[f]=a[f].description;return d=a.length>1?g.slice(0,-1).join(", ")+" or "+g[a.length-1]:g[0],e=b?'"'+c(b)+'"':"end of input","Expected "+d+" but "+e+" found."}var i=e(f),j=f<a.length?a.charAt(f):null;return null!==d&&g(d),new b(null!==c?c:h(d,j),d,j,f,i.line,i.column)}function h(){var a,b,c,d;if(a=me,b=Z(),b!==ab){for(c=[],d=i();d!==ab;)c.push(d),d=i();c!==ab?(d=Z(),d!==ab?(ne=a,b=eb(),a=b):(me=a,a=db)):(me=a,a=db)}else me=a,a=db;return a}function i(){var a,b,c,d;return a=me,b=j(),b!==ab?(c=S(),c!==ab?(d=Z(),d!==ab?(ne=a,b=fb(b),a=b):(me=a,a=db)):(me=a,a=db)):(me=a,a=db),a}function j(){var a,b,c,d,e,f,g,h,i,j;if(a=me,b=k(),b!==ab)if(c=Z(),c!==ab)if(d=t(),d!==ab){for(e=[],f=me,g=Z(),g!==ab?(h=H(),h===ab&&(h=gb),h!==ab?(i=Z(),i!==ab?(j=t(),j!==ab?(g=[g,h,i,j],f=g):(me=f,f=db)):(me=f,f=db)):(me=f,f=db)):(me=f,f=db);f!==ab;)e.push(f),f=me,g=Z(),g!==ab?(h=H(),h===ab&&(h=gb),h!==ab?(i=Z(),i!==ab?(j=t(),j!==ab?(g=[g,h,i,j],f=g):(me=f,f=db)):(me=f,f=db)):(me=f,f=db)):(me=f,f=db);e!==ab?(f=Z(),f!==ab?(g=l(),g!==ab?(ne=a,b=hb(b,d,e,g),a=b):(me=a,a=db)):(me=a,a=db)):(me=a,a=db)}else me=a,a=db;else me=a,a=db;else me=a,a=db;return a}function k(){var b,c;return b=me,a.substr(me,11)===ib?(c=ib,me+=11):(c=ab,0===se&&f(jb)),c===ab&&(a.substr(me,16)===kb?(c=kb,me+=16):(c=ab,0===se&&f(lb)),c===ab&&(a.substr(me,7)===mb?(c=mb,me+=7):(c=ab,0===se&&f(nb)),c===ab&&(a.substr(me,2)===ob?(c=ob,me+=2):(c=ab,0===se&&f(pb))))),c!==ab&&(ne=b,c=qb()),b=c,b===ab&&(b=me,a.substr(me,9)===rb?(c=rb,me+=9):(c=ab,0===se&&f(sb)),c===ab&&(a.substr(me,14)===tb?(c=tb,me+=14):(c=ab,0===se&&f(ub)),c===ab&&(a.substr(me,7)===vb?(c=vb,me+=7):(c=ab,0===se&&f(wb)),c===ab&&(a.substr(me,2)===xb?(c=xb,me+=2):(c=ab,0===se&&f(yb))))),c!==ab&&(ne=b,c=zb()),b=c),b}function l(){var a,b,c;for(a=me,b=[],c=m();c!==ab;)b.push(c),c=m();return b!==ab&&(ne=a,b=Ab(b)),a=b}function m(){var b,c,d,e,g,h;if(se++,b=me,c=Z(),c!==ab?(d=o(),d!==ab?(ne=b,c=Cb(d),b=c):(me=b,b=db)):(me=b,b=db),b===ab){if(b=me,c=Z(),c!==ab)if(a.substr(me,2)===Db?(d=Db,me+=2):(d=ab,0===se&&f(Eb)),d!==ab)if(40===a.charCodeAt(me)?(e=Fb,me++):(e=ab,0===se&&f(Gb)),e!==ab){if(g=[],Hb.test(a.charAt(me))?(h=a.charAt(me),me++):(h=ab,0===se&&f(Ib)),h!==ab)for(;h!==ab;)g.push(h),Hb.test(a.charAt(me))?(h=a.charAt(me),me++):(h=ab,0===se&&f(Ib));else g=db;g!==ab?(41===a.charCodeAt(me)?(h=Jb,me++):(h=ab,0===se&&f(Kb)),h!==ab?(ne=b,c=Lb(g),b=c):(me=b,b=db)):(me=b,b=db)}else me=b,b=db;else me=b,b=db;else me=b,b=db;if(b===ab){if(b=me,c=Z(),c!==ab)if(a.substr(me,2)===Db?(d=Db,me+=2):(d=ab,0===se&&f(Eb)),d!==ab)if(40===a.charCodeAt(me)?(e=Fb,me++):(e=ab,0===se&&f(Gb)),e!==ab){if(g=[],Mb.test(a.charAt(me))?(h=a.charAt(me),me++):(h=ab,0===se&&f(Nb)),h!==ab)for(;h!==ab;)g.push(h),Mb.test(a.charAt(me))?(h=a.charAt(me),me++):(h=ab,0===se&&f(Nb));else g=db;g!==ab?(41===a.charCodeAt(me)?(h=Jb,me++):(h=ab,0===se&&f(Kb)),h!==ab?(ne=b,c=Ob(g),b=c):(me=b,b=db)):(me=b,b=db)}else me=b,b=db;else me=b,b=db;else me=b,b=db;if(b===ab){if(b=me,c=Z(),c!==ab){if(d=[],e=K(),e!==ab)for(;e!==ab;)d.push(e),e=K();else d=db;if(d!==ab)if(40===a.charCodeAt(me)?(e=Fb,me++):(e=ab,0===se&&f(Gb)),e!==ab){if(g=[],h=n(),h!==ab)for(;h!==ab;)g.push(h),h=n();else g=db;g!==ab?(41===a.charCodeAt(me)?(h=Jb,me++):(h=ab,0===se&&f(Kb)),h!==ab?(ne=b,c=Pb(d,g),b=c):(me=b,b=db)):(me=b,b=db)}else me=b,b=db;else me=b,b=db}else me=b,b=db;b===ab&&(b=me,c=Z(),c!==ab?(d=J(),d!==ab?(ne=b,c=Qb(d),b=c):(me=b,b=db)):(me=b,b=db))}}}return se--,b===ab&&(c=ab,0===se&&f(Bb)),b}function n(){var b,c;return Rb.test(a.charAt(me))?(b=a.charAt(me),me++):(b=ab,0===se&&f(Sb)),b===ab&&(b=me,Tb.test(a.charAt(me))?(c=a.charAt(me),me++):(c=ab,0===se&&f(Ub)),c!==ab&&(ne=b,c=Vb()),b=c),b}function o(){var b,c,d,e;if(se++,b=me,a.substr(me,6)===Xb?(c=Xb,me+=6):(c=ab,0===se&&f(Yb)),c!==ab){if(d=[],e=K(),e!==ab)for(;e!==ab;)d.push(e),e=K();else d=db;d!==ab?(e=p(),e===ab&&(e=gb),e!==ab?(ne=b,c=Zb(d,e),b=c):(me=b,b=db)):(me=b,b=db)}else me=b,b=db;return se--,b===ab&&(c=ab,0===se&&f(Wb)),b}function p(){var b,c,d,e;if(se++,b=me,40===a.charCodeAt(me)?(c=Fb,me++):(c=ab,0===se&&f(Gb)),c!==ab){if(d=[],e=q(),e!==ab)for(;e!==ab;)d.push(e),e=q();else d=db;d!==ab?(41===a.charCodeAt(me)?(e=Jb,me++):(e=ab,0===se&&f(Kb)),e!==ab?(ne=b,c=_b(d),b=c):(me=b,b=db)):(me=b,b=db)}else me=b,b=db;return b===ab&&(b=me,a.substr(me,2)===ac?(c=ac,me+=2):(c=ab,0===se&&f(bc)),c!==ab&&(ne=b,c=cc()),b=c),se--,b===ab&&(c=ab,0===se&&f($b)),b}function q(){var b,c,d,e;return b=me,c=r(),c!==ab?(d=Y(),d===ab&&(d=gb),d!==ab?(44===a.charCodeAt(me)?(e=dc,me++):(e=ab,0===se&&f(ec)),e===ab&&(e=gb),e!==ab?(ne=b,c=fc(c),b=c):(me=b,b=db)):(me=b,b=db)):(me=b,b=db),b}function r(){var a,b,c,d,e,f,g,h;return a=me,b=A(),b!==ab?(c=Y(),c!==ab?(d=s(),d===ab&&(d=gb),d!==ab?(e=Y(),e===ab&&(e=gb),e!==ab?(f=A(),f===ab&&(f=gb),f!==ab?(g=Y(),g===ab&&(g=gb),g!==ab?(h=J(),h===ab&&(h=gb),h!==ab?(ne=a,b=gc(b,d,f,h),a=b):(me=a,a=db)):(me=a,a=db)):(me=a,a=db)):(me=a,a=db)):(me=a,a=db)):(me=a,a=db)):(me=a,a=db),a===ab&&(a=me,b=A(),b===ab&&(b=gb),b!==ab?(c=Y(),c===ab&&(c=gb),c!==ab?(d=s(),d!==ab?(e=Y(),e===ab&&(e=gb),e!==ab?(f=A(),f===ab&&(f=gb),f!==ab?(g=Y(),g===ab&&(g=gb),g!==ab?(h=J(),h===ab&&(h=gb),h!==ab?(ne=a,b=gc(b,d,f,h),a=b):(me=a,a=db)):(me=a,a=db)):(me=a,a=db)):(me=a,a=db)):(me=a,a=db)):(me=a,a=db)):(me=a,a=db),a===ab&&(a=me,b=A(),b===ab&&(b=gb),b!==ab?(c=Y(),c===ab&&(c=gb),c!==ab?(d=s(),d===ab&&(d=gb),d!==ab?(e=Y(),e===ab&&(e=gb),e!==ab?(f=A(),f===ab&&(f=gb),f!==ab?(g=Y(),g===ab&&(g=gb),g!==ab?(h=J(),h!==ab?(ne=a,b=gc(b,d,f,h),a=b):(me=a,a=db)):(me=a,a=db)):(me=a,a=db)):(me=a,a=db)):(me=a,a=db)):(me=a,a=db)):(me=a,a=db))),a}function s(){var b,c;if(b=[],hc.test(a.charAt(me))?(c=a.charAt(me),me++):(c=ab,0===se&&f(ic)),c!==ab)for(;c!==ab;)b.push(c),hc.test(a.charAt(me))?(c=a.charAt(me),me++):(c=ab,0===se&&f(ic));else b=db;return b}function t(){var b,c;return se++,b=w(),b===ab&&(b=u(),b===ab&&(b=me,c=x(),c!==ab&&(ne=b,c=kc(c)),b=c,b===ab&&(b=me,124===a.charCodeAt(me)?(c=lc,me++):(c=ab,0===se&&f(mc)),c!==ab&&(ne=b,c=nc()),b=c))),se--,b===ab&&(c=ab,0===se&&f(jc)),b}function u(){var b,c,d,e,g,h,i,j;if(b=me,40===a.charCodeAt(me)?(c=Fb,me++):(c=ab,0===se&&f(Gb)),c!==ab)if(d=Y(),d!==ab){if(e=[],g=K(),g!==ab)for(;g!==ab;)e.push(g),g=K();else e=db;e!==ab?(g=Y(),g!==ab?(h=y(),h===ab&&(h=gb),h!==ab?(i=Y(),i!==ab?(41===a.charCodeAt(me)?(j=Jb,me++):(j=ab,0===se&&f(Kb)),j!==ab?(ne=b,c=oc(e,h),b=c):(me=b,b=db)):(me=b,b=db)):(me=b,b=db)):(me=b,b=db)):(me=b,b=db)}else me=b,b=db;else me=b,b=db;return b===ab&&(b=v()),b}function v(){var b,c,d,e,g,h,i,j;if(b=me,40===a.charCodeAt(me)?(c=Fb,me++):(c=ab,0===se&&f(Gb)),c!==ab)if(d=Y(),d!==ab){for(e=[],pc.test(a.charAt(me))?(g=a.charAt(me),me++):(g=ab,0===se&&f(qc));g!==ab;)e.push(g),pc.test(a.charAt(me))?(g=a.charAt(me),me++):(g=ab,0===se&&f(qc));e!==ab?(g=Y(),g!==ab?(h=y(),h===ab&&(h=gb),h!==ab?(i=Y(),i!==ab?(41===a.charCodeAt(me)?(j=Jb,me++):(j=ab,0===se&&f(Kb)),j!==ab?(ne=b,c=rc(e,h),b=c):(me=b,b=db)):(me=b,b=db)):(me=b,b=db)):(me=b,b=db)):(me=b,b=db)}else me=b,b=db;else me=b,b=db;return b}function w(){var b,c,d,e,g,h;return b=me,c=u(),c!==ab?(d=Z(),d!==ab?(e=H(),e===ab&&(e=gb),e!==ab?(g=Z(),g!==ab?(a.substr(me,3)===sc?(h=sc,me+=3):(h=ab,0===se&&f(tc)),h!==ab?(ne=b,c=uc(c,e),b=c):(me=b,b=db)):(me=b,b=db)):(me=b,b=db)):(me=b,b=db)):(me=b,b=db),b}function x(){var b,c,d,e,g,h;if(se++,b=me,60===a.charCodeAt(me)?(c=wc,me++):(c=ab,0===se&&f(xc)),c!==ab)if(d=Y(),d===ab&&(d=gb),d!==ab){if(e=[],yc.test(a.charAt(me))?(g=a.charAt(me),me++):(g=ab,0===se&&f(zc)),g!==ab)for(;g!==ab;)e.push(g),yc.test(a.charAt(me))?(g=a.charAt(me),me++):(g=ab,0===se&&f(zc));else e=db;e!==ab?(g=Y(),g===ab&&(g=gb),g!==ab?(62===a.charCodeAt(me)?(h=Ac,me++):(h=ab,0===se&&f(Bc)),h!==ab?(ne=b,c=Cc(e),b=c):(me=b,b=db)):(me=b,b=db)):(me=b,b=db)}else me=b,b=db;else me=b,b=db;return se--,b===ab&&(c=ab,0===se&&f(vc)),b}function y(){var b,c,d,e,g,h,i,j,k,l;if(se++,b=me,40===a.charCodeAt(me)?(c=Fb,me++):(c=ab,0===se&&f(Gb)),c!==ab){if(d=[],e=me,g=A(),g!==ab?(h=z(),h!==ab?(i=J(),i===ab&&(i=gb),i!==ab?(j=Y(),j===ab&&(j=gb),j!==ab?(k=G(),k!==ab?(l=Y(),l===ab&&(l=gb),l!==ab?(g=[g,h,i,j,k,l],e=g):(me=e,e=db)):(me=e,e=db)):(me=e,e=db)):(me=e,e=db)):(me=e,e=db)):(me=e,e=db),e!==ab)for(;e!==ab;)d.push(e),e=me,g=A(),g!==ab?(h=z(),h!==ab?(i=J(),i===ab&&(i=gb),i!==ab?(j=Y(),j===ab&&(j=gb),j!==ab?(k=G(),k!==ab?(l=Y(),l===ab&&(l=gb),l!==ab?(g=[g,h,i,j,k,l],e=g):(me=e,e=db)):(me=e,e=db)):(me=e,e=db)):(me=e,e=db)):(me=e,e=db)):(me=e,e=db);else d=db;d!==ab?(41===a.charCodeAt(me)?(e=Jb,me++):(e=ab,0===se&&f(Kb)),e!==ab?(ne=b,c=Ec(d),b=c):(me=b,b=db)):(me=b,b=db)}else me=b,b=db;return se--,b===ab&&(c=ab,0===se&&f(Dc)),b}function z(){var a,b;if(se++,a=[],b=B(),b===ab&&(b=D(),b===ab&&(b=E(),b===ab&&(b=F(),b===ab&&(b=C())))),b!==ab)for(;b!==ab;)a.push(b),b=B(),b===ab&&(b=D(),b===ab&&(b=E(),b===ab&&(b=F(),b===ab&&(b=C()))));else a=db;return se--,a===ab&&(b=ab,0===se&&f(Fc)),a}function A(){var b,c,d,e;return b=me,c=Y(),c===ab&&(c=gb),c!==ab?(a.substr(me,2)===Gc?(d=Gc,me+=2):(d=ab,0===se&&f(Hc)),d===ab&&(a.substr(me,2)===Ic?(d=Ic,me+=2):(d=ab,0===se&&f(Jc)),d===ab&&(60===a.charCodeAt(me)?(d=wc,me++):(d=ab,0===se&&f(xc)),d===ab&&(a.substr(me,2)===Kc?(d=Kc,me+=2):(d=ab,0===se&&f(Lc)),d===ab&&(62===a.charCodeAt(me)?(d=Ac,me++):(d=ab,0===se&&f(Bc)),d===ab&&(d=me,a.substr(me,2)===Mc?(e=Mc,me+=2):(e=ab,0===se&&f(Nc)),e!==ab&&(ne=d,e=Oc()),d=e,d===ab&&(d=me,a.substr(me,2)===Pc?(e=Pc,me+=2):(e=ab,0===se&&f(Qc)),e!==ab&&(ne=d,e=Rc()),d=e)))))),d!==ab?(e=Y(),e===ab&&(e=gb),e!==ab?(ne=b,c=Sc(d),b=c):(me=b,b=db)):(me=b,b=db)):(me=b,b=db),b}function B(){var b,c,d;return b=me,Tc.test(a.charAt(me))?(c=a.charAt(me),me++):(c=ab,0===se&&f(Uc)),c!==ab?(d=Y(),d===ab&&(d=gb),d!==ab?(ne=b,c=Vc(c),b=c):(me=b,b=db)):(me=b,b=db),b}function C(){var a,b,c;if(a=me,b=[],c=K(),c!==ab)for(;c!==ab;)b.push(c),c=K();else b=db;return b!==ab?(c=Y(),c===ab&&(c=gb),c!==ab?(ne=a,b=Wc(b),a=b):(me=a,a=db)):(me=a,a=db),a}function D(){var a,b,c;if(a=me,b=[],c=L(),c!==ab)for(;c!==ab;)b.push(c),c=L();else b=db;return b!==ab?(c=Y(),c===ab&&(c=gb),c!==ab?(ne=a,b=Xc(b),a=b):(me=a,a=db)):(me=a,a=db),a}function E(){var b,c,d,e,g;if(b=me,91===a.charCodeAt(me)?(c=Yc,me++):(c=ab,0===se&&f(Zc)),c!==ab){if(d=[],e=K(),e!==ab)for(;e!==ab;)d.push(e),e=K();else d=db;d!==ab?(93===a.charCodeAt(me)?(e=$c,me++):(e=ab,0===se&&f(_c)),e!==ab?(g=Y(),g===ab&&(g=gb),g!==ab?(ne=b,c=ad(d),b=c):(me=b,b=db)):(me=b,b=db)):(me=b,b=db)}else me=b,b=db;return b}function F(){var b,c,d,e,g,h;if(b=me,c=[],d=K(),d!==ab)for(;d!==ab;)c.push(d),d=K();else c=db;if(c!==ab)if(91===a.charCodeAt(me)?(d=Yc,me++):(d=ab,0===se&&f(Zc)),d!==ab){if(e=[],g=K(),g!==ab)for(;g!==ab;)e.push(g),g=K();else e=db;e!==ab?(93===a.charCodeAt(me)?(g=$c,me++):(g=ab,0===se&&f(_c)),g!==ab?(h=Y(),h===ab&&(h=gb),h!==ab?(ne=b,c=bd(c,e),b=c):(me=b,b=db)):(me=b,b=db)):(me=b,b=db)}else me=b,b=db;else me=b,b=db;return b}function G(){var b,c;return b=me,44===a.charCodeAt(me)?(c=dc,me++):(c=ab,0===se&&f(ec)),c===ab&&(c=gb),c!==ab&&(ne=b,c=cd()),b=c}function H(){var b,c,d,e,g,h;return se++,b=me,45===a.charCodeAt(me)?(c=ed,me++):(c=ab,0===se&&f(fd)),c!==ab?(d=Y(),d!==ab?(e=I(),e!==ab?(g=Y(),g!==ab?(45===a.charCodeAt(me)?(h=ed,me++):(h=ab,0===se&&f(fd)),h!==ab?(ne=b,c=gd(e),b=c):(me=b,b=db)):(me=b,b=db)):(me=b,b=db)):(me=b,b=db)):(me=b,b=db),b===ab&&(b=me,45===a.charCodeAt(me)?(c=ed,me++):(c=ab,0===se&&f(fd)),c!==ab&&(ne=b,c=hd()),b=c,b===ab&&(b=me,126===a.charCodeAt(me)?(c=id,me++):(c=ab,0===se&&f(jd)),c!==ab?(d=Y(),d!==ab?(e=I(),e!==ab?(g=Y(),g!==ab?(126===a.charCodeAt(me)?(h=id,me++):(h=ab,0===se&&f(jd)),h!==ab?(ne=b,c=kd(e),b=c):(me=b,b=db)):(me=b,b=db)):(me=b,b=db)):(me=b,b=db)):(me=b,b=db),b===ab&&(b=me,126===a.charCodeAt(me)?(c=id,me++):(c=ab,0===se&&f(jd)),c!==ab?(45===a.charCodeAt(me)?(d=ed,me++):(d=ab,0===se&&f(fd)),d!==ab?(126===a.charCodeAt(me)?(e=id,me++):(e=ab,0===se&&f(jd)),e!==ab?(ne=b,c=ld(),b=c):(me=b,b=db)):(me=b,b=db)):(me=b,b=db),b===ab&&(b=me,126===a.charCodeAt(me)?(c=id,me++):(c=ab,0===se&&f(jd)),c!==ab&&(ne=b,c=md()),b=c,b===ab&&(b=me,c=nd,c!==ab&&(ne=b,c=od()),b=c))))),se--,b===ab&&(c=ab,0===se&&f(dd)),b}function I(){var b,c,d,e,g;if(se++,b=me,c=[],qd.test(a.charAt(me))?(d=a.charAt(me),me++):(d=ab,0===se&&f(rd)),d!==ab)for(;d!==ab;)c.push(d),qd.test(a.charAt(me))?(d=a.charAt(me),me++):(d=ab,0===se&&f(rd));else c=db;if(c!==ab&&(ne=b,c=sd(c)),b=c,b===ab){for(b=me,c=[],td.test(a.charAt(me))?(d=a.charAt(me),me++):(d=ab,0===se&&f(ud));d!==ab;)c.push(d),td.test(a.charAt(me))?(d=a.charAt(me),me++):(d=ab,0===se&&f(ud));if(c!==ab)if(91===a.charCodeAt(me)?(d=Yc,me++):(d=ab,0===se&&f(Zc)),d!==ab){if(e=[],vd.test(a.charAt(me))?(g=a.charAt(me),me++):(g=ab,0===se&&f(wd)),g!==ab)for(;g!==ab;)e.push(g),vd.test(a.charAt(me))?(g=a.charAt(me),me++):(g=ab,0===se&&f(wd));else e=db;e!==ab?(93===a.charCodeAt(me)?(g=$c,me++):(g=ab,0===se&&f(_c)),g!==ab?(ne=b,c=xd(c,e),b=c):(me=b,b=db)):(me=b,b=db)}else me=b,b=db;else me=b,b=db}return se--,b===ab&&(c=ab,0===se&&f(pd)),b}function J(){var b,c,d,e,g;if(se++,b=me,33===a.charCodeAt(me)?(c=zd,me++):(c=ab,0===se&&f(Ad)),c!==ab){if(d=[],Bd.test(a.charAt(me))?(e=a.charAt(me),me++):(e=ab,0===se&&f(Cd)),e!==ab)for(;e!==ab;)d.push(e),Bd.test(a.charAt(me))?(e=a.charAt(me),me++):(e=ab,0===se&&f(Cd));else d=db;if(d===ab&&(d=gb),d!==ab){if(e=[],Dd.test(a.charAt(me))?(g=a.charAt(me),me++):(g=ab,0===se&&f(Ed)),g!==ab)for(;g!==ab;)e.push(g),Dd.test(a.charAt(me))?(g=a.charAt(me),me++):(g=ab,0===se&&f(Ed));else e=db;e===ab&&(e=gb),e!==ab?(ne=b,c=Fd(d,e),b=c):(me=b,b=db)}else me=b,b=db}else me=b,b=db;return b===ab&&(b=me,33===a.charCodeAt(me)?(c=zd,me++):(c=ab,0===se&&f(Ad)),c!==ab?(a.length>me?(d=a.charAt(me),me++):(d=ab,0===se&&f(Gd)),d===ab&&(d=gb),d!==ab?(ne=b,c=Hd(),b=c):(me=b,b=db)):(me=b,b=db)),se--,b===ab&&(c=ab,0===se&&f(yd)),b}function K(){var b;return Id.test(a.charAt(me))?(b=a.charAt(me),me++):(b=ab,0===se&&f(Jd)),b}function L(){var a;return a=N(),a===ab&&(a=M()),a}function M(){var b,c,d;if(b=me,c=[],Dd.test(a.charAt(me))?(d=a.charAt(me),me++):(d=ab,0===se&&f(Ed)),d!==ab)for(;d!==ab;)c.push(d),Dd.test(a.charAt(me))?(d=a.charAt(me),me++):(d=ab,0===se&&f(Ed));else c=db;return c!==ab&&(ne=b,c=Kd(c)),b=c}function N(){var b,c,d,e,g;return b=me,c=me,d=M(),d!==ab?(46===a.charCodeAt(me)?(e=Ld,me++):(e=ab,0===se&&f(Md)),e!==ab?(g=M(),g!==ab?(d=[d,e,g],c=d):(me=c,c=db)):(me=c,c=db)):(me=c,c=db),c!==ab&&(ne=b,c=Nd(c)),b=c}function O(){var b;return a.length>me?(b=a.charAt(me),me++):(b=ab,0===se&&f(Gd)),b}function P(){var b,c;return se++,Pd.test(a.charAt(me))?(b=a.charAt(me),me++):(b=ab,0===se&&f(Qd)),se--,b===ab&&(c=ab,0===se&&f(Od)),b}function Q(){var b;return Rd.test(a.charAt(me))?(b=a.charAt(me),me++):(b=ab,0===se&&f(Sd)),b}function R(){var b,c;return se++,10===a.charCodeAt(me)?(b=Ud,me++):(b=ab,0===se&&f(Vd)),b===ab&&(a.substr(me,2)===Wd?(b=Wd,me+=2):(b=ab,0===se&&f(Xd)),b===ab&&(13===a.charCodeAt(me)?(b=Yd,me++):(b=ab,0===se&&f(Zd)),b===ab&&(8232===a.charCodeAt(me)?(b=$d,me++):(b=ab,0===se&&f(_d)),b===ab&&(8233===a.charCodeAt(me)?(b=ae,me++):(b=ab,0===se&&f(be)))))),se--,b===ab&&(c=ab,0===se&&f(Td)),b}function S(){var b,c,d;return b=me,c=Z(),c!==ab?(59===a.charCodeAt(me)?(d=ce,me++):(d=ab,0===se&&f(de)),d!==ab?(c=[c,d],b=c):(me=b,b=db)):(me=b,b=db),b===ab&&(b=me,c=Y(),c!==ab?(d=R(),d!==ab?(c=[c,d],b=c):(me=b,b=db)):(me=b,b=db),b===ab&&(b=me,c=Z(),c!==ab?(d=T(),d!==ab?(c=[c,d],b=c):(me=b,b=db)):(me=b,b=db))),b}function T(){var b,c;return b=me,se++,a.length>me?(c=a.charAt(me),me++):(c=ab,0===se&&f(Gd)),se--,c===ab?b=ee:(me=b,b=db),b}function U(){var a,b;return se++,a=V(),a===ab&&(a=X()),se--,a===ab&&(b=ab,0===se&&f(fe)),a}function V(){var b,c,d,e,g,h;if(b=me,a.substr(me,2)===ge?(c=ge,me+=2):(c=ab,0===se&&f(he)),c!==ab){for(d=[],e=me,g=me,se++,a.substr(me,2)===ie?(h=ie,me+=2):(h=ab,0===se&&f(je)),se--,h===ab?g=ee:(me=g,g=db),g!==ab?(h=O(),h!==ab?(g=[g,h],e=g):(me=e,e=db)):(me=e,e=db);e!==ab;)d.push(e),e=me,g=me,se++,a.substr(me,2)===ie?(h=ie,me+=2):(h=ab,0===se&&f(je)),se--,h===ab?g=ee:(me=g,g=db),g!==ab?(h=O(),h!==ab?(g=[g,h],e=g):(me=e,e=db)):(me=e,e=db);d!==ab?(a.substr(me,2)===ie?(e=ie,me+=2):(e=ab,0===se&&f(je)),e!==ab?(c=[c,d,e],b=c):(me=b,b=db)):(me=b,b=db)}else me=b,b=db;return b}function W(){var b,c,d,e,g,h;if(b=me,a.substr(me,2)===ge?(c=ge,me+=2):(c=ab,0===se&&f(he)),c!==ab){for(d=[],e=me,g=me,se++,a.substr(me,2)===ie?(h=ie,me+=2):(h=ab,0===se&&f(je)),h===ab&&(h=Q()),se--,h===ab?g=ee:(me=g,g=db),g!==ab?(h=O(),h!==ab?(g=[g,h],e=g):(me=e,e=db)):(me=e,e=db);e!==ab;)d.push(e),e=me,g=me,se++,a.substr(me,2)===ie?(h=ie,me+=2):(h=ab,0===se&&f(je)),h===ab&&(h=Q()),se--,h===ab?g=ee:(me=g,g=db),g!==ab?(h=O(),h!==ab?(g=[g,h],e=g):(me=e,e=db)):(me=e,e=db);d!==ab?(a.substr(me,2)===ie?(e=ie,me+=2):(e=ab,0===se&&f(je)),e!==ab?(c=[c,d,e],b=c):(me=b,b=db)):(me=b,b=db)}else me=b,b=db;return b}function X(){var b,c,d,e,g,h;if(b=me,a.substr(me,2)===ke?(c=ke,me+=2):(c=ab,0===se&&f(le)),c!==ab){for(d=[],e=me,g=me,se++,h=Q(),se--,h===ab?g=ee:(me=g,g=db),g!==ab?(h=O(),h!==ab?(g=[g,h],e=g):(me=e,e=db)):(me=e,e=db);e!==ab;)d.push(e),e=me,g=me,se++,h=Q(),se--,h===ab?g=ee:(me=g,g=db),g!==ab?(h=O(),h!==ab?(g=[g,h],e=g):(me=e,e=db)):(me=e,e=db);d!==ab?(e=Q(),e===ab&&(e=T()),e!==ab?(c=[c,d,e],b=c):(me=b,b=db)):(me=b,b=db)}else me=b,b=db;return b}function Y(){var a,b;for(a=[],b=P(),b===ab&&(b=W(),b===ab&&(b=X()));b!==ab;)a.push(b),b=P(),b===ab&&(b=W(),b===ab&&(b=X()));return a}function Z(){var a,b;for(a=[],b=P(),b===ab&&(b=R(),b===ab&&(b=U()));b!==ab;)a.push(b),b=P(),b===ab&&(b=R(),b===ab&&(b=U()));return a}var $,_=arguments.length>1?arguments[1]:{},ab={},bb={start:h},cb=h,db=ab,eb=function(){return te.getResults()},fb=function(a){return a},gb=null,hb=function(a,b,c,d){var e,f,g,h,i,j,k,l,m;te.addSplatIfNeeded(b,a,d),f=b,m=b,l=m.view,h=[],"|"!==l&&h.push(l),te.addPreds(l,b.preds,a);for(var n=0;n<c.length;n++)e=c[n][1],k=c[n][3],te.addSplatIfNeeded(k,a,d),j=k.view,"|"!==j&&h.push(j),te.addPreds(j,c[n][3].preds,a),f=[e,f,j],m.isPoint&&k.isPoint||(i=("|"==l||"|"===j)&&!(m.isPoint||k.isPoint),g=te.getLeftVar(l,a,d,m)+" "+te.getConnectionString(e,a,d,i)+" "+te.getRightVar(j,a,d,k)+te.getTrailingOptions(d)+te.getSW(d),te.addC(g.trim())),m=k,l=j;return te.addChains(h,d),{vfl:a,o:d}},ib="@horizontal",jb={type:"literal",value:"@horizontal",description:'"@horizontal"'},kb="@-gss-horizontal",lb={type:"literal",value:"@-gss-horizontal",description:'"@-gss-horizontal"'},mb="@-gss-h",nb={type:"literal",value:"@-gss-h",description:'"@-gss-h"'},ob="@h",pb={type:"literal",value:"@h",description:'"@h"'},qb=function(){return 0},rb="@vertical",sb={type:"literal",value:"@vertical",description:'"@vertical"'},tb="@-gss-vertical",ub={type:"literal",value:"@-gss-vertical",description:'"@-gss-vertical"'},vb="@-gss-v",wb={type:"literal",value:"@-gss-v",description:'"@-gss-v"'},xb="@v",yb={type:"literal",value:"@v",description:'"@v"'},zb=function(){return 1},Ab=function(a){var b={};b.chains=[];for(var c=0;c<a.length;c++)a[c].chain?b.chains.push(a[c].chain):b[a[c].key]=a[c].value;return b},Bb={type:"other",description:"Option"},Cb=function(a){return a},Db="in",Eb={type:"literal",value:"in",description:'"in"'},Fb="(",Gb={type:"literal",value:"(",description:'"("'},Hb=/^[^) ]/,Ib={type:"class",value:"[^) ]",description:"[^) ]"},Jb=")",Kb={type:"literal",value:")",description:'")"'},Lb=function(a){return{key:"in",value:a.join("")}},Mb=/^[^)]/,Nb={type:"class",value:"[^)]",description:"[^)]"},Ob=function(a){return{key:"in",value:"("+a.join("")+")"}},Pb=function(a,b){return{key:a.join(""),value:b.join("")}},Qb=function(a){return{key:"sw",value:a}},Rb=/^[^>=<!)]/,Sb={type:"class",value:"[^>=<!)]",description:"[^>=<!)]"},Tb=/^[>=<!]/,Ub={type:"class",value:"[>=<!]",description:"[>=<!]"},Vb=function(){throw new b("invalid character in option",null,null,null,c(),d())},Wb={type:"other",description:"Chain"},Xb="chain-",Yb={type:"literal",value:"chain-",description:'"chain-"'},Zb=function(a,b){return{chain:[a.join(""),b]}},$b={type:"other",description:"ChainPredicate"},_b=function(a){return a.raw="",a.forEach(function(b){a.raw+=b.raw}),a},ac="()",bc={type:"literal",value:"()",description:'"()"'},cc=function(){return{raw:""}},dc=",",ec={type:"literal",value:",",description:'","'},fc=function(a){return a.raw=a.headEq+a.value+a.tailEq+a.s,a},gc=function(a,b,c,d){return{headEq:te.join(a),value:te.join(b),tailEq:te.join(c),s:te.join(d)}},hc=/^[^>=<!) ]/,ic={type:"class",value:"[^>=<!) ]",description:"[^>=<!) ]"},jc={type:"other",description:"VFL Element"},kc=function(a){return{view:"|",isPoint:!0,pos:a}},lc="|",mc={type:"literal",value:"|",description:'"|"'},nc=function(){return{view:"|"}},oc=function(a,b){return a=te.stringify(a),te.addSelector(a),{view:a,preds:b}},pc=/^[^()]/,qc={type:"class",value:"[^()]",description:"[^()]"},rc=function(a,b){return a="("+te.stringify(a)+")",te.addSelector(a),{view:a,preds:b}},sc="...",tc={type:"literal",value:"...",description:'"..."'},uc=function(a,b){return a.isSplat=!0,a.connection=b,a},vc={type:"other",description:"Point"},wc="<",xc={type:"literal",value:"<",description:'"<"'},yc=/^[^>]/,zc={type:"class",value:"[^>]",description:"[^>]"},Ac=">",Bc={type:"literal",value:">",description:'">"'},Cc=function(a){return te.stringify(a)},Dc={type:"other",description:"Predicate"},Ec=function(a){return a},Fc={type:"other",description:"Predicate Expression"},Gc="==",Hc={type:"literal",value:"==",description:'"=="'},Ic="<=",Jc={type:"literal",value:"<=",description:'"<="'},Kc=">=",Lc={type:"literal",value:">=",description:'">="'},Mc="=<",Nc={type:"literal",value:"=<",description:'"=<"'},Oc=function(){return"<="},Pc="=>",Qc={type:"literal",value:"=>",description:'"=>"'},Rc=function(){return">="},Sc=function(a){return a},Tc=/^[+\-\/*]/,Uc={type:"class",value:"[+\\-\\/*]",description:"[+\\-\\/*]"},Vc=function(a){return a},Wc=function(a){return["view",a.join("")]},Xc=function(a){return a.join("")},Yc="[",Zc={type:"literal",value:"[",description:'"["'},$c="]",_c={type:"literal",value:"]",description:'"]"'},ad=function(a){return"["+a.join("")+"]"},bd=function(a,b){return a.join("")+"["+b.join("")+"]"},cd=function(){return""},dd={type:"other",description:"VFL Connection"},ed="-",fd={type:"literal",value:"-",description:'"-"'},gd=function(a){return{op:"==",gap:a}},hd=function(){return{op:"==",gap:"__STANDARD__"}},id="~",jd={type:"literal",value:"~",description:'"~"'},kd=function(a){return{op:"<=",gap:a}},ld=function(){return{op:"<=",gap:"__STANDARD__"}},md=function(){return{op:"<="}},nd="",od=function(){return{op:"=="}},pd={type:"other",description:"VFL Connection Gap"},qd=/^[a-zA-Z0-9_$]/,rd={type:"class",value:"[a-zA-Z0-9_$]",description:"[a-zA-Z0-9_$]"},sd=function(a){return a.join("")},td=/^[^[]/,ud={type:"class",value:"[^[]",description:"[^[]"},vd=/^[^\]]/,wd={type:"class",value:"[^\\]]",description:"[^\\]]"},xd=function(a,b){return a.join("")+"["+b.join("")+"]"},yd={type:"other",description:"Strength / Weight"},zd="!",Ad={type:"literal",value:"!",description:'"!"'},Bd=/^[a-zA-Z]/,Cd={type:"class",value:"[a-zA-Z]",description:"[a-zA-Z]"},Dd=/^[0-9]/,Ed={type:"class",value:"[0-9]",description:"[0-9]"},Fd=function(a,b){var c;return c="!"+te.join(a)+te.join(b),c.trim()},Gd={type:"any",description:"any character"},Hd=function(){throw new b("Invalid Strength or Weight",null,null,null,c(),d())},Id=/^[a-zA-Z0-9#.\-_$:""&]/,Jd={type:"class",value:'[a-zA-Z0-9#.\\-_$:""&]',description:'[a-zA-Z0-9#.\\-_$:""&]'},Kd=function(a){return parseInt(a.join(""),10)},Ld=".",Md={type:"literal",value:".",description:'"."'},Nd=function(a){return parseFloat(a.join(""))},Od={type:"other",description:"whitespace"},Pd=/^[\t\x0B\f \xA0\uFEFF]/,Qd={type:"class",value:"[\\t\\x0B\\f \\xA0\\uFEFF]",description:"[\\t\\x0B\\f \\xA0\\uFEFF]"},Rd=/^[\n\r\u2028\u2029]/,Sd={type:"class",value:"[\\n\\r\\u2028\\u2029]",description:"[\\n\\r\\u2028\\u2029]"},Td={type:"other",description:"end of line"},Ud="\n",Vd={type:"literal",value:"\n",description:'"\\n"'},Wd="\r\n",Xd={type:"literal",value:"\r\n",description:'"\\r\\n"'},Yd="\r",Zd={type:"literal",value:"\r",description:'"\\r"'},$d="\u2028",_d={type:"literal",value:"\u2028",description:'"\\u2028"'},ae="\u2029",be={type:"literal",value:"\u2029",description:'"\\u2029"'},ce=";",de={type:"literal",value:";",description:'";"'},ee=void 0,fe={type:"other",description:"comment"},ge="/*",he={type:"literal",value:"/*",description:'"/*"'},ie="*/",je={type:"literal",value:"*/",description:'"*/"'},ke="//",le={type:"literal",value:"//",description:'"//"'},me=0,ne=0,oe=0,pe={line:1,column:1,seenCR:!1},qe=0,re=[],se=0;if("startRule"in _){if(!(_.startRule in bb))throw new Error("Can't start parsing from rule \""+_.startRule+'".');cb=bb[_.startRule]}var te,ue,ve,we,xe,ye,ze,Ae,Be,Ce,De;if(te=ue=this,te.trickleDownOptions=["name"],De=te.sizeVarNames=["width","height"],we=te.leftVarNames=["right","bottom"],xe=te.superLeftVarNames=["left","top"],ye=te.rightVarNames=["left","top"],ze=te.superRightVarNames=["right","bottom"],ve=te.cs=[],te.addC=function(a){ve.push(a)},te.selectors=[],te.addSelector=function(a){-1===te.selectors.indexOf(a)&&te.selectors.push(a)},te.addSplatIfNeeded=function(a,b,c){var d,e,f;a.connection?(e=a.connection.op,f=a.connection.gap):(e="==",f=0),a.isSplat&&(d=a.view+" { &["+we[b]+"] ",d+=te.getConnectionString(a.connection,b,c,!1)+" ",d+="&:next["+ye[b]+"]; }",te.addC(d))},te.addPreds=function(a,b,c){var d,e,f,g,h;
if(b)for(var i=0;i<b.length;i++){d=b[i],f=d[0],e=a+"["+De[c]+"] "+f+" ",g=d[1];for(var j=0;j<g.length;j++)h=g[j],"view"===h[0]&&(h=h[1]+"["+De[c]+"]"),e+=h+" ";d[2]&&(e+=d[2]),ve.push(e.trim())}},te.defaultChainObject={headEq:"==",value:"",tailEq:"",s:""},te.chainTailEqMap={"<=":">=",">=":"<=","==":"==","<":">",">":"<"},te.addChains=function(a,b){var c,d,e,f,g,h,i;if(c=b.chains)for(var j=0;j<c.length;j++){d=c[j],e=d[0],f=d[1],""!==f&&f||(f=[te.defaultChainObject]);for(var k=0;k<f.length;k++){i=f[k],g="";for(var l=0;l<a.length-1;l++)h=a[l],""===i.headEq&&(i.headEq=te.defaultChainObject.headEq),g+=" "+h+"["+e+"] "+i.headEq,""!==i.value&&(g+=" "+i.value,a.length>1?(""===i.tailEq&&(i.tailEq=te.chainTailEqMap[i.headEq]),g+=" "+i.tailEq):(g+=" "+i.s,ve.push(g.trim())));a.length>1&&(g+=" "+a[a.length-1]+"["+e+"]",g+=te.getTrailingOptions(b),g+=" "+i.s,ve.push(g.trim()))}}},Be=function(a){return void 0===a.in?"::this":a.in},te.getLeftVar=function(a,b,c,d){var e;return d.isPoint?d.pos:("|"===a?(a=Be(c),e=xe[b]):(d.isSplat&&(a+=":last","("===a[0]&&(a="("+a+")")),e=we[b]),a+"["+e+"]")},te.getRightVar=function(a,b,c,d){var e;return d.isPoint?d.pos:("|"===a?(a=Be(c),e=ze[b]):(d.isSplat&&(a+=":first","("===a[0]&&(a="("+a+")")),e=ye[b]),a+"["+e+"]")},Ae=["[hgap]","[vgap]"],Ce=function(a,b,c,d){return void 0===a?"":("__STANDARD__"===a&&(a=d&&c["outer-gap"]?c["outer-gap"]:c.gap?c.gap:Ae[b]),"+ "+a)},te.getConnectionString=function(a,b,c,d){return(Ce(a.gap,b,c,d)+" "+a.op).trim()},te.getTrailingOptions=function(a){var b="";return a&&te.trickleDownOptions.forEach(function(c){null!=a[c]&&(b=b+" "+c+"("+a[c]+")")}),b},te.getSW=function(a){return a.sw?" "+a.sw.trim():""},te.getResults=function(){return{statements:this.cs,selectors:te.selectors}},te.flatten=function(a,b){if("string"==typeof a)return a;for(var c=-1,d=a?a.length:0,e=[];++c<d;){var f=a[c];f instanceof Array?Array.prototype.push.apply(e,b?f:te.flatten(f)):e.push(f)}return e},te.trim=function(a){return"string"==typeof a?a.trim():a instanceof Array?a.join("").trim():""},te.join=function(a){return a?a.join?a.join(""):a:""},te.stringify=function(a){return a?te.trim(te.join(te.flatten(a))):""},$=cb(),$!==ab&&me===a.length)return $;throw $!==ab&&me<a.length&&f({type:"end",description:"end of input"}),g(null,re,qe)}return a(b,Error),{SyntaxError:b,parse:c}}()}),a.register("gss-vgl-compiler/lib/compiler.js",function(a,b,c){var d,e;e="undefined"!=typeof window&&null!==window?b("./parser").parse:b("../lib/parser").parse,d=b("error-reporter"),c.exports={parse:function(a){var b,c,f,g,h,i;i=null;try{i=e(a)}catch(j){c=j,f=new d(a),h=c.message,g=c.line,b=c.column,f.reportError(h,g,b)}return i}}}),a.register("gss-vgl-compiler/lib/parser.js",function(a,b,c){c.exports=function(){function a(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c}function b(a,b,c,d,e,f){this.message=a,this.expected=b,this.found=c,this.offset=d,this.line=e,this.column=f,this.name="SyntaxError"}function c(a){function c(b){function c(b,c,d){var e,f;for(e=c;d>e;e++)f=a.charAt(e),"\n"===f?(b.seenCR||b.line++,b.column=1,b.seenCR=!1):"\r"===f||"\u2028"===f||"\u2029"===f?(b.line++,b.column=1,b.seenCR=!0):(b.column++,b.seenCR=!1)}return Se!==b&&(Se>b&&(Se=0,Te={line:1,column:1,seenCR:!1}),c(Te,Se,b),Se=b),Te}function d(a){Ue>Qe||(Qe>Ue&&(Ue=Qe,Ve=[]),Ve.push(a))}function e(d,e,f){function g(a){var b=1;for(a.sort(function(a,b){return a.description<b.description?-1:a.description>b.description?1:0});b<a.length;)a[b-1]===a[b]?a.splice(b,1):b++}function h(a,b){function c(a){function b(a){return a.charCodeAt(0).toString(16).toUpperCase()}return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(a){return"\\x0"+b(a)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(a){return"\\x"+b(a)}).replace(/[\u0180-\u0FFF]/g,function(a){return"\\u0"+b(a)}).replace(/[\u1080-\uFFFF]/g,function(a){return"\\u"+b(a)})}var d,e,f,g=new Array(a.length);for(f=0;f<a.length;f++)g[f]=a[f].description;return d=a.length>1?g.slice(0,-1).join(", ")+" or "+g[a.length-1]:g[0],e=b?'"'+c(b)+'"':"end of input","Expected "+d+" but "+e+" found."}var i=c(f),j=f<a.length?a.charAt(f):null;return null!==e&&g(e),new b(null!==d?d:h(e,j),e,j,f,i.line,i.column)}function f(){var a,b,c,d;if(a=Qe,b=H(),b!==K){for(c=[],d=g();d!==K;)c.push(d),d=g();c!==K?(d=H(),d!==K?(Re=a,b=O(),a=b):(Qe=a,a=N)):(Qe=a,a=N)}else Qe=a,a=N;return a}function g(){var b,c,e,f,g;return b=Qe,64===a.charCodeAt(Qe)?(c=P,Qe++):(c=K,0===We&&d(Q)),c!==K?(e=h(),e!==K?(f=A(),f!==K?(g=H(),g!==K?(Re=b,c=R(e),b=c):(Qe=b,b=N)):(Qe=b,b=N)):(Qe=b,b=N)):(Qe=b,b=N),b}function h(){var a;return a=i(),a===K&&(a=j()),a}function i(){var b,c,e,f,g,h,i,j,k,l;if(We++,b=Qe,a.substr(Qe,5)===T?(c=T,Qe+=5):(c=K,0===We&&d(U)),c===K&&(a.substr(Qe,10)===V?(c=V,Qe+=10):(c=K,0===We&&d(W))),c!==K)if(e=p(),e!==K)if(f=H(),f!==K)if(34===a.charCodeAt(Qe)?(g=X,Qe++):(g=K,0===We&&d(Y)),g!==K)if(h=q(),h!==K)if(34===a.charCodeAt(Qe)?(i=X,Qe++):(i=K,0===We&&d(Y)),i!==K)if(j=H(),j!==K){for(k=[],l=z();l!==K;)k.push(l),l=z();k!==K?(Re=b,c=Z(e,h,k),b=c):(Qe=b,b=N)}else Qe=b,b=N;else Qe=b,b=N;else Qe=b,b=N;else Qe=b,b=N;else Qe=b,b=N;else Qe=b,b=N;else Qe=b,b=N;return We--,b===K&&(c=K,0===We&&d(S)),b}function j(){var b,c,e,f,g,h,i;if(We++,b=Qe,a.substr(Qe,5)===T?(c=T,Qe+=5):(c=K,0===We&&d(U)),c===K&&(a.substr(Qe,10)===V?(c=V,Qe+=10):(c=K,0===We&&d(W))),c!==K)if(a.substr(Qe,8)===_?(e=_,Qe+=8):(e=K,0===We&&d(ab)),e!==K)if(f=H(),f!==K){if(g=[],bb.test(a.charAt(Qe))?(h=a.charAt(Qe),Qe++):(h=K,0===We&&d(cb)),h!==K)for(;h!==K;)g.push(h),bb.test(a.charAt(Qe))?(h=a.charAt(Qe),Qe++):(h=K,0===We&&d(cb));else g=N;if(g!==K){if(h=[],i=k(),i!==K)for(;i!==K;)h.push(i),i=k();else h=N;h!==K?(i=l(),i!==K?(Re=b,c=db(g,h,i),b=c):(Qe=b,b=N)):(Qe=b,b=N)}else Qe=b,b=N}else Qe=b,b=N;else Qe=b,b=N;else Qe=b,b=N;return We--,b===K&&(c=K,0===We&&d($)),b}function k(){var b,c,e,f,g,h;if(We++,b=Qe,c=H(),c!==K)if(34===a.charCodeAt(Qe)?(e=X,Qe++):(e=K,0===We&&d(Y)),e!==K){if(f=[],g=o(),g!==K)for(;g!==K;)f.push(g),g=o();else f=N;f!==K?(34===a.charCodeAt(Qe)?(g=X,Qe++):(g=K,0===We&&d(Y)),g!==K?(h=H(),h!==K?(Re=b,c=fb(f),b=c):(Qe=b,b=N)):(Qe=b,b=N)):(Qe=b,b=N)}else Qe=b,b=N;else Qe=b,b=N;return We--,b===K&&(c=K,0===We&&d(eb)),b}function l(){var a,b,c;for(We++,a=Qe,b=[],c=m();c!==K;)b.push(c),c=m();return b!==K&&(Re=a,b=hb(b)),a=b,We--,a===K&&(b=K,0===We&&d(gb)),a}function m(){var b,c,e,f,g,h;if(We++,b=Qe,c=H(),c!==K){if(e=[],f=u(),f!==K)for(;f!==K;)e.push(f),f=u();else e=N;if(e!==K)if(40===a.charCodeAt(Qe)?(f=jb,Qe++):(f=K,0===We&&d(kb)),f!==K){if(g=[],h=n(),h!==K)for(;h!==K;)g.push(h),h=n();else g=N;g!==K?(41===a.charCodeAt(Qe)?(h=lb,Qe++):(h=K,0===We&&d(mb)),h!==K?(Re=b,c=nb(e,g),b=c):(Qe=b,b=N)):(Qe=b,b=N)}else Qe=b,b=N;else Qe=b,b=N}else Qe=b,b=N;return We--,b===K&&(c=K,0===We&&d(ib)),b}function n(){var b;return ob.test(a.charAt(Qe))?(b=a.charAt(Qe),Qe++):(b=K,0===We&&d(pb)),b}function o(){var b,c,e,f,g;if(We++,b=Qe,c=[],48===a.charCodeAt(Qe)?(e=rb,Qe++):(e=K,0===We&&d(sb)),e!==K)for(;e!==K;)c.push(e),48===a.charCodeAt(Qe)?(e=rb,Qe++):(e=K,0===We&&d(sb));else c=N;if(c===K){if(c=[],49===a.charCodeAt(Qe)?(e=tb,Qe++):(e=K,0===We&&d(ub)),e!==K)for(;e!==K;)c.push(e),49===a.charCodeAt(Qe)?(e=tb,Qe++):(e=K,0===We&&d(ub));else c=N;if(c===K){if(c=[],50===a.charCodeAt(Qe)?(e=vb,Qe++):(e=K,0===We&&d(wb)),e!==K)for(;e!==K;)c.push(e),50===a.charCodeAt(Qe)?(e=vb,Qe++):(e=K,0===We&&d(wb));else c=N;if(c===K){if(c=[],51===a.charCodeAt(Qe)?(e=xb,Qe++):(e=K,0===We&&d(yb)),e!==K)for(;e!==K;)c.push(e),51===a.charCodeAt(Qe)?(e=xb,Qe++):(e=K,0===We&&d(yb));else c=N;if(c===K){if(c=[],52===a.charCodeAt(Qe)?(e=zb,Qe++):(e=K,0===We&&d(Ab)),e!==K)for(;e!==K;)c.push(e),52===a.charCodeAt(Qe)?(e=zb,Qe++):(e=K,0===We&&d(Ab));else c=N;if(c===K){if(c=[],53===a.charCodeAt(Qe)?(e=Bb,Qe++):(e=K,0===We&&d(Cb)),e!==K)for(;e!==K;)c.push(e),53===a.charCodeAt(Qe)?(e=Bb,Qe++):(e=K,0===We&&d(Cb));else c=N;if(c===K){if(c=[],54===a.charCodeAt(Qe)?(e=Db,Qe++):(e=K,0===We&&d(Eb)),e!==K)for(;e!==K;)c.push(e),54===a.charCodeAt(Qe)?(e=Db,Qe++):(e=K,0===We&&d(Eb));else c=N;if(c===K){if(c=[],55===a.charCodeAt(Qe)?(e=Fb,Qe++):(e=K,0===We&&d(Gb)),e!==K)for(;e!==K;)c.push(e),55===a.charCodeAt(Qe)?(e=Fb,Qe++):(e=K,0===We&&d(Gb));else c=N;if(c===K){if(c=[],56===a.charCodeAt(Qe)?(e=Hb,Qe++):(e=K,0===We&&d(Ib)),e!==K)for(;e!==K;)c.push(e),56===a.charCodeAt(Qe)?(e=Hb,Qe++):(e=K,0===We&&d(Ib));else c=N;if(c===K){if(c=[],57===a.charCodeAt(Qe)?(e=Jb,Qe++):(e=K,0===We&&d(Kb)),e!==K)for(;e!==K;)c.push(e),57===a.charCodeAt(Qe)?(e=Jb,Qe++):(e=K,0===We&&d(Kb));else c=N;if(c===K){if(c=[],97===a.charCodeAt(Qe)?(e=Lb,Qe++):(e=K,0===We&&d(Mb)),e!==K)for(;e!==K;)c.push(e),97===a.charCodeAt(Qe)?(e=Lb,Qe++):(e=K,0===We&&d(Mb));else c=N;if(c===K){if(c=[],98===a.charCodeAt(Qe)?(e=Nb,Qe++):(e=K,0===We&&d(Ob)),e!==K)for(;e!==K;)c.push(e),98===a.charCodeAt(Qe)?(e=Nb,Qe++):(e=K,0===We&&d(Ob));else c=N;if(c===K){if(c=[],99===a.charCodeAt(Qe)?(e=Pb,Qe++):(e=K,0===We&&d(Qb)),e!==K)for(;e!==K;)c.push(e),99===a.charCodeAt(Qe)?(e=Pb,Qe++):(e=K,0===We&&d(Qb));else c=N;if(c===K){if(c=[],100===a.charCodeAt(Qe)?(e=Rb,Qe++):(e=K,0===We&&d(Sb)),e!==K)for(;e!==K;)c.push(e),100===a.charCodeAt(Qe)?(e=Rb,Qe++):(e=K,0===We&&d(Sb));else c=N;if(c===K){if(c=[],101===a.charCodeAt(Qe)?(e=Tb,Qe++):(e=K,0===We&&d(Ub)),e!==K)for(;e!==K;)c.push(e),101===a.charCodeAt(Qe)?(e=Tb,Qe++):(e=K,0===We&&d(Ub));else c=N;if(c===K){if(c=Qe,e=[],102===a.charCodeAt(Qe)?(f=Vb,Qe++):(f=K,0===We&&d(Wb)),f!==K)for(;f!==K;)e.push(f),102===a.charCodeAt(Qe)?(f=Vb,Qe++):(f=K,0===We&&d(Wb));else e=N;if(e!==K){if(f=[],103===a.charCodeAt(Qe)?(g=Xb,Qe++):(g=K,0===We&&d(Yb)),g!==K)for(;g!==K;)f.push(g),103===a.charCodeAt(Qe)?(g=Xb,Qe++):(g=K,0===We&&d(Yb));else f=N;f!==K?(e=[e,f],c=e):(Qe=c,c=N)}else Qe=c,c=N;if(c===K){if(c=[],104===a.charCodeAt(Qe)?(e=Zb,Qe++):(e=K,0===We&&d($b)),e!==K)for(;e!==K;)c.push(e),104===a.charCodeAt(Qe)?(e=Zb,Qe++):(e=K,0===We&&d($b));else c=N;if(c===K){if(c=[],105===a.charCodeAt(Qe)?(e=_b,Qe++):(e=K,0===We&&d(ac)),e!==K)for(;e!==K;)c.push(e),105===a.charCodeAt(Qe)?(e=_b,Qe++):(e=K,0===We&&d(ac));else c=N;if(c===K){if(c=[],106===a.charCodeAt(Qe)?(e=bc,Qe++):(e=K,0===We&&d(cc)),e!==K)for(;e!==K;)c.push(e),106===a.charCodeAt(Qe)?(e=bc,Qe++):(e=K,0===We&&d(cc));else c=N;if(c===K){if(c=[],107===a.charCodeAt(Qe)?(e=dc,Qe++):(e=K,0===We&&d(ec)),e!==K)for(;e!==K;)c.push(e),107===a.charCodeAt(Qe)?(e=dc,Qe++):(e=K,0===We&&d(ec));else c=N;if(c===K){if(c=[],108===a.charCodeAt(Qe)?(e=fc,Qe++):(e=K,0===We&&d(gc)),e!==K)for(;e!==K;)c.push(e),108===a.charCodeAt(Qe)?(e=fc,Qe++):(e=K,0===We&&d(gc));else c=N;if(c===K){if(c=[],109===a.charCodeAt(Qe)?(e=hc,Qe++):(e=K,0===We&&d(ic)),e!==K)for(;e!==K;)c.push(e),109===a.charCodeAt(Qe)?(e=hc,Qe++):(e=K,0===We&&d(ic));else c=N;if(c===K){if(c=[],110===a.charCodeAt(Qe)?(e=jc,Qe++):(e=K,0===We&&d(kc)),e!==K)for(;e!==K;)c.push(e),110===a.charCodeAt(Qe)?(e=jc,Qe++):(e=K,0===We&&d(kc));else c=N;if(c===K){if(c=[],111===a.charCodeAt(Qe)?(e=lc,Qe++):(e=K,0===We&&d(mc)),e!==K)for(;e!==K;)c.push(e),111===a.charCodeAt(Qe)?(e=lc,Qe++):(e=K,0===We&&d(mc));else c=N;if(c===K){if(c=[],112===a.charCodeAt(Qe)?(e=nc,Qe++):(e=K,0===We&&d(oc)),e!==K)for(;e!==K;)c.push(e),112===a.charCodeAt(Qe)?(e=nc,Qe++):(e=K,0===We&&d(oc));else c=N;if(c===K){if(c=[],113===a.charCodeAt(Qe)?(e=pc,Qe++):(e=K,0===We&&d(qc)),e!==K)for(;e!==K;)c.push(e),113===a.charCodeAt(Qe)?(e=pc,Qe++):(e=K,0===We&&d(qc));else c=N;if(c===K){if(c=[],114===a.charCodeAt(Qe)?(e=rc,Qe++):(e=K,0===We&&d(sc)),e!==K)for(;e!==K;)c.push(e),114===a.charCodeAt(Qe)?(e=rc,Qe++):(e=K,0===We&&d(sc));else c=N;if(c===K){if(c=[],115===a.charCodeAt(Qe)?(e=tc,Qe++):(e=K,0===We&&d(uc)),e!==K)for(;e!==K;)c.push(e),115===a.charCodeAt(Qe)?(e=tc,Qe++):(e=K,0===We&&d(uc));else c=N;if(c===K){if(c=[],116===a.charCodeAt(Qe)?(e=vc,Qe++):(e=K,0===We&&d(wc)),e!==K)for(;e!==K;)c.push(e),116===a.charCodeAt(Qe)?(e=vc,Qe++):(e=K,0===We&&d(wc));else c=N;if(c===K){if(c=[],117===a.charCodeAt(Qe)?(e=xc,Qe++):(e=K,0===We&&d(yc)),e!==K)for(;e!==K;)c.push(e),117===a.charCodeAt(Qe)?(e=xc,Qe++):(e=K,0===We&&d(yc));else c=N;if(c===K){if(c=[],118===a.charCodeAt(Qe)?(e=zc,Qe++):(e=K,0===We&&d(Ac)),e!==K)for(;e!==K;)c.push(e),118===a.charCodeAt(Qe)?(e=zc,Qe++):(e=K,0===We&&d(Ac));else c=N;if(c===K){if(c=[],119===a.charCodeAt(Qe)?(e=Bc,Qe++):(e=K,0===We&&d(Cc)),e!==K)for(;e!==K;)c.push(e),119===a.charCodeAt(Qe)?(e=Bc,Qe++):(e=K,0===We&&d(Cc));else c=N;if(c===K){if(c=[],120===a.charCodeAt(Qe)?(e=Dc,Qe++):(e=K,0===We&&d(Ec)),e!==K)for(;e!==K;)c.push(e),120===a.charCodeAt(Qe)?(e=Dc,Qe++):(e=K,0===We&&d(Ec));else c=N;if(c===K){if(c=[],121===a.charCodeAt(Qe)?(e=Fc,Qe++):(e=K,0===We&&d(Gc)),e!==K)for(;e!==K;)c.push(e),121===a.charCodeAt(Qe)?(e=Fc,Qe++):(e=K,0===We&&d(Gc));else c=N;if(c===K){if(c=[],122===a.charCodeAt(Qe)?(e=Hc,Qe++):(e=K,0===We&&d(Ic)),e!==K)for(;e!==K;)c.push(e),122===a.charCodeAt(Qe)?(e=Hc,Qe++):(e=K,0===We&&d(Ic));else c=N;if(c===K){if(c=[],65===a.charCodeAt(Qe)?(e=Jc,Qe++):(e=K,0===We&&d(Kc)),e!==K)for(;e!==K;)c.push(e),65===a.charCodeAt(Qe)?(e=Jc,Qe++):(e=K,0===We&&d(Kc));else c=N;if(c===K){if(c=[],66===a.charCodeAt(Qe)?(e=Lc,Qe++):(e=K,0===We&&d(Mc)),e!==K)for(;e!==K;)c.push(e),66===a.charCodeAt(Qe)?(e=Lc,Qe++):(e=K,0===We&&d(Mc));else c=N;if(c===K){if(c=[],67===a.charCodeAt(Qe)?(e=Nc,Qe++):(e=K,0===We&&d(Oc)),e!==K)for(;e!==K;)c.push(e),67===a.charCodeAt(Qe)?(e=Nc,Qe++):(e=K,0===We&&d(Oc));else c=N;if(c===K){if(c=[],68===a.charCodeAt(Qe)?(e=Pc,Qe++):(e=K,0===We&&d(Qc)),e!==K)for(;e!==K;)c.push(e),68===a.charCodeAt(Qe)?(e=Pc,Qe++):(e=K,0===We&&d(Qc));else c=N;if(c===K){if(c=[],69===a.charCodeAt(Qe)?(e=Rc,Qe++):(e=K,0===We&&d(Sc)),e!==K)for(;e!==K;)c.push(e),69===a.charCodeAt(Qe)?(e=Rc,Qe++):(e=K,0===We&&d(Sc));else c=N;if(c===K){if(c=[],70===a.charCodeAt(Qe)?(e=Tc,Qe++):(e=K,0===We&&d(Uc)),e!==K)for(;e!==K;)c.push(e),70===a.charCodeAt(Qe)?(e=Tc,Qe++):(e=K,0===We&&d(Uc));else c=N;if(c===K){if(c=[],71===a.charCodeAt(Qe)?(e=Vc,Qe++):(e=K,0===We&&d(Wc)),e!==K)for(;e!==K;)c.push(e),71===a.charCodeAt(Qe)?(e=Vc,Qe++):(e=K,0===We&&d(Wc));else c=N;if(c===K){if(c=[],72===a.charCodeAt(Qe)?(e=Xc,Qe++):(e=K,0===We&&d(Yc)),e!==K)for(;e!==K;)c.push(e),72===a.charCodeAt(Qe)?(e=Xc,Qe++):(e=K,0===We&&d(Yc));else c=N;if(c===K){if(c=[],73===a.charCodeAt(Qe)?(e=Zc,Qe++):(e=K,0===We&&d($c)),e!==K)for(;e!==K;)c.push(e),73===a.charCodeAt(Qe)?(e=Zc,Qe++):(e=K,0===We&&d($c));else c=N;if(c===K){if(c=[],74===a.charCodeAt(Qe)?(e=_c,Qe++):(e=K,0===We&&d(ad)),e!==K)for(;e!==K;)c.push(e),74===a.charCodeAt(Qe)?(e=_c,Qe++):(e=K,0===We&&d(ad));else c=N;if(c===K){if(c=[],75===a.charCodeAt(Qe)?(e=bd,Qe++):(e=K,0===We&&d(cd)),e!==K)for(;e!==K;)c.push(e),75===a.charCodeAt(Qe)?(e=bd,Qe++):(e=K,0===We&&d(cd));else c=N;if(c===K){if(c=[],76===a.charCodeAt(Qe)?(e=dd,Qe++):(e=K,0===We&&d(ed)),e!==K)for(;e!==K;)c.push(e),76===a.charCodeAt(Qe)?(e=dd,Qe++):(e=K,0===We&&d(ed));else c=N;if(c===K){if(c=[],77===a.charCodeAt(Qe)?(e=fd,Qe++):(e=K,0===We&&d(gd)),e!==K)for(;e!==K;)c.push(e),77===a.charCodeAt(Qe)?(e=fd,Qe++):(e=K,0===We&&d(gd));else c=N;if(c===K){if(c=[],78===a.charCodeAt(Qe)?(e=hd,Qe++):(e=K,0===We&&d(id)),e!==K)for(;e!==K;)c.push(e),78===a.charCodeAt(Qe)?(e=hd,Qe++):(e=K,0===We&&d(id));else c=N;if(c===K){if(c=[],79===a.charCodeAt(Qe)?(e=jd,Qe++):(e=K,0===We&&d(kd)),e!==K)for(;e!==K;)c.push(e),79===a.charCodeAt(Qe)?(e=jd,Qe++):(e=K,0===We&&d(kd));else c=N;if(c===K){if(c=[],80===a.charCodeAt(Qe)?(e=ld,Qe++):(e=K,0===We&&d(md)),e!==K)for(;e!==K;)c.push(e),80===a.charCodeAt(Qe)?(e=ld,Qe++):(e=K,0===We&&d(md));else c=N;if(c===K){if(c=[],81===a.charCodeAt(Qe)?(e=nd,Qe++):(e=K,0===We&&d(od)),e!==K)for(;e!==K;)c.push(e),81===a.charCodeAt(Qe)?(e=nd,Qe++):(e=K,0===We&&d(od));else c=N;if(c===K){if(c=[],82===a.charCodeAt(Qe)?(e=pd,Qe++):(e=K,0===We&&d(qd)),e!==K)for(;e!==K;)c.push(e),82===a.charCodeAt(Qe)?(e=pd,Qe++):(e=K,0===We&&d(qd));else c=N;if(c===K){if(c=[],83===a.charCodeAt(Qe)?(e=rd,Qe++):(e=K,0===We&&d(sd)),e!==K)for(;e!==K;)c.push(e),83===a.charCodeAt(Qe)?(e=rd,Qe++):(e=K,0===We&&d(sd));else c=N;if(c===K){if(c=[],84===a.charCodeAt(Qe)?(e=td,Qe++):(e=K,0===We&&d(ud)),e!==K)for(;e!==K;)c.push(e),84===a.charCodeAt(Qe)?(e=td,Qe++):(e=K,0===We&&d(ud));else c=N;if(c===K){if(c=[],85===a.charCodeAt(Qe)?(e=vd,Qe++):(e=K,0===We&&d(wd)),e!==K)for(;e!==K;)c.push(e),85===a.charCodeAt(Qe)?(e=vd,Qe++):(e=K,0===We&&d(wd));else c=N;if(c===K){if(c=[],86===a.charCodeAt(Qe)?(e=xd,Qe++):(e=K,0===We&&d(yd)),e!==K)for(;e!==K;)c.push(e),86===a.charCodeAt(Qe)?(e=xd,Qe++):(e=K,0===We&&d(yd));else c=N;if(c===K){if(c=[],87===a.charCodeAt(Qe)?(e=zd,Qe++):(e=K,0===We&&d(Ad)),e!==K)for(;e!==K;)c.push(e),87===a.charCodeAt(Qe)?(e=zd,Qe++):(e=K,0===We&&d(Ad));else c=N;if(c===K){if(c=[],88===a.charCodeAt(Qe)?(e=Bd,Qe++):(e=K,0===We&&d(Cd)),e!==K)for(;e!==K;)c.push(e),88===a.charCodeAt(Qe)?(e=Bd,Qe++):(e=K,0===We&&d(Cd));else c=N;if(c===K){if(c=[],89===a.charCodeAt(Qe)?(e=Dd,Qe++):(e=K,0===We&&d(Ed)),e!==K)for(;e!==K;)c.push(e),89===a.charCodeAt(Qe)?(e=Dd,Qe++):(e=K,0===We&&d(Ed));else c=N;if(c===K)if(c=[],90===a.charCodeAt(Qe)?(e=Fd,Qe++):(e=K,0===We&&d(Gd)),e!==K)for(;e!==K;)c.push(e),90===a.charCodeAt(Qe)?(e=Fd,Qe++):(e=K,0===We&&d(Gd));else c=N}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}return c!==K&&(Re=b,c=Hd(c)),b=c,b===K&&(b=Qe,46===a.charCodeAt(Qe)?(c=Id,Qe++):(c=K,0===We&&d(Jd)),c!==K&&(Re=b,c=Kd()),b=c),We--,b===K&&(c=K,0===We&&d(qb)),b}function p(){var b,c;return We++,b=Qe,a.substr(Qe,4)===Md?(c=Md,Qe+=4):(c=K,0===We&&d(Nd)),c!==K&&(Re=b,c=Od()),b=c,b===K&&(b=Qe,a.substr(Qe,4)===Pd?(c=Pd,Qe+=4):(c=K,0===We&&d(Qd)),c!==K&&(Re=b,c=Rd()),b=c),We--,b===K&&(c=K,0===We&&d(Ld)),b}function q(){var a,b,c,e,f;if(We++,a=Qe,b=s(),b===K&&(b=Td),b!==K)if(c=r(),c!==K){for(e=[],f=r();f!==K;)e.push(f),f=r();e!==K?(Re=a,b=Ud(b,c,e),a=b):(Qe=a,a=N)}else Qe=a,a=N;else Qe=a,a=N;return We--,a===K&&(b=K,0===We&&d(Sd)),a}function r(){var a,b,c,e,f,g;if(We++,a=Qe,b=H(),b!==K){if(c=[],e=t(),e!==K)for(;e!==K;)c.push(e),e=t();else c=N;c!==K?(e=H(),e!==K?(f=s(),f===K&&(f=Td),f!==K?(g=H(),g!==K?(Re=a,b=Wd(c,f),a=b):(Qe=a,a=N)):(Qe=a,a=N)):(Qe=a,a=N)):(Qe=a,a=N)}else Qe=a,a=N;return We--,a===K&&(b=K,0===We&&d(Vd)),a}function s(){var b,c,e,f,g;if(We++,b=Qe,c=Qe,45===a.charCodeAt(Qe)?(e=Yd,Qe++):(e=K,0===We&&d(Zd)),e===K&&(126===a.charCodeAt(Qe)?(e=$d,Qe++):(e=K,0===We&&d(_d))),e!==K){if(f=[],ae.test(a.charAt(Qe))?(g=a.charAt(Qe),Qe++):(g=K,0===We&&d(be)),g!==K)for(;g!==K;)f.push(g),ae.test(a.charAt(Qe))?(g=a.charAt(Qe),Qe++):(g=K,0===We&&d(be));else f=N;f===K&&(45===a.charCodeAt(Qe)?(f=Yd,Qe++):(f=K,0===We&&d(Zd))),f===K&&(f=Td),f!==K?(45===a.charCodeAt(Qe)?(g=Yd,Qe++):(g=K,0===We&&d(Zd)),g===K&&(126===a.charCodeAt(Qe)?(g=$d,Qe++):(g=K,0===We&&d(_d))),g===K&&(g=Td),g!==K?(e=[e,f,g],c=e):(Qe=c,c=N)):(Qe=c,c=N)}else Qe=c,c=N;return c!==K&&(Re=b,c=ce(c)),b=c,We--,b===K&&(c=K,0===We&&d(Xd)),b}function t(){var b;return de.test(a.charAt(Qe))?(b=a.charAt(Qe),Qe++):(b=K,0===We&&d(ee)),b}function u(){var b;return fe.test(a.charAt(Qe))?(b=a.charAt(Qe),Qe++):(b=K,0===We&&d(ge)),b}function v(){var b;return a.length>Qe?(b=a.charAt(Qe),Qe++):(b=K,0===We&&d(he)),b}function w(){var b,c;return We++,je.test(a.charAt(Qe))?(b=a.charAt(Qe),Qe++):(b=K,0===We&&d(ke)),We--,b===K&&(c=K,0===We&&d(ie)),b}function x(){var b;return le.test(a.charAt(Qe))?(b=a.charAt(Qe),Qe++):(b=K,0===We&&d(me)),b}function y(){var b,c;return We++,10===a.charCodeAt(Qe)?(b=oe,Qe++):(b=K,0===We&&d(pe)),b===K&&(a.substr(Qe,2)===qe?(b=qe,Qe+=2):(b=K,0===We&&d(re)),b===K&&(13===a.charCodeAt(Qe)?(b=se,Qe++):(b=K,0===We&&d(te)),b===K&&(8232===a.charCodeAt(Qe)?(b=ue,Qe++):(b=K,0===We&&d(ve)),b===K&&(8233===a.charCodeAt(Qe)?(b=we,Qe++):(b=K,0===We&&d(xe)))))),We--,b===K&&(c=K,0===We&&d(ne)),b}function z(){var b;return ye.test(a.charAt(Qe))?(b=a.charAt(Qe),Qe++):(b=K,0===We&&d(ze)),b}function A(){var b,c,e;return We++,b=Qe,c=H(),c!==K?(59===a.charCodeAt(Qe)?(e=Be,Qe++):(e=K,0===We&&d(Ce)),e!==K?(c=[c,e],b=c):(Qe=b,b=N)):(Qe=b,b=N),b===K&&(b=Qe,c=G(),c!==K?(e=y(),e!==K?(c=[c,e],b=c):(Qe=b,b=N)):(Qe=b,b=N),b===K&&(b=Qe,c=H(),c!==K?(e=B(),e!==K?(c=[c,e],b=c):(Qe=b,b=N)):(Qe=b,b=N))),We--,b===K&&(c=K,0===We&&d(Ae)),b}function B(){var b,c;return b=Qe,We++,a.length>Qe?(c=a.charAt(Qe),Qe++):(c=K,0===We&&d(he)),We--,c===K?b=De:(Qe=b,b=N),b}function C(){var a,b;return We++,a=D(),a===K&&(a=F()),We--,a===K&&(b=K,0===We&&d(Ee)),a}function D(){var b,c,e,f,g,h;if(We++,b=Qe,a.substr(Qe,2)===Ge?(c=Ge,Qe+=2):(c=K,0===We&&d(He)),c!==K){for(e=[],f=Qe,g=Qe,We++,a.substr(Qe,2)===Ie?(h=Ie,Qe+=2):(h=K,0===We&&d(Je)),We--,h===K?g=De:(Qe=g,g=N),g!==K?(h=v(),h!==K?(g=[g,h],f=g):(Qe=f,f=N)):(Qe=f,f=N);f!==K;)e.push(f),f=Qe,g=Qe,We++,a.substr(Qe,2)===Ie?(h=Ie,Qe+=2):(h=K,0===We&&d(Je)),We--,h===K?g=De:(Qe=g,g=N),g!==K?(h=v(),h!==K?(g=[g,h],f=g):(Qe=f,f=N)):(Qe=f,f=N);e!==K?(a.substr(Qe,2)===Ie?(f=Ie,Qe+=2):(f=K,0===We&&d(Je)),f!==K?(c=[c,e,f],b=c):(Qe=b,b=N)):(Qe=b,b=N)}else Qe=b,b=N;return We--,b===K&&(c=K,0===We&&d(Fe)),b}function E(){var b,c,e,f,g,h;if(We++,b=Qe,a.substr(Qe,2)===Ge?(c=Ge,Qe+=2):(c=K,0===We&&d(He)),c!==K){for(e=[],f=Qe,g=Qe,We++,a.substr(Qe,2)===Ie?(h=Ie,Qe+=2):(h=K,0===We&&d(Je)),h===K&&(h=x()),We--,h===K?g=De:(Qe=g,g=N),g!==K?(h=v(),h!==K?(g=[g,h],f=g):(Qe=f,f=N)):(Qe=f,f=N);f!==K;)e.push(f),f=Qe,g=Qe,We++,a.substr(Qe,2)===Ie?(h=Ie,Qe+=2):(h=K,0===We&&d(Je)),h===K&&(h=x()),We--,h===K?g=De:(Qe=g,g=N),g!==K?(h=v(),h!==K?(g=[g,h],f=g):(Qe=f,f=N)):(Qe=f,f=N);e!==K?(a.substr(Qe,2)===Ie?(f=Ie,Qe+=2):(f=K,0===We&&d(Je)),f!==K?(c=[c,e,f],b=c):(Qe=b,b=N)):(Qe=b,b=N)}else Qe=b,b=N;return We--,b===K&&(c=K,0===We&&d(Ke)),b}function F(){var b,c,e,f,g,h;if(We++,b=Qe,a.substr(Qe,2)===Me?(c=Me,Qe+=2):(c=K,0===We&&d(Ne)),c!==K){for(e=[],f=Qe,g=Qe,We++,h=x(),We--,h===K?g=De:(Qe=g,g=N),g!==K?(h=v(),h!==K?(g=[g,h],f=g):(Qe=f,f=N)):(Qe=f,f=N);f!==K;)e.push(f),f=Qe,g=Qe,We++,h=x(),We--,h===K?g=De:(Qe=g,g=N),g!==K?(h=v(),h!==K?(g=[g,h],f=g):(Qe=f,f=N)):(Qe=f,f=N);e!==K?(f=x(),f===K&&(f=B()),f!==K?(c=[c,e,f],b=c):(Qe=b,b=N)):(Qe=b,b=N)}else Qe=b,b=N;return We--,b===K&&(c=K,0===We&&d(Le)),b}function G(){var a,b;for(We++,a=[],b=w(),b===K&&(b=E(),b===K&&(b=F()));b!==K;)a.push(b),b=w(),b===K&&(b=E(),b===K&&(b=F()));return We--,a===K&&(b=K,0===We&&d(Oe)),a}function H(){var a,b;for(We++,a=[],b=w(),b===K&&(b=y(),b===K&&(b=C()));b!==K;)a.push(b),b=w(),b===K&&(b=y(),b===K&&(b=C()));return We--,a===K&&(b=K,0===We&&d(Pe)),a}var I,J=arguments.length>1?arguments[1]:{},K={},L={start:f},M=f,N=K,O=function(){return Xe.getResults()},P="@",Q={type:"literal",value:"@",description:'"@"'},R=function(a){return a},S={type:"other",description:"grid-rows / grid-cols"},T="grid-",U={type:"literal",value:"grid-",description:'"grid-"'},V="-gss-grid-",W={type:"literal",value:"-gss-grid-",description:'"-gss-grid-"'},X='"',Y={type:"literal",value:'"',description:'"\\""'},Z=function(a,b,c){var d;d="@"+["v","h"][a]+" "+b+" in(::) chain-"+Xe.size[a]+"(::["+Xe.size[a]+"]) chain-"+Xe.size[1-a]+" chain-"+Xe.pos[a]+"(::["+Xe.pos[a]+"]) "+Xe.trim(c),Xe.addVFL(d.trim())},$={type:"other",description:"grid-template"},_="template",ab={type:"literal",value:"template",description:'"template"'},bb=/^[0-9a-zA-Z\-_]/,cb={type:"class",value:"[0-9a-zA-Z\\-_]",description:"[0-9a-zA-Z\\-_]"},db=function(a,b,c){Xe.addTemplate(b,Xe.stringify(a),c)},eb={type:"other",description:"template line"},fb=function(a){return Xe.processHZones(a)},gb={type:"other",description:"Template Options"},hb=function(a){var b={};return a&&(b={},a.forEach(function(a){b[a.key]=a.value})),b},ib={type:"other",description:"TemplateOption"},jb="(",kb={type:"literal",value:"(",description:'"("'},lb=")",mb={type:"literal",value:")",description:'")"'},nb=function(a,b){return{key:a.join(""),value:b.join("")}},ob=/^[^>=<!)]/,pb={type:"class",value:"[^>=<!)]",description:"[^>=<!)]"},qb={type:"other",description:"Template Zone"},rb="0",sb={type:"literal",value:"0",description:'"0"'},tb="1",ub={type:"literal",value:"1",description:'"1"'},vb="2",wb={type:"literal",value:"2",description:'"2"'},xb="3",yb={type:"literal",value:"3",description:'"3"'},zb="4",Ab={type:"literal",value:"4",description:'"4"'},Bb="5",Cb={type:"literal",value:"5",description:'"5"'},Db="6",Eb={type:"literal",value:"6",description:'"6"'},Fb="7",Gb={type:"literal",value:"7",description:'"7"'},Hb="8",Ib={type:"literal",value:"8",description:'"8"'},Jb="9",Kb={type:"literal",value:"9",description:'"9"'},Lb="a",Mb={type:"literal",value:"a",description:'"a"'},Nb="b",Ob={type:"literal",value:"b",description:'"b"'},Pb="c",Qb={type:"literal",value:"c",description:'"c"'},Rb="d",Sb={type:"literal",value:"d",description:'"d"'},Tb="e",Ub={type:"literal",value:"e",description:'"e"'},Vb="f",Wb={type:"literal",value:"f",description:'"f"'},Xb="g",Yb={type:"literal",value:"g",description:'"g"'},Zb="h",$b={type:"literal",value:"h",description:'"h"'},_b="i",ac={type:"literal",value:"i",description:'"i"'},bc="j",cc={type:"literal",value:"j",description:'"j"'},dc="k",ec={type:"literal",value:"k",description:'"k"'},fc="l",gc={type:"literal",value:"l",description:'"l"'},hc="m",ic={type:"literal",value:"m",description:'"m"'},jc="n",kc={type:"literal",value:"n",description:'"n"'},lc="o",mc={type:"literal",value:"o",description:'"o"'},nc="p",oc={type:"literal",value:"p",description:'"p"'},pc="q",qc={type:"literal",value:"q",description:'"q"'},rc="r",sc={type:"literal",value:"r",description:'"r"'},tc="s",uc={type:"literal",value:"s",description:'"s"'},vc="t",wc={type:"literal",value:"t",description:'"t"'},xc="u",yc={type:"literal",value:"u",description:'"u"'},zc="v",Ac={type:"literal",value:"v",description:'"v"'},Bc="w",Cc={type:"literal",value:"w",description:'"w"'},Dc="x",Ec={type:"literal",value:"x",description:'"x"'},Fc="y",Gc={type:"literal",value:"y",description:'"y"'},Hc="z",Ic={type:"literal",value:"z",description:'"z"'},Jc="A",Kc={type:"literal",value:"A",description:'"A"'},Lc="B",Mc={type:"literal",value:"B",description:'"B"'},Nc="C",Oc={type:"literal",value:"C",description:'"C"'},Pc="D",Qc={type:"literal",value:"D",description:'"D"'},Rc="E",Sc={type:"literal",value:"E",description:'"E"'},Tc="F",Uc={type:"literal",value:"F",description:'"F"'},Vc="G",Wc={type:"literal",value:"G",description:'"G"'},Xc="H",Yc={type:"literal",value:"H",description:'"H"'},Zc="I",$c={type:"literal",value:"I",description:'"I"'},_c="J",ad={type:"literal",value:"J",description:'"J"'},bd="K",cd={type:"literal",value:"K",description:'"K"'},dd="L",ed={type:"literal",value:"L",description:'"L"'},fd="M",gd={type:"literal",value:"M",description:'"M"'},hd="N",id={type:"literal",value:"N",description:'"N"'},jd="O",kd={type:"literal",value:"O",description:'"O"'},ld="P",md={type:"literal",value:"P",description:'"P"'},nd="Q",od={type:"literal",value:"Q",description:'"Q"'},pd="R",qd={type:"literal",value:"R",description:'"R"'},rd="S",sd={type:"literal",value:"S",description:'"S"'},td="T",ud={type:"literal",value:"T",description:'"T"'},vd="U",wd={type:"literal",value:"U",description:'"U"'},xd="V",yd={type:"literal",value:"V",description:'"V"'},zd="W",Ad={type:"literal",value:"W",description:'"W"'},Bd="X",Cd={type:"literal",value:"X",description:'"X"'},Dd="Y",Ed={type:"literal",value:"Y",description:'"Y"'},Fd="Z",Gd={type:"literal",value:"Z",description:'"Z"'},Hd=function(a){return{xspan:a.length,name:a[0],x:a}},Id=".",Jd={type:"literal",value:".",description:'"."'},Kd=function(){var a=Xe.getBlankName();return{xspan:1,name:a,x:[a]}},Ld={type:"other",description:"Row or Col Dimension"},Md="rows",Nd={type:"literal",value:"rows",description:'"rows"'},Od=function(){return 0},Pd="cols",Qd={type:"literal",value:"cols",description:'"cols"'},Rd=function(){return 1},Sd={type:"other",description:"1D Line"},Td=null,Ud=function(a,b,c){var d;return d="|",a&&(d+=a),d+=b,c.forEach(function(a){d+=a}),d+="|"},Vd={type:"other",description:"!D LineChunk"},Wd=function(a,b){var c;return a=Xe.trim(a),c='["'+a+'"]',Xe.addVirtual(a),b&&(c+=b),c},Xd={type:"other",description:"1D Connection"},Yd="-",Zd={type:"literal",value:"-",description:'"-"'},$d="~",_d={type:"literal",value:"~",description:'"~"'},ae=/^[0-9]/,be={type:"class",value:"[0-9]",description:"[0-9]"},ce=function(a){return Xe.stringify(a)},de=/^[a-zA-Z0-9#_$:]/,ee={type:"class",value:"[a-zA-Z0-9#_$:]",description:"[a-zA-Z0-9#_$:]"},fe=/^[a-zA-Z0-9#.\-_$:]/,ge={type:"class",value:"[a-zA-Z0-9#.\\-_$:]",description:"[a-zA-Z0-9#.\\-_$:]"},he={type:"any",description:"any character"},ie={type:"other",description:"whitespace"},je=/^[\t\x0B\f \xA0\uFEFF]/,ke={type:"class",value:"[\\t\\x0B\\f \\xA0\\uFEFF]",description:"[\\t\\x0B\\f \\xA0\\uFEFF]"},le=/^[\n\r\u2028\u2029]/,me={type:"class",value:"[\\n\\r\\u2028\\u2029]",description:"[\\n\\r\\u2028\\u2029]"},ne={type:"other",description:"end of line"},oe="\n",pe={type:"literal",value:"\n",description:'"\\n"'},qe="\r\n",re={type:"literal",value:"\r\n",description:'"\\r\\n"'},se="\r",te={type:"literal",value:"\r",description:'"\\r"'},ue="\u2028",ve={type:"literal",value:"\u2028",description:'"\\u2028"'},we="\u2029",xe={type:"literal",value:"\u2029",description:'"\\u2029"'},ye=/^[a-zA-Z0-9 .,#:+?!\^=()_\-$*\/\\""'[\]]/,ze={type:"class",value:'[a-zA-Z0-9 .,#:+?!\\^=()_\\-$*\\/\\\\""\'[\\]]',description:'[a-zA-Z0-9 .,#:+?!\\^=()_\\-$*\\/\\\\""\'[\\]]'},Ae={type:"other",description:"End of Statement"},Be=";",Ce={type:"literal",value:";",description:'";"'},De=void 0,Ee={type:"other",description:"Comment"},Fe={type:"other",description:"MultiLineComment"},Ge="/*",He={type:"literal",value:"/*",description:'"/*"'},Ie="*/",Je={type:"literal",value:"*/",description:'"*/"'},Ke={type:"other",description:"MultiLineCommentNoLineTerminator"},Le={type:"other",description:"Single Line Comment"},Me="//",Ne={type:"literal",value:"//",description:'"//"'},Oe={type:"other",description:"Whitespace / Comment"},Pe={type:"other",description:"Whitespace / Comment / Newline"},Qe=0,Re=0,Se=0,Te={line:1,column:1,seenCR:!1},Ue=0,Ve=[],We=0;if("startRule"in J){if(!(J.startRule in L))throw new Error("Can't start parsing from rule \""+J.startRule+'".');M=L[J.startRule]}var Xe,Ye,Ze,$e,_e,af,bf;if(Xe=Ye=this,bf=0,Xe.getBlankName=function(){return bf++,"blank-"+bf},Xe.size=["width","height"],Xe.pos=["x","y"],Xe.getResults=function(){var a=$e.sort().join(" ");return a=0==a.length?_e:["@virtual "+a].concat(_e),{ccss:a,vfl:Ze}},af=[],Xe.addAST=function(a){af.push(a)},_e=[],Xe.addCCSS=function(a){_e.push(a)},$e=[],Xe.addVirtual=function(a){-1===$e.indexOf(a)&&$e.push('"'+a+'"')},Ze=[],Xe.addVFL=function(a){Ze.push(a)},Xe.addTemplate=function(a,b,c){var d,e,f;e=b+"-",d=Xe.processHLines(a),d.name=b,f=c.in?c.in:"::";var g,h,i,j,k;i={},k=!1,j=c.gap,j&&(k=!0,i.top=j,i.right=j,i.bottom=j,i.left=j,i.h=j,i.v=j),j=c["h-gap"],j&&(k=!0,i.right=j,i.left=j,i.h=j),j=c["v-gap"],j&&(k=!0,i.top=j,i.bottom=j,i.v=j),j=c["outer-gap"],j&&(k=!0,i.top=j,i.right=j,i.bottom=j,i.left=j),j=c["top-gap"],j&&(k=!0,i.top=j),j=c["right-gap"],j&&(k=!0,i.right=j),j=c["bottom-gap"],j&&(k=!0,i.bottom=j),j=c["left-gap"],j&&(k=!0,i.left=j),h=k?"<=":"==",g="::["+b+"-md-width] "+h+" ",i.right||i.left||i.h?(g+="("+f+"[width]",i.right&&(g+=" - "+i.right),i.left&&(g+=" - "+i.left),i.h&&d.yspan>1&&(g+=" - "+i.h,d.yspan>2&&(g+=" * "+(d.yspan-1))),g+=")"):g+=f+"[width]",d.yspan>1&&(g+=" / "+d.yspan),g+=" !require",Xe.addCCSS(g),g="::["+b+"-md-height] "+h+" ",i.top||i.bottom||i.v?(g+="("+f+"[height]",i.top&&(g+=" - "+i.top),i.bottom&&(g+=" - "+i.bottom),i.v&&d.xspan>1&&(g+=" - "+i.v,d.xspan>2&&(g+=" * "+(d.xspan-1))),g+=")"):g+=f+"[height]",d.xspan>1&&(g+=" / "+d.xspan),g+=" !require",Xe.addCCSS(g);var l,m;for(var n in d.widths)Xe.addVirtual(e+n),l=d.widths[n],m='"'+e+n+'"[width] == ',m+="::["+d.name+"-md-width]",l>1&&(m+=" * "+l,i.h&&(m+=" + "+i.h,l>2&&(m+=" * "+(l-1)))),Xe.addCCSS(m);var o,p;for(var n in d.heights)o=d.heights[n],p='"'+e+n+'"[height] == ',p+="::["+d.name+"-md-height]",o>1&&(p+=" * "+o,i.v&&(p+=" + "+i.v,o>2&&(p+=" * "+(o-1)))),Xe.addCCSS(p);var q;d.v.forEach(function(a){a=a.split("%-v-%"),q='@v ["'+e+a[0]+'"]',i.v&&(q+="-"),q+='["'+e+a[1]+'"]',i.v&&(q+=" gap("+i.v+")"),Xe.addVFL(q)
}),d.h.forEach(function(a){a=a.split("%-h-%"),q='@h ["'+e+a[0]+'"]',i.h&&(q+="-"),q+='["'+e+a[1]+'"]',i.h&&(q+=" gap("+i.h+")"),Xe.addVFL(q)});var r;return r=[],d.cols[0].y.forEach(function(a){return r.indexOf(a)>-1?null:(r.push(a),q="@h |",i.left&&(q+="-"),q+='["'+e+a+'"] in('+f+")",i.left&&(q+=" gap("+i.left+")"),void Xe.addVFL(q))}),r=[],d.rows[0].x.forEach(function(a){return r.indexOf(a)>-1?null:(r.push(a),q="@v |",i.top&&(q+="-"),q+='["'+e+a+'"] in('+f+")",i.top&&(q+=" gap("+i.top+")"),void Xe.addVFL(q))}),r=[],d.cols[d.cols.length-1].y.forEach(function(a){return r.indexOf(a)>-1?null:(r.push(a),q='@h ["'+e+a+'"]',i.right&&(q+="-"),q+="| in("+f+")",i.right&&(q+=" gap("+i.right+")"),void Xe.addVFL(q))}),r=[],d.rows[d.rows.length-1].x.forEach(function(a){return r.indexOf(a)>-1?null:(r.push(a),q='@v ["'+e+a+'"]',i.bottom&&(q+="-"),q+="| in("+f+")",i.bottom&&(q+=" gap("+i.bottom+")"),void Xe.addVFL(q))}),Xe.addAST(d),d},Xe.processHZones=function(a){var b,c,d,e,f,g,h,i;return b=0,e=[],g={},f=[],h=0,a.forEach(function(a){i=!1,c=a.name,"-DOT-"===c&&(i=!1,h++,c+=h),f=f.concat(a.x),delete a.x,d&&d!==c&&e.push([d,c].join("%-h-%")),g[a.name]=a.xspan,b+=a.xspan,d=c}),{xspan:b,x:f,h:e,widths:g}},Xe.processHLines=function(a){var b,c,d,e;return e={heights:{},widths:{},v:[],h:[]},b=[],c=0,a.forEach(function(a){d=0;for(var f in a.widths)e.widths[f]=a.widths[f];a.h.forEach(function(a){-1===e.h.indexOf(a)&&e.h.push(a)}),a.x.forEach(function(a){var c;b[d]||(b[d]={y:[]}),c=b[d],c.y.push(a),d++}),c++}),b.forEach(function(a){var b,c,d,f,g,h;h=[],c=0,d=null,g=0,a.y.forEach(function(h){b=h,c++,a.y[g+1]!==b&&(e.heights[h]=c,c=0),d&&d!==b&&(f=[d,b].join("%-v-%"),-1===e.v.indexOf(f)&&e.v.push(f)),d=b,g++})}),e.yspan=b.length,e.xspan=a.length,e.cols=b,e.rows=a,e},Xe.trim=function(a){return"string"==typeof a?a.trim():a instanceof Array?a.join("").trim():""},Xe.flatten=function(a,b){for(var c=-1,d=a?a.length:0,e=[];++c<d;){var f=a[c];f instanceof Array?Array.prototype.push.apply(e,b?f:Xe.flatten(f)):e.push(f)}return e},Xe.stringify=function(a){return Xe.trim(Xe.flatten(a))},I=M(),I!==K&&Qe===a.length)return I;throw I!==K&&Qe<a.length&&d({type:"end",description:"end of input"}),e(null,Ve,Ue)}return a(b,Error),{SyntaxError:b,parse:c}}()}),a.register("gss-ccss-compiler/lib/compiler.js",function(a,b,c){var d,e,f,g,h,i,j;f=b("undefined"!=typeof window&&null!==window?"./parser":"../lib/parser"),g=b("vfl-compiler"),i=b("vgl-compiler"),d=b("error-reporter"),e=function(a){var b,c,e,g,h,i;i=null;try{i=f.parse(a)}catch(j){c=j,e=new d(a),h=c.message,g=c.line,b=c.column,e.reportError(h,g,b)}return i},h=function(a,b,c){var d,f,h,i,j,k,l,m,n,o,p,q,r,s,t;for(null==c&&(c=[]),h=[],i=g.parse("@"+a+" "+b),r=i.statements,n=0,p=r.length;p>n;n++)l=r[n],h=h.concat(e(l).commands);if(c.length>0&&i.selectors.length>0){for(k="",s=i.selectors,d=o=0,q=s.length;q>o;d=++o)m=s[d],j="","("===m[0]&&(j="(",m=m.substr(1,m.length-1)),0!==m.indexOf("&")&&0!==m.indexOf("::")&&0!==m.indexOf('"')&&(j+="::scope "),k+=j+m,d!==i.selectors.length-1&&(k+=", ");k+=" {}",f=e(k).commands[0],f[2]=c,h.push(f),("undefined"!=typeof window&&null!==window&&null!=(t=window.GSS)?t.console:void 0)&&window.GSS.console.row("@"+a,i.statements.concat([k]),b)}return{commands:h}},j=function(a,b,c){var d,f,g,h,j;for(null==c&&(c=[]),d=[],g=i.parse("@"+a+" "+b),h=0,j=g.length;j>h;h++)f=g[h],d=d.concat(e(f).commands);return{commands:c.concat(d)}},f.hooks={directives:{h:h,v:h,horizontal:h,vertical:h,"grid-template":j,"grid-rows":j,"grid-cols":j}},c.exports={parse:e}}),a.register("gss-ccss-compiler/lib/grammar.js",function(a,b,c){var d,e=function(a,b){return function(){return a.apply(b,arguments)}};d=function(){function a(a,b,c,d){this.chainer=e(this.chainer,this),this.parser=a,this._lineNumber=b,this._columnNumber=c,this._Error=d()}return a._toString=function(a){return"[object String]"===toString.call(a)?a:"[object Array]"===toString.call(a)?a.join(""):""},a._unpack2DExpression=function(a){var b,c,d,e,f,g,h;if(d={"bottom-left":["left","bottom"],"bottom-right":["right","bottom"],center:["center-x","center-y"],"intrinsic-size":["intrinsic-width","intrinsic-height"],position:["x","y"],size:["width","height"],"top-left":["left","top"],"top-right":["right","top"]},b=[a],f=a[2],e=d[f],null!=e)for(b=[],g=0,h=e.length;h>g;g++)c=e[g],a=a.slice(),a[2]=c,b.push(a);return b},a.prototype._Error=null,a.prototype._columnNumber=function(){},a.prototype._lineNumber=function(){},a.prototype.reverseFilterNest=function(a){var b,c,d,e;for(d=a.length,b=d-1;b>0;)e=a[b],c=a[b-1],"$pseudo"===e[0]&&","===c[0]?"first"===e[1]&&"$virtual"===c[1][0]?a[b]=c[1]:"last"===e[1]&&"$virtual"===c[c.length-1][0]&&(a[b]=c[c.length-1]):e.splice(1,0,c),b--;return a[d-1]},a.prototype.nestedDualTermCommands=function(a,b){var c,d,e,f,g;for(e=a,c=f=0,g=b.length;g>f;c=++f)d=b[c],e=[b[c][1],e,b[c][3]];return e},a.prototype.createSelectorCommaCommand=function(a,b){var c,d,e,f,g,h;for(e=","===a[0]?a:[",",a],c=g=0,h=b.length;h>g;c=++g)d=b[c],f=b[c][3],","===f[0]?(f.splice(0,1),e=e.concat(f)):e.push(f);return e},a.prototype.mergeCommands=function(a){var b,c,d,e;for(b=[],d=0,e=a.length;e>d;d++)c=a[d],b=b.concat(c.commands);return{commands:b}},a.prototype.splatifyIfNeeded=function(a,b){return b.splats?this.splatExpander(a,b):[a,b]},a.prototype.splatExpander=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;for(n=b.splats,k=b.postfix,i=null,p=0,t=n.length;t>p;p++){for(m=n[p],l=m.prefix,f=m.from,o=m.to,e=[],g=f;o>=g;)e.push(l+g),g++;if(i){for(j=[],q=0,u=i.length;u>q;q++)for(h=i[q],r=0,v=e.length;v>r;r++)d=e[r],j.push(h+d);i=j}else i=e}for(c=[","],s=0,w=i.length;w>s;s++)h=i[s],k&&(h+=k),c.push([a,h]);return c},a.prototype.constraint=function(b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;for(f=[],g=b,(null==d||0===d.length)&&(d=[]),j=p=0,r=c.length;r>p;j=++p){for(k=c[j],l=c[j][1],m=c[j][3],i=a._unpack2DExpression(g),o=a._unpack2DExpression(m),i.length>o.length?o.push(o[0]):i.length<o.length&&i.push(i[0]),j=q=0,s=o.length;s>q;j=++q)n=o[j],h=i[j],null!=h&&null!=n&&(e=[l,h,n].concat(d),f.push(e));g=m}return{commands:f}},a.prototype.inlineConstraint=function(a,b,c){var d;return a=a.join("").trim(),c=c.join("").trim(),d=this.parser.parse("&["+a+"] "+b+" "+c)},a.prototype.inlineSet=function(a,b){var c;return a=a.join("").trim(),b=b.join("").trim(),c=[["set",a,b]],{commands:c}},a.prototype.directive=function(a,b,c){var d,e;return(e=this.parser.hooks.directives[a])?e(a,b,c):(d=["directive",a,b],c&&d.push(c),{commands:[d]})},a.prototype.variable=function(a,b,c){var d,e;if(e=c.join(""),null!=b&&0!==b.length){switch(e){case"left":e="x";break;case"top":e="y";break;case"cx":e="center-x";break;case"cy":e="center-y"}if(-1!==b.toString().indexOf("$reserved,window"))switch(e){case"right":e="width";break;case"bottom":e="height"}}return d=null!=b?["get",b,e]:["get",e],a?["-",0,d]:d},a.prototype.integer=function(a){return parseInt(a.join(""),10)},a.prototype.signedInteger=function(a,b){return null==b&&(b=0),parseInt(""+a+b,10)},a.prototype.signedReal=function(a,b){return null==b&&(b=0),parseFloat(""+a+b)},a.prototype.selector=function(){return{id:function(b){var c;return c=a._toString(b),["$id",c]},reservedPseudoSelector:function(a){return["$reserved",a]},virtual:function(b){var c;return c=a._toString(b),["$virtual",c]},"class":function(b){var c;return c=a._toString(b),["$class",c]},tag:function(b){var c;return c=a._toString(b),["$tag",c]},all:function(b){var c;return c=a._toString(b),["$all",c]}}},a.prototype.querySelectorAllParts=function(){return{withoutParens:function(b){return a._toString(b)},withParens:function(b){var c;return c=a._toString(b),"("+c+")"}}},a.prototype.strengthAndWeight=function(){var a=this;return{valid:function(a,b){return null==b||0===b.length?[a]:[a,b]},invalid:function(){throw new a._Error("Invalid Strength or Weight",null,null,null,a._lineNumber(),a._columnNumber())}}},a.prototype.virtualElement=function(a){return{commands:[["virtual"].concat(a)]}},a.prototype.stay=function(b){var c,d,e,f,g,h,i,j;for(h=["stay"].concat(b),f=a._unpack2DExpression(h[1]),d=[],g=i=0,j=f.length;j>i;g=++i)e=f[g],c=h.slice(),c[1]=f[g],d.push(c);return{commands:d}},a.prototype.stayVariable=function(a){return a},a.prototype.conditional=function(a){var b;return b=[a],{commands:b}},a.prototype.forEach=function(a,b,c){return{commands:[[a,b,c]]}},a.prototype.javaScript=function(a){return["js",a.join("").trim()]},a.prototype.forLoopType=function(){return{forEach:function(){return"for-each"},forAll:function(){return"for-all"}}},a.prototype.chain=function(a,b){var c,d,e,f;for(c=["chain",a],e=0,f=b.length;f>e;e++)d=b[e],c=c.concat(d);return{commands:[c]}},a.prototype.chainer=function(b){var c,d,e,f,g,h,i,j,k,l,m;if(g=b.headCharacters,h=b.headExpression,i=b.headOperator,d=b.bridgeValue,m=b.tailOperator,j=b.strengthAndWeight,l=b.tailCharacters,c=[],f=a._toString(g),k=a._toString(l),e=function(a,b,c){var d;return d=[a,b,c],null!=j&&(d=d.concat(j)),d},0===k.length&&(k=f),null!=h&&(h.splice(1,1,f),f=h),null!=d){if(c.push(e(i,f,d)),null==m)throw new this._Error("Invalid Chain Statement",null,null,null,this._lineNumber(),this._columnNumber());c.push(e(m,d,k))}else c.push(e(i,f,k));return c},a.prototype.headExpression=function(a,b){return[a,"_REPLACE_ME_",b]},a.prototype.tailExpression=function(a,b){return[b,a,"_REPLACE_ME_"]},a.prototype.chainMathOperator=function(){return{plus:function(){return"plus-chain"},minus:function(){return"minus-chain"},multiply:function(){return"multiply-chain"},divide:function(){return"divide-chain"}}},a.prototype.chainConstraintOperator=function(a){var b,c;return null==a&&(a="=="),b={"==":"eq","<=":"lte",">=":"gte","<":"lt",">":"gt"},c=""+b[a]+"-chain"},a}(),c.exports=d}),a.register("gss-ccss-compiler/lib/parser.js",function(a,b,c){c.exports=function(){function a(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c}function c(a,b,c,d,e,f){this.message=a,this.expected=b,this.found=c,this.offset=d,this.line=e,this.column=f,this.name="SyntaxError"}function d(a){function d(){return f(Mi).line}function e(){return f(Mi).column}function f(b){function c(b,c,d){var e,f;for(e=c;d>e;e++)f=a.charAt(e),"\n"===f?(b.seenCR||b.line++,b.column=1,b.seenCR=!1):"\r"===f||"\u2028"===f||"\u2029"===f?(b.line++,b.column=1,b.seenCR=!0):(b.column++,b.seenCR=!1)}return Ni!==b&&(Ni>b&&(Ni=0,Oi={line:1,column:1,seenCR:!1}),c(Oi,Ni,b),Ni=b),Oi}function g(a){Pi>Li||(Li>Pi&&(Pi=Li,Qi=[]),Qi.push(a))}function h(b,d,e){function g(a){var b=1;for(a.sort(function(a,b){return a.description<b.description?-1:a.description>b.description?1:0});b<a.length;)a[b-1]===a[b]?a.splice(b,1):b++}function h(a,b){function c(a){function b(a){return a.charCodeAt(0).toString(16).toUpperCase()}return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(a){return"\\x0"+b(a)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(a){return"\\x"+b(a)}).replace(/[\u0180-\u0FFF]/g,function(a){return"\\u0"+b(a)}).replace(/[\u1080-\uFFFF]/g,function(a){return"\\u"+b(a)})}var d,e,f,g=new Array(a.length);for(f=0;f<a.length;f++)g[f]=a[f].description;return d=a.length>1?g.slice(0,-1).join(", ")+" or "+g[a.length-1]:g[0],e=b?'"'+c(b)+'"':"end of input","Expected "+d+" but "+e+" found."}var i=f(e),j=e<a.length?a.charAt(e):null;return null!==d&&g(d),new c(null!==b?b:h(d,j),d,j,e,i.line,i.column)}function i(){var a,b,c,d;return a=Li,b=bb(),b!==Sb?(c=j(),c!==Sb?(d=bb(),d!==Sb?(Mi=a,b=Wb(c),a=b):(Li=a,a=Vb)):(Li=a,a=Vb)):(Li=a,a=Vb),a}function j(){var a,b,c,d;if(a=Li,b=bb(),b!==Sb){for(c=[],d=k();d!==Sb;)c.push(d),d=k();c!==Sb?(Mi=a,b=Xb(c),a=b):(Li=a,a=Vb)}else Li=a,a=Vb;return a}function k(){var a,b,c,d,e;return a=Li,b=bb(),b!==Sb?(c=l(),c!==Sb?(d=W(),d!==Sb?(e=bb(),e!==Sb?(Mi=a,b=Wb(c),a=b):(Li=a,a=Vb)):(Li=a,a=Vb)):(Li=a,a=Vb)):(Li=a,a=Vb),a}function l(){var a;return a=q(),a===Sb&&(a=r(),a===Sb&&(a=s(),a===Sb&&(a=t(),a===Sb&&(a=Db(),a===Sb&&(a=m(),a===Sb&&(a=Fb(),a===Sb&&(a=Lb(),a===Sb&&(a=Ib(),a===Sb&&(a=u()))))))))),a}function m(){var a,b,c,d;if(Ri++,a=Li,b=o(),b!==Sb){if(c=[],d=n(),d!==Sb)for(;d!==Sb;)c.push(d),d=n();else c=Vb;c!==Sb?(Mi=a,b=Zb(b,c),a=b):(Li=a,a=Vb)}else Li=a,a=Vb;return a===Sb&&(a=Li,b=o(),b!==Sb&&(Mi=a,b=$b(b)),a=b),Ri--,a===Sb&&(b=Sb,0===Ri&&g(Yb)),a}function n(){var a,b,c;return a=Li,b=bb(),b!==Sb?(c=p(),c!==Sb?(Mi=a,b=_b(c),a=b):(Li=a,a=Vb)):(Li=a,a=Vb),a}function o(){var b,c,d,e,f,h,i,k,l,m;if(b=Li,a.substr(Li,3)===ac?(c=ac,Li+=3):(c=Sb,0===Ri&&g(bc)),c!==Sb?(d=ab(),d!==Sb?(e=v(),e!==Sb?(f=bb(),f!==Sb?(123===a.charCodeAt(Li)?(h=cc,Li++):(h=Sb,0===Ri&&g(dc)),h!==Sb?(i=bb(),i!==Sb?(k=j(),k!==Sb?(l=bb(),l!==Sb?(125===a.charCodeAt(Li)?(m=ec,Li++):(m=Sb,0===Ri&&g(fc)),m!==Sb?(Mi=b,c=gc(e,k),b=c):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb),b===Sb)if(b=Li,a.substr(Li,3)===ac?(c=ac,Li+=3):(c=Sb,0===Ri&&g(bc)),c!==Sb){for(d=[],hc.test(a.charAt(Li))?(e=a.charAt(Li),Li++):(e=Sb,0===Ri&&g(ic));e!==Sb;)d.push(e),hc.test(a.charAt(Li))?(e=a.charAt(Li),Li++):(e=Sb,0===Ri&&g(ic));d!==Sb?(e=bb(),e!==Sb?(123===a.charCodeAt(Li)?(f=cc,Li++):(f=Sb,0===Ri&&g(dc)),f!==Sb?(h=bb(),h!==Sb?(i=j(),i!==Sb?(k=bb(),k!==Sb?(125===a.charCodeAt(Li)?(l=ec,Li++):(l=Sb,0===Ri&&g(fc)),l!==Sb?(Mi=b,c=jc(i),b=c):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)}else Li=b,b=Vb;return b}function p(){var b,c,d,e,f,h,i,k,l,m;if(b=Li,a.substr(Li,5)===kc?(c=kc,Li+=5):(c=Sb,0===Ri&&g(lc)),c!==Sb?(d=ab(),d!==Sb?(e=v(),e===Sb&&(e=mc),e!==Sb?(f=bb(),f!==Sb?(123===a.charCodeAt(Li)?(h=cc,Li++):(h=Sb,0===Ri&&g(dc)),h!==Sb?(i=bb(),i!==Sb?(k=j(),k!==Sb?(l=bb(),l!==Sb?(125===a.charCodeAt(Li)?(m=ec,Li++):(m=Sb,0===Ri&&g(fc)),m!==Sb?(Mi=b,c=nc(e,k),b=c):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb),b===Sb)if(b=Li,a.substr(Li,5)===kc?(c=kc,Li+=5):(c=Sb,0===Ri&&g(lc)),c!==Sb){for(d=[],hc.test(a.charAt(Li))?(e=a.charAt(Li),Li++):(e=Sb,0===Ri&&g(ic));e!==Sb;)d.push(e),hc.test(a.charAt(Li))?(e=a.charAt(Li),Li++):(e=Sb,0===Ri&&g(ic));d!==Sb?(e=bb(),e!==Sb?(123===a.charCodeAt(Li)?(f=cc,Li++):(f=Sb,0===Ri&&g(dc)),f!==Sb?(h=bb(),h!==Sb?(i=j(),i!==Sb?(k=bb(),k!==Sb?(125===a.charCodeAt(Li)?(l=ec,Li++):(l=Sb,0===Ri&&g(fc)),l!==Sb?(Mi=b,c=oc(i),b=c):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)}else Li=b,b=Vb;return b}function q(){var a,b,c,d,e,f,h,i;if(Ri++,a=Li,b=A(),b!==Sb){for(c=[],d=Li,e=bb(),e!==Sb?(f=z(),f!==Sb?(h=bb(),h!==Sb?(i=A(),i!==Sb?(e=[e,f,h,i],d=e):(Li=d,d=Vb)):(Li=d,d=Vb)):(Li=d,d=Vb)):(Li=d,d=Vb);d!==Sb;)c.push(d),d=Li,e=bb(),e!==Sb?(f=z(),f!==Sb?(h=bb(),h!==Sb?(i=A(),i!==Sb?(e=[e,f,h,i],d=e):(Li=d,d=Vb)):(Li=d,d=Vb)):(Li=d,d=Vb)):(Li=d,d=Vb);c!==Sb?(d=bb(),d!==Sb?(e=Ab(),e===Sb&&(e=mc),e!==Sb?(Mi=a,b=qc(b,c,e),a=b):(Li=a,a=Vb)):(Li=a,a=Vb)):(Li=a,a=Vb)}else Li=a,a=Vb;return Ri--,a===Sb&&(b=Sb,0===Ri&&g(pc)),a}function r(){var b,c,d,e,f,h,i,j,k,l;if(Ri++,b=Li,c=bb(),c!==Sb){if(d=[],sc.test(a.charAt(Li))?(e=a.charAt(Li),Li++):(e=Sb,0===Ri&&g(tc)),e!==Sb)for(;e!==Sb;)d.push(e),sc.test(a.charAt(Li))?(e=a.charAt(Li),Li++):(e=Sb,0===Ri&&g(tc));else d=Vb;if(d!==Sb)if(e=ab(),e!==Sb)if(58===a.charCodeAt(Li)?(f=uc,Li++):(f=Sb,0===Ri&&g(vc)),f!==Sb)if(h=ab(),h!==Sb)if(i=z(),i!==Sb){if(j=[],wc.test(a.charAt(Li))?(k=a.charAt(Li),Li++):(k=Sb,0===Ri&&g(xc)),k!==Sb)for(;k!==Sb;)j.push(k),wc.test(a.charAt(Li))?(k=a.charAt(Li),Li++):(k=Sb,0===Ri&&g(xc));else j=Vb;j!==Sb?(k=Li,Ri++,59===a.charCodeAt(Li)?(l=zc,Li++):(l=Sb,0===Ri&&g(Ac)),Ri--,l!==Sb?(Li=k,k=yc):k=Vb,k!==Sb?(Mi=b,c=Bc(d,i,j),b=c):(Li=b,b=Vb)):(Li=b,b=Vb)}else Li=b,b=Vb;else Li=b,b=Vb;else Li=b,b=Vb;else Li=b,b=Vb;else Li=b,b=Vb}else Li=b,b=Vb;return Ri--,b===Sb&&(c=Sb,0===Ri&&g(rc)),b}function s(){var b,c,d,e,f,h,i,j;if(Ri++,b=Li,c=bb(),c!==Sb){if(d=[],sc.test(a.charAt(Li))?(e=a.charAt(Li),Li++):(e=Sb,0===Ri&&g(tc)),e!==Sb)for(;e!==Sb;)d.push(e),sc.test(a.charAt(Li))?(e=a.charAt(Li),Li++):(e=Sb,0===Ri&&g(tc));else d=Vb;if(d!==Sb)if(e=ab(),e!==Sb)if(58===a.charCodeAt(Li)?(f=uc,Li++):(f=Sb,0===Ri&&g(vc)),f!==Sb){if(h=[],wc.test(a.charAt(Li))?(i=a.charAt(Li),Li++):(i=Sb,0===Ri&&g(xc)),i!==Sb)for(;i!==Sb;)h.push(i),wc.test(a.charAt(Li))?(i=a.charAt(Li),Li++):(i=Sb,0===Ri&&g(xc));else h=Vb;h!==Sb?(i=Li,Ri++,59===a.charCodeAt(Li)?(j=zc,Li++):(j=Sb,0===Ri&&g(Ac)),Ri--,j!==Sb?(Li=i,i=yc):i=Vb,i!==Sb?(Mi=b,c=Dc(d,h),b=c):(Li=b,b=Vb)):(Li=b,b=Vb)}else Li=b,b=Vb;else Li=b,b=Vb;else Li=b,b=Vb}else Li=b,b=Vb;return Ri--,b===Sb&&(c=Sb,0===Ri&&g(Cc)),b}function t(){var b,c,d,e,f,h,i,k;return b=Li,c=eb(),c!==Sb?(d=bb(),d!==Sb?(123===a.charCodeAt(Li)?(e=cc,Li++):(e=Sb,0===Ri&&g(dc)),e!==Sb?(f=bb(),f!==Sb?(h=j(),h!==Sb?(i=bb(),i!==Sb?(125===a.charCodeAt(Li)?(k=ec,Li++):(k=Sb,0===Ri&&g(fc)),k!==Sb?(Mi=b,c=Ec(c,h),b=c):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb),b}function u(){var b,c,d,e,f,h,i,k,l;if(Ri++,b=Li,64===a.charCodeAt(Li)?(c=Gc,Li++):(c=Sb,0===Ri&&g(Hc)),c!==Sb){if(d=[],Ic.test(a.charAt(Li))?(e=a.charAt(Li),Li++):(e=Sb,0===Ri&&g(Jc)),e!==Sb)for(;e!==Sb;)d.push(e),Ic.test(a.charAt(Li))?(e=a.charAt(Li),Li++):(e=Sb,0===Ri&&g(Jc));else d=Vb;if(d!==Sb){if(e=[],Kc.test(a.charAt(Li))?(f=a.charAt(Li),Li++):(f=Sb,0===Ri&&g(Lc)),f!==Sb)for(;f!==Sb;)e.push(f),Kc.test(a.charAt(Li))?(f=a.charAt(Li),Li++):(f=Sb,0===Ri&&g(Lc));else e=Vb;e!==Sb?(123===a.charCodeAt(Li)?(f=cc,Li++):(f=Sb,0===Ri&&g(dc)),f!==Sb?(h=bb(),h!==Sb?(i=j(),i!==Sb?(k=bb(),k!==Sb?(125===a.charCodeAt(Li)?(l=ec,Li++):(l=Sb,0===Ri&&g(fc)),l!==Sb?(Mi=b,c=Mc(d,e,i),b=c):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)}else Li=b,b=Vb}else Li=b,b=Vb;if(b===Sb)if(b=Li,64===a.charCodeAt(Li)?(c=Gc,Li++):(c=Sb,0===Ri&&g(Hc)),c!==Sb){if(d=[],Ic.test(a.charAt(Li))?(e=a.charAt(Li),Li++):(e=Sb,0===Ri&&g(Jc)),e!==Sb)for(;e!==Sb;)d.push(e),Ic.test(a.charAt(Li))?(e=a.charAt(Li),Li++):(e=Sb,0===Ri&&g(Jc));else d=Vb;if(d!==Sb){if(e=[],wc.test(a.charAt(Li))?(f=a.charAt(Li),Li++):(f=Sb,0===Ri&&g(xc)),f!==Sb)for(;f!==Sb;)e.push(f),wc.test(a.charAt(Li))?(f=a.charAt(Li),Li++):(f=Sb,0===Ri&&g(xc));else e=Vb;e!==Sb?(f=Li,Ri++,59===a.charCodeAt(Li)?(h=zc,Li++):(h=Sb,0===Ri&&g(Ac)),Ri--,h!==Sb?(Li=f,f=yc):f=Vb,f!==Sb?(Mi=b,c=Nc(d,e),b=c):(Li=b,b=Vb)):(Li=b,b=Vb)}else Li=b,b=Vb}else Li=b,b=Vb;return Ri--,b===Sb&&(c=Sb,0===Ri&&g(Fc)),b}function v(){var a,b,c,d,e,f,g,h;if(a=Li,b=x(),b!==Sb){for(c=[],d=Li,e=bb(),e!==Sb?(f=w(),f!==Sb?(g=bb(),g!==Sb?(h=x(),h!==Sb?(e=[e,f,g,h],d=e):(Li=d,d=Vb)):(Li=d,d=Vb)):(Li=d,d=Vb)):(Li=d,d=Vb);d!==Sb;)c.push(d),d=Li,e=bb(),e!==Sb?(f=w(),f!==Sb?(g=bb(),g!==Sb?(h=x(),h!==Sb?(e=[e,f,g,h],d=e):(Li=d,d=Vb)):(Li=d,d=Vb)):(Li=d,d=Vb)):(Li=d,d=Vb);c!==Sb?(Mi=a,b=Oc(b,c),a=b):(Li=a,a=Vb)}else Li=a,a=Vb;return a}function w(){var b,c;return b=Li,a.substr(Li,3)===Pc?(c=Pc,Li+=3):(c=Sb,0===Ri&&g(Qc)),c===Sb&&(a.substr(Li,3)===Rc?(c=Rc,Li+=3):(c=Sb,0===Ri&&g(Sc)),c===Sb&&(a.substr(Li,3)===Tc?(c=Tc,Li+=3):(c=Sb,0===Ri&&g(Uc)),c===Sb&&(a.substr(Li,2)===Vc?(c=Vc,Li+=2):(c=Sb,0===Ri&&g(Wc))))),c!==Sb&&(Mi=b,c=Xc()),b=c,b===Sb&&(b=Li,a.substr(Li,2)===Yc?(c=Yc,Li+=2):(c=Sb,0===Ri&&g(Zc)),c===Sb&&(a.substr(Li,2)===$c?(c=$c,Li+=2):(c=Sb,0===Ri&&g(_c)),c===Sb&&(a.substr(Li,2)===ad?(c=ad,Li+=2):(c=Sb,0===Ri&&g(bd)),c===Sb&&(a.substr(Li,2)===cd?(c=cd,Li+=2):(c=Sb,0===Ri&&g(dd))))),c!==Sb&&(Mi=b,c=ed()),b=c),b}function x(){var a,b,c,d,e,f,g,h;if(a=Li,b=B(),b!==Sb){for(c=[],d=Li,e=bb(),e!==Sb?(f=y(),f!==Sb?(g=bb(),g!==Sb?(h=B(),h!==Sb?(e=[e,f,g,h],d=e):(Li=d,d=Vb)):(Li=d,d=Vb)):(Li=d,d=Vb)):(Li=d,d=Vb);d!==Sb;)c.push(d),d=Li,e=bb(),e!==Sb?(f=y(),f!==Sb?(g=bb(),g!==Sb?(h=B(),h!==Sb?(e=[e,f,g,h],d=e):(Li=d,d=Vb)):(Li=d,d=Vb)):(Li=d,d=Vb)):(Li=d,d=Vb);c!==Sb?(Mi=a,b=fd(b,c),a=b):(Li=a,a=Vb)}else Li=a,a=Vb;return a}function y(){var b,c;return b=z(),b===Sb&&(b=Li,a.substr(Li,2)===gd?(c=gd,Li+=2):(c=Sb,0===Ri&&g(hd)),c!==Sb&&(Mi=b,c=id()),b=c,b===Sb&&(b=Li,61===a.charCodeAt(Li)?(c=jd,Li++):(c=Sb,0===Ri&&g(kd)),c!==Sb&&(Mi=b,c=ld()),b=c,b===Sb&&(b=Li,a.substr(Li,2)===md?(c=md,Li+=2):(c=Sb,0===Ri&&g(nd)),c!==Sb&&(Mi=b,c=od()),b=c))),b}function z(){var b,c;return Ri++,b=Li,a.substr(Li,2)===qd?(c=qd,Li+=2):(c=Sb,0===Ri&&g(rd)),c!==Sb&&(Mi=b,c=sd()),b=c,b===Sb&&(b=Li,a.substr(Li,2)===td?(c=td,Li+=2):(c=Sb,0===Ri&&g(ud)),c===Sb&&(a.substr(Li,2)===vd?(c=vd,Li+=2):(c=Sb,0===Ri&&g(wd))),c!==Sb&&(Mi=b,c=xd()),b=c,b===Sb&&(b=Li,a.substr(Li,2)===yd?(c=yd,Li+=2):(c=Sb,0===Ri&&g(zd)),c===Sb&&(a.substr(Li,2)===Ad?(c=Ad,Li+=2):(c=Sb,0===Ri&&g(Bd))),c!==Sb&&(Mi=b,c=Cd()),b=c,b===Sb&&(b=Li,60===a.charCodeAt(Li)?(c=Dd,Li++):(c=Sb,0===Ri&&g(Ed)),c!==Sb&&(Mi=b,c=Fd()),b=c,b===Sb&&(b=Li,62===a.charCodeAt(Li)?(c=Gd,Li++):(c=Sb,0===Ri&&g(Hd)),c!==Sb&&(Mi=b,c=Id()),b=c)))),Ri--,b===Sb&&(c=Sb,0===Ri&&g(pd)),b}function A(){var a,b,c,d,e,f,g,h;if(a=Li,b=D(),b!==Sb){for(c=[],d=Li,e=bb(),e!==Sb?(f=C(),f!==Sb?(g=bb(),g!==Sb?(h=D(),h!==Sb?(e=[e,f,g,h],d=e):(Li=d,d=Vb)):(Li=d,d=Vb)):(Li=d,d=Vb)):(Li=d,d=Vb);d!==Sb;)c.push(d),d=Li,e=bb(),e!==Sb?(f=C(),f!==Sb?(g=bb(),g!==Sb?(h=D(),h!==Sb?(e=[e,f,g,h],d=e):(Li=d,d=Vb)):(Li=d,d=Vb)):(Li=d,d=Vb)):(Li=d,d=Vb);c!==Sb?(Mi=a,b=fd(b,c),a=b):(Li=a,a=Vb)}else Li=a,a=Vb;return a}function B(){var a,b,c,d,e,f,g,h;if(a=Li,b=E(),b!==Sb){for(c=[],d=Li,e=bb(),e!==Sb?(f=C(),f!==Sb?(g=bb(),g!==Sb?(h=E(),h!==Sb?(e=[e,f,g,h],d=e):(Li=d,d=Vb)):(Li=d,d=Vb)):(Li=d,d=Vb)):(Li=d,d=Vb);d!==Sb;)c.push(d),d=Li,e=bb(),e!==Sb?(f=C(),f!==Sb?(g=bb(),g!==Sb?(h=E(),h!==Sb?(e=[e,f,g,h],d=e):(Li=d,d=Vb)):(Li=d,d=Vb)):(Li=d,d=Vb)):(Li=d,d=Vb);c!==Sb?(Mi=a,b=fd(b,c),a=b):(Li=a,a=Vb)}else Li=a,a=Vb;return a}function C(){var b,c;return b=Li,43===a.charCodeAt(Li)?(c=Jd,Li++):(c=Sb,0===Ri&&g(Kd)),c!==Sb&&(Mi=b,c=Ld()),b=c,b===Sb&&(b=Li,45===a.charCodeAt(Li)?(c=Md,Li++):(c=Sb,0===Ri&&g(Nd)),c!==Sb&&(Mi=b,c=Od()),b=c),b}function D(){var a,b,c,d,e,f,g,h;if(a=Li,b=G(),b!==Sb){for(c=[],d=Li,e=bb(),e!==Sb?(f=F(),f!==Sb?(g=bb(),g!==Sb?(h=G(),h!==Sb?(e=[e,f,g,h],d=e):(Li=d,d=Vb)):(Li=d,d=Vb)):(Li=d,d=Vb)):(Li=d,d=Vb);d!==Sb;)c.push(d),d=Li,e=bb(),e!==Sb?(f=F(),f!==Sb?(g=bb(),g!==Sb?(h=G(),h!==Sb?(e=[e,f,g,h],d=e):(Li=d,d=Vb)):(Li=d,d=Vb)):(Li=d,d=Vb)):(Li=d,d=Vb);c!==Sb?(Mi=a,b=fd(b,c),a=b):(Li=a,a=Vb)}else Li=a,a=Vb;return a}function E(){var a,b,c,d,e,f,g,h;if(a=Li,b=H(),b!==Sb){for(c=[],d=Li,e=bb(),e!==Sb?(f=F(),f!==Sb?(g=bb(),g!==Sb?(h=H(),h!==Sb?(e=[e,f,g,h],d=e):(Li=d,d=Vb)):(Li=d,d=Vb)):(Li=d,d=Vb)):(Li=d,d=Vb);d!==Sb;)c.push(d),d=Li,e=bb(),e!==Sb?(f=F(),f!==Sb?(g=bb(),g!==Sb?(h=H(),h!==Sb?(e=[e,f,g,h],d=e):(Li=d,d=Vb)):(Li=d,d=Vb)):(Li=d,d=Vb)):(Li=d,d=Vb);c!==Sb?(Mi=a,b=fd(b,c),a=b):(Li=a,a=Vb)}else Li=a,a=Vb;return a}function F(){var b,c;return b=Li,42===a.charCodeAt(Li)?(c=Pd,Li++):(c=Sb,0===Ri&&g(Qd)),c!==Sb&&(Mi=b,c=Rd()),b=c,b===Sb&&(b=Li,47===a.charCodeAt(Li)?(c=Sd,Li++):(c=Sb,0===Ri&&g(Td)),c!==Sb&&(Mi=b,c=Ud()),b=c),b}function G(){var b,c,d,e,f,h;return b=I(),b===Sb&&(b=L(),b===Sb&&(b=Li,40===a.charCodeAt(Li)?(c=Vd,Li++):(c=Sb,0===Ri&&g(Wd)),c!==Sb?(d=bb(),d!==Sb?(e=A(),e!==Sb?(f=bb(),f!==Sb?(41===a.charCodeAt(Li)?(h=Xd,Li++):(h=Sb,0===Ri&&g(Yd)),h!==Sb?(Mi=b,c=Zd(e),b=c):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb))),b}function H(){var b,c,d,e,f,h;return b=I(),b===Sb&&(b=L(),b===Sb&&(b=J(),b===Sb&&(b=Li,a.substr(Li,4)===$d?(c=$d,Li+=4):(c=Sb,0===Ri&&g(_d)),c!==Sb&&(Mi=b,c=ae()),b=c,b===Sb&&(b=Li,a.substr(Li,5)===be?(c=be,Li+=5):(c=Sb,0===Ri&&g(ce)),c!==Sb&&(Mi=b,c=de()),b=c,b===Sb&&(b=Li,a.substr(Li,4)===ee?(c=ee,Li+=4):(c=Sb,0===Ri&&g(fe)),c!==Sb&&(Mi=b,c=ge()),b=c,b===Sb&&(b=Li,a.substr(Li,9)===he?(c=he,Li+=9):(c=Sb,0===Ri&&g(ie)),c!==Sb&&(Mi=b,c=je()),b=c,b===Sb&&(b=Li,40===a.charCodeAt(Li)?(c=Vd,Li++):(c=Sb,0===Ri&&g(Wd)),c!==Sb?(d=bb(),d!==Sb?(e=v(),e!==Sb?(f=bb(),f!==Sb?(41===a.charCodeAt(Li)?(h=Xd,Li++):(h=Sb,0===Ri&&g(Yd)),h!==Sb?(Mi=b,c=ke(e),b=c):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)))))))),b}function I(){var b,c,d,e,f,h;if(Ri++,b=Li,45===a.charCodeAt(Li)?(c=Md,Li++):(c=Sb,0===Ri&&g(Nd)),c===Sb&&(c=mc),c!==Sb)if(d=cb(),d===Sb&&(d=mc),d!==Sb)if(91===a.charCodeAt(Li)?(e=me,Li++):(e=Sb,0===Ri&&g(ne)),e!==Sb){if(f=[],h=K(),h!==Sb)for(;h!==Sb;)f.push(h),h=K();else f=Vb;f!==Sb?(93===a.charCodeAt(Li)?(h=oe,Li++):(h=Sb,0===Ri&&g(pe)),h!==Sb?(Mi=b,c=qe(c,d,f),b=c):(Li=b,b=Vb)):(Li=b,b=Vb)}else Li=b,b=Vb;else Li=b,b=Vb;else Li=b,b=Vb;return Ri--,b===Sb&&(c=Sb,0===Ri&&g(le)),b}function J(){var b,c,d,e;if(b=Li,re.test(a.charAt(Li))?(c=a.charAt(Li),Li++):(c=Sb,0===Ri&&g(se)),c!==Sb){for(d=[],te.test(a.charAt(Li))?(e=a.charAt(Li),Li++):(e=Sb,0===Ri&&g(ue));e!==Sb;)d.push(e),te.test(a.charAt(Li))?(e=a.charAt(Li),Li++):(e=Sb,0===Ri&&g(ue));d!==Sb?(re.test(a.charAt(Li))?(e=a.charAt(Li),Li++):(e=Sb,0===Ri&&g(se)),e!==Sb?(Mi=b,c=ve(d),b=c):(Li=b,b=Vb)):(Li=b,b=Vb)}else Li=b,b=Vb;return b}function K(){var b;return we.test(a.charAt(Li))?(b=a.charAt(Li),Li++):(b=Sb,0===Ri&&g(xe)),b}function L(){var a,b,c;return a=Li,b=N(),b!==Sb?(c=M(),c!==Sb?(Mi=a,b=Ae(b,c),a=b):(Li=a,a=Vb)):(Li=a,a=Vb),a===Sb&&(a=Li,b=N(),b!==Sb&&(Mi=a,b=Be(b)),a=b),a}function M(){var b;return a.substr(Li,2)===Ce?(b=Ce,Li+=2):(b=Sb,0===Ri&&g(De)),b===Sb&&(a.substr(Li,2)===Ee?(b=Ee,Li+=2):(b=Sb,0===Ri&&g(Fe)),b===Sb&&(a.substr(Li,2)===Ge?(b=Ge,Li+=2):(b=Sb,0===Ri&&g(He)),b===Sb&&(a.substr(Li,2)===Ge?(b=Ge,Li+=2):(b=Sb,0===Ri&&g(He)),b===Sb&&(37===a.charCodeAt(Li)?(b=Ie,Li++):(b=Sb,0===Ri&&g(Je)),b===Sb&&(a.substr(Li,3)===Ke?(b=Ke,Li+=3):(b=Sb,0===Ri&&g(Le)),b===Sb&&(a.substr(Li,2)===Me?(b=Me,Li+=2):(b=Sb,0===Ri&&g(Ne)),b===Sb&&(a.substr(Li,2)===Oe?(b=Oe,Li+=2):(b=Sb,0===Ri&&g(Pe)),b===Sb&&(a.substr(Li,4)===Qe?(b=Qe,Li+=4):(b=Sb,0===Ri&&g(Re)),b===Sb&&(a.substr(Li,4)===Se?(b=Se,Li+=4):(b=Sb,0===Ri&&g(Te)),b===Sb&&(a.substr(Li,2)===Ue?(b=Ue,Li+=2):(b=Sb,0===Ri&&g(Ve)),b===Sb&&(a.substr(Li,2)===We?(b=We,Li+=2):(b=Sb,0===Ri&&g(Xe)),b===Sb&&(a.substr(Li,2)===Ye?(b=Ye,Li+=2):(b=Sb,0===Ri&&g(Ze)),b===Sb&&(a.substr(Li,2)===$e?(b=$e,Li+=2):(b=Sb,0===Ri&&g(_e)),b===Sb&&(a.substr(Li,2)===af?(b=af,Li+=2):(b=Sb,0===Ri&&g(bf)))))))))))))))),b}function N(){var a;return a=Q(),a===Sb&&(a=O(),a===Sb&&(a=R(),a===Sb&&(a=P()))),a}function O(){var b,c,d;if(b=Li,c=[],cf.test(a.charAt(Li))?(d=a.charAt(Li),Li++):(d=Sb,0===Ri&&g(df)),d!==Sb)for(;d!==Sb;)c.push(d),cf.test(a.charAt(Li))?(d=a.charAt(Li),Li++):(d=Sb,0===Ri&&g(df));else c=Vb;return c!==Sb&&(Mi=b,c=ef(c)),b=c}function P(){var b,c,d;return b=Li,ff.test(a.charAt(Li))?(c=a.charAt(Li),Li++):(c=Sb,0===Ri&&g(gf)),c!==Sb?(d=O(),d===Sb&&(d=mc),d!==Sb?(Mi=b,c=hf(c,d),b=c):(Li=b,b=Vb)):(Li=b,b=Vb),b}function Q(){var b,c,d,e,f;for(b=Li,c=[],cf.test(a.charAt(Li))?(d=a.charAt(Li),Li++):(d=Sb,0===Ri&&g(df));d!==Sb;)c.push(d),cf.test(a.charAt(Li))?(d=a.charAt(Li),Li++):(d=Sb,0===Ri&&g(df));if(c!==Sb)if(46===a.charCodeAt(Li)?(d=jf,Li++):(d=Sb,0===Ri&&g(kf)),d!==Sb){if(e=[],cf.test(a.charAt(Li))?(f=a.charAt(Li),Li++):(f=Sb,0===Ri&&g(df)),f!==Sb)for(;f!==Sb;)e.push(f),cf.test(a.charAt(Li))?(f=a.charAt(Li),Li++):(f=Sb,0===Ri&&g(df));else e=Vb;e!==Sb?(Mi=b,c=lf(c,e),b=c):(Li=b,b=Vb)}else Li=b,b=Vb;else Li=b,b=Vb;return b}function R(){var b,c,d;return b=Li,ff.test(a.charAt(Li))?(c=a.charAt(Li),Li++):(c=Sb,0===Ri&&g(gf)),c!==Sb?(d=Q(),d!==Sb?(Mi=b,c=mf(c,d),b=c):(Li=b,b=Vb)):(Li=b,b=Vb),b}function S(){var b;return a.length>Li?(b=a.charAt(Li),Li++):(b=Sb,0===Ri&&g(nf)),b}function T(){var b,c;return Ri++,pf.test(a.charAt(Li))?(b=a.charAt(Li),Li++):(b=Sb,0===Ri&&g(qf)),Ri--,b===Sb&&(c=Sb,0===Ri&&g(of)),b}function U(){var b;return rf.test(a.charAt(Li))?(b=a.charAt(Li),Li++):(b=Sb,0===Ri&&g(sf)),b}function V(){var b,c;return Ri++,10===a.charCodeAt(Li)?(b=uf,Li++):(b=Sb,0===Ri&&g(vf)),b===Sb&&(a.substr(Li,2)===wf?(b=wf,Li+=2):(b=Sb,0===Ri&&g(xf)),b===Sb&&(13===a.charCodeAt(Li)?(b=yf,Li++):(b=Sb,0===Ri&&g(zf)),b===Sb&&(8232===a.charCodeAt(Li)?(b=Af,Li++):(b=Sb,0===Ri&&g(Bf)),b===Sb&&(8233===a.charCodeAt(Li)?(b=Cf,Li++):(b=Sb,0===Ri&&g(Df)))))),Ri--,b===Sb&&(c=Sb,0===Ri&&g(tf)),b}function W(){var b,c,d;return b=Li,c=bb(),c!==Sb?(59===a.charCodeAt(Li)?(d=zc,Li++):(d=Sb,0===Ri&&g(Ac)),d!==Sb?(c=[c,d],b=c):(Li=b,b=Vb)):(Li=b,b=Vb),b===Sb&&(b=Li,c=ab(),c!==Sb?(d=V(),d!==Sb?(c=[c,d],b=c):(Li=b,b=Vb)):(Li=b,b=Vb),b===Sb&&(b=Li,c=bb(),c!==Sb?(d=X(),d!==Sb?(c=[c,d],b=c):(Li=b,b=Vb)):(Li=b,b=Vb))),b}function X(){var b,c;return b=Li,Ri++,a.length>Li?(c=a.charAt(Li),Li++):(c=Sb,0===Ri&&g(nf)),Ri--,c===Sb?b=yc:(Li=b,b=Vb),b}function Y(){var a,b;return Ri++,a=Z(),a===Sb&&(a=_()),Ri--,a===Sb&&(b=Sb,0===Ri&&g(Ef)),a}function Z(){var b,c,d,e,f,h;if(b=Li,a.substr(Li,2)===Ff?(c=Ff,Li+=2):(c=Sb,0===Ri&&g(Gf)),c!==Sb){for(d=[],e=Li,f=Li,Ri++,a.substr(Li,2)===Hf?(h=Hf,Li+=2):(h=Sb,0===Ri&&g(If)),Ri--,h===Sb?f=yc:(Li=f,f=Vb),f!==Sb?(h=S(),h!==Sb?(f=[f,h],e=f):(Li=e,e=Vb)):(Li=e,e=Vb);e!==Sb;)d.push(e),e=Li,f=Li,Ri++,a.substr(Li,2)===Hf?(h=Hf,Li+=2):(h=Sb,0===Ri&&g(If)),Ri--,h===Sb?f=yc:(Li=f,f=Vb),f!==Sb?(h=S(),h!==Sb?(f=[f,h],e=f):(Li=e,e=Vb)):(Li=e,e=Vb);d!==Sb?(a.substr(Li,2)===Hf?(e=Hf,Li+=2):(e=Sb,0===Ri&&g(If)),e!==Sb?(c=[c,d,e],b=c):(Li=b,b=Vb)):(Li=b,b=Vb)}else Li=b,b=Vb;return b}function $(){var b,c,d,e,f,h;if(b=Li,a.substr(Li,2)===Ff?(c=Ff,Li+=2):(c=Sb,0===Ri&&g(Gf)),c!==Sb){for(d=[],e=Li,f=Li,Ri++,a.substr(Li,2)===Hf?(h=Hf,Li+=2):(h=Sb,0===Ri&&g(If)),h===Sb&&(h=U()),Ri--,h===Sb?f=yc:(Li=f,f=Vb),f!==Sb?(h=S(),h!==Sb?(f=[f,h],e=f):(Li=e,e=Vb)):(Li=e,e=Vb);e!==Sb;)d.push(e),e=Li,f=Li,Ri++,a.substr(Li,2)===Hf?(h=Hf,Li+=2):(h=Sb,0===Ri&&g(If)),h===Sb&&(h=U()),Ri--,h===Sb?f=yc:(Li=f,f=Vb),f!==Sb?(h=S(),h!==Sb?(f=[f,h],e=f):(Li=e,e=Vb)):(Li=e,e=Vb);d!==Sb?(a.substr(Li,2)===Hf?(e=Hf,Li+=2):(e=Sb,0===Ri&&g(If)),e!==Sb?(c=[c,d,e],b=c):(Li=b,b=Vb)):(Li=b,b=Vb)}else Li=b,b=Vb;return b}function _(){var b,c,d,e,f,h;if(b=Li,a.substr(Li,2)===Jf?(c=Jf,Li+=2):(c=Sb,0===Ri&&g(Kf)),c!==Sb){for(d=[],e=Li,f=Li,Ri++,h=U(),Ri--,h===Sb?f=yc:(Li=f,f=Vb),f!==Sb?(h=S(),h!==Sb?(f=[f,h],e=f):(Li=e,e=Vb)):(Li=e,e=Vb);e!==Sb;)d.push(e),e=Li,f=Li,Ri++,h=U(),Ri--,h===Sb?f=yc:(Li=f,f=Vb),f!==Sb?(h=S(),h!==Sb?(f=[f,h],e=f):(Li=e,e=Vb)):(Li=e,e=Vb);d!==Sb?(e=U(),e===Sb&&(e=X()),e!==Sb?(c=[c,d,e],b=c):(Li=b,b=Vb)):(Li=b,b=Vb)}else Li=b,b=Vb;return b}function ab(){var a,b;for(a=[],b=T(),b===Sb&&(b=$(),b===Sb&&(b=_()));b!==Sb;)a.push(b),b=T(),b===Sb&&(b=$(),b===Sb&&(b=_()));return a}function bb(){var a,b;for(a=[],b=T(),b===Sb&&(b=V(),b===Sb&&(b=Y()));b!==Sb;)a.push(b),b=T(),b===Sb&&(b=V(),b===Sb&&(b=Y()));return a}function cb(){var a,b,c;return a=db(),a===Sb&&(a=Li,b=gb(),b!==Sb?(c=ab(),c!==Sb?(Mi=a,b=Lf(b),a=b):(Li=a,a=Vb)):(Li=a,a=Vb)),a}function db(){var b,c,d,e,f,h;return b=Li,40===a.charCodeAt(Li)?(c=Vd,Li++):(c=Sb,0===Ri&&g(Wd)),c!==Sb?(d=bb(),d!==Sb?(e=eb(),e!==Sb?(f=bb(),f!==Sb?(41===a.charCodeAt(Li)?(h=Xd,Li++):(h=Sb,0===Ri&&g(Yd)),h!==Sb?(Mi=b,c=Mf(e),b=c):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb),b}function eb(){var b,c,d,e,f,h,i,j;if(b=Li,c=fb(),c!==Sb){if(d=[],e=Li,f=bb(),f!==Sb?(44===a.charCodeAt(Li)?(h=Nf,Li++):(h=Sb,0===Ri&&g(Of)),h!==Sb?(i=bb(),i!==Sb?(j=fb(),j!==Sb?(f=[f,h,i,j],e=f):(Li=e,e=Vb)):(Li=e,e=Vb)):(Li=e,e=Vb)):(Li=e,e=Vb),e!==Sb)for(;e!==Sb;)d.push(e),e=Li,f=bb(),f!==Sb?(44===a.charCodeAt(Li)?(h=Nf,Li++):(h=Sb,0===Ri&&g(Of)),h!==Sb?(i=bb(),i!==Sb?(j=fb(),j!==Sb?(f=[f,h,i,j],e=f):(Li=e,e=Vb)):(Li=e,e=Vb)):(Li=e,e=Vb)):(Li=e,e=Vb);else d=Vb;d!==Sb?(Mi=b,c=Pf(c,d),b=c):(Li=b,b=Vb)}else Li=b,b=Vb;return b===Sb&&(b=fb()),b}function fb(){var a,b,c;if(a=Li,b=[],c=jb(),c!==Sb)for(;c!==Sb;)b.push(c),c=jb();else b=Vb;return b!==Sb&&(Mi=a,b=Qf(b)),a=b}function gb(){var a,b,c;if(a=Li,b=[],c=hb(),c!==Sb)for(;c!==Sb;)b.push(c),c=hb();else b=Vb;return b!==Sb&&(Mi=a,b=Qf(b)),a=b}function hb(){var a,b;return Ri++,a=lb(),a===Sb&&(a=qb(),a===Sb&&(a=rb(),a===Sb&&(a=sb(),a===Sb&&(a=tb(),a===Sb&&(a=ub(),a===Sb&&(a=db())))))),Ri--,a===Sb&&(b=Sb,0===Ri&&g(Rf)),a}function ib(){var a;return a=hb(),a===Sb&&(a=wb()),a}function jb(){var a,b;return a=ib(),a===Sb&&(a=Li,b=kb(),b!==Sb&&(Mi=a,b=Sf(b)),a=b),a}function kb(){var b,c,d,e;if(Ri++,b=Li,c=ab(),c!==Sb){if(d=[],Uf.test(a.charAt(Li))?(e=a.charAt(Li),Li++):(e=Sb,0===Ri&&g(Vf)),e!==Sb)for(;e!==Sb;)d.push(e),Uf.test(a.charAt(Li))?(e=a.charAt(Li),Li++):(e=Sb,0===Ri&&g(Vf));
else d=Vb;d!==Sb?(e=ab(),e!==Sb?(Mi=b,c=Wf(d),b=c):(Li=b,b=Vb)):(Li=b,b=Vb)}else Li=b,b=Vb;if(b===Sb){if(b=Li,c=[],32===a.charCodeAt(Li)?(d=ye,Li++):(d=Sb,0===Ri&&g(ze)),d!==Sb)for(;d!==Sb;)c.push(d),32===a.charCodeAt(Li)?(d=ye,Li++):(d=Sb,0===Ri&&g(ze));else c=Vb;c!==Sb?(d=Li,Ri++,Xf.test(a.charAt(Li))?(e=a.charAt(Li),Li++):(e=Sb,0===Ri&&g(Yf)),Ri--,e!==Sb?(Li=d,d=yc):d=Vb,d!==Sb?(Mi=b,c=Zf(),b=c):(Li=b,b=Vb)):(Li=b,b=Vb)}return Ri--,b===Sb&&(c=Sb,0===Ri&&g(Tf)),b}function lb(){var b,c,d,e;if(b=Li,$f.test(a.charAt(Li))?(c=a.charAt(Li),Li++):(c=Sb,0===Ri&&g(_f)),c!==Sb?(d=mb(),d!==Sb?($f.test(a.charAt(Li))?(e=a.charAt(Li),Li++):(e=Sb,0===Ri&&g(_f)),e!==Sb?(Mi=b,c=ag(d),b=c):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb),b===Sb)if(b=Li,$f.test(a.charAt(Li))?(c=a.charAt(Li),Li++):(c=Sb,0===Ri&&g(_f)),c!==Sb){if(d=[],bg.test(a.charAt(Li))?(e=a.charAt(Li),Li++):(e=Sb,0===Ri&&g(cg)),e!==Sb)for(;e!==Sb;)d.push(e),bg.test(a.charAt(Li))?(e=a.charAt(Li),Li++):(e=Sb,0===Ri&&g(cg));else d=Vb;d!==Sb?($f.test(a.charAt(Li))?(e=a.charAt(Li),Li++):(e=Sb,0===Ri&&g(_f)),e!==Sb?(Mi=b,c=dg(d),b=c):(Li=b,b=Vb)):(Li=b,b=Vb)}else Li=b,b=Vb;return b}function mb(){var a,b,c,d;if(a=Li,b=[],c=nb(),c!==Sb)for(;c!==Sb;)b.push(c),c=nb();else b=Vb;if(b!==Sb){for(c=[],d=pb();d!==Sb;)c.push(d),d=pb();c!==Sb?(Mi=a,b=eg(b,c),a=b):(Li=a,a=Vb)}else Li=a,a=Vb;return a}function nb(){var a,b,c;if(Ri++,a=Li,b=[],c=pb(),c!==Sb)for(;c!==Sb;)b.push(c),c=pb();else b=Vb;return b!==Sb?(c=ob(),c!==Sb?(Mi=a,b=gg(b,c),a=b):(Li=a,a=Vb)):(Li=a,a=Vb),Ri--,a===Sb&&(b=Sb,0===Ri&&g(fg)),a}function ob(){var b,c,d,e,f;if(Ri++,b=Li,c=[],cf.test(a.charAt(Li))?(d=a.charAt(Li),Li++):(d=Sb,0===Ri&&g(df)),d!==Sb)for(;d!==Sb;)c.push(d),cf.test(a.charAt(Li))?(d=a.charAt(Li),Li++):(d=Sb,0===Ri&&g(df));else c=Vb;if(c!==Sb)if(a.substr(Li,3)===ig?(d=ig,Li+=3):(d=Sb,0===Ri&&g(jg)),d!==Sb){if(e=[],cf.test(a.charAt(Li))?(f=a.charAt(Li),Li++):(f=Sb,0===Ri&&g(df)),f!==Sb)for(;f!==Sb;)e.push(f),cf.test(a.charAt(Li))?(f=a.charAt(Li),Li++):(f=Sb,0===Ri&&g(df));else e=Vb;e!==Sb?(Mi=b,c=kg(c,e),b=c):(Li=b,b=Vb)}else Li=b,b=Vb;else Li=b,b=Vb;return Ri--,b===Sb&&(c=Sb,0===Ri&&g(hg)),b}function pb(){var a,b,c;return a=Li,b=Li,Ri++,c=ob(),Ri--,c===Sb?b=yc:(Li=b,b=Vb),b!==Sb?(c=yb(),c!==Sb?(Mi=a,b=lg(c),a=b):(Li=a,a=Vb)):(Li=a,a=Vb),a}function qb(){var b,c;return b=Li,c=xb(),c!==Sb&&(Mi=b,c=mg(c)),b=c,b===Sb&&(b=Li,42===a.charCodeAt(Li)?(c=Pd,Li++):(c=Sb,0===Ri&&g(Qd)),c!==Sb&&(Mi=b,c=ng()),b=c),b}function rb(){var b,c,d;return b=Li,35===a.charCodeAt(Li)?(c=og,Li++):(c=Sb,0===Ri&&g(pg)),c!==Sb?(d=mb(),d===Sb&&(d=xb()),d!==Sb?(Mi=b,c=qg(d),b=c):(Li=b,b=Vb)):(Li=b,b=Vb),b}function sb(){var b,c,d;return b=Li,46===a.charCodeAt(Li)?(c=jf,Li++):(c=Sb,0===Ri&&g(kf)),c!==Sb?(d=mb(),d===Sb&&(d=xb()),d!==Sb?(Mi=b,c=rg(d),b=c):(Li=b,b=Vb)):(Li=b,b=Vb),b}function tb(){var b,c,d,e;return b=Li,a.substr(Li,2)===sg?(c=sg,Li+=2):(c=Sb,0===Ri&&g(tg)),c!==Sb?(d=zb(),d!==Sb?(Mi=b,c=ug(d),b=c):(Li=b,b=Vb)):(Li=b,b=Vb),b===Sb&&(b=Li,38===a.charCodeAt(Li)?(c=vg,Li++):(c=Sb,0===Ri&&g(wg)),c!==Sb?(d=Li,Ri++,xg.test(a.charAt(Li))?(e=a.charAt(Li),Li++):(e=Sb,0===Ri&&g(yg)),Ri--,e!==Sb?(Li=d,d=yc):d=Vb,d!==Sb?(Mi=b,c=zg(),b=c):(Li=b,b=Vb)):(Li=b,b=Vb)),b}function ub(){var b,c,d,e;return b=Li,a.substr(Li,2)===sg?(c=sg,Li+=2):(c=Sb,0===Ri&&g(tg)),c===Sb&&(58===a.charCodeAt(Li)?(c=uc,Li++):(c=Sb,0===Ri&&g(vc))),c!==Sb?(d=xb(),d!==Sb?(e=vb(),e===Sb&&(e=mc),e!==Sb?(Mi=b,c=Ag(d,e),b=c):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb),b}function vb(){var b,c,d,e;if(b=Li,40===a.charCodeAt(Li)?(c=Vd,Li++):(c=Sb,0===Ri&&g(Wd)),c!==Sb){for(d=[],Bg.test(a.charAt(Li))?(e=a.charAt(Li),Li++):(e=Sb,0===Ri&&g(Cg));e!==Sb;)d.push(e),Bg.test(a.charAt(Li))?(e=a.charAt(Li),Li++):(e=Sb,0===Ri&&g(Cg));d!==Sb?(41===a.charCodeAt(Li)?(e=Xd,Li++):(e=Sb,0===Ri&&g(Yd)),e!==Sb?(Mi=b,c=Dg(d),b=c):(Li=b,b=Vb)):(Li=b,b=Vb)}else Li=b,b=Vb;return b}function wb(){var b,c,d,e,f,h;if(b=Li,91===a.charCodeAt(Li)?(c=me,Li++):(c=Sb,0===Ri&&g(ne)),c!==Sb){if(d=[],Eg.test(a.charAt(Li))?(e=a.charAt(Li),Li++):(e=Sb,0===Ri&&g(Fg)),e!==Sb)for(;e!==Sb;)d.push(e),Eg.test(a.charAt(Li))?(e=a.charAt(Li),Li++):(e=Sb,0===Ri&&g(Fg));else d=Vb;if(d!==Sb){if(e=[],Gg.test(a.charAt(Li))?(f=a.charAt(Li),Li++):(f=Sb,0===Ri&&g(Hg)),f!==Sb)for(;f!==Sb;)e.push(f),Gg.test(a.charAt(Li))?(f=a.charAt(Li),Li++):(f=Sb,0===Ri&&g(Hg));else e=Vb;if(e!==Sb){if(f=[],Ig.test(a.charAt(Li))?(h=a.charAt(Li),Li++):(h=Sb,0===Ri&&g(Jg)),h!==Sb)for(;h!==Sb;)f.push(h),Ig.test(a.charAt(Li))?(h=a.charAt(Li),Li++):(h=Sb,0===Ri&&g(Jg));else f=Vb;f!==Sb?(93===a.charCodeAt(Li)?(h=oe,Li++):(h=Sb,0===Ri&&g(pe)),h!==Sb?(Mi=b,c=Kg(d,e,f),b=c):(Li=b,b=Vb)):(Li=b,b=Vb)}else Li=b,b=Vb}else Li=b,b=Vb}else Li=b,b=Vb;if(b===Sb)if(b=Li,91===a.charCodeAt(Li)?(c=me,Li++):(c=Sb,0===Ri&&g(ne)),c!==Sb){if(d=[],Ig.test(a.charAt(Li))?(e=a.charAt(Li),Li++):(e=Sb,0===Ri&&g(Jg)),e!==Sb)for(;e!==Sb;)d.push(e),Ig.test(a.charAt(Li))?(e=a.charAt(Li),Li++):(e=Sb,0===Ri&&g(Jg));else d=Vb;d!==Sb?(93===a.charCodeAt(Li)?(e=oe,Li++):(e=Sb,0===Ri&&g(pe)),e!==Sb?(Mi=b,c=Lg(d),b=c):(Li=b,b=Vb)):(Li=b,b=Vb)}else Li=b,b=Vb;return b}function xb(){var a,b,c;if(a=Li,b=[],c=yb(),c!==Sb)for(;c!==Sb;)b.push(c),c=yb();else b=Vb;return b!==Sb&&(Mi=a,b=Mg(b)),a=b}function yb(){var b;return Ng.test(a.charAt(Li))?(b=a.charAt(Li),Li++):(b=Sb,0===Ri&&g(Og)),b}function zb(){var b,c;return a.substr(Li,8)===Pg?(b=Pg,Li+=8):(b=Sb,0===Ri&&g(Qg)),b===Sb&&(a.substr(Li,4)===Rg?(b=Rg,Li+=4):(b=Sb,0===Ri&&g(Sg)),b===Sb&&(a.substr(Li,5)===Tg?(b=Tg,Li+=5):(b=Sb,0===Ri&&g(Ug)),b===Sb&&(a.substr(Li,6)===Vg?(b=Vg,Li+=6):(b=Sb,0===Ri&&g(Wg))))),b===Sb&&(b=Li,a.substr(Li,6)===Xg?(c=Xg,Li+=6):(c=Sb,0===Ri&&g(Yg)),c===Sb&&(a.substr(Li,8)===Zg?(c=Zg,Li+=8):(c=Sb,0===Ri&&g($g))),c!==Sb&&(Mi=b,c=_g()),b=c,b===Sb&&(b=Li,a.substr(Li,4)===ah?(c=ah,Li+=4):(c=Sb,0===Ri&&g(bh)),c===Sb&&(c=ch),c!==Sb&&(Mi=b,c=dh()),b=c)),b}function Ab(){var b,c,d,e;return Ri++,b=Li,33===a.charCodeAt(Li)?(c=fh,Li++):(c=Sb,0===Ri&&g(gh)),c!==Sb?(d=Cb(),d!==Sb?(e=Bb(),e===Sb&&(e=mc),e!==Sb?(Mi=b,c=hh(d,e),b=c):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb),b===Sb&&(b=Li,33===a.charCodeAt(Li)?(c=fh,Li++):(c=Sb,0===Ri&&g(gh)),c!==Sb?(a.length>Li?(d=a.charAt(Li),Li++):(d=Sb,0===Ri&&g(nf)),d===Sb&&(d=mc),d!==Sb?(Mi=b,c=ih(),b=c):(Li=b,b=Vb)):(Li=b,b=Vb)),Ri--,b===Sb&&(c=Sb,0===Ri&&g(eh)),b}function Bb(){var b,c,d;if(b=Li,c=[],cf.test(a.charAt(Li))?(d=a.charAt(Li),Li++):(d=Sb,0===Ri&&g(df)),d!==Sb)for(;d!==Sb;)c.push(d),cf.test(a.charAt(Li))?(d=a.charAt(Li),Li++):(d=Sb,0===Ri&&g(df));else c=Vb;return c!==Sb&&(Mi=b,c=jh(c)),b=c}function Cb(){var b,c,d;if(b=Li,a.substr(Li,8)===kh?(c=kh,Li+=8):(c=Sb,0===Ri&&g(lh)),c===Sb&&(a.substr(Li,8)===mh?(c=mh,Li+=8):(c=Sb,0===Ri&&g(nh)),c===Sb&&(a.substr(Li,8)===oh?(c=oh,Li+=8):(c=Sb,0===Ri&&g(ph)))),c!==Sb&&(Mi=b,c=qh()),b=c,b===Sb&&(b=Li,a.substr(Li,7)===rh?(c=rh,Li+=7):(c=Sb,0===Ri&&g(sh)),c===Sb&&(a.substr(Li,7)===th?(c=th,Li+=7):(c=Sb,0===Ri&&g(uh)),c===Sb&&(a.substr(Li,7)===vh?(c=vh,Li+=7):(c=Sb,0===Ri&&g(wh)))),c!==Sb&&(Mi=b,c=qh()),b=c,b===Sb&&(b=Li,a.substr(Li,6)===xh?(c=xh,Li+=6):(c=Sb,0===Ri&&g(yh)),c===Sb&&(a.substr(Li,6)===zh?(c=zh,Li+=6):(c=Sb,0===Ri&&g(Ah)),c===Sb&&(a.substr(Li,6)===Bh?(c=Bh,Li+=6):(c=Sb,0===Ri&&g(Ch)))),c!==Sb&&(Mi=b,c=Dh()),b=c,b===Sb&&(b=Li,a.substr(Li,6)===Eh?(c=Eh,Li+=6):(c=Sb,0===Ri&&g(Fh)),c===Sb&&(a.substr(Li,6)===Gh?(c=Gh,Li+=6):(c=Sb,0===Ri&&g(Hh)),c===Sb&&(a.substr(Li,6)===Ih?(c=Ih,Li+=6):(c=Sb,0===Ri&&g(Jh)))),c!==Sb&&(Mi=b,c=Kh()),b=c,b===Sb&&(b=Li,a.substr(Li,4)===Lh?(c=Lh,Li+=4):(c=Sb,0===Ri&&g(Mh)),c===Sb&&(a.substr(Li,4)===Nh?(c=Nh,Li+=4):(c=Sb,0===Ri&&g(Oh)),c===Sb&&(a.substr(Li,4)===Ph?(c=Ph,Li+=4):(c=Sb,0===Ri&&g(Qh)))),c!==Sb&&(Mi=b,c=Rh()),b=c,b===Sb))))){if(b=Li,c=[],Sh.test(a.charAt(Li))?(d=a.charAt(Li),Li++):(d=Sb,0===Ri&&g(Th)),d!==Sb)for(;d!==Sb;)c.push(d),Sh.test(a.charAt(Li))?(d=a.charAt(Li),Li++):(d=Sb,0===Ri&&g(Th));else c=Vb;c!==Sb&&(Mi=b,c=Uh(c)),b=c}return b}function Db(){var b,c,d,e,f,h;if(b=Li,64===a.charCodeAt(Li)?(c=Gc,Li++):(c=Sb,0===Ri&&g(Hc)),c!==Sb)if(a.substr(Li,12)===Vh?(d=Vh,Li+=12):(d=Sb,0===Ri&&g(Wh)),d===Sb&&(a.substr(Li,7)===Xh?(d=Xh,Li+=7):(d=Sb,0===Ri&&g(Yh))),d!==Sb)if(e=bb(),e!==Sb){if(f=[],h=Eb(),h!==Sb)for(;h!==Sb;)f.push(h),h=Eb();else f=Vb;f!==Sb?(Mi=b,c=Zh(f),b=c):(Li=b,b=Vb)}else Li=b,b=Vb;else Li=b,b=Vb;else Li=b,b=Vb;return b}function Eb(){var b,c,d,e,f;if(b=Li,34===a.charCodeAt(Li)?(c=$h,Li++):(c=Sb,0===Ri&&g(_h)),c!==Sb){if(d=[],bg.test(a.charAt(Li))?(e=a.charAt(Li),Li++):(e=Sb,0===Ri&&g(cg)),e!==Sb)for(;e!==Sb;)d.push(e),bg.test(a.charAt(Li))?(e=a.charAt(Li),Li++):(e=Sb,0===Ri&&g(cg));else d=Vb;d!==Sb?(34===a.charCodeAt(Li)?(e=$h,Li++):(e=Sb,0===Ri&&g(_h)),e!==Sb?(f=bb(),f!==Sb?(Mi=b,c=ai(d),b=c):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)}else Li=b,b=Vb;return b}function Fb(){var a,b,c,d;if(a=Li,b=Hb(),b!==Sb){if(c=[],d=Gb(),d!==Sb)for(;d!==Sb;)c.push(d),d=Gb();else c=Vb;c!==Sb?(Mi=a,b=bi(c),a=b):(Li=a,a=Vb)}else Li=a,a=Vb;return a}function Gb(){var b,c,d,e,f;return b=Li,c=bb(),c!==Sb?(d=I(),d!==Sb?(e=bb(),e!==Sb?(44===a.charCodeAt(Li)?(f=Nf,Li++):(f=Sb,0===Ri&&g(Of)),f===Sb&&(f=mc),f!==Sb?(Mi=b,c=ci(d),b=c):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb)):(Li=b,b=Vb),b}function Hb(){var b;return a.substr(Li,10)===di?(b=di,Li+=10):(b=Sb,0===Ri&&g(ei)),b===Sb&&(a.substr(Li,5)===fi?(b=fi,Li+=5):(b=Sb,0===Ri&&g(gi))),b}function Ib(){var a,b,c,d,e,f;return a=Li,b=Kb(),b!==Sb?(c=bb(),c!==Sb?(d=cb(),d!==Sb?(e=bb(),e!==Sb?(f=Jb(),f!==Sb?(Mi=a,b=hi(b,d,f),a=b):(Li=a,a=Vb)):(Li=a,a=Vb)):(Li=a,a=Vb)):(Li=a,a=Vb)):(Li=a,a=Vb),a}function Jb(){var b,c,d,e;if(b=Li,a.substr(Li,3)===ii?(c=ii,Li+=3):(c=Sb,0===Ri&&g(ji)),c!==Sb){for(d=[],ki.test(a.charAt(Li))?(e=a.charAt(Li),Li++):(e=Sb,0===Ri&&g(li));e!==Sb;)d.push(e),ki.test(a.charAt(Li))?(e=a.charAt(Li),Li++):(e=Sb,0===Ri&&g(li));d!==Sb?(a.substr(Li,3)===ii?(e=ii,Li+=3):(e=Sb,0===Ri&&g(ji)),e!==Sb?(Mi=b,c=mi(d),b=c):(Li=b,b=Vb)):(Li=b,b=Vb)}else Li=b,b=Vb;return b}function Kb(){var b,c;return b=Li,a.substr(Li,14)===ni?(c=ni,Li+=14):(c=Sb,0===Ri&&g(oi)),c===Sb&&(a.substr(Li,9)===pi?(c=pi,Li+=9):(c=Sb,0===Ri&&g(qi))),c!==Sb&&(Mi=b,c=ri()),b=c,b===Sb&&(b=Li,a.substr(Li,13)===si?(c=si,Li+=13):(c=Sb,0===Ri&&g(ti)),c===Sb&&(a.substr(Li,8)===ui?(c=ui,Li+=8):(c=Sb,0===Ri&&g(vi))),c!==Sb&&(Mi=b,c=wi()),b=c),b}function Lb(){var b,c,d,e,f,h,i,j,k;if(b=Li,64===a.charCodeAt(Li)?(c=Gc,Li++):(c=Sb,0===Ri&&g(Hc)),c!==Sb)if(a.substr(Li,5)===xi?(d=xi,Li+=5):(d=Sb,0===Ri&&g(yi)),d===Sb&&(d=mc),d!==Sb)if(a.substr(Li,5)===zi?(e=zi,Li+=5):(e=Sb,0===Ri&&g(Ai)),e!==Sb)if(f=bb(),f!==Sb)if(h=cb(),h!==Sb)if(i=bb(),i!==Sb){if(j=[],k=Mb(),k!==Sb)for(;k!==Sb;)j.push(k),k=Mb();else j=Vb;j!==Sb?(k=bb(),k!==Sb?(Mi=b,c=Bi(h,j),b=c):(Li=b,b=Vb)):(Li=b,b=Vb)}else Li=b,b=Vb;else Li=b,b=Vb;else Li=b,b=Vb;else Li=b,b=Vb;else Li=b,b=Vb;else Li=b,b=Vb;return b}function Mb(){var b,c,d,e,f,h,i,j,k,l,m,n,o,p,q,r,s;if(b=Li,c=[],Ci.test(a.charAt(Li))?(d=a.charAt(Li),Li++):(d=Sb,0===Ri&&g(Di)),d!==Sb)for(;d!==Sb;)c.push(d),Ci.test(a.charAt(Li))?(d=a.charAt(Li),Li++):(d=Sb,0===Ri&&g(Di));else c=Vb;if(c!==Sb)if(40===a.charCodeAt(Li)?(d=Vd,Li++):(d=Sb,0===Ri&&g(Wd)),d!==Sb)if(e=ab(),e!==Sb)if(f=Nb(),f===Sb&&(f=mc),f!==Sb)if(h=ab(),h!==Sb)if(i=Pb(),i!==Sb)if(j=ab(),j!==Sb)if(k=B(),k===Sb&&(k=mc),k!==Sb)if(l=ab(),l!==Sb)if(m=Pb(),m===Sb&&(m=mc),m!==Sb)if(n=ab(),n!==Sb)if(o=Ab(),o===Sb&&(o=mc),o!==Sb)if(p=ab(),p!==Sb)if(41===a.charCodeAt(Li)?(q=Xd,Li++):(q=Sb,0===Ri&&g(Yd)),q!==Sb){for(r=[],Ci.test(a.charAt(Li))?(s=a.charAt(Li),Li++):(s=Sb,0===Ri&&g(Di));s!==Sb;)r.push(s),Ci.test(a.charAt(Li))?(s=a.charAt(Li),Li++):(s=Sb,0===Ri&&g(Di));r!==Sb?(s=bb(),s!==Sb?(Mi=b,c=Ei(c,f,i,k,m,o,r),b=c):(Li=b,b=Vb)):(Li=b,b=Vb)}else Li=b,b=Vb;else Li=b,b=Vb;else Li=b,b=Vb;else Li=b,b=Vb;else Li=b,b=Vb;else Li=b,b=Vb;else Li=b,b=Vb;else Li=b,b=Vb;else Li=b,b=Vb;else Li=b,b=Vb;else Li=b,b=Vb;else Li=b,b=Vb;else Li=b,b=Vb;else Li=b,b=Vb;return b}function Nb(){var a,b,c;return a=Li,b=Ob(),b!==Sb?(c=B(),c!==Sb?(Mi=a,b=Fi(b,c),a=b):(Li=a,a=Vb)):(Li=a,a=Vb),a}function Ob(){var b,c;return b=Li,43===a.charCodeAt(Li)?(c=Jd,Li++):(c=Sb,0===Ri&&g(Kd)),c!==Sb&&(Mi=b,c=Gi()),b=c,b===Sb&&(b=Li,45===a.charCodeAt(Li)?(c=Md,Li++):(c=Sb,0===Ri&&g(Nd)),c!==Sb&&(Mi=b,c=Hi()),b=c,b===Sb&&(b=Li,42===a.charCodeAt(Li)?(c=Pd,Li++):(c=Sb,0===Ri&&g(Qd)),c!==Sb&&(Mi=b,c=Ii()),b=c,b===Sb&&(b=Li,47===a.charCodeAt(Li)?(c=Sd,Li++):(c=Sb,0===Ri&&g(Td)),c!==Sb&&(Mi=b,c=Ji()),b=c))),b}function Pb(){var a,b;return a=Li,b=z(),b===Sb&&(b=mc),b!==Sb&&(Mi=a,b=Ki(b)),a=b}var Qb,Rb=arguments.length>1?arguments[1]:{},Sb={},Tb={start:i},Ub=i,Vb=Sb,Wb=function(a){return a},Xb=function(a){return Ti.mergeCommands(a)},Yb={type:"other",description:"IfElseStatement"},Zb=function(a,b){return{commands:[a.concat(b)]}},$b=function(a){return{commands:[a]}},_b=function(a){return a},ac="@if",bc={type:"literal",value:"@if",description:'"@if"'},cc="{",dc={type:"literal",value:"{",description:'"{"'},ec="}",fc={type:"literal",value:"}",description:'"}"'},gc=function(a,b){return["if",a,b.commands]},hc=/^[^{]/,ic={type:"class",value:"[^{]",description:"[^{]"},jc=function(){throw new Ti._Error("Invalid If Clause",null,null,null,Ti._lineNumber(),Ti._columnNumber())},kc="@else",lc={type:"literal",value:"@else",description:'"@else"'},mc=null,nc=function(a,b){return[a||!0,b.commands]},oc=function(){throw new Ti._Error("Invalid Else Clause",null,null,null,Ti._lineNumber(),Ti._columnNumber())},pc={type:"other",description:"ConstraintStatement"},qc=function(a,b,c){return Ti.constraint(a,b,c)},rc={type:"other",description:"InlineConstraintStatement"},sc=/^[^:)(\][@ ]/,tc={type:"class",value:"[^:)(\\][@ ]",description:"[^:)(\\][@ ]"},uc=":",vc={type:"literal",value:":",description:'":"'},wc=/^[^;]/,xc={type:"class",value:"[^;]",description:"[^;]"},yc=void 0,zc=";",Ac={type:"literal",value:";",description:'";"'},Bc=function(a,b,c){return Ti.inlineConstraint(a,b,c)},Cc={type:"other",description:"Inline Set"},Dc=function(a,b){return Ti.inlineSet(a,b)},Ec=function(a,b){return{commands:[["rule",a,b.commands]]}},Fc={type:"other",description:"Directive"},Gc="@",Hc={type:"literal",value:"@",description:'"@"'},Ic=/^[^ {}]/,Jc={type:"class",value:"[^ {}]",description:"[^ {}]"},Kc=/^[^{};]/,Lc={type:"class",value:"[^{};]",description:"[^{};]"},Mc=function(a,b,c){return Ti.directive(a.join(""),b.join("").trim(),c.commands)},Nc=function(a,b){return Ti.directive(a.join(""),b.join("").trim())},Oc=function(a,b){return Ti.nestedDualTermCommands(a,b)},Pc="AND",Qc={type:"literal",value:"AND",description:'"AND"'},Rc="and",Sc={type:"literal",value:"and",description:'"and"'},Tc="And",Uc={type:"literal",value:"And",description:'"And"'},Vc="&&",Wc={type:"literal",value:"&&",description:'"&&"'},Xc=function(){return"&&"},Yc="OR",Zc={type:"literal",value:"OR",description:'"OR"'},$c="or",_c={type:"literal",value:"or",description:'"or"'},ad="Or",bd={type:"literal",value:"Or",description:'"Or"'},cd="||",dd={type:"literal",value:"||",description:'"||"'},ed=function(){return"||"},fd=function(a,b){return Ti.nestedDualTermCommands(a,b)},gd="!=",hd={type:"literal",value:"!=",description:'"!="'},id=function(){return"!="},jd="=",kd={type:"literal",value:"=",description:'"="'},ld=function(){return"="},md="~=",nd={type:"literal",value:"~=",description:'"~="'},od=function(){return"~="},pd={type:"other",description:"Constraint Operator"},qd="==",rd={type:"literal",value:"==",description:'"=="'},sd=function(){return"=="},td="<=",ud={type:"literal",value:"<=",description:'"<="'},vd="=<",wd={type:"literal",value:"=<",description:'"=<"'},xd=function(){return"<="},yd=">=",zd={type:"literal",value:">=",description:'">="'},Ad="=>",Bd={type:"literal",value:"=>",description:'"=>"'},Cd=function(){return">="},Dd="<",Ed={type:"literal",value:"<",description:'"<"'},Fd=function(){return"<"},Gd=">",Hd={type:"literal",value:">",description:'">"'},Id=function(){return">"},Jd="+",Kd={type:"literal",value:"+",description:'"+"'},Ld=function(){return"+"},Md="-",Nd={type:"literal",value:"-",description:'"-"'},Od=function(){return"-"},Pd="*",Qd={type:"literal",value:"*",description:'"*"'},Rd=function(){return"*"},Sd="/",Td={type:"literal",value:"/",description:'"/"'},Ud=function(){return"/"},Vd="(",Wd={type:"literal",value:"(",description:'"("'},Xd=")",Yd={type:"literal",value:")",description:'")"'},Zd=function(a){return a},$d="true",_d={type:"literal",value:"true",description:'"true"'},ae=function(){return!0},be="false",ce={type:"literal",value:"false",description:'"false"'},de=function(){return!1},ee="null",fe={type:"literal",value:"null",description:'"null"'},ge=function(){return null},he="undefined",ie={type:"literal",value:"undefined",description:'"undefined"'},je=function(){return void 0},ke=function(a){return a},le={type:"other",description:"variable"},me="[",ne={type:"literal",value:"[",description:'"["'},oe="]",pe={type:"literal",value:"]",description:'"]"'},qe=function(a,b,c){return Ti.variable(a,b,c)},re=/^["']/,se={type:"class",value:"[\"']",description:"[\"']"},te=/^[^"']/,ue={type:"class",value:"[^\"']",description:"[^\"']"},ve=function(a){return a.join("")},we=/^[a-zA-Z0-9#.\-_$]/,xe={type:"class",value:"[a-zA-Z0-9#.\\-_$]",description:"[a-zA-Z0-9#.\\-_$]"},ye=" ",ze={type:"literal",value:" ",description:'" "'},Ae=function(a,b){return[b,a]},Be=function(a){return a},Ce="px",De={type:"literal",value:"px",description:'"px"'},Ee="em",Fe={type:"literal",value:"em",description:'"em"'},Ge="vh",He={type:"literal",value:"vh",description:'"vh"'},Ie="%",Je={type:"literal",value:"%",description:'"%"'},Ke="rem",Le={type:"literal",value:"rem",description:'"rem"'},Me="ex",Ne={type:"literal",value:"ex",description:'"ex"'},Oe="ch",Pe={type:"literal",value:"ch",description:'"ch"'},Qe="vmin",Re={type:"literal",value:"vmin",description:'"vmin"'},Se="vmax",Te={type:"literal",value:"vmax",description:'"vmax"'},Ue="cm",Ve={type:"literal",value:"cm",description:'"cm"'},We="mm",Xe={type:"literal",value:"mm",description:'"mm"'},Ye="in",Ze={type:"literal",value:"in",description:'"in"'},$e="pt",_e={type:"literal",value:"pt",description:'"pt"'},af="pc",bf={type:"literal",value:"pc",description:'"pc"'},cf=/^[0-9]/,df={type:"class",value:"[0-9]",description:"[0-9]"},ef=function(a){return Ti.integer(a)},ff=/^[\-+]/,gf={type:"class",value:"[\\-+]",description:"[\\-+]"},hf=function(a,b){return Ti.signedInteger(a,b)},jf=".",kf={type:"literal",value:".",description:'"."'},lf=function(a,b){return parseFloat(a.join("")+"."+b.join(""))},mf=function(a,b){return Ti.signedReal(a,b)},nf={type:"any",description:"any character"},of={type:"other",description:"whitespace"},pf=/^[\t\x0B\f \xA0\uFEFF]/,qf={type:"class",value:"[\\t\\x0B\\f \\xA0\\uFEFF]",description:"[\\t\\x0B\\f \\xA0\\uFEFF]"},rf=/^[\n\r\u2028\u2029]/,sf={type:"class",value:"[\\n\\r\\u2028\\u2029]",description:"[\\n\\r\\u2028\\u2029]"},tf={type:"other",description:"end of line"},uf="\n",vf={type:"literal",value:"\n",description:'"\\n"'},wf="\r\n",xf={type:"literal",value:"\r\n",description:'"\\r\\n"'},yf="\r",zf={type:"literal",value:"\r",description:'"\\r"'},Af="\u2028",Bf={type:"literal",value:"\u2028",description:'"\\u2028"'},Cf="\u2029",Df={type:"literal",value:"\u2029",description:'"\\u2029"'},Ef={type:"other",description:"comment"},Ff="/*",Gf={type:"literal",value:"/*",description:'"/*"'},Hf="*/",If={type:"literal",value:"*/",description:'"*/"'},Jf="//",Kf={type:"literal",value:"//",description:'"//"'},Lf=function(a){return a},Mf=function(a){return a},Nf=",",Of={type:"literal",value:",",description:'","'},Pf=function(a,b){return Ti.createSelectorCommaCommand(a,b)},Qf=function(a){return Ti.reverseFilterNest(a)},Rf={type:"other",description:"SimpleSelector"},Sf=function(a){return["$combinator",a]},Tf={type:"other",description:"Combinator"},Uf=/^[><+~!]/,Vf={type:"class",value:"[><+~!]",description:"[><+~!]"},Wf=function(a){return a.join("")},Xf=/^[^{,)]/,Yf={type:"class",value:"[^{,)]",description:"[^{,)]"},Zf=function(){return" "},$f=/^["]/,_f={type:"class",value:'["]',description:'["]'},ag=function(a){return Ti.splatExpander("$virtual",a)},bg=/^[^"]/,cg={type:"class",value:'[^"]',description:'[^"]'},dg=function(a){return["$virtual",a.join("")]},eg=function(a,b){return{splats:a,postfix:b.join("")}},fg={type:"other",description:"Splat"},gg=function(a,b){return b.prefix=a.join(""),b},hg={type:"other",description:"Range"},ig="...",jg={type:"literal",value:"...",description:'"..."'},kg=function(a,b){return a=Number(a.join("")),b=Number(b.join("")),{from:a,to:b}},lg=function(a){return a},mg=function(a){return["$tag",a]},ng=function(){return["$tag","*"]},og="#",pg={type:"literal",value:"#",description:'"#"'},qg=function(a){return Ti.splatifyIfNeeded("$id",a)},rg=function(a){return Ti.splatifyIfNeeded("$class",a)},sg="::",tg={type:"literal",value:"::",description:'"::"'},ug=function(a){return["$reserved",a]},vg="&",wg={type:"literal",value:"&",description:'"&"'},xg=/^[^&]/,yg={type:"class",value:"[^&]",description:"[^&]"},zg=function(){return["$reserved","this"]},Ag=function(a,b){return b?["$pseudo",a,b]:["$pseudo",a]},Bg=/^[^)]/,Cg={type:"class",value:"[^)]",description:"[^)]"},Dg=function(a){return a.join("")},Eg=/^[^~|=!\^$&*\]]/,Fg={type:"class",value:"[^~|=!\\^$&*\\]]",description:"[^~|=!\\^$&*\\]]"},Gg=/^[~|=!\^$&*]/,Hg={type:"class",value:"[~|=!\\^$&*]",description:"[~|=!\\^$&*]"},Ig=/^[^\]]/,Jg={type:"class",value:"[^\\]]",description:"[^\\]]"},Kg=function(a,b,c){return["$attribute",b.join(""),a.join("").trim(),c.join("").trim()]},Lg=function(a){return["$attribute",a.join("")]},Mg=function(a){return a.join("")},Ng=/^[a-zA-Z0-9\-_$]/,Og={type:"class",value:"[a-zA-Z0-9\\-_$]",description:"[a-zA-Z0-9\\-_$]"},Pg="document",Qg={type:"literal",value:"document",description:'"document"'},Rg="host",Sg={type:"literal",value:"host",description:'"host"'},Tg="scope",Ug={type:"literal",value:"scope",description:'"scope"'},Vg="parent",Wg={type:"literal",value:"parent",description:'"parent"'},Xg="window",Yg={type:"literal",value:"window",description:'"window"'},Zg="viewport",$g={type:"literal",value:"viewport",description:'"viewport"'},_g=function(){return"window"},ah="this",bh={type:"literal",value:"this",description:'"this"'},ch="",dh=function(){return"this"},eh={type:"other",description:"Strength and Weight"},fh="!",gh={type:"literal",value:"!",description:'"!"'},hh=function(a,b){return Ti.strengthAndWeight().valid(a,b)},ih=function(){return Ti.strengthAndWeight().invalid()},jh=function(a){return Number(a.join(""))},kh="required",lh={type:"literal",value:"required",description:'"required"'},mh="REQUIRED",nh={type:"literal",value:"REQUIRED",description:'"REQUIRED"'},oh="Required",ph={type:"literal",value:"Required",description:'"Required"'},qh=function(){return"require"},rh="require",sh={type:"literal",value:"require",description:'"require"'},th="REQUIRE",uh={type:"literal",value:"REQUIRE",description:'"REQUIRE"'},vh="Require",wh={type:"literal",value:"Require",description:'"Require"'},xh="strong",yh={type:"literal",value:"strong",description:'"strong"'},zh="STRONG",Ah={type:"literal",value:"STRONG",description:'"STRONG"'},Bh="Strong",Ch={type:"literal",value:"Strong",description:'"Strong"'},Dh=function(){return"strong"},Eh="medium",Fh={type:"literal",value:"medium",description:'"medium"'},Gh="MEDIUM",Hh={type:"literal",value:"MEDIUM",description:'"MEDIUM"'},Ih="Medium",Jh={type:"literal",value:"Medium",description:'"Medium"'},Kh=function(){return"medium"},Lh="weak",Mh={type:"literal",value:"weak",description:'"weak"'},Nh="WEAK",Oh={type:"literal",value:"WEAK",description:'"WEAK"'},Ph="Weak",Qh={type:"literal",value:"Weak",description:'"Weak"'},Rh=function(){return"weak"},Sh=/^[a-zA-Z\-_]/,Th={type:"class",value:"[a-zA-Z\\-_]",description:"[a-zA-Z\\-_]"},Uh=function(a){return a.join("").toLowerCase()},Vh="-gss-virtual",Wh={type:"literal",value:"-gss-virtual",description:'"-gss-virtual"'},Xh="virtual",Yh={type:"literal",value:"virtual",description:'"virtual"'},Zh=function(a){return Ti.virtualElement(a)},$h='"',_h={type:"literal",value:'"',description:'"\\""'},ai=function(a){return a.join("")},bi=function(a){return Ti.stay(a)},ci=function(a){return Ti.stayVariable(a)},di="@-gss-stay",ei={type:"literal",value:"@-gss-stay",description:'"@-gss-stay"'},fi="@stay",gi={type:"literal",value:"@stay",description:'"@stay"'},hi=function(a,b,c){return Ti.forEach(a,b,c)},ii="```",ji={type:"literal",value:"```",description:'"```"'},ki=/^[^`]/,li={type:"class",value:"[^`]",description:"[^`]"},mi=function(a){return Ti.javaScript(a)},ni="@-gss-for-each",oi={type:"literal",value:"@-gss-for-each",description:'"@-gss-for-each"'},pi="@for-each",qi={type:"literal",value:"@for-each",description:'"@for-each"'},ri=function(){return Ti.forLoopType().forEach()},si="@-gss-for-all",ti={type:"literal",value:"@-gss-for-all",description:'"@-gss-for-all"'},ui="@for-all",vi={type:"literal",value:"@for-all",description:'"@for-all"'},wi=function(){return Ti.forLoopType().forAll()},xi="-gss-",yi={type:"literal",value:"-gss-",description:'"-gss-"'},zi="chain",Ai={type:"literal",value:"chain",description:'"chain"'},Bi=function(a,b){return Ti.chain(a,b)},Ci=/^[a-zA-Z\-_0-9]/,Di={type:"class",value:"[a-zA-Z\\-_0-9]",description:"[a-zA-Z\\-_0-9]"},Ei=function(a,b,c,d,e,f,g){return Ti.chainer({headCharacters:a,headExpression:b,headOperator:c,bridgeValue:d,tailOperator:e,strengthAndWeight:f,tailCharacters:g})},Fi=function(a,b){return Ti.headExpression(a,b)},Gi=function(){return Ti.chainMathOperator().plus()},Hi=function(){return Ti.chainMathOperator().minus()},Ii=function(){return Ti.chainMathOperator().multiply()},Ji=function(){return Ti.chainMathOperator().divide()},Ki=function(a){return Ti.chainConstraintOperator(a)},Li=0,Mi=0,Ni=0,Oi={line:1,column:1,seenCR:!1},Pi=0,Qi=[],Ri=0;if("startRule"in Rb){if(!(Rb.startRule in Tb))throw new Error("Can't start parsing from rule \""+Rb.startRule+'".');Ub=Tb[Rb.startRule]}var Si=this,Ti=function(){var a=function(){return d()},f=function(){return e()},g=function(){return c},h=b("./grammar");return new h(Si,a,f,g)}();if(Qb=Ub(),Qb!==Sb&&Li===a.length)return Qb;throw Qb!==Sb&&Li<a.length&&g({type:"end",description:"end of input"}),h(null,Qi,Pi)}return a(c,Error),{SyntaxError:c,parse:d}}()}),a.register("d4tocchini-customevent-polyfill/CustomEvent.js",function(){var a;a=function(a,b){var c;return b=b||{bubbles:!1,cancelable:!1,detail:void 0},c=document.createEvent("CustomEvent"),c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c},"undefined"!=typeof window&&(a.prototype=window.Event.prototype,window.CustomEvent=a)}),a.register("slightlyoff-cassowary.js/index.js",function(a,b,c){c.exports=b("./src/c.js"),b("./src/HashTable.js"),b("./src/HashSet.js"),b("./src/Error.js"),b("./src/SymbolicWeight.js"),b("./src/Strength.js"),b("./src/Variable.js"),b("./src/Point.js"),b("./src/Expression.js"),b("./src/Constraint.js"),b("./src/Constraint.js"),b("./src/EditInfo.js"),b("./src/Tableau.js"),b("./src/SimplexSolver.js"),b("./src/Timer.js"),b("./src/parser/parser.js"),b("./src/parser/api.js")}),a.register("slightlyoff-cassowary.js/src/c.js",function(a,b,c){!function(a){"use strict";try{(function(){}).bind(a)}catch(b){Object.defineProperty(Function.prototype,"bind",{value:function(a){var b=this;return function(){return b.apply(a,arguments)}},enumerable:!1,configurable:!0,writable:!0})}var d="undefined"!=typeof a.HTMLElement,e=function(a){for(var b=null;a&&a!=Object.prototype;){if(a.tagName){b=a.tagName;break}a=a.prototype}return b||"div"},f=1e-8,g={},h=function(a,b){if(a&&b){if("function"==typeof a[b])return a[b];var c=a.prototype;if(c&&"function"==typeof c[b])return c[b];if(c!==Object.prototype&&c!==Function.prototype)return"function"==typeof a.__super__?h(a.__super__,b):void 0}},i=a.c=function(){return i._api?i._api.apply(this,arguments):void 0};i.debug=!1,i.trace=!1,i.verbose=!1,i.traceAdded=!1,i.GC=!1,i.GEQ=1,i.LEQ=2,i.inherit=function(b){var c=null,f=null;b["extends"]&&(f=b["extends"],delete b["extends"]),b.initialize&&(c=b.initialize,delete b.initialize);var h=c||function(){};Object.defineProperty(h,"__super__",{value:f?f:Object,enumerable:!1,configurable:!0,writable:!1}),b._t&&(g[b._t]=h);var j=h.prototype=Object.create(f?f.prototype:Object.prototype);if(i.extend(j,b),d&&f&&f.prototype instanceof a.HTMLElement){var k=h,l=e(j),m=function(a){return a.__proto__=j,k.apply(a,arguments),j.created&&a.created(),j.decorate&&a.decorate(),a};this.extend(j,{upgrade:m}),h=function(){return m(a.document.createElement(l))},h.prototype=j,this.extend(h,{ctor:k})}return h},i.own=function(b,c,d){return Object.getOwnPropertyNames(b).forEach(c,d||a),b},i.extend=function(a,b){return i.own(b,function(c){var d=Object.getOwnPropertyDescriptor(b,c);try{"function"==typeof d.get||"function"==typeof d.set?Object.defineProperty(a,c,d):"function"==typeof d.value||"_"===c.charAt(0)?(d.writable=!0,d.configurable=!0,d.enumerable=!1,Object.defineProperty(a,c,d)):a[c]=b[c]}catch(e){}}),a},i.traceprint=function(a){i.verbose&&console.log(a)},i.fnenterprint=function(a){console.log("* "+a)},i.fnexitprint=function(a){console.log("- "+a)},i.assert=function(a,b){if(!a)throw new i.InternalError("Assertion failed: "+b)};var j=function(a){return"number"==typeof a?i.Expression.fromConstant(a):a instanceof i.Variable?i.Expression.fromVariable(a):a};i.plus=function(a,b){return a=j(a),b=j(b),a.plus(b)},i.minus=function(a,b){return a=j(a),b=j(b),a.minus(b)},i.times=function(a,b){return a=j(a),b=j(b),a.times(b)},i.divide=function(a,b){return a=j(a),b=j(b),a.divide(b)},i.approx=function(a,b){return a===b?!0:(a=+a,b=+b,0==a?Math.abs(b)<f:0==b?Math.abs(a)<f:Math.abs(a-b)<Math.abs(a)*f)};var k=1;i._inc=function(){return k++},i.parseJSON=function(a){return JSON.parse(a,function(a,b){if("object"!=typeof b||"string"!=typeof b._t)return b;var c=b._t,d=g[c];if(c&&d){var e=h(d,"fromJSON");if(e)return e(b,d)}return b})},"function"==typeof define&&define.amd?define(i):"object"==typeof c&&c.exports?c.exports=i:a.c=i}(this)}),a.register("slightlyoff-cassowary.js/src/HashTable.js",function(a,b,c){!function(a){"use strict";var b=function(a,b){Object.keys(a).forEach(function(c){b[c]=a[c]})},c={};a.HashTable=a.inherit({initialize:function(){this.size=0,this._store={},this._keyStrMap={},this._deleted=0},set:function(a,b){var c=a.hashCode;"undefined"==typeof this._store[c]&&this.size++,this._store[c]=b,this._keyStrMap[c]=a},get:function(a){if(!this.size)return null;a=a.hashCode;var b=this._store[a];return"undefined"!=typeof b?this._store[a]:null},clear:function(){this.size=0,this._store={},this._keyStrMap={}},_compact:function(){var a={};b(this._store,a),this._store=a},_compactThreshold:100,_perhapsCompact:function(){this._size>30||this._deleted>this._compactThreshold&&(this._compact(),this._deleted=0)},"delete":function(a){a=a.hashCode,this._store.hasOwnProperty(a)&&(this._deleted++,delete this._store[a],this.size>0&&this.size--)},each:function(a,b){if(this.size){this._perhapsCompact();var c=this._store,d=this._keyStrMap;for(var e in this._store)this._store.hasOwnProperty(e)&&a.call(b||null,d[e],c[e])}},escapingEach:function(a,b){if(this.size){this._perhapsCompact();for(var d=this,e=this._store,f=this._keyStrMap,g=c,h=Object.keys(e),i=0;i<h.length;i++)if(function(c){d._store.hasOwnProperty(c)&&(g=a.call(b||null,f[c],e[c]))}(h[i]),g){if(void 0!==g.retval)return g;if(g.brk)break}}},clone:function(){var c=new a.HashTable;return this.size&&(c.size=this.size,b(this._store,c._store),b(this._keyStrMap,c._keyStrMap)),c},equals:function(b){if(b===this)return!0;if(!(b instanceof a.HashTable)||b._size!==this._size)return!1;for(var c=Object.keys(this._store),d=0;d<c.length;d++){var e=c[d];if(this._keyStrMap[e]!==b._keyStrMap[e]||this._store[e]!==b._store[e])return!1}return!0},toString:function(){var a="";return this.each(function(b,c){a+=b+" => "+c+"\n"}),a}})}(this.c||c.parent.exports||{})}),a.register("slightlyoff-cassowary.js/src/HashSet.js",function(a,b,c){!function(a){"use strict";a.HashSet=a.inherit({_t:"c.HashSet",initialize:function(){this.storage=[],this.size=0,this.hashCode=a._inc()},add:function(a){{var b=this.storage;
b.indexOf(a)}-1==b.indexOf(a)&&(b[b.length]=a),this.size=this.storage.length},values:function(){return this.storage},has:function(a){var b=this.storage;return-1!=b.indexOf(a)},"delete":function(a){var b=this.storage.indexOf(a);return-1==b?null:(this.storage.splice(b,1)[0],void(this.size=this.storage.length))},clear:function(){this.storage.length=0},each:function(a,b){this.size&&this.storage.forEach(a,b)},escapingEach:function(a,b){this.size&&this.storage.forEach(a,b)},toString:function(){var a=this.size+" {",b=!0;return this.each(function(c){b?b=!1:a+=", ",a+=c}),a+="}\n"},toJSON:function(){var a=[];return this.each(function(b){a[a.length]=b.toJSON()}),{_t:"c.HashSet",data:a}},fromJSON:function(b){var c=new a.HashSet;return b.data&&(c.size=b.data.length,c.storage=b.data),c}})}(this.c||c.parent.exports||{})}),a.register("slightlyoff-cassowary.js/src/Error.js",function(a,b,c){!function(a){"use strict";a.Error=a.inherit({initialize:function(a){a&&(this._description=a)},_name:"c.Error",_description:"An error has occured in Cassowary",set description(a){this._description=a},get description(){return"("+this._name+") "+this._description},get message(){return this.description},toString:function(){return this.description}});var b=function(b,c){return a.inherit({"extends":a.Error,initialize:function(){a.Error.apply(this,arguments)},_name:b||"",_description:c||""})};a.ConstraintNotFound=b("c.ConstraintNotFound","Tried to remove a constraint never added to the tableu"),a.InternalError=b("c.InternalError"),a.NonExpression=b("c.NonExpression","The resulting expression would be non"),a.NotEnoughStays=b("c.NotEnoughStays","There are not enough stays to give specific values to every variable"),a.RequiredFailure=b("c.RequiredFailure","A required constraint cannot be satisfied"),a.TooDifficult=b("c.TooDifficult","The constraints are too difficult to solve")}(this.c||c.parent.exports||{})}),a.register("slightlyoff-cassowary.js/src/SymbolicWeight.js",function(a,b,c){!function(a){"use strict";var b=1e3;a.SymbolicWeight=a.inherit({_t:"c.SymbolicWeight",initialize:function(){this.value=0;for(var a=1,c=arguments.length-1;c>=0;--c)this.value+=arguments[c]*a,a*=b},toJSON:function(){return{_t:this._t,value:this.value}}})}(this.c||c.parent.exports||{})}),a.register("slightlyoff-cassowary.js/src/Strength.js",function(a,b,c){!function(a){a.Strength=a.inherit({initialize:function(b,c,d,e){this.name=b,this.symbolicWeight=c instanceof a.SymbolicWeight?c:new a.SymbolicWeight(c,d,e)},get required(){return this===a.Strength.required},toString:function(){return this.name+(this.isRequired?"":":"+this.symbolicWeight)}}),a.Strength.required=new a.Strength("<Required>",1e3,1e3,1e3),a.Strength.strong=new a.Strength("strong",1,0,0),a.Strength.medium=new a.Strength("medium",0,1,0),a.Strength.weak=new a.Strength("weak",0,0,1)}(this.c||("undefined"!=typeof c?c.parent.exports.c:{}))}),a.register("slightlyoff-cassowary.js/src/Variable.js",function(a,b,c){!function(a){"use strict";a.AbstractVariable=a.inherit({isDummy:!1,isExternal:!1,isPivotable:!1,isRestricted:!1,_init:function(b,c){this.hashCode=a._inc(),this.name=(c||"")+this.hashCode,b&&("undefined"!=typeof b.name&&(this.name=b.name),"undefined"!=typeof b.value&&(this.value=b.value),"undefined"!=typeof b.prefix&&(this._prefix=b.prefix))},_prefix:"",name:"",value:0,valueOf:function(){return this.value},toJSON:function(){var a={};return this._t&&(a._t=this._t),this.name&&(a.name=this.name),"undefined"!=typeof this.value&&(a.value=this.value),this._prefix&&(a._prefix=this._prefix),this._t&&(a._t=this._t),a},fromJSON:function(b,c){var d=new c;return a.extend(d,b),d},toString:function(){return this._prefix+"["+this.name+":"+this.value+"]"}}),a.Variable=a.inherit({_t:"c.Variable","extends":a.AbstractVariable,initialize:function(b){this._init(b,"v");var c=a.Variable._map;c&&(c[this.name]=this)},isExternal:!0}),a.DummyVariable=a.inherit({_t:"c.DummyVariable","extends":a.AbstractVariable,initialize:function(a){this._init(a,"d")},isDummy:!0,isRestricted:!0,value:"dummy"}),a.ObjectiveVariable=a.inherit({_t:"c.ObjectiveVariable","extends":a.AbstractVariable,initialize:function(a){this._init(a,"o")},value:"obj"}),a.SlackVariable=a.inherit({_t:"c.SlackVariable","extends":a.AbstractVariable,initialize:function(a){this._init(a,"s")},isPivotable:!0,isRestricted:!0,value:"slack"})}(this.c||c.parent.exports||{})}),a.register("slightlyoff-cassowary.js/src/Point.js",function(a,b,c){!function(a){"use strict";a.Point=a.inherit({initialize:function(b,c,d){if(b instanceof a.Variable)this._x=b;else{var e={value:b};d&&(e.name="x"+d),this._x=new a.Variable(e)}if(c instanceof a.Variable)this._y=c;else{var f={value:c};d&&(f.name="y"+d),this._y=new a.Variable(f)}},get x(){return this._x},set x(b){b instanceof a.Variable?this._x=b:this._x.value=b},get y(){return this._y},set y(b){b instanceof a.Variable?this._y=b:this._y.value=b},toString:function(){return"("+this.x+", "+this.y+")"}})}(this.c||c.parent.exports||{})}),a.register("slightlyoff-cassowary.js/src/Expression.js",function(a,b,c){!function(a){"use strict";var b=function(a,b){return"number"==typeof a?a:b};a.Expression=a.inherit({initialize:function(c,d,e){this.constant=b(e,0),this.terms=new a.HashTable,c instanceof a.AbstractVariable?(d=b(d,1),this.setVariable(c,d)):"number"==typeof c&&(isNaN(c)?console.trace():this.constant=c)},initializeFromHash:function(b,c){return a.verbose&&(console.log("*******************************"),console.log("clone c.initializeFromHash"),console.log("*******************************")),a.GC&&console.log("clone c.Expression"),this.constant=b,this.terms=c.clone(),this},multiplyMe:function(a){this.constant*=a;var b=this.terms;return b.each(function(c,d){b.set(c,d*a)}),this},clone:function(){a.verbose&&(console.log("*******************************"),console.log("clone c.Expression"),console.log("*******************************"));var b=a.Expression.empty();return b.initializeFromHash(this.constant,this.terms),b},times:function(b){if("number"==typeof b)return this.clone().multiplyMe(b);if(this.isConstant)return b.times(this.constant);if(b.isConstant)return this.times(b.constant);throw new a.NonExpression},plus:function(b){return b instanceof a.Expression?this.clone().addExpression(b,1):b instanceof a.Variable?this.clone().addVariable(b,1):void 0},minus:function(b){return b instanceof a.Expression?this.clone().addExpression(b,-1):b instanceof a.Variable?this.clone().addVariable(b,-1):void 0},divide:function(b){if("number"==typeof b){if(a.approx(b,0))throw new a.NonExpression;return this.times(1/b)}if(b instanceof a.Expression){if(!b.isConstant)throw new a.NonExpression;return this.times(1/b.constant)}},addExpression:function(c,d,e,f){return c instanceof a.AbstractVariable&&(c=a.Expression.fromVariable(c)),d=b(d,1),this.constant+=d*c.constant,c.terms.each(function(a,b){this.addVariable(a,b*d,e,f)},this),this},addVariable:function(b,c,d,e){null==c&&(c=1);var f=this.terms.get(b);if(f){var g=f+c;0==g||a.approx(g,0)?(e&&e.noteRemovedVariable(b,d),this.terms.delete(b)):this.setVariable(b,g)}else a.approx(c,0)||(this.setVariable(b,c),e&&e.noteAddedVariable(b,d));return this},setVariable:function(a,b){return this.terms.set(a,b),this},anyPivotableVariable:function(){if(this.isConstant)throw new a.InternalError("anyPivotableVariable called on a constant");var b=this.terms.escapingEach(function(a){return a.isPivotable?{retval:a}:void 0});return b&&void 0!==b.retval?b.retval:null},substituteOut:function(b,c,d,e){var f=(this.setVariable.bind(this),this.terms),g=f.get(b);f.delete(b),this.constant+=g*c.constant,c.terms.each(function(b,c){var h=f.get(b);if(h){var i=h+g*c;a.approx(i,0)?(e.noteRemovedVariable(b,d),f.delete(b)):f.set(b,i)}else f.set(b,g*c),e&&e.noteAddedVariable(b,d)})},changeSubject:function(a,b){this.setVariable(a,this.newSubject(b))},newSubject:function(a){var b=1/this.terms.get(a);return this.terms.delete(a),this.multiplyMe(-b),b},coefficientFor:function(a){return this.terms.get(a)||0},get isConstant(){return 0==this.terms.size},toString:function(){var b="",c=!1;if(!a.approx(this.constant,0)||this.isConstant){if(b+=this.constant,this.isConstant)return b;c=!0}return this.terms.each(function(a,d){c&&(b+=" + "),b+=d+"*"+a,c=!0}),b},equals:function(b){return b===this?!0:b instanceof a.Expression&&b.constant===this.constant&&b.terms.equals(this.terms)},Plus:function(a,b){return a.plus(b)},Minus:function(a,b){return a.minus(b)},Times:function(a,b){return a.times(b)},Divide:function(a,b){return a.divide(b)}}),a.Expression.empty=function(){return new a.Expression(void 0,1,0)},a.Expression.fromConstant=function(b){return new a.Expression(b)},a.Expression.fromValue=function(b){return b=+b,new a.Expression(void 0,b,0)},a.Expression.fromVariable=function(b){return new a.Expression(b,1,0)}}(this.c||c.parent.exports||{})}),a.register("slightlyoff-cassowary.js/src/Constraint.js",function(a,b,c){!function(a){"use strict";a.AbstractConstraint=a.inherit({initialize:function(b,c){this.hashCode=a._inc(),this.strength=b||a.Strength.required,this.weight=c||1},isEditConstraint:!1,isInequality:!1,isStayConstraint:!1,get required(){return this.strength===a.Strength.required},toString:function(){return this.strength+" {"+this.weight+"} ("+this.expression+")"}});var b=a.AbstractConstraint.prototype.toString,c=function(b,c,d){a.AbstractConstraint.call(this,c||a.Strength.strong,d),this.variable=b,this.expression=new a.Expression(b,-1,b.value)};a.EditConstraint=a.inherit({"extends":a.AbstractConstraint,initialize:function(){c.apply(this,arguments)},isEditConstraint:!0,toString:function(){return"edit:"+b.call(this)}}),a.StayConstraint=a.inherit({"extends":a.AbstractConstraint,initialize:function(){c.apply(this,arguments)},isStayConstraint:!0,toString:function(){return"stay:"+b.call(this)}});var d=a.Constraint=a.inherit({"extends":a.AbstractConstraint,initialize:function(b,c,d){a.AbstractConstraint.call(this,c,d),this.expression=b}});a.Inequality=a.inherit({"extends":a.Constraint,_cloneOrNewCle:function(b){return b.clone?b.clone():new a.Expression(b)},initialize:function(b,c,e,f,g){var h=b instanceof a.Expression,i=e instanceof a.Expression,j=b instanceof a.AbstractVariable,k=e instanceof a.AbstractVariable,l="number"==typeof b,m="number"==typeof e;if((h||l)&&k){var n=b,o=c,p=e,q=f,r=g;if(d.call(this,this._cloneOrNewCle(n),q,r),o==a.LEQ)this.expression.multiplyMe(-1),this.expression.addVariable(p);else{if(o!=a.GEQ)throw new a.InternalError("Invalid operator in c.Inequality constructor");this.expression.addVariable(p,-1)}}else if(j&&(i||m)){var n=e,o=c,p=b,q=f,r=g;if(d.call(this,this._cloneOrNewCle(n),q,r),o==a.GEQ)this.expression.multiplyMe(-1),this.expression.addVariable(p);else{if(o!=a.LEQ)throw new a.InternalError("Invalid operator in c.Inequality constructor");this.expression.addVariable(p,-1)}}else{if(h&&m){var s=b,o=c,t=e,q=f,r=g;if(d.call(this,this._cloneOrNewCle(s),q,r),o==a.LEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(t));else{if(o!=a.GEQ)throw new a.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(t),-1)}return this}if(l&&i){var s=e,o=c,t=b,q=f,r=g;if(d.call(this,this._cloneOrNewCle(s),q,r),o==a.GEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(t));else{if(o!=a.LEQ)throw new a.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(t),-1)}return this}if(h&&i){var s=b,o=c,t=e,q=f,r=g;if(d.call(this,this._cloneOrNewCle(t),q,r),o==a.GEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(s));else{if(o!=a.LEQ)throw new a.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(s),-1)}}else{if(h)return d.call(this,b,c,e);if(c==a.GEQ)d.call(this,new a.Expression(e),f,g),this.expression.multiplyMe(-1),this.expression.addVariable(b);else{if(c!=a.LEQ)throw new a.InternalError("Invalid operator in c.Inequality constructor");d.call(this,new a.Expression(e),f,g),this.expression.addVariable(b,-1)}}}},isInequality:!0,toString:function(){return d.prototype.toString.call(this)+" >= 0) id: "+this.hashCode}}),a.Equation=a.inherit({"extends":a.Constraint,initialize:function(b,c,e,f){if(b instanceof a.Expression&&!c||c instanceof a.Strength)d.call(this,b,c,e);else if(b instanceof a.AbstractVariable&&c instanceof a.Expression){var g=b,h=c,i=e,j=f;d.call(this,h.clone(),i,j),this.expression.addVariable(g,-1)}else if(b instanceof a.AbstractVariable&&"number"==typeof c){var g=b,k=c,i=e,j=f;d.call(this,new a.Expression(k),i,j),this.expression.addVariable(g,-1)}else if(b instanceof a.Expression&&c instanceof a.AbstractVariable){var h=b,g=c,i=e,j=f;d.call(this,h.clone(),i,j),this.expression.addVariable(g,-1)}else{if(!(b instanceof a.Expression||b instanceof a.AbstractVariable||"number"==typeof b)||!(c instanceof a.Expression||c instanceof a.AbstractVariable||"number"==typeof c))throw"Bad initializer to c.Equation";b=b instanceof a.Expression?b.clone():new a.Expression(b),c=c instanceof a.Expression?c.clone():new a.Expression(c),d.call(this,b,e,f),this.expression.addExpression(c,-1)}a.assert(this.strength instanceof a.Strength,"_strength not set")},toString:function(){return d.prototype.toString.call(this)+" = 0)"}})}(this.c||c.parent.exports||{})}),a.register("slightlyoff-cassowary.js/src/EditInfo.js",function(a,b,c){!function(a){"use strict";a.EditInfo=a.inherit({initialize:function(a,b,c,d,e){this.constraint=a,this.editPlus=b,this.editMinus=c,this.prevEditConstant=d,this.index=e},toString:function(){return"<cn="+this.constraint+", ep="+this.editPlus+", em="+this.editMinus+", pec="+this.prevEditConstant+", index="+this.index+">"}})}(this.c||c.parent.exports||{})}),a.register("slightlyoff-cassowary.js/src/Tableau.js",function(a,b,c){!function(a){"use strict";a.Tableau=a.inherit({initialize:function(){this.columns=new a.HashTable,this.rows=new a.HashTable,this._infeasibleRows=new a.HashSet,this._externalRows=new a.HashSet,this._externalParametricVars=new a.HashSet},noteRemovedVariable:function(b,c){a.trace&&console.log("c.Tableau::noteRemovedVariable: ",b,c);var d=this.columns.get(b);c&&d&&d.delete(c)},noteAddedVariable:function(a,b){b&&this.insertColVar(a,b)},getInternalInfo:function(){var a="Tableau Information:\n";return a+="Rows: "+this.rows.size,a+=" (= "+(this.rows.size-1)+" constraints)",a+="\nColumns: "+this.columns.size,a+="\nInfeasible Rows: "+this._infeasibleRows.size,a+="\nExternal basic variables: "+this._externalRows.size,a+="\nExternal parametric variables: ",a+=this._externalParametricVars.size,a+="\n"},toString:function(){var a="Tableau:\n";return this.rows.each(function(b,c){a+=b,a+=" <==> ",a+=c,a+="\n"}),a+="\nColumns:\n",a+=this.columns,a+="\nInfeasible rows: ",a+=this._infeasibleRows,a+="External basic variables: ",a+=this._externalRows,a+="External parametric variables: ",a+=this._externalParametricVars},insertColVar:function(b,c){var d=this.columns.get(b);d||(d=new a.HashSet,this.columns.set(b,d)),d.add(c)},addRow:function(b,c){a.trace&&a.fnenterprint("addRow: "+b+", "+c),this.rows.set(b,c),c.terms.each(function(a){this.insertColVar(a,b),a.isExternal&&this._externalParametricVars.add(a)},this),b.isExternal&&this._externalRows.add(b),a.trace&&a.traceprint(this.toString())},removeColumn:function(b){a.trace&&a.fnenterprint("removeColumn:"+b);var c=this.columns.get(b);c?(this.columns.delete(b),c.each(function(a){var c=this.rows.get(a);c.terms.delete(b)},this)):a.trace&&console.log("Could not find var",b,"in columns"),b.isExternal&&(this._externalRows.delete(b),this._externalParametricVars.delete(b))},removeRow:function(b){a.trace&&a.fnenterprint("removeRow:"+b);var c=this.rows.get(b);return a.assert(null!=c),c.terms.each(function(c){var d=this.columns.get(c);null!=d&&(a.trace&&console.log("removing from varset:",b),d.delete(b))},this),this._infeasibleRows.delete(b),b.isExternal&&this._externalRows.delete(b),this.rows.delete(b),a.trace&&a.fnexitprint("returning "+c),c},substituteOut:function(b,c){a.trace&&a.fnenterprint("substituteOut:"+b+", "+c),a.trace&&a.traceprint(this.toString());var d=this.columns.get(b);d.each(function(a){var d=this.rows.get(a);d.substituteOut(b,c,a,this),a.isRestricted&&d.constant<0&&this._infeasibleRows.add(a)},this),b.isExternal&&(this._externalRows.add(b),this._externalParametricVars.delete(b)),this.columns.delete(b)},columnsHasKey:function(a){return!!this.columns.get(a)}})}(this.c||c.parent.exports||{})}),a.register("slightlyoff-cassowary.js/src/SimplexSolver.js",function(a,b,c){!function(a){var b=a.Tableau,c=b.prototype,d=1e-8,e=a.Strength.weak;a.SimplexSolver=a.inherit({"extends":a.Tableau,initialize:function(){a.Tableau.call(this),this._stayMinusErrorVars=[],this._stayPlusErrorVars=[],this._errorVars=new a.HashTable,this._markerVars=new a.HashTable,this._objective=new a.ObjectiveVariable({name:"Z"}),this._editVarMap=new a.HashTable,this._editVarList=[],this._slackCounter=0,this._artificialCounter=0,this._dummyCounter=0,this.autoSolve=!0,this._needsSolving=!1,this._optimizeCount=0,this.rows.set(this._objective,a.Expression.empty()),this._editVariableStack=[0],a.trace&&a.traceprint("objective expr == "+this.rows.get(this._objective))},add:function(){for(var a=0;a<arguments.length;a++)this.addConstraint(arguments[a]);return this},_addEditConstraint:function(b,c,d){var e=this._editVarMap.size,f=c[0],g=c[1],h=new a.EditInfo(b,f,g,d,e);this._editVarMap.set(b.variable,h),this._editVarList[e]={v:b.variable,info:h}},addConstraint:function(b){a.trace&&a.fnenterprint("addConstraint: "+b);var c=new Array(2),d=new Array(1),e=this.newExpression(b,c,d);return d=d[0],this.tryAddingDirectly(e)||this.addWithArtificialVariable(e),this._needsSolving=!0,b.isEditConstraint&&this._addEditConstraint(b,c,d),this.autoSolve&&(this.optimize(this._objective),this._setExternalVariables()),this},addConstraintNoException:function(b){a.trace&&a.fnenterprint("addConstraintNoException: "+b);try{return this.addConstraint(b),!0}catch(c){return!1}},addEditVar:function(b,c,d){return a.trace&&a.fnenterprint("addEditVar: "+b+" @ "+c+" {"+d+"}"),this.addConstraint(new a.EditConstraint(b,c||a.Strength.strong,d))},beginEdit:function(){return a.assert(this._editVarMap.size>0,"_editVarMap.size > 0"),this._infeasibleRows.clear(),this._resetStayConstants(),this._editVariableStack[this._editVariableStack.length]=this._editVarMap.size,this},endEdit:function(){return a.assert(this._editVarMap.size>0,"_editVarMap.size > 0"),this.resolve(),this._editVariableStack.pop(),this.removeEditVarsTo(this._editVariableStack[this._editVariableStack.length-1]),this},removeAllEditVars:function(){return this.removeEditVarsTo(0)},removeEditVarsTo:function(b){try{for(var c=this._editVarList.length,d=b;c>d;d++)this._editVarList[d]&&this.removeConstraint(this._editVarMap.get(this._editVarList[d].v).constraint);return this._editVarList.length=b,a.assert(this._editVarMap.size==b,"_editVarMap.size == n"),this}catch(e){throw new a.InternalError("Constraint not found in removeEditVarsTo")}},addPointStays:function(b){return a.trace&&console.log("addPointStays",b),b.forEach(function(a,b){this.addStay(a.x,e,Math.pow(2,b)),this.addStay(a.y,e,Math.pow(2,b))},this),this},addStay:function(b,c,d){var f=new a.StayConstraint(b,c||e,d||1);return this.addConstraint(f)},removeConstraint:function(b){a.trace&&a.fnenterprint("removeConstraintInternal: "+b),a.trace&&a.traceprint(this.toString()),this._needsSolving=!0,this._resetStayConstants();var c=this.rows.get(this._objective),d=this._errorVars.get(b);a.trace&&a.traceprint("eVars == "+d),null!=d&&d.each(function(e){var f=this.rows.get(e);null==f?c.addVariable(e,-b.weight*b.strength.symbolicWeight.value,this._objective,this):c.addExpression(f,-b.weight*b.strength.symbolicWeight.value,this._objective,this),a.trace&&a.traceprint("now eVars == "+d)},this);var e=this._markerVars.get(b);if(this._markerVars.delete(b),null==e)throw new a.InternalError("Constraint not found in removeConstraintInternal");if(a.trace&&a.traceprint("Looking to remove var "+e),null==this.rows.get(e)){var f=this.columns.get(e);a.trace&&a.traceprint("Must pivot -- columns are "+f);var g=null,h=0;f.each(function(b){if(b.isRestricted){var c=this.rows.get(b),d=c.coefficientFor(e);if(a.trace&&a.traceprint("Marker "+e+"'s coefficient in "+c+" is "+d),0>d){var f=-c.constant/d;(null==g||h>f||a.approx(f,h)&&b.hashCode<g.hashCode)&&(h=f,g=b)}}},this),null==g&&(a.trace&&a.traceprint("exitVar is still null"),f.each(function(a){if(a.isRestricted){var b=this.rows.get(a),c=b.coefficientFor(e),d=b.constant/c;(null==g||h>d)&&(h=d,g=a)}},this)),null==g&&(0==f.size?this.removeColumn(e):f.escapingEach(function(a){return a!=this._objective?(g=a,{brk:!0}):void 0},this)),null!=g&&this.pivot(e,g)}if(null!=this.rows.get(e)){this.removeRow(e)}if(null!=d&&d.each(function(a){a!=e&&this.removeColumn(a)},this),b.isStayConstraint){if(null!=d)for(var i=0;i<this._stayPlusErrorVars.length;i++)d.delete(this._stayPlusErrorVars[i]),d.delete(this._stayMinusErrorVars[i])}else if(b.isEditConstraint){a.assert(null!=d,"eVars != null");var j=this._editVarMap.get(b.variable);this.removeColumn(j.editMinus),this._editVarMap.delete(b.variable)}return null!=d&&this._errorVars.delete(d),this.autoSolve&&(this.optimize(this._objective),this._setExternalVariables()),this},reset:function(){throw a.trace&&a.fnenterprint("reset"),new a.InternalError("reset not implemented")},resolveArray:function(b){a.trace&&a.fnenterprint("resolveArray"+b);var c=b.length;this._editVarMap.each(function(a,d){var e=d.index;c>e&&this.suggestValue(a,b[e])},this),this.resolve()},resolvePair:function(a,b){this.suggestValue(this._editVarList[0].v,a),this.suggestValue(this._editVarList[1].v,b),this.resolve()},resolve:function(){a.trace&&a.fnenterprint("resolve()"),this.dualOptimize(),this._setExternalVariables(),this._infeasibleRows.clear(),this._resetStayConstants()},suggestValue:function(b,c){a.trace&&console.log("suggestValue("+b+", "+c+")");var d=this._editVarMap.get(b);if(!d)throw new a.Error("suggestValue for variable "+b+", but var is not an edit variable");var e=c-d.prevEditConstant;return d.prevEditConstant=c,this.deltaEditConstant(e,d.editPlus,d.editMinus),this},solve:function(){return this._needsSolving&&(this.optimize(this._objective),this._setExternalVariables()),this},setEditedValue:function(b,c){if(!this.columnsHasKey(b)&&null==this.rows.get(b))return b.value=c,this;if(!a.approx(c,b.value)){this.addEditVar(b),this.beginEdit();try{this.suggestValue(b,c)}catch(d){throw new a.InternalError("Error in setEditedValue")}this.endEdit()}return this},addVar:function(b){if(!this.columnsHasKey(b)&&null==this.rows.get(b)){try{this.addStay(b)}catch(c){throw new a.InternalError("Error in addVar -- required failure is impossible")}a.trace&&a.traceprint("added initial stay on "+b)}return this},getInternalInfo:function(){var a=c.getInternalInfo.call(this);return a+="\nSolver info:\n",a+="Stay Error Variables: ",a+=this._stayPlusErrorVars.length+this._stayMinusErrorVars.length,a+=" ("+this._stayPlusErrorVars.length+" +, ",a+=this._stayMinusErrorVars.length+" -)\n",a+="Edit Variables: "+this._editVarMap.size,a+="\n"},getDebugInfo:function(){return this.toString()+this.getInternalInfo()+"\n"},toString:function(){var a=c.getInternalInfo.call(this);return a+="\n_stayPlusErrorVars: ",a+="["+this._stayPlusErrorVars+"]",a+="\n_stayMinusErrorVars: ",a+="["+this._stayMinusErrorVars+"]",a+="\n",a+="_editVarMap:\n"+this._editVarMap,a+="\n"},addWithArtificialVariable:function(b){a.trace&&a.fnenterprint("addWithArtificialVariable: "+b);var c=new a.SlackVariable({value:++this._artificialCounter,prefix:"a"}),d=new a.ObjectiveVariable({name:"az"}),e=b.clone();a.trace&&a.traceprint("before addRows:\n"+this),this.addRow(d,e),this.addRow(c,b),a.trace&&a.traceprint("after addRows:\n"+this),this.optimize(d);var f=this.rows.get(d);if(a.trace&&a.traceprint("azTableauRow.constant == "+f.constant),!a.approx(f.constant,0))throw this.removeRow(d),this.removeColumn(c),new a.RequiredFailure;var g=this.rows.get(c);if(null!=g){if(g.isConstant)return this.removeRow(c),void this.removeRow(d);var h=g.anyPivotableVariable();this.pivot(h,c)}a.assert(null==this.rows.get(c),"rowExpression(av) == null"),this.removeColumn(c),this.removeRow(d)},tryAddingDirectly:function(b){a.trace&&a.fnenterprint("tryAddingDirectly: "+b);var c=this.chooseSubject(b);return null==c?(a.trace&&a.fnexitprint("returning false"),!1):(b.newSubject(c),this.columnsHasKey(c)&&this.substituteOut(c,b),this.addRow(c,b),a.trace&&a.fnexitprint("returning true"),!0)},chooseSubject:function(b){a.trace&&a.fnenterprint("chooseSubject: "+b);var c=null,d=!1,e=!1,f=b.terms,g=f.escapingEach(function(a,b){if(d){if(!a.isRestricted&&!this.columnsHasKey(a))return{retval:a}}else if(a.isRestricted){if(!e&&!a.isDummy&&0>b){var f=this.columns.get(a);(null==f||1==f.size&&this.columnsHasKey(this._objective))&&(c=a,e=!0)}}else c=a,d=!0},this);if(g&&void 0!==g.retval)return g.retval;if(null!=c)return c;var h=0,g=f.escapingEach(function(a,b){return a.isDummy?void(this.columnsHasKey(a)||(c=a,h=b)):{retval:null}},this);if(g&&void 0!==g.retval)return g.retval;if(!a.approx(b.constant,0))throw new a.RequiredFailure;return h>0&&b.multiplyMe(-1),c},deltaEditConstant:function(b,c,d){a.trace&&a.fnenterprint("deltaEditConstant :"+b+", "+c+", "+d);var e=this.rows.get(c);if(null!=e)return e.constant+=b,void(e.constant<0&&this._infeasibleRows.add(c));var f=this.rows.get(d);if(null!=f)return f.constant+=-b,void(f.constant<0&&this._infeasibleRows.add(d));var g=this.columns.get(d);g||console.log("columnVars is null -- tableau is:\n"+this),g.each(function(a){var c=this.rows.get(a),e=c.coefficientFor(d);c.constant+=e*b,a.isRestricted&&c.constant<0&&this._infeasibleRows.add(a)},this)},dualOptimize:function(){a.trace&&a.fnenterprint("dualOptimize:");for(var b=this.rows.get(this._objective);this._infeasibleRows.size;){var c=this._infeasibleRows.values()[0];this._infeasibleRows.delete(c);var d=null,e=this.rows.get(c);if(e&&e.constant<0){var f,g=Number.MAX_VALUE,h=e.terms;if(h.each(function(c,e){if(e>0&&c.isPivotable){var h=b.coefficientFor(c);f=h/e,(g>f||a.approx(f,g)&&c.hashCode<d.hashCode)&&(d=c,g=f)}}),g==Number.MAX_VALUE)throw new a.InternalError("ratio == nil (MAX_VALUE) in dualOptimize");this.pivot(d,c)}}},newExpression:function(b,c,d){a.trace&&(a.fnenterprint("newExpression: "+b),a.traceprint("cn.isInequality == "+b.isInequality),a.traceprint("cn.required == "+b.required));var e=b.expression,f=a.Expression.fromConstant(e.constant),g=new a.SlackVariable,h=new a.DummyVariable,i=new a.SlackVariable,j=new a.SlackVariable,k=e.terms;if(k.each(function(a,b){var c=this.rows.get(a);c?f.addExpression(c,b):f.addVariable(a,b)},this),b.isInequality){if(a.trace&&a.traceprint("Inequality, adding slack"),++this._slackCounter,g=new a.SlackVariable({value:this._slackCounter,prefix:"s"}),f.setVariable(g,-1),this._markerVars.set(b,g),!b.required){++this._slackCounter,i=new a.SlackVariable({value:this._slackCounter,prefix:"em"}),f.setVariable(i,1);var l=this.rows.get(this._objective);l.setVariable(i,b.strength.symbolicWeight.value*b.weight),this.insertErrorVar(b,i),this.noteAddedVariable(i,this._objective)}}else if(b.required)a.trace&&a.traceprint("Equality, required"),++this._dummyCounter,h=new a.DummyVariable({value:this._dummyCounter,prefix:"d"}),c[0]=h,c[1]=h,d[0]=e.constant,f.setVariable(h,1),this._markerVars.set(b,h),a.trace&&a.traceprint("Adding dummyVar == d"+this._dummyCounter);else{a.trace&&a.traceprint("Equality, not required"),++this._slackCounter,j=new a.SlackVariable({value:this._slackCounter,prefix:"ep"}),i=new a.SlackVariable({value:this._slackCounter,prefix:"em"}),f.setVariable(j,-1),f.setVariable(i,1),this._markerVars.set(b,j);var l=this.rows.get(this._objective);a.trace&&console.log(l);var m=b.strength.symbolicWeight.value*b.weight;0==m&&(a.trace&&a.traceprint("cn == "+b),a.trace&&a.traceprint("adding "+j+" and "+i+" with swCoeff == "+m)),l.setVariable(j,m),this.noteAddedVariable(j,this._objective),l.setVariable(i,m),this.noteAddedVariable(i,this._objective),this.insertErrorVar(b,i),this.insertErrorVar(b,j),b.isStayConstraint?(this._stayPlusErrorVars[this._stayPlusErrorVars.length]=j,this._stayMinusErrorVars[this._stayMinusErrorVars.length]=i):b.isEditConstraint&&(c[0]=j,c[1]=i,d[0]=e.constant)}return f.constant<0&&f.multiplyMe(-1),a.trace&&a.fnexitprint("returning "+f),f},optimize:function(b){a.trace&&a.fnenterprint("optimize: "+b),a.trace&&a.traceprint(this.toString()),this._optimizeCount++;var c=this.rows.get(b);a.assert(null!=c,"zRow != null");for(var e,f,g=null,h=null;;){if(e=0,f=c.terms,f.escapingEach(function(a,b){return a.isPivotable&&e>b?(e=b,g=a,{brk:1}):void 0},this),e>=-d)return;a.trace&&console.log("entryVar:",g,"objectiveCoeff:",e);var i=Number.MAX_VALUE,j=this.columns.get(g),k=0;if(j.each(function(b){if(a.trace&&a.traceprint("Checking "+b),b.isPivotable){var c=this.rows.get(b),d=c.coefficientFor(g);a.trace&&a.traceprint("pivotable, coeff = "+d),0>d&&(k=-c.constant/d,(i>k||a.approx(k,i)&&b.hashCode<h.hashCode)&&(i=k,h=b))}},this),i==Number.MAX_VALUE)throw new a.InternalError("Objective function is unbounded in optimize");this.pivot(g,h),a.trace&&a.traceprint(this.toString())}},pivot:function(b,c){a.trace&&console.log("pivot: ",b,c);var d=!1;d&&console.time(" SimplexSolver::pivot"),null==b&&console.warn("pivot: entryVar == null"),null==c&&console.warn("pivot: exitVar == null"),d&&console.time("  removeRow");var e=this.removeRow(c);d&&console.timeEnd("  removeRow"),d&&console.time("  changeSubject"),e.changeSubject(c,b),d&&console.timeEnd("  changeSubject"),d&&console.time("  substituteOut"),this.substituteOut(b,e),d&&console.timeEnd("  substituteOut"),d&&console.time("  addRow"),this.addRow(b,e),d&&console.timeEnd("  addRow"),d&&console.timeEnd(" SimplexSolver::pivot")},_resetStayConstants:function(){a.trace&&console.log("_resetStayConstants");for(var b=this._stayPlusErrorVars,c=b.length,d=0;c>d;d++){var e=this.rows.get(b[d]);null===e&&(e=this.rows.get(this._stayMinusErrorVars[d])),null!=e&&(e.constant=0)}},_setExternalVariables:function(){a.trace&&a.fnenterprint("_setExternalVariables:"),a.trace&&a.traceprint(this.toString());var b={};this._externalParametricVars.each(function(c){null!=this.rows.get(c)?a.trace&&console.log("Error: variable"+c+" in _externalParametricVars is basic"):(c.value=0,b[c.name]=0)},this),this._externalRows.each(function(a){var c=this.rows.get(a);a.value!=c.constant&&(a.value=c.constant,b[a.name]=c.constant)},this),this._changed=b,this._needsSolving=!1,this._informCallbacks(),this.onsolved()},onsolved:function(){},_informCallbacks:function(){if(this._callbacks){var a=this._changed;this._callbacks.forEach(function(b){b(a)})}},_addCallback:function(a){var b=this._callbacks||(this._callbacks=[]);b[b.length]=a},insertErrorVar:function(b,c){a.trace&&a.fnenterprint("insertErrorVar:"+b+", "+c);var d=this._errorVars.get(c);d||(d=new a.HashSet,this._errorVars.set(b,d)),d.add(c)}})}(this.c||c.parent.exports||{})}),a.register("slightlyoff-cassowary.js/src/Timer.js",function(a,b,c){!function(a){"use strict";a.Timer=a.inherit({initialize:function(){this.isRunning=!1,this._elapsedMs=0},start:function(){return this.isRunning=!0,this._startReading=new Date,this},stop:function(){return this.isRunning=!1,this._elapsedMs+=new Date-this._startReading,this},reset:function(){return this.isRunning=!1,this._elapsedMs=0,this},elapsedTime:function(){return this.isRunning?(this._elapsedMs+(new Date-this._startReading))/1e3:this._elapsedMs/1e3}})}(this.c||c.parent.exports||{})}),a.register("slightlyoff-cassowary.js/src/parser/parser.js",function(){this.c.parser=function(){function a(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'
}var b={parse:function(b,c){function d(a){O>M||(M>O&&(O=M,P=[]),P.push(a))}function e(){var a,b,c,d,e;if(d=M,e=M,a=s(),null!==a){for(b=[],c=f();null!==c;)b.push(c),c=f();null!==b?(c=s(),null!==c?a=[a,b,c]:(a=null,M=e)):(a=null,M=e)}else a=null,M=e;return null!==a&&(a=function(a,b){return b}(d,a[1])),null===a&&(M=d),a}function f(){var a,b,c,d;return c=M,d=M,a=I(),null!==a?(b=l(),null!==b?a=[a,b]:(a=null,M=d)):(a=null,M=d),null!==a&&(a=function(a,b){return b}(c,a[0])),null===a&&(M=c),a}function g(){var a;return b.length>M?(a=b.charAt(M),M++):(a=null,0===N&&d("any character")),a}function h(){var a;return/^[a-zA-Z]/.test(b.charAt(M))?(a=b.charAt(M),M++):(a=null,0===N&&d("[a-zA-Z]")),null===a&&(36===b.charCodeAt(M)?(a="$",M++):(a=null,0===N&&d('"$"')),null===a&&(95===b.charCodeAt(M)?(a="_",M++):(a=null,0===N&&d('"_"')))),a}function i(){var a;return N++,/^[\t\x0B\f \xA0\uFEFF]/.test(b.charAt(M))?(a=b.charAt(M),M++):(a=null,0===N&&d("[\\t\\x0B\\f \\xA0\\uFEFF]")),N--,0===N&&null===a&&d("whitespace"),a}function j(){var a;return/^[\n\r\u2028\u2029]/.test(b.charAt(M))?(a=b.charAt(M),M++):(a=null,0===N&&d("[\\n\\r\\u2028\\u2029]")),a}function k(){var a;return N++,10===b.charCodeAt(M)?(a="\n",M++):(a=null,0===N&&d('"\\n"')),null===a&&("\r\n"===b.substr(M,2)?(a="\r\n",M+=2):(a=null,0===N&&d('"\\r\\n"')),null===a&&(13===b.charCodeAt(M)?(a="\r",M++):(a=null,0===N&&d('"\\r"')),null===a&&(8232===b.charCodeAt(M)?(a="\u2028",M++):(a=null,0===N&&d('"\\u2028"')),null===a&&(8233===b.charCodeAt(M)?(a="\u2029",M++):(a=null,0===N&&d('"\\u2029"')))))),N--,0===N&&null===a&&d("end of line"),a}function l(){var a,c,e;return e=M,a=s(),null!==a?(59===b.charCodeAt(M)?(c=";",M++):(c=null,0===N&&d('";"')),null!==c?a=[a,c]:(a=null,M=e)):(a=null,M=e),null===a&&(e=M,a=r(),null!==a?(c=k(),null!==c?a=[a,c]:(a=null,M=e)):(a=null,M=e),null===a&&(e=M,a=s(),null!==a?(c=m(),null!==c?a=[a,c]:(a=null,M=e)):(a=null,M=e))),a}function m(){var a,c;return c=M,N++,b.length>M?(a=b.charAt(M),M++):(a=null,0===N&&d("any character")),N--,null===a?a="":(a=null,M=c),a}function n(){var a;return N++,a=o(),null===a&&(a=q()),N--,0===N&&null===a&&d("comment"),a}function o(){var a,c,e,f,h,i,j;if(h=M,"/*"===b.substr(M,2)?(a="/*",M+=2):(a=null,0===N&&d('"/*"')),null!==a){for(c=[],i=M,j=M,N++,"*/"===b.substr(M,2)?(e="*/",M+=2):(e=null,0===N&&d('"*/"')),N--,null===e?e="":(e=null,M=j),null!==e?(f=g(),null!==f?e=[e,f]:(e=null,M=i)):(e=null,M=i);null!==e;)c.push(e),i=M,j=M,N++,"*/"===b.substr(M,2)?(e="*/",M+=2):(e=null,0===N&&d('"*/"')),N--,null===e?e="":(e=null,M=j),null!==e?(f=g(),null!==f?e=[e,f]:(e=null,M=i)):(e=null,M=i);null!==c?("*/"===b.substr(M,2)?(e="*/",M+=2):(e=null,0===N&&d('"*/"')),null!==e?a=[a,c,e]:(a=null,M=h)):(a=null,M=h)}else a=null,M=h;return a}function p(){var a,c,e,f,h,i,k;if(h=M,"/*"===b.substr(M,2)?(a="/*",M+=2):(a=null,0===N&&d('"/*"')),null!==a){for(c=[],i=M,k=M,N++,"*/"===b.substr(M,2)?(e="*/",M+=2):(e=null,0===N&&d('"*/"')),null===e&&(e=j()),N--,null===e?e="":(e=null,M=k),null!==e?(f=g(),null!==f?e=[e,f]:(e=null,M=i)):(e=null,M=i);null!==e;)c.push(e),i=M,k=M,N++,"*/"===b.substr(M,2)?(e="*/",M+=2):(e=null,0===N&&d('"*/"')),null===e&&(e=j()),N--,null===e?e="":(e=null,M=k),null!==e?(f=g(),null!==f?e=[e,f]:(e=null,M=i)):(e=null,M=i);null!==c?("*/"===b.substr(M,2)?(e="*/",M+=2):(e=null,0===N&&d('"*/"')),null!==e?a=[a,c,e]:(a=null,M=h)):(a=null,M=h)}else a=null,M=h;return a}function q(){var a,c,e,f,h,i,k;if(h=M,"//"===b.substr(M,2)?(a="//",M+=2):(a=null,0===N&&d('"//"')),null!==a){for(c=[],i=M,k=M,N++,e=j(),N--,null===e?e="":(e=null,M=k),null!==e?(f=g(),null!==f?e=[e,f]:(e=null,M=i)):(e=null,M=i);null!==e;)c.push(e),i=M,k=M,N++,e=j(),N--,null===e?e="":(e=null,M=k),null!==e?(f=g(),null!==f?e=[e,f]:(e=null,M=i)):(e=null,M=i);null!==c?(e=j(),null===e&&(e=m()),null!==e?a=[a,c,e]:(a=null,M=h)):(a=null,M=h)}else a=null,M=h;return a}function r(){var a,b;for(a=[],b=i(),null===b&&(b=p(),null===b&&(b=q()));null!==b;)a.push(b),b=i(),null===b&&(b=p(),null===b&&(b=q()));return a}function s(){var a,b;for(a=[],b=i(),null===b&&(b=k(),null===b&&(b=n()));null!==b;)a.push(b),b=i(),null===b&&(b=k(),null===b&&(b=n()));return a}function t(){var a,b;return b=M,a=v(),null===a&&(a=u()),null!==a&&(a=function(a,b){return{type:"NumericLiteral",value:b}}(b,a)),null===a&&(M=b),a}function u(){var a,c,e;if(e=M,/^[0-9]/.test(b.charAt(M))?(c=b.charAt(M),M++):(c=null,0===N&&d("[0-9]")),null!==c)for(a=[];null!==c;)a.push(c),/^[0-9]/.test(b.charAt(M))?(c=b.charAt(M),M++):(c=null,0===N&&d("[0-9]"));else a=null;return null!==a&&(a=function(a,b){return parseInt(b.join(""))}(e,a)),null===a&&(M=e),a}function v(){var a,c,e,f,g;return f=M,g=M,a=u(),null!==a?(46===b.charCodeAt(M)?(c=".",M++):(c=null,0===N&&d('"."')),null!==c?(e=u(),null!==e?a=[a,c,e]:(a=null,M=g)):(a=null,M=g)):(a=null,M=g),null!==a&&(a=function(a,b){return parseFloat(b.join(""))}(f,a)),null===a&&(M=f),a}function w(){var a,c,e,f;if(f=M,/^[\-+]/.test(b.charAt(M))?(a=b.charAt(M),M++):(a=null,0===N&&d("[\\-+]")),a=null!==a?a:"",null!==a){if(/^[0-9]/.test(b.charAt(M))?(e=b.charAt(M),M++):(e=null,0===N&&d("[0-9]")),null!==e)for(c=[];null!==e;)c.push(e),/^[0-9]/.test(b.charAt(M))?(e=b.charAt(M),M++):(e=null,0===N&&d("[0-9]"));else c=null;null!==c?a=[a,c]:(a=null,M=f)}else a=null,M=f;return a}function x(){var a,b;return N++,b=M,a=y(),null!==a&&(a=function(a,b){return b}(b,a)),null===a&&(M=b),N--,0===N&&null===a&&d("identifier"),a}function y(){var a,b,c,e,f;if(N++,e=M,f=M,a=h(),null!==a){for(b=[],c=h();null!==c;)b.push(c),c=h();null!==b?a=[a,b]:(a=null,M=f)}else a=null,M=f;return null!==a&&(a=function(a,b,c){return b+c.join("")}(e,a[0],a[1])),null===a&&(M=e),N--,0===N&&null===a&&d("identifier"),a}function z(){var a,c,e,f,g,h,i;return h=M,a=x(),null!==a&&(a=function(a,b){return{type:"Variable",name:b}}(h,a)),null===a&&(M=h),null===a&&(a=t(),null===a&&(h=M,i=M,40===b.charCodeAt(M)?(a="(",M++):(a=null,0===N&&d('"("')),null!==a?(c=s(),null!==c?(e=I(),null!==e?(f=s(),null!==f?(41===b.charCodeAt(M)?(g=")",M++):(g=null,0===N&&d('")"')),null!==g?a=[a,c,e,f,g]:(a=null,M=i)):(a=null,M=i)):(a=null,M=i)):(a=null,M=i)):(a=null,M=i),null!==a&&(a=function(a,b){return b}(h,a[2])),null===a&&(M=h))),a}function A(){var a,b,c,d,e;return a=z(),null===a&&(d=M,e=M,a=B(),null!==a?(b=s(),null!==b?(c=A(),null!==c?a=[a,b,c]:(a=null,M=e)):(a=null,M=e)):(a=null,M=e),null!==a&&(a=function(a,b,c){return{type:"UnaryExpression",operator:b,expression:c}}(d,a[0],a[2])),null===a&&(M=d)),a}function B(){var a;return 43===b.charCodeAt(M)?(a="+",M++):(a=null,0===N&&d('"+"')),null===a&&(45===b.charCodeAt(M)?(a="-",M++):(a=null,0===N&&d('"-"')),null===a&&(33===b.charCodeAt(M)?(a="!",M++):(a=null,0===N&&d('"!"')))),a}function C(){var a,b,c,d,e,f,g,h,i;if(g=M,h=M,a=A(),null!==a){for(b=[],i=M,c=s(),null!==c?(d=D(),null!==d?(e=s(),null!==e?(f=A(),null!==f?c=[c,d,e,f]:(c=null,M=i)):(c=null,M=i)):(c=null,M=i)):(c=null,M=i);null!==c;)b.push(c),i=M,c=s(),null!==c?(d=D(),null!==d?(e=s(),null!==e?(f=A(),null!==f?c=[c,d,e,f]:(c=null,M=i)):(c=null,M=i)):(c=null,M=i)):(c=null,M=i);null!==b?a=[a,b]:(a=null,M=h)}else a=null,M=h;return null!==a&&(a=function(a,b,c){for(var d=b,e=0;e<c.length;e++)d={type:"MultiplicativeExpression",operator:c[e][1],left:d,right:c[e][3]};return d}(g,a[0],a[1])),null===a&&(M=g),a}function D(){var a;return 42===b.charCodeAt(M)?(a="*",M++):(a=null,0===N&&d('"*"')),null===a&&(47===b.charCodeAt(M)?(a="/",M++):(a=null,0===N&&d('"/"'))),a}function E(){var a,b,c,d,e,f,g,h,i;if(g=M,h=M,a=C(),null!==a){for(b=[],i=M,c=s(),null!==c?(d=F(),null!==d?(e=s(),null!==e?(f=C(),null!==f?c=[c,d,e,f]:(c=null,M=i)):(c=null,M=i)):(c=null,M=i)):(c=null,M=i);null!==c;)b.push(c),i=M,c=s(),null!==c?(d=F(),null!==d?(e=s(),null!==e?(f=C(),null!==f?c=[c,d,e,f]:(c=null,M=i)):(c=null,M=i)):(c=null,M=i)):(c=null,M=i);null!==b?a=[a,b]:(a=null,M=h)}else a=null,M=h;return null!==a&&(a=function(a,b,c){for(var d=b,e=0;e<c.length;e++)d={type:"AdditiveExpression",operator:c[e][1],left:d,right:c[e][3]};return d}(g,a[0],a[1])),null===a&&(M=g),a}function F(){var a;return 43===b.charCodeAt(M)?(a="+",M++):(a=null,0===N&&d('"+"')),null===a&&(45===b.charCodeAt(M)?(a="-",M++):(a=null,0===N&&d('"-"'))),a}function G(){var a,b,c,d,e,f,g,h,i;if(g=M,h=M,a=E(),null!==a){for(b=[],i=M,c=s(),null!==c?(d=H(),null!==d?(e=s(),null!==e?(f=E(),null!==f?c=[c,d,e,f]:(c=null,M=i)):(c=null,M=i)):(c=null,M=i)):(c=null,M=i);null!==c;)b.push(c),i=M,c=s(),null!==c?(d=H(),null!==d?(e=s(),null!==e?(f=E(),null!==f?c=[c,d,e,f]:(c=null,M=i)):(c=null,M=i)):(c=null,M=i)):(c=null,M=i);null!==b?a=[a,b]:(a=null,M=h)}else a=null,M=h;return null!==a&&(a=function(a,b,c){for(var d=b,e=0;e<c.length;e++)d={type:"Inequality",operator:c[e][1],left:d,right:c[e][3]};return d}(g,a[0],a[1])),null===a&&(M=g),a}function H(){var a;return"<="===b.substr(M,2)?(a="<=",M+=2):(a=null,0===N&&d('"<="')),null===a&&(">="===b.substr(M,2)?(a=">=",M+=2):(a=null,0===N&&d('">="')),null===a&&(60===b.charCodeAt(M)?(a="<",M++):(a=null,0===N&&d('"<"')),null===a&&(62===b.charCodeAt(M)?(a=">",M++):(a=null,0===N&&d('">"'))))),a}function I(){var a,c,e,f,g,h,i,j,k;if(i=M,j=M,a=G(),null!==a){for(c=[],k=M,e=s(),null!==e?("=="===b.substr(M,2)?(f="==",M+=2):(f=null,0===N&&d('"=="')),null!==f?(g=s(),null!==g?(h=G(),null!==h?e=[e,f,g,h]:(e=null,M=k)):(e=null,M=k)):(e=null,M=k)):(e=null,M=k);null!==e;)c.push(e),k=M,e=s(),null!==e?("=="===b.substr(M,2)?(f="==",M+=2):(f=null,0===N&&d('"=="')),null!==f?(g=s(),null!==g?(h=G(),null!==h?e=[e,f,g,h]:(e=null,M=k)):(e=null,M=k)):(e=null,M=k)):(e=null,M=k);null!==c?a=[a,c]:(a=null,M=j)}else a=null,M=j;return null!==a&&(a=function(a,b,c){for(var d=b,e=0;e<c.length;e++)d={type:"Equality",operator:c[e][1],left:d,right:c[e][3]};return d}(i,a[0],a[1])),null===a&&(M=i),a}function J(a){a.sort();for(var b=null,c=[],d=0;d<a.length;d++)a[d]!==b&&(c.push(a[d]),b=a[d]);return c}function K(){for(var a=1,c=1,d=!1,e=0;e<Math.max(M,O);e++){var f=b.charAt(e);"\n"===f?(d||a++,c=1,d=!1):"\r"===f||"\u2028"===f||"\u2029"===f?(a++,c=1,d=!0):(c++,d=!1)}return{line:a,column:c}}var L={start:e,Statement:f,SourceCharacter:g,IdentifierStart:h,WhiteSpace:i,LineTerminator:j,LineTerminatorSequence:k,EOS:l,EOF:m,Comment:n,MultiLineComment:o,MultiLineCommentNoLineTerminator:p,SingleLineComment:q,_:r,__:s,Literal:t,Integer:u,Real:v,SignedInteger:w,Identifier:x,IdentifierName:y,PrimaryExpression:z,UnaryExpression:A,UnaryOperator:B,MultiplicativeExpression:C,MultiplicativeOperator:D,AdditiveExpression:E,AdditiveOperator:F,InequalityExpression:G,InequalityOperator:H,LinearExpression:I};if(void 0!==c){if(void 0===L[c])throw new Error("Invalid rule name: "+a(c)+".")}else c="start";var M=0,N=0,O=0,P=[],Q=L[c]();if(null===Q||M!==b.length){var R=Math.max(M,O),S=R<b.length?b.charAt(R):null,T=K();throw new this.SyntaxError(J(P),S,R,T.line,T.column)}return Q},toSource:function(){return this._source}};return b.SyntaxError=function(b,c,d,e,f){function g(b,c){var d,e;switch(b.length){case 0:d="end of input";break;case 1:d=b[0];break;default:d=b.slice(0,b.length-1).join(", ")+" or "+b[b.length-1]}return e=c?a(c):"end of input","Expected "+d+" but "+e+" found."}this.name="SyntaxError",this.expected=b,this.found=c,this.message=g(b,c),this.offset=d,this.line=e,this.column=f},b.SyntaxError.prototype=Error.prototype,b}()}),a.register("slightlyoff-cassowary.js/src/parser/api.js",function(a,b,c){!function(a){"use strict";var b=new a.SimplexSolver,c={},d={},e=a.Strength.weak,f=(a.Strength.medium,a.Strength.strong,a.Strength.required,function(g){if(d[g])return d[g];switch(g.type){case"Inequality":var h="<="==g.operator?a.LEQ:a.GEQ,i=new a.Inequality(f(g.left),h,f(g.right),e);return b.addConstraint(i),i;case"Equality":var i=new a.Equation(f(g.left),f(g.right),e);return b.addConstraint(i),i;case"MultiplicativeExpression":var i=a.times(f(g.left),f(g.right));return b.addConstraint(i),i;case"AdditiveExpression":return"+"==g.operator?a.plus(f(g.left),f(g.right)):a.minus(f(g.left),f(g.right));case"NumericLiteral":return new a.Expression(g.value);case"Variable":return c[g.name]||(c[g.name]=new a.Variable({name:g.name})),c[g.name];case"UnaryExpression":console.log("UnaryExpression...WTF?")}}),g=function(a){return a.map(f)};a._api=function(){var c=Array.prototype.slice.call(arguments);if(1==c.length){if("string"==typeof c[0]){var d=a.parser.parse(c[0]);return g(d)}"function"==typeof c[0]&&b._addCallback(c[0])}}}(this.c||c.parent.exports||{})}),a.register("gss/lib/Engine.js",function(a,b,c){var d,e,f,g,h={}.hasOwnProperty,i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};g=b("./methods/Native"),f=b("./concepts/Events"),d=b("./concepts/Domain"),d.Events||(d.Events=g.prototype.mixin(d,f)),e=function(a){function c(){var a,b,d,e,f,g,h,i,j;for(f=i=0,j=arguments.length;j>i;f=++i)if(a=arguments[f])switch(typeof a){case"object":if(a.nodeType)if(this.Expressions)c[c.identity.provide(a)]=this,this.scope=g=a;else for(g=a;g;){if((e=c.identity.find(g))&&(d=c[e]))return d;if(!g.parentNode)break;g=g.parentNode}else b=a;break;case"string":case"boolean":h=a}return this.Expressions?(c.__super__.constructor.call(this,this,h),this.domain=this,this.properties=new this.Properties(this),this.methods=new this.Methods(this),this.expressions=new this.Expressions(this),this.precompile(),this.assumed=new this.Numeric(b),this.assumed.displayName="Assumed",this.assumed.setup(),this.solved=new this.Boolean,this.solved.displayName="Solved",this.solved.eager=!0,this.solved.setup(),this.values=this.solved.values,this.strategy="undefined"==typeof window||null===window?"substitute":this.scope?"document":"abstract",this):new c(arguments[0],arguments[1],arguments[2])}return i(c,a),c.prototype.Identity=b("./modules/Identity"),c.prototype.Expressions=b("./modules/Expressions"),c.prototype.Method=b("./concepts/Method"),c.prototype.Property=b("./concepts/Property"),c.prototype.Console=b("./concepts/Console"),c.prototype.Update=b("./concepts/Update"),c.prototype.Properties=b("./properties/Axioms"),c.prototype.Methods=g.prototype.mixin(new g,b("./methods/Conventions")),c.prototype.Domains={Abstract:b("./domains/Abstract"),Document:b("./domains/Document"),Intrinsic:b("./domains/Intrinsic"),Numeric:b("./domains/Numeric"),Linear:b("./domains/Linear"),Finite:b("./domains/Finite"),Boolean:b("./domains/Boolean")},c.prototype.events={message:function(a){var b,c,d,e,f,g;e=(f=a.target).values||(f.values={}),g=a.data;for(c in g)d=g[c],e[c]=d;return this.updating&&this.updating.busy.length?(this.updating.busy.splice(this.updating.busy.indexOf(a.target.url),1),(b=this.updating.solutions.indexOf(a.target))>-1&&(this.updating.solutions[b]=a.data),this.updating.busy.length?this.updating.apply(a.data):this.updating.each(this.resolve,this,a.data)||this.onSolve()):this.provide(a.data)},error:function(a){throw new Error(""+a.message+" ("+a.filename+":"+a.lineno+")")},destroy:function(){return this.scope&&(c[this.scope._gss_id]=void 0),this.worker?(this.worker.removeEventListener("message",this.eventHandler),this.worker.removeEventListener("error",this.eventHandler)):void 0}},c.prototype.substitute=function(a,b,c,d){var e,f,g,h,i,j;for(void 0===b&&(i=!0,b=null),g=j=a.length-1;j>=0;g=j+=-1)f=a[g],(null!=f?f.push:void 0)&&(b=this.substitute(f,b,a,g));if("remove"===a[0]&&(this.updating.push(a,null),c&&c.splice(d,1)),"value"===a[0]){if(a[4])e=c[d]=a[3].split(","),h=this.getPath(e[1],e[2]);else if(!a[3]){if(h=a[2],!c)return[];c.splice(d,1)}h&&this.assumed.values[h]!==a[1]&&((b||(b={})).hasOwnProperty(h)?null==b[h]&&delete b[h]:b[h]=a[1])}return i?(b&&this.assumed.merge(b),this.updating&&this.updating.each(this.resolve,this,b),a.length?this.provide(a):void 0):(a.length||c.splice(d,1),b)},c.prototype.solve=function(){var a,b,c,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;for("string"==typeof arguments[0]&&("string"==typeof arguments[1]?(n=arguments[0],k=arguments[1],c=2):(k=arguments[0],c=1)),b=Array.prototype.slice.call(arguments,c||0),this.running||this.compile(!0),h=void 0,c=p=0,q=b.length;q>p;c=++p)if(a=b[c],a&&"string"!=typeof a)if(h){if("function"==typeof a){this.then(a),b.splice(c,1);break}}else h=a;if("object"==typeof b[0]&&(e=n||this.displayName)&&this.console.start(k||b[0],e),(f=this.updating)||(this.engine.updating=new this.update),void 0===this.providing&&(this.providing=null,j=!0),m="function"==typeof b[0]?b.shift().apply(this,b):d.prototype.solve.apply(this,b),null!=(r=this.queries)&&r.onBeforeSolve(),null!=(s=this.pairs)&&s.onBeforeSolve(),j){for(;i=this.providing;)this.providing=null,(null!=(t=b[0])?t.index:void 0)&&(null==i.index&&(i.index=b[0].index),null==i.parent&&(i.parent=b[0].parent)),this.update(i);this.providing=void 0}return e&&this.console.end(k),o=this.updating,o.domains.length&&(f&&f!==o&&f.push(o),f&&(null!=(u=o.busy)?u.length:void 0)||o.each(this.resolve,this),null!=(v=o.busy)?v.length:void 0)?o:(g=1===o.problems.length&&null===o.domains[0],l=g||this.restyled&&!f&&!o.problems.length,this.engine!==this||!j||o.problems[o.index+1]&&!l?void 0:this.onSolve(null,l))},c.prototype.onSolve=function(a,b){var c,d,e,f,g,h,i,j;if(e=a||this.updating.solution)null!=(f=this.applier)&&f.solve(e);else if(!this.updating.reflown&&!b)return void(this.updating.problems.length||delete this.updating);return this.intrinsic&&(this.intrinsic.changes={},d=this.updating.reflown||this.scope,this.updating.reflown=void 0,null!=(g=this.intrinsic)&&g.each(d,this.intrinsic.update),this.updating.apply(this.intrinsic.changes),this.intrinsic.changes=void 0),this.solved.merge(e),null!=(h=this.pairs)&&h.onBeforeSolve(),this.updating.reset(),c={},c=this.updating.each(this.resolve,this,c),(null!=(i=this.updating.busy)?i.length:void 0)?c:c&&Object.keys(c).length?this.onSolve(c):e&&!this.updating.problems[this.updating.index+1]||1===this.updating.problems.length&&null===this.updating.domains[0]||this.engine.restyled?!this.updating.problems.length&&(null!=(j=this.updated)?j.problems.length:void 0)?void(this.updating=void 0):(this.updated=this.updating,this.updating=void 0,this.console.info("Solution	   ",this.updated,e,this.solved.values),this.triggerEvent("solve",this.updated.solution,this.updated),this.scope&&this.dispatchEvent(this.scope,"solve",this.updated.solution,this.updated),this.triggerEvent("solved",this.updated.solution,this.updated),this.scope&&this.dispatchEvent(this.scope,"solved",this.updated.solution,this.updated),this.updated.solution):void 0},c.prototype.provide=function(a){var b,c;return a.operation?this.engine.updating.provide(a):a.push?void 0===this.providing?this.update.apply(this,arguments):(this.hasOwnProperty("providing")||(b=this.engine).providing||(b.providing=[]),void(this.providing||(this.providing=[])).push(Array.prototype.slice.call(arguments,0))):(null!=(c=this.updating)?c.each(this.resolve,this,a):void 0)||this.onSolve()},c.prototype.resolve=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L;if(a&&!a.solve&&a.postMessage)return d.postMessage(a,b),d.await(a.url),a;if((c=null!=(G=d.imports)?G.indexOf(a):void 0)>-1){for(e=c,g=[];(m=d.imports[++e])&&"string"==typeof m;)-1===g.indexOf(m)&&g.push(m);for(d.imports.splice(c,e-c),u=0,y=g.length;y>u;u++)m=g[u],s=this.intrinsic.values.hasOwnProperty(m)?this.intrinsic.values[m]:(null!=(H=d.solution)?H.hasOwnProperty(m):void 0)?d.solution[m]:null!=(I=this.solution)?I[m]:void 0,null!=s&&b.push(["value",s,m])}for(c=v=0,z=b.length;z>v;c=++v)l=b[c],l instanceof Array&&1===l.length&&l[0]instanceof Array&&(l=b[c]=l[0]);if(b instanceof Array&&1===b.length&&l instanceof Array&&(b=l),a)void 0===this.providing&&(this.providing=null,n=!0),this.console.start(b,a.displayName),q=a.solve(b)||void 0,q&&q.postMessage?d.await(q.url):(n&&this.providing&&(d.push(this.update(this.frame||!0,this.providing)),d.optimize()),1===(null!=q?q.length:void 0)&&(q=q[0])),n&&(this.providing=void 0),this.console.end();else{if(j=[],p=[],"remove"===b[0])p.push(b);else for(w=0,A=b.length;A>w;w++)l=b[w],"remove"===l[0]?p.push(l):j.push(l);for(J=this.domains,f=x=0,B=J.length;B>x;f=++x){for(i=J[f],h=[],i.changes=void 0,E=0,C=p.length;C>E;E++)for(o=p[E],c=F=0,D=o.length;D>F;c=++F)k=o[c],0!==c&&(i.paths[k]?h.push(k):i.observers[k]&&i.remove(k));if(i.changes){K=i.changes;for(m in K)s=K[m],(q||(q={}))[m]=s;i.changes=void 0}h.length&&(i.remove.apply(i,h),h.unshift("remove"),d.push([h],i,!0)),j.length&&d.push(j,i)}"string"==typeof b[0]&&(b=[b]),L=this.workers;for(r in L)t=L[r],d.push(b,t)}return q},c.prototype.useWorker=function(a){var b=this;if("string"==typeof a&&"undefined"!=typeof Worker&&null!==Worker&&void 0!==self.onmessage)return this.worker=this.getWorker(a),this.worker.url=a,this.worker.addEventListener("message",this.eventHandler),this.worker.addEventListener("error",this.eventHandler),this.solve=function(a){var c;return(c=b.engine).updating||(c.updating=new b.update),b.engine.updating.postMessage(b.worker,a),b.worker},this.worker},c.prototype.getWorker=function(a){var b,d,e;return(b=(d=this.engine).workers||(d.workers={}))[a]||(b[a]=(e=c.workers||(c.workers={}))[a]||(e[a]=new Worker(a)))},c.prototype.precompile=function(){var a,b,d,e,f,g,h,i,j,k,l,m;if(void 0===this.constructor.prototype.running){j=this.Methods.prototype;for(e in j)b=j[e],(f=this.constructor.prototype)[e]||(f[e]=(g=this.constructor)[e]||(g[e]=c.prototype.Method(b,e)));this.constructor.prototype.compile()}this.Domain.compile(this.Domains,this),k=this.Domains;for(d in k)if(a=k[d],a.prototype.helps){l=a.prototype.Methods.prototype;for(e in l)b=l[e],(h=this.constructor.prototype)[e]||(h[e]=(i=this.constructor)[e]||(i[e]=c.prototype.Method(b,e,d.toLowerCase())))}return this.update=c.prototype.Update.compile(this),null!=(m=this.mutations)&&m.connect(),location.search.indexOf("export=")>-1?this.preexport():void 0},c.prototype.preexport=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=this;for(o=this.scope.getElementsByTagName("*"),g=0,k=o.length;k>g;g++)b=o[g],this.identity.provide(b);if(window.Sizes)for(this.sizes=[],p=window.Sizes,h=0,l=p.length;l>h;h++)for(e=p[h],q=e[0],i=0,m=q.length;m>i;i++)for(f=q[i],r=e[1],j=0,n=r.length;n>j;j++)c=r[j],this.sizes.push(f+"x"+c);if(d=null!=(s=location.search.match(/export=([a-z0-9]+)/))?s[1]:void 0){if(d.indexOf("x")>-1)return t=d.split("x"),f=t[0],c=t[1],a=72,f=parseInt(f)*a,c=parseInt(c)*a,window.addEventListener("load",function(){return localStorage[d]=JSON.stringify(u["export"]()),u.postexport()}),document.body.style.width=f+"px",this.intrinsic.properties["::window[height]"]=function(){return c},this.intrinsic.properties["::window[width]"]=function(){return f};if("true"===d)return localStorage.clear(),this.postexport()}},c.prototype.postexport=function(){var a,b,c,d,e,f,g;for(g=this.sizes,e=0,f=g.length;f>e;e++)if(c=g[e],!localStorage[c])return void(location.search=location.search.replace(/[&?]export=([a-z0-9])+/,"")+"?export="+c);b={};for(a in localStorage)d=localStorage[a],a.match(/^\d+x\d+$/)&&(b[a]=JSON.parse(d));return document.write(JSON.stringify(b))},c.prototype["export"]=function(){var a,b,c,d,e,f,g;f={},g=this.values;for(c in g)e=g[c],(b=c.indexOf("["))>-1&&-1===c.indexOf('"')&&(d=this.camelize(c.substring(b+1,c.length-1)),a=c.substring(0,b),("x"===d||"y"===d||void 0!==document.body.style[d])&&null==this.values[a+"[intrinsic-"+d+"]"]&&(f[c]=Math.ceil(e)));return f.stylesheets=this.stylesheets["export"](),f},c.prototype.generate=function(){},c.prototype.compile=function(a){var b,c;return b=this.methods||this.Methods.prototype,c=this.properties||this.Properties.prototype,this.Method.compile(b,this),this.Property.compile(c,this),this.running=null!=a?a:null,this.triggerEvent("compile",this)},c}(d.Events),e.identity=e.prototype.identity=new e.prototype.Identity,e.console=e.prototype.console=new e.prototype.Console,e.Engine=e,e.Domain=e.prototype.Domain=d,e.mixin=e.prototype.mixin=g.prototype.mixin,e.time=e.prototype.time=g.prototype.time,e.clone=e.prototype.clone=g.prototype.clone,self.window||void 0===self.onmessage||self.addEventListener("message",function(a){var b,c,d,f,g;c=e.messenger||(e.messenger=e()),b=c.assumed.changes={},f=c.solve(a.data)||{},c.assumed.changes=void 0;for(d in b)g=b[d],f[d]=g;return postMessage(f)}),c.exports=this.GSS=e}),a.register("gss/lib/methods/Algebra.js",function(){}),a.register("gss/lib/methods/Conventions.js",function(a,b,d){var e;e=function(){function a(){}return a.prototype.ASCEND=String.fromCharCode(8593),a.prototype.PAIR=String.fromCharCode(8594),a.prototype.DESCEND=String.fromCharCode(8595),a.prototype.getContinuation=function(a,b,c){return null==c&&(c=""),a&&(a=a.replace(this.TrimContinuationRegExp,"")),a||b?a+(b&&this.identity.provide(b)||"")+c:""},a.prototype.TrimContinuationRegExp=new RegExp("["+a.prototype.ASCEND+a.prototype.DESCEND+a.prototype.PAIR+"]$"),a.prototype.getPossibleContinuations=function(a){return[a,a+this.ASCEND,a+this.PAIR,a+this.DESCEND]},a.prototype.getPath=function(a,b){return b||(b=a,a=void 0),b.indexOf("[")>-1||!a?b:("string"!=typeof a&&(a=a.nodeType?this.identity.provide(a):a.path),a+"["+b+"]")},a.prototype.isCollection=function(a){if(a&&void 0!==a.length&&!a.substring&&!a.nodeType){if(a.isCollection)return!0;switch(typeof a[0]){case"object":return a[0].nodeType;case"undefined":return 0===a.length}}},a.prototype.getQueryPath=function(a,b){return b?b.nodeType?this.identity.provide(b)+" "+a.path:a.marked&&2===a.arity?b+a.path:b+(a.key||a.path):a.key},a.prototype.getOperationSelectors=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=this;for(g=a,j=m=d=void 0;g;){if("if"===g.name){if(g.uid&&j)for(f=n=0,r=j.length;r>n;f=++n)i=j[f],'[matches~="'!==i.substring(0,11)&&(i=this.getCustomSelector(i)),j[f]=i.substring(0,11)+g.uid+this.DESCEND+i.substring(11)}else if("rule"===g.name)if(k=g[1].path,h=","===g[1][0]?g[1].slice(1).map(function(a){return!a.marked&&a.groupped||a.path}):[g[1].path],e=null!=(v=g[1].groupped&&g[1].groupped.split(","))?v:h,null!=j?j.length:void 0){for(c=k.split(","),l=[],o=0,s=j.length;s>o;o++)if(i=j[o],'[matches~="'===i.substring(0,11))l.push(i.substring(0,11)+k+this.DESCEND+i.substring(11));else for(f=p=0,t=c.length;t>p;f=++p)b=c[f],l.push(e[f]!==b&&"::this"+e[f]!==h[f]?"::this"===i.substring(0,6)?this.getCustomSelector(k)+i.substring(6):this.getCustomSelector(k)+" "+i:"::this"===i.substring(0,6)?b+i.substring(6):b+" "+i);j=l}else j=k.split(",").map(function(a,b){return a!==e[b]&&"::this"+e[b]!==h[b]?w.getCustomSelector(k):a});g=g.parent}for(f=q=0,u=j.length;u>q;f=++q)i=j[f],"::this"===i.substring(0,6)&&(j[f]=i.substring(6)),j[f]=j[f].replace(this.CleanupSelectorRegExp,"");return j},a.prototype.CleanupSelectorRegExp=new RegExp(a.prototype.DESCEND+"::this","g"),a.prototype.getCustomSelector=function(a){return'[matches~="'+a.replace(this.CustomizeRegExp,this.DESCEND)+'"]'},a.prototype.CustomizeRegExp=/\s+/g,a.prototype.getCanonicalPath=function(a,b){var c,d;return c=this.getContinuation(a).split(this.DESCEND),d=c[c.length-1],d=c[c.length-1]=d.replace(this.CanonicalizeRegExp,"$1"),b?d:c.join(this.DESCEND)},a.prototype.CanonicalizeRegExp=new RegExp("([^"+a.prototype.PAIR+"])\\$[^"+a.prototype.ASCEND+"]+(?:"+a.prototype.ASCEND+"|$)","g"),a.prototype.getCanonicalSelector=function(a){return a=a.trim(),a=a.replace(this.CanonicalizeSelectorRegExp," ").replace(/\s+/g,this.engine.DESCEND).replace(this.CleanupSelectorRegExp,"")},a.prototype.CanonicalizeSelectorRegExp=new RegExp("[$][a-z0-9]+["+a.prototype.DESCEND+"]s*","gi"),a.prototype.getScopePath=function(a,b){var c,d,e,f,g,h;return b?(c=b.split(this.DESCEND),a&&this.scope!==a&&(d=this.identity.provide(a),h=c[c.length-2],h&&h.substring(h.length-d.length)!==d&&(f=c[c.length-1],(e=f.indexOf(d+this.ASCEND))>-1&&c.splice(c.length-1,0,f.substring(0,e+d.length)))),c[c.length-1]="",g=c.join(this.DESCEND),b.charAt(0)===this.PAIR&&(g=this.PAIR+g),g):""},a.prototype.getOperationSolution=function(a,b,c){return!a.def.serialized||a.def.hidden&&!a.parent.def.serialized?void 0:this.pairs.getSolution(a,b,c)},a.prototype.getAscendingContinuation=function(a,b){return this.engine.getContinuation(a,b,this.engine.ASCEND)},a.prototype.getDescendingContinuation=function(a,b,c){var d;return null!=c?(d=a.def.rule&&1===c&&this.engine.DESCEND||this.engine.PAIR,d?this.engine.getContinuation(b,null,d):b):void 0},a.prototype.getOperationPath=function(a,b){var c;return c=null!=b?a.def.serialized&&!a.def.hidden?a.marked&&2===a.arity?b+a.path:b+(a.key||a.path):b:a.path},a.prototype.getContext=function(a,b,c){var d,e;return d=a[0].def&&4||0,a.length!==d&&(null!=(e=a[d])?e.nodeType:void 0)?a[d]:b.bound?c:b.def.serialized&&b[1].def&&null!=a[d]?a[d]:this.scope},a.prototype.getIntrinsicProperty=function(a){var b,c,d;return b=a.indexOf("intrinsic-"),b>-1?(-1===(c=a.indexOf("]",b))&&(c=void 0),d=a.substring(b+10,c)):void 0},a.prototype.isPrimitive=function(a){return"object"==typeof a?a.valueOf!==Object.prototype.valueOf:!0},a.prototype.getOperationDomain=function(a,b){var c,d,e;if("string"==typeof a[0]){if(!b.methods[a[0]])return this.linear.maybe();for(d=0,e=a.length;e>d;d++)if(c=a[d],c.domain&&c.domain.priority>b.priority&&c.domain<0)return c.domain}return b},a.prototype.getVariableDomain=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;if(a.domain&&!b)return a.domain;if(r=m=a,d=r[0],l=r[1],k=r[2],i=this.getPath(l,k),(l||i.indexOf("[")>-1)&&k&&null!=(null!=(s=this.intrinsic)?s.properties[i]:void 0))g=this.intrinsic;else if(l&&k&&(null!=(t=this.intrinsic)?t.properties[k]:void 0)&&!this.intrinsic.properties[k].matcher)g=this.intrinsic;else for(u=this.domains,n=0,p=u.length;p>n;n++){if(f=u[n],f.values.hasOwnProperty(i)&&(f.priority>=0||f.variables[i])){g=f;break}if(f.substituted)for(v=f.substituted,o=0,q=v.length;q>o;o++)if(e=v[o],null!=(w=e.substitutions)?w[i]:void 0){g=f;break}}return g||(k&&(h=k.indexOf("-"))>-1&&(j=k.substring(0,h),(g=this[j])&&(g instanceof this.Domain||(g=void 0))),g||c||(g=this.linear.maybe())),m&&!b&&(m.domain=g),g},a.prototype.getWorkerURL=function(){var a,b,c;return"undefined"!=typeof document&&null!==document&&(a=document.getElementsByTagName("script"),b=a[a.length-1].src,(null!=(c=location.search)?c.indexOf("log=0"):void 0)>-1&&(b+=(b.indexOf("?")>-1&&"&"||"?")+"log=0")),function(a){return"string"==typeof a&&a||b}}(),a.prototype.getRootOperation=function(a,b){var c,d;for(null==b&&(b=a.domain),c=a;c.parent&&"string"==typeof c.parent[0]&&(!c.parent.def||!c.parent.def.noop&&c.domain===b);)c=c.parent;for(;(null!=(d=c.parent)?d.domain:void 0)===c.domain;)c=c.parent;return c},a}(),this.require||(this.require=function(a){var b;return"cassowary"===a?c:(b=a.replace("","").split("/"),this[b[b.length-1]])}),this.module||(this.module={}),d.exports=e}),a.register("gss/lib/methods/Native.js",function(a,b,c){var d;d=function(){function a(){}return a.prototype.camelize=function(a){return a.toLowerCase().replace(/-([a-z])/gi,function(a){return a[1].toUpperCase()})},a.prototype.dasherize=function(a){return a.replace(/[A-Z]/g,function(a){return"-"+a[0].toLowerCase()})},a.prototype.indexOfTriplet=function(a,b,c,d){var e,f,g,h;if(a)for(e=g=0,h=a.length;h>g;e=g+=3)if(f=a[e],f===b&&a[e+1]===c&&a[e+2]===d)return e;return-1},a.prototype.setImmediate="undefined"!=typeof setImmediate&&null!==setImmediate?setImmediate:setTimeout,a.prototype.mixin=function(a){var b,c,d,e,f,g,h,i,j,k,l;for(b=function(){},a.prototype?(b.prototype=new a,d=a):b.prototype=a,c=function(){var a,b,c;if(d){if(!d.push)return d.apply(this,arguments);for(b=0,c=d.length;c>b;b++)a=d[b],a.apply(this,arguments)}},c.prototype=new b,f=j=0,k=arguments.length;k>j;f=++j)if(g=arguments[f],g&&0!==f){(i=g.prototype)&&(e=g.prototype.constructor)!==Function&&(d?d.push?d.push(e):d=[d,e]:d=e),l=i||g;for(h in l)e=l[h],c.prototype[h]=e}return d&&d.push&&(c.prototype.constructor=c),c},a.prototype.time=function(a,b){return b||(b=("undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)||("function"==typeof Date.now?Date.now():void 0)||+new Date),b&&!a?b:Math.floor(100*(b-a))/100
},a.prototype.clone=function(a){return a&&a.map?a.map(this.clone,this):a},a}(),c.exports=d}),a.register("gss/lib/methods/Rules.js",function(a,b,c){var d,e,f,g,h;d=b("../concepts/Parser"),e=function(){function a(){}return a.prototype[","]={group:"$query",separator:",",serialized:!0,eager:!0,before:"onBeforeQuery",after:"onQuery",init:"onSelector",command:function(a,b,c){var d,e;return d=this.getScopePath(c,b)+a.path,this.queries.ascending&&(e=-1===this.engine.indexOfTriplet(this.queries.ascending,a,d,c),e>-1&&this.queries.ascending.splice(e,3)),this.queries[d]},capture:function(a,b,c,d){var e,f;return e=this.getScopePath(d,c)+b.parent.path,this.queries.add(a,e,b.parent,d,b,c),(f=this.queries).ascending||(f.ascending=[]),-1===this.engine.indexOfTriplet(this.queries.ascending,b.parent,e,d)&&this.queries.ascending.push(b.parent,e,d),!0},release:function(a,b,c,d){var e;return e=this.getScopePath(d,c)+b.parent.path,this.queries.remove(a,e,b.parent,d,b,void 0,c),!0}},a.prototype.rule={bound:1,solve:function(a,b,c,d,e,f){return 2!==a.index||e||null==f?void 0:(this.expressions.solve(a,b,f,a),!1)},capture:function(a){return a.nodeType||this.isCollection(a)||"string"==typeof a?void 0:(this.engine.provide(a),!0)},onAnalyze:function(a){var b;for(b=a.parent||a;null!=b?b.parent:void 0;)b=b.parent;return a.sourceIndex=b.rules=(b.rules||0)+1}},a.prototype.scoped={solve:function(a,b,c,d,e,f){return 2!==a.index||e||null==f?void 0:(this.expressions.solve(a,b,f,a),!1)}},a.prototype["if"]={primitive:1,cleaning:!0,solve:function(a,b,c,d,e){var f,g,h,i,j;if(this!==this.solved){for(j=a.parent,h=0,i=j.length;i>h;h++)f=j[h],f[0]===!0&&f.shift();return 1!==a.index||e?void 0:(g=this.clone(a),g.parent=a.parent,g.index=a.index,g.domain=a.domain,this.solved.solve(g,b,c),!1)}},update:function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;return(r=a.parent).uid||(r.uid="@"+(this.engine.methods.uid=((s=this.engine.methods).uid||(s.uid=0))+1)),n=b+a.parent.uid,k=c._gss_id,q=(t=this.queries.watchers)[k]||(t[k]=[]),q.length&&-1!==this.indexOfTriplet(q,a.parent,b,c)||q.push(a.parent,b,c),i=f&&("object"!=typeof f||0!==f.length),l=i&&2||3,m=this.queries[n],!!m!=!!i||void 0===m&&m!==i?(j=this.pairs.dirty,void 0!==m&&this.queries.clean(this.getContinuation(n),b,a.parent,c),this.switching||(p=!0),this.queries[n]=i,p&&(!j&&(j=this.pairs.dirty)&&this.pairs.onBeforeSolve(),this.updating&&(h=this.updating.collections,this.updating.collections={},this.updating.previous=h)),this.engine.console.group("%s 				%o			%c%s",(i&&"if"||"else")+this.engine.DESCEND,a.parent[l],"font-weight: normal; color: #999",b),(g=a.parent[l])&&(o=this.document.solve(g,this.getContinuation(n,null,this.DESCEND),c,d)),p&&(null!=(u=this.pairs)&&u.onBeforeSolve(),null!=(v=this.queries)&&v.onBeforeSolve(),this.switching=void 0),this.console.groupEnd(n)):void 0},capture:function(a,b,c,d,e){return 1===b.index?(null!=c&&this.document.methods["if"].update.call(this.document,b.parent[1],this.getContinuation(c,null,this.DESCEND),d,e,void 0,a),!0):"object"!=typeof a||a.nodeType||this.isCollection(a)?void 0:(this.provide(a),!0)}},a.prototype["text/gss-ast"]=function(a){return JSON.parse(a)},a.prototype["text/gss"]=function(a){var b;return null!=(b=d.parse(a))?b.commands:void 0},a.prototype["text/gss-value"]=function(){return source({parse:function(a){var b,c;return null==(c=(this.parsed||(this.parsed={}))[a])?"string"==typeof a?(b=a.match(StaticUnitRegExp))?this.parsed[a]=this[b[2]](parseFloat(b[1])):(a="a: == "+a+";",this.parsed[a]=d.parse(a).commands[0][2]):a:c}})},a.prototype.StaticUnitRegExp=/^(-?\d+)(px|pt|cm|mm|in)$/i,a.prototype.eval={command:function(a,b,c,d,e,f,g,h){var i,j,k;null==f&&(f="text/gss"),null==h&&(h=f),e.nodeType&&((j=e.getAttribute("type"))&&(f=j),g||(g=e.textContent||e),null!=(i=e._continuation)?(this.queries.clean(i),b=i):b=a?e._continuation=this.getContinuation(b||"",null,this.engine.DESCEND):this.getContinuation(e.tagName.toLowerCase(),e),null!=e.getAttribute("scoped")&&(c=e.parentNode)),k=this.clone(this["_"+f](g)),this.console.row("rules",k),this.engine.engine.solve(k,b,c)}},a.prototype.load={command:function(a,b,c,d,e,f,g){var h,i,j=this;return null==g&&(g="GET"),h=e.href||e.src||e,f||(f=e.type||"text/gss"),i=new XMLHttpRequest,this.requesting=(this.requesting||0)+1,i.onreadystatechange=function(){return 4===i.readyState&&200===i.status?(--j.requesting,j.eval.command.call(j,a,b,c,d,e,f,i.responseText,h)):void 0},i.open(g.toUpperCase(),h),i.send()}},a}(),h=e.prototype;for(g in h)f=h[g],f.rule=!0;c.exports=e}),a.register("gss/lib/methods/Selectors.js",function(a,b,c){var d,e,f,g,h;d=function(){function a(){}return a.prototype.onBeforeQuery=function(a,b,c,d,e){return c.def.hidden?void 0:this.queries.fetch(a,b,c,d,e)},a.prototype.onQuery=function(a,b,c,d,e,f){return d.def.hidden?c:this.queries.update(a,b,c,d,e,f)},a.prototype.onSelector=function(a,b){var c,d,e,f,g;switch(e=(b&&" "!==a.name||"$combinator"!==a[0]&&"object"!=typeof a[1])&&" "||"",a[0]){case"$tag":b&&a!==a.tail||"$combinator"===a[1][0]||(c=" ",d=(a[2]||a[1]).toUpperCase());break;case"$combinator":c=e+a.name,d="$tag"===a.parent.name&&a.parent[2].toUpperCase()||"*";break;case"$class":case"$pseudo":case"$attribute":case"$id":c=e+a[0],d=a[2]||a[1]}return c?((f=(g=b||a)[c]||(g[c]={}))[d]||(f[d]=[])).push(a):void 0},a.prototype.$first={group:"$query",1:"querySelector"},a.prototype.$query={group:"$query",1:"querySelectorAll",2:function(a,b){return a.webkitMatchesSelector(b)?a:void 0},perform:function(a){var b,c,d,e,f,g;for(c=a.head||a,d=a.def.group,f=[d,c.groupped],f.parent=c.parent,f.index=c.index,c.bound&&(f.bound=c.bound),this.expressions.analyze(f),g=a.tail,(b=1===g.arity&&2===g.length)||f.splice(1,0,g[1]),e=c;(null!=e?e.push:void 0)&&(this.onSelector(e,f,e.def),e!==g);)e=e[1];return b||g.parent===a&&f.splice(1,0,g[1]),f.length>2&&a.marked&&(f.marked=a.marked,f.path=f.key=c.path),f},promise:function(a,b){var c,d,e,f,g;if(a.def.separator)for(d=f=0,g=a.length;g>f;d=++f){c=a[d]}return e=a.groupped,a.tail&&("$combinator"!==a[0]||"$combinator"!==b[0]&&","!==b[0]||(e+="*")),e},condition:function(a){if("$combinator"===a[0]){if(" "!==a.name)return!1}else if(2===a.arity)return!1;return!0}},a.prototype.$class={prefix:".",group:"$query",1:"getElementsByClassName",2:function(a,b){return a.classList.contains(b)?a:void 0}},a.prototype.$tag={prefix:"",group:"$query",1:"getElementsByTagName",2:function(a,b){return"*"===b||a.tagName===b.toUpperCase()?a:void 0}},a.prototype.$id={prefix:"#",group:"$query",scoped:!0,1:"getElementById",2:function(a,b){return a.id===b?a:void 0}},a.prototype.getElementById=function(a,b){return null==b&&(b=a),(a.nodeType&&a||this.scope).querySelector('[id="'+b+'"]')},a.prototype.$virtual={prefix:'"',suffix:'"',virtual:!0,1:function(a){return'"'+a+'"'},command:function(a,b,c,d,e,f){var g;return(null!=b?b.charAt(0):void 0)===this.PAIR?(g=[this.identity.provide(e)+'"'+f+'"'],g.isCollection=!0,g):this.identity.provide(e)+'"'+f+'"'}},a.prototype.$nth={prefix:":nth(",suffix:")",command:function(a,b,c){var d,e,f,g;for(e=[],a=f=0,g=a.length;g>f;a=++f)d=a[a],d%parseInt(b)===parseInt(c)&&e.push(e);return e}},a.prototype.$combinator={prefix:"",type:"combinator",lookup:"$"},a.prototype["$ "]={group:"$query",1:function(a){return a.getElementsByTagName("*")}},a.prototype["$!"]={1:function(a){var b;for(b=void 0;a=a.parentNode;)1===a.nodeType&&(b||(b=[])).push(a);return b}},a.prototype["$>"]={group:"$query",1:function(a){return a.children}},a.prototype["$!>"]={1:function(a){return a.parentElement}},a.prototype["$+"]={group:"$query",1:function(a){return a.nextElementSibling}},a.prototype["$!+"]={1:function(a){return a.previousElementSibling}},a.prototype["$++"]={1:function(a){var b,c,d;return c=void 0,(d=a.previousElementSibling)&&(c||(c=[])).push(d),(b=a.nextElementSibling)&&(c||(c=[])).push(b),c}},a.prototype["$~"]={group:"$query",1:function(a){var b;for(b=void 0;a=a.nextElementSibling;)(b||(b=[])).push(a);return b}},a.prototype["$!~"]={1:function(a){var b,c;for(b=void 0,c=a.parentNode.firstElementChild;c!==a;)(b||(b=[])).push(c),c=c.nextElementSibling;return b}},a.prototype["$~~"]={1:function(a){var b,c;for(b=void 0,c=a.parentNode.firstElementChild;c;)c!==a&&(b||(b=[])).push(c),c=c.nextElementSibling;return b}},a.prototype.$reserved={type:"combinator",prefix:"::",lookup:!0},a.prototype["::this"]={hidden:!0,mark:"ASCEND",command:function(a,b,c,d,e){return e||c}},a.prototype["::parent"]={1:a.prototype["$!>"][1]},a.prototype["::scope"]={hidden:!0,1:function(){return this.scope}},a.prototype["::window"]={hidden:!0,command:function(){return"::window"}},a.prototype.$attribute={lookup:!0,prefix:"[",suffix:"]"},a.prototype["[=]"]={binary:!0,quote:!0,group:"$query",command:function(a,b,c,d,e,f,g){return e.getAttribute(f)===g?e:void 0}},a.prototype["[*=]"]={binary:!0,quote:!0,group:"$query",command:function(a,b,c,d,e,f,g){var h;return(null!=(h=e.getAttribute(f))?h.indexOf(g):void 0)>-1?e:void 0}},a.prototype["[|=]"]={binary:!0,quote:!0,group:"$query",command:function(a,b,c,d,e,f){return null!=e.getAttribute(f)?e:void 0}},a.prototype["[]"]={group:"$query",command:function(a,b,c,d,e,f){return null!=e.getAttribute(f)?e:void 0}},a.prototype.$pseudo={type:"qualifier",prefix:":",lookup:!0},a.prototype[":value"]={1:function(a){return a.value},watch:"oninput"},a.prototype[":get"]={2:function(a,b){return a[b]}},a.prototype[":first-child"]={group:"$query",1:function(a){return a.previousElementSibling?void 0:a}},a.prototype[":last-child"]={group:"$query",1:function(a){return a.nextElementSibling?void 0:a}},a.prototype[":next"]={relative:!0,command:function(a,b,c,d,e){var f,g;return f=this.queries.getScopedCollection(a,b,c),g=null!=f?f.indexOf(e):void 0,null!=g&&-1!==g&&g!==f.length-1?f[g+1]:void 0}},a.prototype[":previous"]={relative:!0,command:function(a,b,c,d,e){var f,g;return f=this.queries.getScopedCollection(a,b,c),g=null!=f?f.indexOf(e):void 0,-1!==g&&g?f[g-1]:void 0}},a.prototype[":last"]={relative:!0,singular:!0,command:function(a,b,c,d,e){var f,g;return f=this.queries.getScopedCollection(a,b,c),g=null!=f?f.indexOf(e):void 0,null!=g&&g===f.length-1?e:void 0}},a.prototype[":first"]={relative:!0,singular:!0,command:function(a,b,c,d,e){var f,g;return f=this.queries.getScopedCollection(a,b,c),g=null!=f?f.indexOf(e):void 0,null!=g&&0===g?e:void 0}},a}(),h=d.prototype;for(g in h)e=h[g],("object"==typeof e&&e.serialized!==!1||e.serialized)&&(e.before="onBeforeQuery",e.after="onQuery",e.init="onSelector",e.serialized=!0);"undefined"!=typeof document&&null!==document&&(f=(this.GSS||this.Engine||d).dummy=document.createElement("_"),f.hasOwnProperty("classList")||(d.prototype.$class[2]=function(a,b){return a.className.split(/\s+/).indexOf(b)>-1?a:void 0}),f.hasOwnProperty("parentElement")||(d.prototype["$!>"][1]=d.prototype["::parent"][1]=function(a){var b;return(b=a.parentNode)&&1===b.nodeType?b:void 0}),f.hasOwnProperty("nextElementSibling")||(d.prototype["$+"][1]=function(a){for(;a=a.nextSibling;)if(1===a.nodeType)return a},d.prototype["$!+"][1]=function(a){for(;a=a.previousSibling;)if(1===a.nodeType)return a},d.prototype["$++"][1]=function(a){var b,c,d;for(c=void 0,d=b=a;d=d.previousSibling;)if(1===d.nodeType){(c||(c=[])).push(d);break}for(;b=b.nextSibling;)if(1===b.nodeType){(c||(c=[])).push(b);break}return c},d.prototype["$~"][1]=function(a){var b;for(b=void 0;a=a.nextSibling;)1===a.nodeType&&(b||(b=[])).push(a);return b},d.prototype["$!~"][1]=function(a){var b,c;for(b=void 0,c=a.parentNode.firstChild;c&&c!==a;)1===c.nodeType&&(b||(b=[])).push(c),c=c.nextSibling;return b},d.prototype["$~~"][1]=function(a){var b,c;for(b=void 0,c=a.parentNode.firstChild;c;)c!==a&&1===c.nodeType&&(b||(b=[])).push(c),c=c.nextSibling;return b},d.prototype[":first-child"][1]=function(a){var b,c;if(c=a.parentNode){for(b=c.firstChild;b&&1!==b.nodeType;)b=b.nextSibling;if(b===a)return a}},d.prototype[":last-child"][1]=function(a){var b,c;if(c=a.parentNode){for(b=c.lastChild;b&&1!==b.nodeType;)b=b.previousSibling;if(b===a)return mpde}})),c.exports=d}),a.register("gss/lib/methods/Transformations.js",function(a,b,c){var d,e,f;d=function(){function a(){}return a.Matrix=b("../../vendor/gl-matrix"),a.prototype.matrix=function(){},a.prototype.matrix3d=function(){},a.prototype._transform=function(a,b,c,d,e){return 9===a.length?mat3[b](a,a,c,d,e):mat4[b](a,a,c,d,e)},a.prototype._transform3d=function(a,b,c,d,e){return 9===a.length&&(a=mat4.fromMat3(a)),mat4[b](a,a,c,d,e)},a.prototype.translate=[function(a,b,c){return null==c&&(c=b),this._transform(a,"translate",[b,c])},{"3d":function(a,b,c,d){return null==c&&(c=b),null==d&&(d=0),0===d?this._transform(a,"translate",[b,c]):this._transform3d(a,"translate",[b,c,d])},x:function(a,b){return this._transform(a,"translate",[b,1,1])},y:function(a,b){return this._transform(a,"translate",[1,b,1])},z:function(a,b){return this._transform3d(a,"translate",[1,1,b])}}],a.prototype.rotate=[function(a,b,c,d){return this._transform(a,"rotate",[b,c],d)},{"3d":function(a,b,c,d,e){return this._transform3d(a,"rotate",[b,c,d],e)},x:function(a,b){return this._transform(a,"rotateX",b)},y:function(a,b){return this._transform(a,"rotateY",b)},z:function(a,b){return this._transform3d(a,"rotateZ",b)}}],a.prototype.scale=[function(a,b,c,d){return null==c&&(c=b),null==d&&(d=1),1===d?this._transform(a,"scale",[b,c]):this._transform3d(a,"scale",[b,c,d])},{x:function(a,b){return this._transform(a,"scale",[b,1,1])},y:function(a,b){return this._transform(a,"scale",[1,b,1])},z:function(a,b){return this._transform3d(a,"scale",[1,1,b])}}],a}();for(e in d)f=d[e],f.invoker="transform";c.exports=d}),a.register("gss/lib/methods/Types.js",function(a,b,c){var d;d=function(){function a(){}return a.prototype.Float=function(a){var b;return b=parseFloat(a),b===a?b:void 0},a.prototype.Integer=function(a){var b;return b=parseInt(a),String(b)===String(a)?b:void 0},a.prototype.String=function(a){return"string"==typeof a?a:void 0},a.prototype.Strings=function(a){return"string"==typeof a||a.push?a:void 0},a.prototype.Timings={ease:["cubic-bezier",.42,0,1,1],"ease-in":["cubic-bezier",.42,0,1,1],"ease-out":["cubic-bezier",0,0,.58,1],"ease-in-out":["cubic-bezier",.42,0,.58,1],linear:["cubic-bezier",0,0,1,1],"step-start":"step-start","step-end":"step-end"},a.prototype.Timing=function(a){if(null==a&&(a="ease"),"string"==typeof a){if(a=this.Timings[a])return a}else if("steps"===a[0]||"cubic-bezier"===a[0])return a},a.prototype.Length=function(a){return"number"==typeof a?a:(this.units||this.Units.prototype)[a[0]]?0===a[1]?0:a:void 0},a.prototype.Percentage=function(a){return"%"===a[0]?a:void 0},a.prototype.Positions={top:"top",bottom:"bottom",left:"left",right:"right"},a.prototype.Position=function(a){return this.Positions[a]?a:void 0},a.prototype.Times={s:"s",ms:"ms",m:"m"},a.prototype.Time=function(a){return this.Times[a[0]]?a:void 0},a.prototype.Colors={transparent:"transparent",hsl:"hsl",rgb:"rgb",hsla:"hsla",rgba:"rgba",hsb:"hsb"},a.prototype.Pseudocolors={transparent:"transparent",currentColor:"currentColor"},a.prototype.Color=function(a){if("string"==typeof a){if(this.Pseudocolors[a])return a}else if(this.Colors[a[0]])return a},a.prototype.Sizes={medium:"medium","xx-small":"xx-small","x-small":"x-small",small:"small",large:"large","x-large":"x-large","xx-large":"xx-large",smaller:"smaller",larger:"larger"},a.prototype.Size=function(a){return this.Sizes[a]?a:void 0},a.prototype.Gradients={"linear-gradient":"linear-gradient","radial-gradient":"radial-gradient","repeating-linear-gradient":"repeating-linear-gradient","repeating-radial-gradient":"repeating-radial-gradient"},a.prototype.Gradient=function(a){return this.Gradients[a[0]]?a:void 0},a.prototype.URLs={url:"url",src:"src"},a.prototype.URL=function(a){return this.URLs[a[0]]?a:void 0},a.prototype.Property=function(a){return this.properties[a]?a:void 0},a.prototype.Matrix=function(a){return"object"==typeof a&&void 0!==object.length?a:void 0},a}(),c.exports=d}),a.register("gss/lib/methods/Units.js",function(a,b,c){var d;d=function(){function a(){}return a.prototype.px=function(a){return a},a.prototype.pt=function(a){return a},a.prototype.cm=function(a){return this["*"](a,37.8)},a.prototype.mm=function(a){return this["*"](a,3.78)},a.prototype["in"]=function(a){return this["*"](a,96)},a.prototype.deg=function(a){return this["*"](a,Math.PI/180)},a.prototype.grad=function(a){return this.deg(this["/"](a,.9))},a.prototype.turn=function(a){return this.deg(this["*"](a,360))},a.prototype.rad=function(a){return a},a.prototype.em={command:function(a,b,c,d,e){return this["*"](this.get(c,"font-size",b),e)}},a.prototype.rem={command:function(a,b,c,d,e){return this["*"](this.get("::window","font-size",b),e)}},a.prototype.vw={command:function(a,b,c,d,e){return this["*"](this["/"](this.get("::window","width",b),100),e)}},a.prototype.vh={command:function(a,b,c,d,e){return this["*"](this["/"](this.get("::window","height",b),100),e)}},a.prototype.vmin={command:function(a,b,c,d,e){return this["*"](this["/"](this.get("::window","min",b),100),e)}},a.prototype.vmax={command:function(a,b,c,d,e){return this["*"](this["/"](this.get("::window","max",b),100),e)}},a}(),c.exports=d}),a.register("gss/lib/methods/Variables.js",function(){}),a.register("gss/lib/concepts/Console.js",function(a,b,c){var d,e,f,g,h,i;for(e=b("../methods/Native"),d=function(){function a(b){var c,d;this.level=b,null==this.level&&(this.level=parseFloat(("undefined"!=typeof self&&null!==self&&null!=(c=self.location)&&null!=(d=c.search.match(/log=(\d)/))?d[1]:void 0)||0)),a.bind||(this.level=0)}return a.prototype.methods=["log","warn","info","error","group","groupEnd","groupCollapsed","time","timeEnd","profile","profileEnd"],a.prototype.groups=0,a.prototype.stringify=function(a){return a?a.push?a.map(this.stringify,this):a.nodeType?a._gss_id:a.toString!==Object.prototype.toString?a.toString():JSON.stringify(a):""},a.prototype.debug=function(a){return document.location=document.location.toString().replace(/[&?]breakpoint=[^&]+|$/,(document.location.search.indexOf("?")>-1&&"&"||"?")+"breakpoint="+a.trim())},a.prototype.breakpoint=decodeURIComponent((("undefined"!=typeof document&&null!==document?document.location.search.match(/breakpoint=([^&]+)/,""):void 0)||["",""])[1]),a.prototype.row=function(a,b,c){var d,e,f;if(this.level)return a=a.name||a,e=Array(5-Math.floor(a.length/4)).join("	"),"undefined"!=typeof document&&null!==document?(d=String(this.stringify([b,c])).replace(/\r?\n+|\r|\s+/g," "),this.breakpoint===a+d):d="","string"==typeof c&&(c=c.replace(/\r?\n|\r|\s+/g," ")),"undefined"!=typeof document&&null!==document?"object"==typeof b?this.log("%c%s%c%s%c%s%O%c			%s","color: #666",a,"font-size: 0;line-height:0;",d,"",e,b,"color: #999",c||""):(f=Array(6-Math.floor(String(b).length/4)).join("	"),this.log("%c%s%s%s%c%s%s","color: #666",a,e,b,"color: #999",f,c||"")):this.log(a,b,c)},a.prototype.start=function(a,b){var c,d,f;return this.startTime=e.prototype.time(),this.started||(this.started=[]),this.started.indexOf(b)>-1&&(f=!0),this.started.push(b),f?void 0:(c="%c%s",c+=Array(5-Math.floor(String(b).length/4)).join("	"),c+="%c","string"!=typeof a?c+="%O":(c+="%s",d="groupCollapsed"),this[d||"group"](c,"font-weight: normal",b,"color: #666; font-weight: normal",a),!0)},a.prototype.end=function(){var a,b;return a=null!=(b=this.started)?b.pop():void 0,!a||this.started.indexOf(a)>-1?void 0:(this.groupEnd(),this.endTime=e.prototype.time())},a}(),i=d.prototype.methods,g=0,h=i.length;h>g;g++)f=i[g],d.prototype[f]=function(a){return function(){return"group"===a||"groupCollapsed"===a?d.prototype.groups++:"groupEnd"===a&&d.prototype.groups--,(this.level||"error"===a)&&"undefined"!=typeof console&&null!==console&&"function"==typeof console[a]?console[a].apply(console,arguments):void 0}}(f);c.exports=d}),a.register("gss/lib/concepts/Wrapper.js",function(a,b,c){var d,e={}.hasOwnProperty;d=function(a,b,c,d){var e,f,g,h,i,j,k,l;if(this.isConstraint(c)||this.isExpression(c)||this.isVariable(c)){for(this.isVariable(c)||(c.operation=d),c=[c],g=+("string"==typeof d[0]),f=h=0,j=b.length;j>h;f=++h)e=b[f],"value"===(null!=(l=d[f+g])?l[0]:void 0)&&c.push(d[f+g]),this.isVariable(e)&&c.push(e),e.paths&&c.push.apply(c,e.paths);for(i=0,k=b.length;k>i;i++)e=b[i],e.paths=void 0}return c.length>0?(c.length>1&&(c[0].paths=c.splice(1)),c[0]):c},d.compile=function(a,b,c){var d,f,g;g=[];for(f in a)e.call(a,f)&&(d=a[f],d.length>3?!function(b,c){return a[b]=function(a,b,d,e){var f,g;return a.push&&(f=a=this.Wrapper(null,null,a)),b.push&&(f=b=this.Wrapper(null,null,b)),g=c.call(this,a,b,d,e),f?this.Wrapper(null,[a,b],g):g}}(f,d):(c||(c={}))[f]=d,g.push(a[f].after="Wrapper"));return g},c.exports=d}),a.register("gss/lib/concepts/Domain.js",function(a,b,c){var d,e,f={}.hasOwnProperty;e=b("../methods/Native"),d=function(){function a(b,c,d,e){return!b||b instanceof a?(b&&(this.engine=b),e&&(this.displayName=e),c&&(this.url=c),this.hasOwnProperty("values")||(this.values={}),d&&this.merge(d),this.url&&this.getWorkerURL&&this.url&&(this.url="function"==typeof this.getWorkerURL?this.getWorkerURL(this.url):void 0)&&b!==this&&(this.useWorker(this.url)||(this.url=void 0)),this):this.find.apply(this,arguments)}return a.prototype.priority=0,a.prototype.setup=function(a){var b;return null==a&&(a=this.immutable),this.variables||(this.variables={}),this.hasOwnProperty("watchers")?void 0:(this.expressions=new this.Expressions(this),this.watchers={},this.observers={},this.paths={},this.structured&&(this.objects={}),this.substituted=[],this.constraints=[],this.hasOwnProperty("values")||(this.values={}),(b=this.engine).domains||(b.domains=[]),a||this.domain===this.engine||this.domains.push(this),this.MAYBE=void 0)},a.prototype.solve=function(a){var b,c,d,e,f,g,h;if(a)return this.disconnected&&null!=(f=this.mutations)&&f.disconnect(),this.setup(),"object"!=typeof a||a.push?(e=this.strategy)&&(d=(c=this[e]).solve?c.solve.apply(c,arguments)||{}:this[e].apply(this,arguments)):this.domain===this.engine?this.assumed.merge(a):this.merge(a),(this.constrained||this.unconstrained)&&(b=this.validate.apply(this,arguments),this.restruct(),b===!1)?void(this.disconnected&&null!=(g=this.mutations)&&g.connect()):((d="function"==typeof this.perform?this.perform():void 0)&&(d=this.apply(d)),b&&this.engine.provide(b),this.disconnected&&null!=(h=this.mutations)&&h.connect(),d)},a.prototype.provide=function(b){return b instanceof a?this.merge(b):this.domain?void this.engine.engine.provide(b):void this.engine.provide(b)},a.prototype.watch=function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o;return this.setup(),j=this.engine.getPath(a,b),-1===this.engine.indexOfTriplet(this.watchers[j],c,d,e)&&(i=(m=this.observers)[d]||(m[d]=[]),i.push(c,j,e),l=(n=this.watchers)[j]||(n[j]=[]),l.push(c,d,e),this.structured&&3===l.length&&(g=j.indexOf("["))>-1&&(f=j.substring(0,g),h=(o=this.objects)[f]||(o[f]={}),k=j.substring(g+1,j.length-1),h[k]=!0,"function"==typeof this.onWatch&&this.onWatch(f,k))),this.get(j)},a.prototype.unwatch=function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o;return l=this.engine.getPath(a,b),j=this.observers[d],g=this.engine.indexOfTriplet(j,c,l,e),j.splice(g,3),j.length||delete this.observers[d],n=this.watchers[l],g=this.engine.indexOfTriplet(n,c,d,e),n.splice(g,3),!n.length&&(delete this.watchers[l],this.structured&&(h=l.indexOf("["))>-1&&(f=l.substring(0,h),i=(o=this.objects)[f]||(o[f]={}),m=l.substring(h+1,l.length-1),k=i[m],delete i[m],this.engine.updating&&((this.changes||(this.changes={}))[l]=null),this.immediate&&this.set(l,null),0===Object.keys(i).length))?delete this.objects[f]:void 0},a.prototype.get=function(a,b){return this.values[this.engine.getPath(a,b)]},a.prototype.merge=function(b,c){if(b&&!b.push){if(b instanceof a)return;return this.updating?this.merger(b,c):this.engine.solve(this.displayName||"GSS",this.merger,b,c,this)}},a.prototype.merger=function(a,b,c){var d,e,f;null==c&&(c=this),d=!1;for(e in a)f=a[e],c.set(void 0,e,f,b)},a.prototype.set=function(a,b,c,d){var e,f;return this.setup(),f=this.engine.getPath(a,b),e=this.values[f],e!==c?(this.changes?this.changes[f]=null!=c?c:null:this.immediate&&this.solved.set(null,f,c),null!=c?this.values[f]=c:delete this.values[f],this.updating?this.engine.callback(this,f,c,d):this.engine.solve(this.displayName||"GSS",function(a){return this.callback(a,f,c,d)},this),c):void 0},a.prototype.sanitize=function(a,b,c,d){var e,g,h,i,j,k;if(null==c&&(c=a.parent),null==d&&(d=a.index),"value"===a[0]&&a.operation)return c[d]=this.sanitize(a.operation,b,c,d);for(h in a)f.call(a,h)&&(i=a[h],isFinite(parseInt(h))||delete a[h]);for(g=j=0,k=a.length;k>j;g=++j)e=a[g],(null!=e?e.push:void 0)&&this.sanitize(e,b,a,g);return a.parent=c,a.index=d,a},a.prototype.orphanize=function(a){var b,c,d;for(a.domain&&delete a.domain,c=0,d=a.length;d>c;c++)b=a[c],(null!=b?b.push:void 0)&&this.orphanize(b);return a},a.prototype.callback=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;if(d!==!0&&(o=null!=(w=a.watchers)?w[b]:void 0))for(h=q=0,t=o.length;t>q&&(n=o[h],n);h=q+=3)n.domain!==a||null==c?(n.parent[n.index]!==n&&(n.parent[n.index]=n),j=this.getRootOperation(n,a),void 0!==c&&this.update([this.sanitize(j)])):n.parent.domain===a?a.solve(n.parent,o[h+1],o[h+2]||void 0,d||void 0,n.index||void 0,c):this.expressions.ascend(n,o[h+1],c,o[h+2],d);if(!a.immutable){if(this.workers){x=this.workers;for(k in x)p=x[k],(l=p.values)&&l.hasOwnProperty(b)&&(null==c&&delete p.values[b],this.update(p,[["value",c,b]]))}if((m=this.variables[b])&&a.priority>0){if(g=void 0,m.constraints)for(y=m.constraints,r=0,u=y.length;u>r&&(e=y[r],!(g=e.domain.frame));r++);for(z=m.operations,s=0,v=z.length;v>s;s++)if(i=z[s],!o||-1===o.indexOf(i)){if(null===c)for(;i.domain===a;)i=i.parent;i&&i.domain!==a&&(g?(f=i.domain,i.domain=a,a.expressions.ascend(i,void 0,c,void 0,void 0,i.index),i.domain=f):this.update(this.sanitize(this.getRootOperation(i))))}}}},a.prototype.toObject=function(){var a,b,c;a={};for(b in this)f.call(this,b)&&(c=this[b],"engine"!==b&&"observers"!==b&&"watchers"!==b&&"values"!==b&&(a[b]=c));return a},a.prototype.restruct=function(){var a,b,c,d,e,f,g,h,i,j,k;if(this.unconstrained)for(i=this.unconstrained,c=0,f=i.length;f>c;c++)for(a=i[c],this.removeConstraint(a),j=a.paths,d=0,g=j.length;g>d;d++)b=j[d],b.constraints&&(this.hasConstraint(b)||this.nullify(b));if(this.constrained)for(k=this.constrained,e=0,h=k.length;h>e;e++)a=k[e],this.addConstraint(a);return this.constrained=[],this.unconstrained=void 0},a.prototype.resuggest=function(a,b){var c,d,e,f,g,h,i;if("object"==typeof a){if("object"!=typeof b)return;if("value"!==a[0]||"value"!==b[0]){for(d=void 0,c=h=0,i=a.length;i>h;c=++h)f=a[c],e=this.resuggest(f,b[c]),d||(d=e);return d}if(a[3]!==b[3])return;if(this.suggest&&this.solver)return g=a.parent.suggestions[a.index],g.suggest!==b[1]?(this.suggest(a.parent.suggestions[a.index],b[1],"require"),!0):"skip"}},a.prototype.compare=function(a,b){var c,d,e,f,g,h;if("object"!=typeof a){if("object"==typeof b)return;return a===b}if("object"==typeof b){if("value"!==a[0]||"value"!==b[0]){if("value"===a[0]&&b.toString()===a[3])return"similar";if("value"===b[0]&&a.toString()===b[3])return"similar";for(d=void 0,c=g=0,h=a.length;h>g;c=++g)f=a[c],e=this.compare(b[c],f),d=(e!==!0||null==d||d===!0)&&null!=e?e:!1;if(b[a.length]!==a[a.length])return;return d}if(a[3]===b[3])return!0}},a.prototype.reconstrain=function(a,b){var c,d;if(a.operation&&b.operation&&(c=this.compare(a.operation,b.operation))){if(c===!0&&(d=this.resuggest(a.operation,b.operation)))return"skip"!==d;this.unconstrain(a,void 0,"reset")}},a.prototype.constrain=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;if(a.paths){for(h=void 0,q=a.paths,k=0,o=q.length;o>k;k++)if(g=q[k],"value"===g[0])for(r=this.constraints,c=l=r.length-1;l>=0&&(f=r[c],f===a||!(h=this.reconstrain(f,a)));c=l+=-1);if(null==h)for(s=this.substituted,c=m=s.length-1;m>=0&&(f=s[c],f===a||!(h=this.reconstrain(f,a)));c=m+=-1);if(h)return;for(t=a.paths,n=0,p=t.length;p>n;n++)g=t[n],"string"==typeof g?((j=this.paths)[g]||(j[g]=[])).push(a):"value"===g[0]?(g[3]&&(b=g[3].split(","),"get"===b[0]&&((a.substitutions||(a.substitutions={}))[this.getPath(b[1],b[2])]=g[1])),this.substituted.push(a)):this.isVariable(g)&&(void 0!==g.suggest&&(i=g.suggest,delete g.suggest,this.suggest(g,i,"require")),d=(g.constraints||(g.constraints=[])).push(a))}return"string"==typeof(e=a[0])?(null!=(u=this[a[0]])&&u.apply(this,Array.prototype.slice.call(a,1)),!0):(a.domain=this,this.constraints.push(a),(this.constrained||(this.constrained=[])).push(a))},a.prototype.hasConstraint=function(a){var b,c,d,e,f;for(c=!1,f=a.constraints,d=0,e=f.length;e>d;d++)if(b=f[d],this.constraints.indexOf(b)>-1){c=!0;break}return c},a.prototype.unconstrain=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p;for(n=a.paths,j=0,m=n.length;m>j;j++)if(i=n[j],"string"==typeof i){if(d=this.paths[i]){for(f=k=d.length-1;k>=0;f=k+=-1)h=d[f],h===a&&d.splice(f,1);d.length||delete this.paths[i]}}else if("value"===i[0])this.substituted.splice(this.substituted.indexOf(a));else if(i.editing&&(i.suggest=i.value,this.unedit(i)),f=i.constraints.indexOf(a),f>-1&&i.constraints.splice(f,1),this.hasConstraint(i)||this.undeclare(i,c),i.operations)for(o=i.operations,f=l=o.length-1;l>=0;f=l+=-1)for(g=o[f];g;){if(g===a.operation){i.operations.splice(f,1);break}g=g.parent}return this.constraints.splice(this.constraints.indexOf(a),1),(e=null!=(p=this.constrained)?p.indexOf(a):void 0)>-1?this.constrained.splice(e,1):(this.unconstrained||(this.unconstrained=[])).push(a)},a.prototype.declare=function(a,b){var c,d;return a?((d=this.variables[a])||(d=this.variables[a]=this.variable(a)),this.nullified&&this.nullified[a]&&delete this.nullified[a],(this.added||(this.added={}))[a]=d,b&&(c=d.operations||(d.operations=[]),c.indexOf(b)&&c.push(b))):d=this.variable("suggested_"+Math.random()),d},a.prototype.unedit=function(a){var b;return null!=(null!=(b=a.operation)?b.parent.suggestions:void 0)&&delete a.operation.parent.suggestions[a.operation.index],delete a.editing},a.prototype.undeclare=function(a,b){var c;return"reset"!==b&&((this.nullified||(this.nullified={}))[a.name]=a,(null!=(c=this.added)?c[a.name]:void 0)&&delete this.added[a.name]),b||void 0===this.values[a.name]||delete this.variables[a.name],delete this.values[a.name],this.nullify(a),this.unedit(a)},a.prototype.reach=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o;for(b||(b=[]),h=0,l=a.length;l>h;h++){if(c=a[h],e=void 0,c.paths)for(i=b.length-1;i>=0;i+=-1)for(d=b[i],j=0,m=d.length;m>j;j++){if(f=d[j],f.paths)for(o=f.paths,k=0,n=o.length;n>k;k++)if(g=o[k],"string"!=typeof g&&c.paths.indexOf(g)>-1){e&&e!==d?(e.push.apply(e,d),b.splice(b.indexOf(d),1)):e=d;break}if(-1===b.indexOf(d))break}e||b.push(e=[]),e.push(c)}return b},a.prototype.validate=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;if(this.constrained||this.unconstrained){if(h=this.reach(this.constraints).sort(function(a,b){var c,d;return c=a.length,d=b.length,d-c}),m=h.splice(1),c=[],m.length)for(n=0,j=o=0,r=m.length;r>o;j=++o){for(g=m[j],l=[],j=p=0,s=g.length;s>p;j=++p)d=g[j],this.unconstrain(d,void 0,!0),d.operation&&l.push(d.operation);l.length&&c.push(l)}if(0===this.constraints.length&&(j=this.engine.domains.indexOf(this))>-1&&this.engine.domains.splice(j,1),null!=c?c.length:void 0){if(1===c.length&&(c=c[0]),b=arguments,1===b.length&&(b=b[0]),c.length===b.length){for(e=!0,i=q=0,t=b.length;t>q;i=++q)if(a=b[i],-1===c.indexOf(a)){e=!1;break}if(e)throw k="Trying to separate what was just added. Means loop.",f=new Error(k)}return this.orphanize(c)}}},a.prototype.apply=function(a){var b,c,d,e,f,g,h,i,j,k,l;c={};for(b in a)d=a[b],(null!=(f=this.nullified)?f[b]:void 0)||"suggested"===b.substring(0,9)||(c[b]=d);if(this.added){g=this.added;for(b in g)e=g[b],d=null!=(h=e.value)?h:0,this.values[b]!==d&&(null==c[b]&&(c[b]=d),this.values[b]=d);this.added=void 0}if(this.nullified){i=this.nullified;for(b in i)e=i[b],"suggested"!==b.substring(0,9)&&(c[b]=null!=(j=null!=(k=this.assumed.values[b])?k:null!=(l=this.intrinsic)?l.values[b]:void 0)?j:null),this.nullify(e);
this.nullified=void 0}return this.merge(c,!0),c},a.prototype.remove=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n;for(f=0,j=arguments.length;j>f;f++){for(e=arguments[f],m=this.getPossibleContinuations(e),g=0,k=m.length;k>g;g++)if(c=m[g],d=this.observers[c])for(;d[0];)this.unwatch(d[1],void 0,d[0],c,d[2]);if(b=this.paths[e])for(h=b.length-1;h>=0;h+=-1)a=b[h],this.isConstraint(a)&&this.unconstrain(a,e);if(this.constrained)for(n=this.constrained,i=0,l=n.length;l>i;i++)if(a=n[i],a.indexOf(e)>-1){this.unconstrain(a);break}}},a.prototype.defer=function(){var a=this;return this.solve.apply(this,arguments)?null!=this.deferred?this.deferred:this.deferred=e.prototype.setImmediate(function(){return a.deferred=void 0,a.flush()},0):void 0},a.prototype["export"]=function(){var a,b,c,d,e;for(d=this.constraints,e=[],b=0,c=d.length;c>b;b++)a=d[b],a.operation&&e.push(a.operation);return e},a.prototype.maybe=function(){return this.Maybe||(this.Maybe=e.prototype.mixin(this,{MAYBE:this})),new this.Maybe},a.compile=function(b,c){var d,g,h,i,j,k;for(i in b)f.call(b,i)&&(h=b[i],(null!=(k=h.condition)?k.call(c):void 0)!==!1&&(d=c[i]=function(b){var d,f,g,h;if(b)for(g in b)h=b[g],this.hasOwnProperty("values")||(this.values={}),this.values[g]=h;return this.domain=this,this.events!==c.events&&(this.addListeners(this.events),this.events=new(e.prototype.mixin(this.engine.events))),this.Wrapper&&this.Wrapper.compile(this.Methods.prototype,this),this.Method.compile(this.Methods.prototype,this),d=this.Methods,this.methods=new d,this.Property.compile(this.Properties.prototype,this),f=this.Properties,this.properties=new(f||Object),a.prototype.constructor.call(this,c)},g=c.mixin(c,h),d.prototype=new g,h.prototype.solve||(j=d.prototype).solve||(j.solve=a.prototype.solve),d.prototype.strategy="expressions",d.prototype.displayName=i,d.displayName=i,c.prototype||(c[i.toLowerCase()]=new c[i])));return this},a.prototype.DONE="solve",a}(),d.prototype.Methods=function(){function a(){}return a.prototype.value={command:function(a,b,c,e,f,g,h,i,j){var k,l,m,n,o,p;return this.suggest&&this.solver?(l=((m=a.parent).suggestions||(m.suggestions={}))[a.index],l||((n=d.prototype.Methods).uids||(n.uids=0),k=++d.prototype.Methods.uids,l=(o=a.parent.suggestions)[p=a.index]||(o[p]=this.declare(null,a)),l.suggest=f,l.operation=a,this.constrained||(this.constrained=[])),l):!b&&g?this.expressions.solve(a.parent,g,this.identity.solve(j),e,a.index,f):f}},a.prototype.framed=function(a){return a},a}(),c.exports=d}),a.register("gss/lib/concepts/Events.js",function(a,b,c){var d,e;d=function(a,b){var c;return null==b&&(b={bubbles:!1,cancelable:!1,detail:void 0}),c=document.createEvent("CustomEvent"),c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c},"undefined"!=typeof window&&null!==window&&(d.prototype=window.Event.prototype,window.CustomEvent=d),e=function(){function a(){this.listeners={},this.eventHandler=this.handleEvent.bind(this),this.events&&this.addListeners(this.events)}return a.prototype.destroy=function(){return this.triggerEvent("destroy"),this.scope&&this.dispatchEvent(this.scope,"destroy"),this.events?this.removeListeners(this.events):void 0},a.prototype.addListeners=function(a){var b,c,d;d=[];for(c in a)b=a[c],d.push(this.addEventListener(c,b));return d},a.prototype.removeListeners=function(a){var b,c,d;d=[];for(c in a)b=a[c],d.push(this.removeEventListener(c,b));return d},a.prototype.once=function(a,b){return b.once=!0,this.addEventListener(a,b)},a.prototype.addEventListener=function(a,b){var c;return((c=this.listeners)[a]||(c[a]=[])).push(b)},a.prototype.removeEventListener=function(a,b){var c,d;return(c=this.listeners[a])&&(d=c.indexOf(b))>-1?c.splice(d,1):void 0},a.prototype.triggerEvent=function(a,b,c,d){var e,f,g,h,i,j;if(f=null!=(j=this.listeners)?j[a]:void 0)for(g=i=f.length-1;i>=0;g=i+=-1)e=f[g],e.once&&f.splice(g,1),e.call(this,b,c,d);return this[h="on"+a]?this[h](b,c,d):void 0},a.prototype.dispatchEvent=function(a,b,c,e,f){var g,h,i;if(this.scope){g={engine:this};for(h in c)i=c[h],g[h]=i;return a.dispatchEvent(new d(b,{detail:g,bubbles:e,cancelable:f}))}},a.prototype.handleEvent=function(a){return this.triggerEvent(a.type,a)},a.prototype.then=function(a){return this.once(this.DONE,a)},a}(),c.exports=e}),a.register("gss/lib/concepts/Method.js",function(a,b,c){var d,e={}.hasOwnProperty;d=function(a,b,c){var e,f,g;if(a){if("object"==typeof a&&!a.exec){e=d.Helper(a,!1,b,c);for(f in a)g=a[f],e[f]=g;return e}return a.displayName=b,a}},d.Helper=function(a,b,c,d){var e;return e=function(c){var e,f,g,h,i,j;return e=Array.prototype.slice.call(arguments,0),i=arguments.length,j=d||this,"string"==typeof j&&(j=this[j]),(b||a.serialized)&&(c&&c.nodeType?"string"==typeof a[e.length-1]&&(f=c=e.shift()):(c=j.scope||document,"string"==typeof a[e.length]?f=c:e.unshift(c))),"function"==typeof a&&(h=a),(g=h)||("function"==typeof(h=a[e.length])?g=h:h&&(g=c[h])||((g=j.methods[h])?f=j:(g=a.command,e=[null,e[2],null,null,e[0],e[1]]))),g.apply(f||j,e)},c&&(e.displayName=c),e},d.compile=function(a,b){var c,d,f;a.engine||(a.engine=b);for(c in a)e.call(a,c)&&(d=a[c],d!==b&&("_"!==c.charAt(0)&&(f="_"+c,d=this(d,f),null==b[f]&&(b[f]=d)),null==b[c]&&(b[c]=d)));return a},c.exports=d}),a.register("gss/lib/concepts/Parser.js",function(a,b,c){c.exports=b("ccss-compiler")}),a.register("gss/lib/concepts/Property.js",function(a,b,c){var d,e={}.hasOwnProperty;d=function(a,b,c){var d,e,f,g,h,i,j;if("object"==typeof a){if(a.push)return c[g]=this.Style(a,b,c);for(e in a)i=a[e],(d=b.indexOf("["))>-1?(g=b.replace("]","-"+e+"]"),f=b.substring(0,d),h=g.substring(d+1,g.length-1),(j=c[f])[h]||(j[h]=this.Property(i,g,c))):g=b.match(/^[a-z]/i)?b+"-"+e:b+"["+e+"]",c[g]=this.Property(i,g,c)}return a},d.compile=function(a,b){var c,d,f,g,h;a.engine||(a.engine=b);for(c in a)e.call(a,c)&&(f=a[c],"engine"!==c&&(d=this.call(b,f,c,a),null==b[g="_"+c]&&(b[g]=d)));for(c in a)e.call(a,c)&&(f=a[c],null==b[h="_"+c]&&(b[h]=f));return a},c.exports=d}),a.register("gss/lib/concepts/Style.js",function(a,b,c){var d,e,f;f=function(a,b,c,f,g,h,i,j,k,l){var m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T;if(null==f&&(f={}),null==g&&(g=[]),null==h&&(h=[]),null==i&&(i=[]),null==j&&(j={}),null==l&&(l=0),A=!0,w=q=x=void 0,u=l,void 0===a.length){for(s in a)if(o=a[s],"object"==typeof o){if(z=s.indexOf("-")>-1&&c[s]&&s||b+"-"+s,C=this.Style(o,z,c,null,null,null,null,null,null,null,l),k!==!0&&(j[z]=k||A,A=z),C.types)for(Q=C.types,p=G=0,K=Q.length;K>G;p=++G)E=Q[p],g.push(E),y=(null!=(R=C.keys)?R[p]:void 0)||z,h.push(y),-1===i.indexOf(y)&&i.push(y);if(C.keywords){S=C.keywords;for(y in S){for(F=S[y],H=0,L=F.length;L>H;H++)for(r=F[H],T=r.push&&r||[r],I=0,M=T.length;M>I;I++)v=T[I],-1===i.indexOf(v)&&i.push(v);(f[y]||(f[y]=[])).push(F)}}}}else for(p=J=0,N=a.length;N>J;p=++J)switch(z=a[p],typeof z){case"object":D=this.Style(z,b,c,f,g,h,i,j,z.push&&(A||!0)||k,l+1),w=z.pad||D.pad,u=Math.max(D.depth,u);break;case"string":if(m=this.types||this.Types.prototype,E=m[z]){if(g.push(E),void 0===q){if(void 0===E.displayName)for(s in m)if(F=m[s],F===E){E.displayName=s;break}if(B=m[E.displayName+"s"])for(s in B){E.call(this,s)&&(q=s);break}null==q&&(q=0)}}else null==q&&(q=z),(f[z]||(f[z]=[])).push(b);break;default:null==q&&(q=z)}if("function"==typeof q&&(n=q,q=void 0),void 0===q)for(q=new e,q.displayName=q.prototype.property=b,P=0,O=i.length;O>P;P++)z=i[P],q.prototype[z]=c[z].initial;else 0===h.length&&(h=void 0);return t=new d(b,f,g,h,j,w,u,q,n),(null!=q?q.displayName:void 0)&&(q.prototype.style=t,q.prototype.styles=c,q.prototype.properties=i),t.toString=function(a){return e.prototype.toExpressionString(b,a,!1,c)},c[b]=t},e=function(){function a(a){return a||(a=function(a){var b,c;if(a)for(b in a)c=a[b],this[b]=c;return this}),a.prototype=this,a}return a.prototype.toString=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;if(l=void 0,this.style.keys){for(;m=this[d=(null!=d?d:-1)+1];)l=(l&&l+", "||"")+m.toString(a,d+1);for(i=this.style.pad,s=h=this.properties,e=p=0,r=s.length;r>p;e=++p){if(g=s[e],e&&i){if(e>2){if(this.equals(g,h[1]))continue}else if(e>1){if(this.equals(g,h[0])&&(!this.hasOwnProperty[h[3]]||this.equals(h[3],h[1])))continue}else if(this.equals(g,h[0])&&this.equals(h[1],h[2])&&this.equals(h[2],h[3]))continue}else if(a&&b&&null!=(o=a[g+"-"+b])){if(j=k=void 0,"string"!=typeof o)for(h=this.style.keys,n=this.style.types,e=q=t=h.indexOf(g)-1;q>0;e=q+=-1)if((f=h[e])!==k){if(this.hasOwnProperty(f))break;n[e]===this.styles.engine.Length&&(c=this.toExpressionString(f,this[f]),j=((l||j)&&" "||"")+c+(j&&" "+j||""),k=f)}j&&(l+=j)}else{if(!this.hasOwnProperty(g))continue;o=this[g]}c=this.toExpressionString(g,o),l=(l&&l+" "||"")+c}}return l},a.prototype.equals=function(a,b){var c,d;return c=this[a],d=this[b],"object"!=typeof c?c===d:c[0]===d[0]&&c[1]===d[1]&&c[2]===d[2]},a.prototype.toExpressionString=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o;switch(null==d&&(d=this.styles),typeof b){case"object":if(g=b[0],e=this.styles.engine,k=e.units||e.Units.prototype,"%"===g||k[g]||e.Times[g])return this.toExpressionString(a,b[1],!0)+g;for(h=g+"(",f=l=1,o=b.length-1;o>=1?o>=l:l>=o;f=o>=1?++l:--l)1!==f&&(h+=","),h+=this.toExpressionString(a,b[f],!0);return h+")";case"number":if(!c){for(j=d[a].types,m=0,n=j.length;n>m;m++)if(i=j[m],"_Integer"===i.displayName||"_Float"===i.displayName)return b;0!==b&&(b=Math.floor(b)+"px")}}return b},a}(),d=function(a,b,c,d,e,f,g,h,i){var j;return j=function(){var a,g,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G;for(s=o=void 0,f&&arguments.length<4&&(g=[arguments[0],null!=(C=arguments[1])?C:arguments[0],null!=(D=arguments[2])?D:arguments[0],null!=(E=null!=(F=arguments[3])?F:arguments[1])?E:arguments[0]]),G=g||arguments,l=w=0,z=G.length;z>w;l=++w){switch(k=G[l],typeof k){case"object":if("string"!=typeof k[0]||1===k.length){if(!(o=j.apply(this,k)))return;(s||(s=new h))[l]=o}break;case"string":if(q=b[k]){if(!d)return k;for(n=f&&l||0;null!=(p=q[n++]);){if(s&&s.hasOwnProperty(p)){if(1===q.length&&k!==s[p]){if(a=k,k=s[p],s[p]=a,"string"==typeof k&&(q=b[k])){n=f&&l||0;continue}break}}else if(!e[p]||s&&void 0!==s[e[p]]){o=(s||(s=new h))[p]=k;break}if(f)break}}}if(c&&null==o)if(d){for(m=x=0,A=d.length;A>x;m=++x)if(p=d[m],!(s&&(s.hasOwnProperty(p)||(r=e[p])&&!s.hasOwnProperty(r))||void 0===(o=c[m].call(this,k)))){(s||(s=new h))[p]=o;break}}else for(m=y=0,B=c.length;B>y;m=++y)if(u=c[m],void 0!==(v=u.call(this,k)))return v;if(null==o)return;o=void 0}return i&&null!=(t=i(s))?t:s},j.matcher=!0,j.displayName=a,null!=b&&(j.keywords=b),null!=c&&(j.types=c),null!=d&&(j.keys=d),null!=f&&(j.pad=f),null!=g&&(j.depth=g),null!=h&&(j.initial=h),null!=i&&(j.callback=i),j},c.exports=f}),a.register("gss/lib/concepts/Update.js",function(a,b,c){var d,e;e=function(a){var b,c,d,e;if(b=function(a,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;if(this instanceof b)return this.domains=a&&(a.push&&a||[a])||[],void(this.problems=c&&(a.push&&c||[c])||[]);for(1===arguments.length&&(c=a,a=void 0,l=!0),j=q=0,s=c.length;s>q;j=++q)if(f=c[j],null!=f?f.push:void 0){if(null==f.parent&&(f.parent=c),null==f.index&&(f.index=j),k=0,"get"===f[0])o=this.getVariableDomain(f),o.MAYBE&&a&&a!==!0&&(o.frame=a),h=new b(o,[f]);else{for(m=!0,r=0,t=f.length;t>r;r++){if(e=f[r],null!=e?e.push:void 0){g="framed"===f[0]?"string"==typeof f[1]?f[1]:(p=f[0]).uid||(p.uid=this.uids=(this.uids||(this.uids=0))+1):a||!0,h=this.update(g,f,d);break}"string"!=typeof e&&(m=!1)}!h&&"string"==typeof(null!=f?f[0]:void 0)&&m&&(h=new this.update([null],[f],d))}h&&(n&&n!==h?n.push(h):(n=h,d||(d=n))),h=void 0}if(n||("string"==typeof c[0]&&(c=[c]),i=!0,n=new this.update([a!==!0&&a||null],[c])),"string"==typeof c[0]&&(n.wrap(c,d),n.compact()),l||i){if(!this.updating)return n.each(this.resolve,this.engine);if(this.updating!==n)return this.updating.push(n)}return n},this.prototype){e=this.prototype;for(c in e)d=e[c],b.prototype[c]=d}return a&&(b.prototype.engine=a),b},d=e(),d.compile=e,d.prototype={substitute:function(a,b,c){var d,e,f,g;if(a===b)return c;for(e=f=0,g=a.length;g>f;e=++f)d=a[e],(null!=d?d.push:void 0)&&(d===b?a[e]=c:this.substitute(d,b,c));return a},provide:function(a){var b,c,d,e,f,g,h,i,j,k,l,m;if(!(e=a.operation).exported)if(g=e.parent,b=g.domain)i=(null!=(l=g.parent)?l.domain:void 0)===b?a.domain.getRootOperation(g):g,d=this.domains.indexOf(b,this.index+1),-1===d&&(d+=this.domains.push(b)),(h=this.problems[d])?-1===h.indexOf(i)&&h.push(i):this.problems[d]=[i];else for(m=this.problems,d=j=0,k=m.length;k>j;d=++j)if(h=m[d],d>=this.index)for(f=g;f;)(c=h.indexOf(f))>-1&&this.substitute(h[c],e,a),f=f.parent},merge:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;if(e=this.domains[a],!e.frame){if(j=this.domains[b],l=this.problems[a],c&&(g=c.domains.indexOf(null,c.index+1),!e.MAYBE&&g>-1))if(h=c.problems[g],"string"==typeof h[0])"remove"===h[0]&&e.remove.apply(e,h.slice(1));else for(o=0,s=h.length;s>o;o++)f=h[o],"remove"===f[0]&&e.remove.apply(e,f.slice(1));if(this.engine.updating&&(g=this.engine.updating.domains.indexOf(null,this.engine.updating.index+1),!e.MAYBE&&g>-1))if(h=this.engine.updating.problems[g],"string"==typeof h[0])"remove"===h[0]&&e.remove.apply(e,h.slice(1));else for(p=0,t=h.length;t>p;p++)f=h[p],"remove"===f[0]&&e.remove.apply(e,f.slice(1));for(;k=l[i++];)"remove"===k[0]?(e.remove.apply(e,k.slice(1)),l.splice(i,1)):i++;for(this.problems[b].push.apply(this.problems[b],e["export"]()),this.problems[b].push.apply(this.problems[b],l),q=0,u=l.length;u>q;q++)k=l[q],k.domain===e&&(k.domain=j);if(e.nullified){n={};for(m in e.nullified)(n||(n={}))[m]=null;this.engine.updating.apply(n)}for(this.domains.splice(a,1),this.problems.splice(a,1),v=e.constraints,r=v.length-1;r>=0;r+=-1)d=v[r],e.unconstrain(d,void 0,!0);return(i=this.engine.domains.indexOf(e))>-1&&this.engine.domains.splice(i,1),!0}},wrap:function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L;for(d=void 0,G=this.domains,j=w=G.length-1;w>=0&&(r=G[j],h=this.problems[j],i=0,j!==this.index);j=w+=-1)for(;g=h[i++];)if((k=a.indexOf(g))>-1){for(l=m=k;void 0!==(p=a[++l]);)if(p&&p.push){for(H=this.problems,x=0,A=H.length;A>x&&(t=H[x],!((n=t.indexOf(p))>-1));x++);if(n>-1)break}if(!p){for(;void 0!==(s=a[--m]);)if(s&&s.push&&-1===h.indexOf(s)){for(I=this.domains,o=y=I.length-1;y>=0;o=y+=-1)if(f=I[o],o!==j){if(o===this.index)break;if(u=this.problems[o],(k=u.indexOf(s))>-1){if(f!==r&&f.priority<0&&r.priority<0){if(!f.MAYBE){o>j||(null!=(J=r.constraints)?J.length:void 0)>(null!=(K=f.constraints)?K.length:void 0)?this.merge(o,j,b):(this.merge(j,o,b)||h.splice(--i,1),r=f,i=k+1,h=this.problems[o]);break}if(!r.MAYBE){this.merge(o,j),this.problems[j].push.apply(this.problems[j],this.problems[o]),this.domains.splice(o,1),this.problems.splice(o,1);continue}}f.priority<0&&(f.priority>r.priority||r.priority>0)&&(i=k+1,h=this.problems[o],r=f);break}}break}if(r&&(q=this.engine.getOperationDomain(a,r)),q&&q.displayName!==r.displayName){for(-1===(j=this.domains.indexOf(q))?(j=this.domains.push(q)-1,this.problems[j]=[a]):this.problems[j].push(a),v=g.domain&&!g.domain.MAYBE,z=0,B=g.length;B>z;z++)c=g[z],c.domain&&!c.domain.MAYBE&&(v=!0);v||h.splice(--i,1)}else d||a.indexOf(h[i-1])>-1&&(d=!0,h[i-1]=a);if(r){for(L=this.domains,e=E=0,C=L.length;C>E;e=++E)if(f=L[e],f&&(f!==r||d)&&(r.MAYBE&&f.MAYBE||f.displayName===r.displayName))for(t=this.problems[e],F=0,D=a.length;D>F;F++)c=a[F],(k=t.indexOf(c))>-1&&t.splice(k,1);this.setVariables(a,null,q||r)}return!0}}},unwrap:function(a,b,c){var d,e,f,g,h,i,j,k;if(null==c&&(c=[]),"get"===a[0])a.exported=!0,a.parent=void 0,c.push(a),g=this.engine.getPath(a[1],a[2]),d=(i=this.exports||(this.exports={}))[g]||(i[g]=[]),d.push(b),e=this.imports||(this.imports=[]),f=e.indexOf(b),-1===f&&(f=e.push(b)-1),e.splice(f+1,0,g);else for(a.domain=b,j=0,k=a.length;k>j;j++)h=a[j],h.push&&this.unwrap(h,b,c);return c},setVariables:function(a,b,c){var d,e,f,g;for(null==b&&(b=a),e=void 0,f=0,g=a.length;g>f;f++)d=a[f],"get"===d[0]?(!d.domain||d.domain.MAYBE||d.domain.displayName===c.displayName&&c.priority<0)&&(e||(e=[])).push(this.engine.getPath(d[1],d[2])):d.variables&&(e||(e=[])).push.apply(e,d.variables);return b.variables=e},optimize:function(){return this.compact(),this.connect()&&this.compact(),this.defer(),this.reify(),this},reify:function(a,b){var c,d,e,f,g,h,i,j,k;if(!a){for(h=this.domains,j=[],d=e=h.length-1;e>=0&&(b=h[d],d!==this.index);d=e+=-1)j.push(b?this.reify(this.problems[d],b):void 0);return j}if((null!=(i=a.domain)?i.MAYBE:void 0)&&(a.domain=b),null!=a?a.push:void 0){for(k=[],f=0,g=a.length;g>f;f++)c=a[f],k.push(c&&"object"==typeof c?this.reify(c,b):void 0);return k}},defer:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;for(l=this.domains,b=i=l.length-1;i>=0&&(a=l[b],b!==this.index);b=i+=-1)for(c=j=m=b+1,n=this.domains.length;n>=m?n>j:j>n;c=n>=m?++j:--j)if((h=null!=(o=this.domains[c])?o.url:void 0)&&"undefined"!=typeof document&&null!==document)for(p=this.problems[b],d=k=p.length-1;k>=0;d=k+=-1)for(e=p[d];e;){if(f=this.problems[c],f.indexOf(e)>-1){g=this.problems[b][d],g.unwrapped||(this.problems[b].splice(d--,1),g.unwrapped=this.unwrap(g,this.domains[c],[],this.problems[c]),this.engine.update(g.unwrapped));break}e=e.parent}},connect:function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;for(b=a=void 0,e=this.domains.length;(c=this.domains[--e])&&e!==this.index;)if(h=this.problems[e],this.setVariables(h,null,c),k=h.variables)for(o=this.domains,f=l=o.length-1;l>=0&&(g=o[f],f!==e&&c===this.domains[e]);f=l+=-1)if((j=this.problems[f].variables)&&c.displayName===this.domains[f].displayName)for(m=0,n=j.length;n>m;m++)if(i=j[m],k.indexOf(i)>-1){if(c.frame===g.frame){(null!=(p=g.constraints)?p.length:void 0)>(null!=(q=c.constraints)?q.length:void 0)?this.merge(e,f--):this.merge(f,e),b=!0;break}d=c.frame&&c||g}for(;b&&this.connect(););return b},compact:function(){var a,b,c,d,e,f,g;for(g=this.problems,b=e=g.length-1;e>=0&&(d=g[b],b!==this.index);b=e+=-1)for(d.length||(this.problems.splice(b,1),this.domains.splice(b,1),this.index>=b&&--this.index),f=d.length-1;f>=0;f+=-1)c=d[f],a=this.domains[b],c.domain=a},push:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;if(void 0===b){for(v=a.domains,h=n=0,r=v.length;r>n;h=++n)b=v[h],this.push(a.problems[h],b);return this}for(i=void 0,l=this.domains.length,k=this.index+1;void 0!==(j=this.domains[k]);){if(j||!b){if(j===b||b&&!(null!=b?b.solve:void 0)&&j.url===b.url){for(e=this.problems[k],o=0,s=a.length;s>o;o++){if(m=a[o],g=void 0,m.exported)for(p=0,t=e.length;t>p;p++)if(d=e[p],d[0]===m[0]&&d[1]===m[1]&&d[2]===m[2]&&d.exported&&d.parent.domain===m.parent.domain){g=!0;break}if(!g){for(f=void 0,q=0,u=e.length;u>q;q++)d=e[q],(d===m||d.parent&&d.parent===m.parent&&d.index===m.index)&&(f=!0);f||(c||b&&!b.solve&&j.url===b.url&&"remove"===m[0]?e.unshift(m):e.push(m))}}i=!0;break}j&&b?!(j.priority<b.priority||j.priority===b.priority&&j.MAYBE&&!b.MAYBE)||j.frame&&j.frame!==b.frame||l===this.domains.length&&(l=k):b||l--}k++}return i||(this.domains.splice(l,0,b),this.problems.splice(l,0,a)),this},cleanup:function(a,b){var c,d,e,f;if(d=this[a],!b)return this[a]={},this[a].previous=d;if(d){c=b.length,f=[];for(e in d)f.push(e.substring(0,c)===b?delete d[e]:void 0);return f}},reset:function(a){return this.cleanup("queries",a),this.cleanup("collections",a),this.cleanup("mutations")},await:function(a){return(this.busy||(this.busy=[])).push(a),this.terminated?delete this.terminated[a]:void 0},postMessage:function(a,b){var c,d;return((c=this.posted||(this.posted={}))[d=a.url||a]||(c[d]=[])).push(this.engine.clone(b))},terminate:function(){var a,b,c,d;if(this.posted){d=this.posted;for(c in d)for(b=d[c],this.engine.workers[c].postMessage(b);(a=this.busy.indexOf(c))>-1&&this.busy.lastIndexOf(c)!==a;)this.busy.splice(a,1);return this.posted=void 0}},each:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p;if(c&&this.apply(c),this.problems[this.index+1]){for(this.optimize(),g=this.domains[this.index];void 0!==(d=this.domains[++this.index]);){if(g=d,j=(this.solutions||(this.solutions=[]))[this.index]=a.call(b||this,d,this.problems[this.index],this.index,this),(null!=(n=this.busy)?n.length:void 0)&&-1===this.busy.indexOf(null!=(o=this.domains[this.index+1])?o.url:void 0))return this.terminate(),j;if(j&&void 0===j.onerror)if(j.push)this.engine.update(j);else{for(f=[],e=this.index,i={};g=this.domains[--e];)g&&g===d&&f.push(e);if(f.length>1)for(m=f.length-1;m>=0;m+=-1){e=f[m];for(h in j)l=j[h],(k=this.solutions[e])&&k.hasOwnProperty(h)&&((null!=(p=i[h])?p.indexOf(k[h]):void 0)>-1?(this.engine.console.error(h,"is looping",l,i[h],k[h]),delete j[h]):null!=k[h]&&(i[h]||(i[h]=[])).push(k[h]))}this.apply(j),c=this.apply(j,c||{})}}return this.terminate(),this.index--,c||this}},apply:function(a,b){var c,d;if(null==b&&(b=this.solution),a!==this.solution){b||(b=this.solution={});for(c in a)d=a[c],b[c]=d}return b},remove:function(a,b){var c,d,e,f,g,h,i,j;if(b){if("value"===b[0]&&b[2]===a||"get"===b[0]&&b[3]===a)return!0;for(h=0,j=b.length;j>h;h++)if(c=b[h],(null!=c?c.push:void 0)&&this.remove(a,c))return!0}else{for(e=this.index,g=!1;f=this.problems[e++];)for(d=i=f.length-1;i>=0;d=i+=-1)b=f[d],this.remove(a,b)&&(f.splice(d,1),f.length||(g=!0));if(g)return this.compact()}},getProblems:function(){return GSS.clone(this.problems)},index:-1},c.exports=d}),a.register("gss/lib/domains/Numeric.js",function(a,b,c){var d,e,f,g,h,i,j,k,l={}.hasOwnProperty,m=function(a,b){function c(){this.constructor=a}for(var d in b)l.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("../concepts/Domain"),f=b("../methods/Selectors"),e=function(a){function b(){return i=b.__super__.constructor.apply(this,arguments)}return m(b,a),b.prototype.priority=10,b.prototype.url=null,b}(d),e.prototype.Methods=function(a){function b(){return j=b.__super__.constructor.apply(this,arguments)}return m(b,a),b.prototype["&&"]=function(a,b){return a&&b},b.prototype["||"]=function(a,b){return a||b},b.prototype["+"]=function(a,b){return a+b},b.prototype["-"]=function(a,b){return a-b},b.prototype["*"]=function(a,b){return a*b},b.prototype["/"]=function(a,b){return a/b},b.prototype.Math=Math,b.prototype.Infinity=1/0,b.prototype.NaN=0/0,b.prototype.isVariable=function(a){return"get"===a[0]},b.prototype.isConstraint=function(a){return this.constraints[a[0]]},b.prototype.get={command:function(a,b,c,d,e,f,g,h){var i,j;if(f=this.getPath(e,f),j=this.getVariableDomain(a,!0,!0),!j||j.priority<0)j=this;else if(j!==this&&j.structured)return i=["get",null,f,this.getContinuation(b||"")],c&&c!==this.scope&&i.push(this.identity.provide(c)),i.parent=a.parent,i.index=a.index,i.domain=j,void this.update([i]);return h=h?this.engine.identity.solve(h):c,j.watch(null,f,a,this.getContinuation(b||g||""),h)}},b}(d.prototype.Methods),k=f.prototype;for(g in k)h=k[g],e.prototype.Methods.prototype[g]=h;e.prototype.Methods.prototype["*"].linear=!1,e.prototype.Methods.prototype["/"].linear=!1,c.exports=e}),a.register("gss/lib/domains/Abstract.js",function(a,b,c){var d,e,f,g,h,i,j,k={}.hasOwnProperty,l=function(a,b){function c(){this.constructor=a}for(var d in b)k.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};for(e=b("../concepts/Domain"),d=function(a){function b(){this.running&&this.compile(),b.__super__.constructor.apply(this,arguments)}return l(b,a),b.prototype.url=void 0,b}(e),d.prototype.Methods=function(){function a(){}return a.prototype.get={command:function(a,b,c,d,e,f,g){var h,i,j;return"string"==typeof e?i=e:"window"===e.absolute||e===document?i="::window":e.nodeType&&(i=this.identity.provide(e)),f||(i="",f=e,e=void 0),e&&(j=this.properties[f])&&!j.matcher?j.call(this,e,this.getContinuation(b||g||"")):(h=["get",i,f,this.getContinuation(b||g||"")],c&&c!==this.scope&&h.push(this.identity.provide(c)),h)}},a.prototype.set={onAnalyze:function(a){var b,c;for(b=a,c=void 0;(b=b.parent)&&("rule"===b.name&&(c||(c=b)),b.parent););return b&&(a.sourceIndex=b.assignments=(b.assignments||0)+1),c?(c.properties||(c.properties=[])).push(a.sourceIndex):void 0},command:function(a,b,c,d,e,f){this.intrinsic?this.intrinsic.restyle(c,e,f,b,a):this.assumed.set(c,e,f)}},a.prototype.suggest={command:function(){return this.assumed.set.apply(this.assumed,arguments)}},a.prototype.value=function(a,b,c,d){var e,f,g;return d&&(e=c.split(","),g=e[1],f=e[2],this.engine.values[this.engine.getPath(g,f)]=a),a},a}(),j=["+","-","*","/"],g=function(a){return d.prototype.Methods.prototype[a]=function(b,c){return[a,b,c]}},h=0,i=j.length;i>h;h++)f=j[h],g(f);c.exports=d}),a.register("gss/lib/domains/Boolean.js",function(a,b,c){var d,e,f,g,h,i,j,k,l={}.hasOwnProperty,m=function(a,b){function c(){this.constructor=a}for(var d in b)l.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e=b("./Numeric"),d=function(a){function b(){return i=b.__super__.constructor.apply(this,arguments)}return m(b,a),b.prototype.immutable=!0,b}(e),d.prototype.Methods=function(){function a(){}return a.prototype["!="]=function(a,b){return a===b},a.prototype["=="]=function(a,b){return a===b},a.prototype["<="]=function(a,b){return b>=a},a.prototype[">="]=function(a,b){return a>=b},a.prototype["<"]=function(a,b){return b>a},a.prototype[">"]=function(a,b){return a>b},a.prototype.get=function(a,b){var c;return c=this.engine.getPath(a,b),this.intrinsic.properties[c]?this.intrinsic.get(null,c):this.values[this.engine.getPath(a,b)]},a}(),j=d.prototype.Methods.prototype,h=function(a,b){return d.prototype.Methods.prototype[a]=function(c,d){return null!=c&&null!=d?"object"!=typeof c&&"object"!=typeof d?b.call(this,c,d):[a,c,d]:void 0}};for(f in j)g=j[f],h(f,g);c.exports=d,k=e.prototype.Methods.prototype;for(f in k)g=k[f],d.prototype.Methods.prototype[f]=g}),a.register("gss/lib/domains/Linear.js",function(a,b,d){var e,f,g,h,i={}.hasOwnProperty,j=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e=b("../concepts/Domain"),f=function(a){function d(){return g=d.__super__.constructor.apply(this,arguments)}return j(d,a),d.prototype.priority=-100,d.prototype.Solver=b("cassowary"),d.prototype.Wrapper=b("../concepts/Wrapper"),d.prototype.isVariable=function(a){return a instanceof c.Variable},d.prototype.isConstraint=function(a){return a instanceof c.Constraint},d.prototype.isExpression=function(a){return a instanceof c.Expression},d.prototype.setup=function(){var a,b,e;if(d.__super__.setup.apply(this,arguments),!this.hasOwnProperty("solver")){if(this.solver=new c.SimplexSolver,this.solver.autoSolve=!1,this.solver._store=[],null==c.isUnordered){a={9:1,10:1};for(b in a)break;(c.isUnordered=10===b)&&(e=c.HashTable.prototype.set,c.HashTable.prototype.set=function(){var a;if(!this._store.push){a=this._store,this._store=[];for(b in a)this._store[b]=a[b]}return e.apply(this,arguments)})}return c.debug=!0,c.Strength.require=c.Strength.required}},d.prototype.provide=function(a){this.constrain(a)},d.prototype.perform=function(){if(this.constrained){if(this.constrained=this.suggested=void 0,this.solver._needsSolving)return this.solver.solve(),this.solver._changed}else if(this.suggested)return this.suggested=void 0,this.solver.resolve(),this.solver._changed},d.prototype.addConstraint=function(a){return this.solver.addConstraint(a)},d.prototype.removeConstraint=function(a){return this.solver.removeConstraint(a)},d.prototype.unedit=function(a){var b;return a.editing?((b=this.solver._editVarMap.get(a))&&(this.solver.removeColumn(b.editMinus),this.solver._editVarMap["delete"](a)),d.__super__.unedit.apply(this,arguments)):void 0},d.prototype.edit=function(a,b,d){var e;return(e=a.editing)||(e=new c.EditConstraint(a,this.strength(b,"strong"),this.weight(d)),e.paths=[a],this.addConstraint(e),a.editing=e,this.constrained||(this.constrained=[])),e},d.prototype.nullify=function(a){return this.solver._externalParametricVars["delete"](a),this.solver._externalRows["delete"](a)},d.prototype.suggest=function(a,b,c,d,e){var f,g,h;if("string"==typeof a){if(!(f=this.variables[a])){if(!e)return this.verify(a,b);f=this.declare(a),g=(h=this.variables)[e]||(h[e]=[]),g.push(f)}}else f=a;return this.edit(f,c,d,e),this.solver.suggestValue(f,b),this.suggested=!0,f},d.prototype.variable=function(a){return new c.Variable({name:a})},d.prototype.stay=function(){var a,b,c;for(this.suggested=!0,b=0,c=arguments.length;c>b;b++)a=arguments[b],this.solver.addStay(a)},d}(e),f.prototype.Methods=function(a){function b(){return h=b.__super__.constructor.apply(this,arguments)}return j(b,a),b.prototype.get={command:function(a,b,c,d,e,f,g){var h,i,j,k,l,m;if("function"==typeof this.properties[f]&&c&&c!==this.scope)return this.properties[f].call(this,e,e);if(h=this.getPath(e,f),j=this.declare(h,a),j.constraints)for(m=j.constraints,k=0,l=m.length;l>k;k++)if(i=m[k],i.domain&&i.domain.frame&&i.domain.frame!==this.frame)return delete this.added[h],j.value;return[j,g||f&&e||""]}},b.prototype.strength=function(a,b){return null==b&&(b="medium"),a&&c.Strength[a]||c.Strength[b]},b.prototype.weight=function(a){return a},b.prototype.varexp=function(a){return new c.Expression({name:a})},b.prototype.suggest=function(){return this.suggest.apply(this,arguments)},b.prototype["=="]=function(a,b,d,e){return new c.Equation(a,b,this.strength(d),this.weight(e))},b.prototype["<="]=function(a,b,d,e){return new c.Inequality(a,c.LEQ,b,this.strength(d),this.weight(e))},b.prototype[">="]=function(a,b,d,e){return new c.Inequality(a,c.GEQ,b,this.strength(d),this.weight(e))},b.prototype["<"]=function(a,b,d,e){return new c.Inequality(a,c.LEQ,b,this.strength(d),this.weight(e))},b.prototype[">"]=function(a,b,d,e){return new c.Inequality(a,c.GEQ,b,this.strength(d),this.weight(e))},b.prototype["+"]=function(a,b){return c.plus(a,b)},b.prototype["-"]=function(a,b){return c.minus(a,b)},b.prototype["*"]=function(a,b){return c.times(a,b)},b.prototype["/"]=function(a,b){return c.divide(a,b)},b}(e.prototype.Methods),d.exports=f}),a.register("gss/lib/domains/Intrinsic.js",function(a,b,c){var d,e,f,g={}.hasOwnProperty,h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};f=b("./Numeric"),e=b("../methods/Native"),d=function(a){function c(){this.types=new this.Types(this),this.units=new this.Units(this)}return h(c,a),c.prototype.priority=100,c.prototype.structured=!0,c.prototype.immediate=!0,c.prototype.Types=b("../methods/Types"),c.prototype.Units=b("../methods/Units"),c.prototype.Style=b("../concepts/Style"),c.prototype.Methods=e.prototype.mixin(new f.prototype.Methods,b("../methods/Types"),b("../methods/Units"),b("../methods/Transformations")),c.prototype.Properties=e.prototype.mixin({},b("../properties/Dimensions"),b("../properties/Styles")),c.prototype.getComputedStyle=function(a,b){var c,d,e;return null==(e=a.currentStyle)&&(c=this.computed||(this.computed={}),d=this.identity.provide(a),e=c[d],b||null==e)?c[d]=window.getComputedStyle(a):e},c.prototype.restyle=function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r;switch(null==c&&(c=""),b){case"x":b="left";break;case"y":b="top"}if(n=this.properties[b]){if(g=this.camelize(b),"string"!=typeof c&&(c=n.toString(c)),"left"===b||"top"===b){if(m=a.style.position,void 0===a.positioned&&(a.positioned=+!!m),m&&"absolute"!==m)return;""===a.style[g]?null!=c&&""!==c&&(a.positioned=(a.positioned||0)+1):(null==c||""===c)&&(a.positioned=(a.positioned||0)-1),1===a.positioned?a.style.position="absolute":0===a.positioned&&(a.style.position="")}if(d&&(f=d.split(this.DESCEND),h=f.shift(),(j=h.lastIndexOf("$"))>-1&&(i=h.substring(j),"STYLE"===(null!=(q=p=this.identity[i])?q.tagName:void 0)))){for(k=e;k=k.parent;)if("if"===k[0]&&k[1].marked){o=!1;break}if(o!==!1&&this.stylesheets.solve(p,e,this.getContinuation(d),a,b,c))return}l=this.getPath(a,"intrinsic-"+b),(null!=(r=this.watchers)?r[l]:0)||(a.style[g]=c)}},c.prototype.solve=function(){var a;
return this.changes={},f.prototype.solve.apply(this,arguments),this.console.row("measure",arguments[0],arguments[1]),this.each(this.scope,this.update),a=this.changes,this.changes=void 0,a},c.prototype.get=function(a,b,c){var d,e,g,h,i;if(g=this.getPath(a,b),null!=(h=this.properties[g]))return i="function"==typeof h?h.call(this,a,c):h,this.set(null,g,i),i;if((e=g.indexOf("["))>-1&&(d=g.substring(0,e),b=g.substring(e+1,g.length-1),a=this.identity.solve(g.substring(0,e)),null!=(h=this.properties[b]))){if(h.axiom)return h.call(this,a,c);if("function"!=typeof h)return h;if(!h.matcher&&-1===b.indexOf("intrinsic"))return h.call(this,a,c)}return f.prototype.get.call(this,null,g,c)},c.prototype.validate=function(){var a;if(a=this.objects)return this.engine.updating.reflown=this.scope},c.prototype.verify=function(a,b,c){var d;return d=this.getPath(a,b),this.values.hasOwnProperty(d)?this.set(null,d,this.get(null,d,c)):void 0},c.prototype.each=function(a,b,c,d,e,f,g,h,i){var j,k,l,m,n;for(null==c&&(c=0),null==d&&(d=0),n=this.engine.scope,a||(a=n),(m=b.call(this,a,c,d,f,g,h,i))&&(c+=m.x||0,d+=m.y||0),a.offsetParent===n?(c-=n.offsetLeft,d-=n.offsetTop):a!==n&&(m||(l=!0)),a===document&&(a=document.body),j=a.firstChild,k=0;j;)1===j.nodeType&&(l&&0===k&&j.offsetParent===a&&(c+=a.offsetLeft+a.clientLeft,d+=a.offsetTop+a.clientTop,e=a),"relative"===j.style.position?this.each(j,b,0,0,e,f,g,h,i):this.each(j,b,c,d,e,f,g,h,i),k++),j=j.nextSibling;return f},c.prototype.getStyle=function(a,b){var c,d;return d=a.style[b]||this.getComputedStyle(a)[b],d&&(c=parseFloat(d),String(c)===String(d)||c+"px"===d)?c:d},c.prototype.onWatch=function(a,b){var c;return(c=this.identity.solve(a))&&1===c.nodeType&&(b.indexOf("intrinsic-")>-1&&(b=b.substring(10)),void 0!==this.engine.values[this.getPath(a,b)])?c.style[b]="":void 0},c.prototype.update=function(a,b,c,d){var e,f,g,h,i;if(this.objects&&(e=a._gss_id)&&(g=this.objects[e]))for(f in g)if(!d||"width"!==f&&"height"!==f)switch(f){case"x":case"intrinsic-x":this.set(e,f,b+a.offsetLeft);break;case"y":case"intrinsic-y":this.set(e,f,c+a.offsetTop);break;case"width":case"intrinsic-width":this.set(e,f,a.offsetWidth);break;case"height":case"intrinsic-height":this.set(e,f,a.offsetHeight);break;default:h=this.getIntrinsicProperty(f)||f,(null!=(i=this.properties[h])?i.matcher:void 0)?this.set(e,f,this.getStyle(a,h)):this.set(e,f,this.get(a,f))}},c.condition=function(){return null!=this.scope},c.prototype.url=null,c}(f),c.exports=d}),a.register("gss/lib/domains/Finite.js",function(a,b,c){var d,e,f,g={}.hasOwnProperty,h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("../concepts/Domain"),e=function(a){function c(){c.__super__.constructor.apply(this,arguments)}return h(c,a),c.prototype.priority=-10,c.prototype.Wrapper=b("../concepts/Wrapper"),c}(d),e.prototype.Methods=function(a){function b(){return f=b.__super__.constructor.apply(this,arguments)}return h(b,a),b.prototype.value=function(a){return a},b.prototype.variable=function(a){return this.solver.decl(a)},b.prototype["=="]=function(a,b){return this.solver.eq(a,b)},b.prototype["!="]=function(a,b){return this.solver.neq(a,b)},b.prototype.distinct=function(){return this.solver.distinct.apply(this.solver,arguments)},b.prototype["<="]=function(a,b){return this.solver.lte(a,b)},b.prototype[">="]=function(a,b){return this.solver.gte(a,b)},b.prototype["<"]=function(a,b){return this.solver.lt(a,b)},b.prototype[">"]=function(a,b){return this.solver.gt(a,b)},b.prototype["+"]=function(a,b){return this.solver.plus(a,b)},b.prototype["-"]=function(a,b){return this.solver.minus(a,b)},b.prototype["*"]=function(a,b){return this.solver.product(a,b)},b.prototype["/"]=function(a,b){return this.solver.divide(a,b)},b}(d.prototype.Methods),c.exports=e}),a.register("gss/lib/domains/Document.js",function(a,b,c){var d,e,f,g={}.hasOwnProperty,h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=b("./Abstract"),f=b("../methods/Native"),e=function(a){function c(){var a,b,d,e,f,g,h;(a=this.engine).positions||(a.positions=new this.Positions(this)),(b=this.engine).stylesheets||(b.stylesheets=new this.Stylesheet(this)),(d=this.engine).applier||(d.applier=this.engine.positions),(e=this.engine).scope||(e.scope=document),(f=this.engine).queries||(f.queries=new this.Queries(this)),(g=this.engine).pairs||(g.pairs=new this.Pairs(this)),(h=this.engine).mutations||(h.mutations=new this.Mutations(this)),this.engine.all=this.engine.scope.getElementsByTagName("*"),9===this.scope.nodeType&&-1===["complete","loaded"].indexOf(this.scope.readyState)?(this.scope.addEventListener("DOMContentLoaded",this.engine),document.addEventListener("readystatechange",this.engine),window.addEventListener("load",this.engine)):this.running&&this.events.compile.call(this),this.scope.addEventListener("scroll",this.engine,!0),"undefined"!=typeof window&&null!==window&&window.addEventListener("resize",this.engine),c.__super__.constructor.apply(this,arguments)}return h(c,a),c.prototype.priority=1/0,c.prototype.Methods=f.prototype.mixin({},d.prototype.Methods,b("../methods/Selectors"),b("../methods/Rules")),c.prototype.Queries=b("../modules/Queries"),c.prototype.Pairs=b("../modules/Pairs"),c.prototype.Mutations=b("../modules/Mutations"),c.prototype.Positions=b("../modules/Positions"),c.prototype.Stylesheet=b("../modules/Stylesheets"),c.prototype.helps=!0,c.prototype.disconnected=!0,c.prototype.events={resize:function(a){var b;if(null==a&&(a="::window"),b=a.target&&this.identity.provide(a.target)||a,a.target&&this.updating){if(this.updating.resizing)return this.updating.resizing="scheduled";this.updating.resizing="computing",this.once("solve",function(){return setTimeout(function(){var a;return"scheduled"===(null!=(a=this.updated)?a.resizing:void 0)?this.triggerEvent("resize"):void 0},10)})}return this.solve(b+" resized",function(){return this.intrinsic.verify(b,"width"),this.intrinsic.verify(b,"height")})},scroll:function(a){var b;return null==a&&(a="::window"),b=a.target&&this.identity.provide(a.target)||a,this.solve(b+" scrolled",function(){return this.intrinsic.verify(b,"scroll-top"),this.intrinsic.verify(b,"scroll-left")})},solve:function(){var a,b,c,d,e,f,g,h;if(9===this.scope.nodeType&&(a=this.scope.body.parentNode,c=a.className,-1===c.indexOf("gss-ready")&&(null!=(f=this.mutations)&&f.disconnect(),a.className=(c&&c+" "||"")+"gss-ready",null!=(g=this.mutations)&&g.connect())),this.document.removed){for(h=this.document.removed,d=0,e=h.length;e>d;d++)b=h[d],this.identity.unset(b);return this.document.removed=void 0}},DOMContentLoaded:function(){return this.scope.removeEventListener("DOMContentLoaded",this),void 0===this.running?this.engine.compile():void 0},readystatechange:function(){return document.removeEventListener("readystatechange",this),void 0===this.running&&this.triggerEvent("DOMContentLoaded"),this.solve("Document","onload",function(){return this.intrinsic.solve([])})},load:function(){return void 0===this.running&&this.triggerEvent("DOMContentLoaded"),window.removeEventListener("load",this),this.solve("Document","onload",function(){return this.intrinsic.solve([])})},compile:function(){return this.stylesheets.compile()},destroy:function(){return this.scope.removeEventListener("DOMContentLoaded",this),this.scope.removeEventListener("scroll",this),window.removeEventListener("resize",this),this.events.destroy.apply(this,arguments)}},c.condition=function(){return null!=this.scope},c.prototype.url=null,c}(d),c.exports=e}),a.register("gss/lib/modules/Expressions.js",function(a,b,c){var d;d=function(){function a(a){this.engine=a}return a.prototype.displayName="Expressions",a.prototype.solve=function(a,b,c,d,e,f){var g,h,i,j,k,l;if(null==c&&(c=this.engine.scope),a.def||this.analyze(a),d!==a&&(i=null!=(k=a.parent)&&null!=(l=k.def)?l.solve:void 0)){if(j=i.call(this.engine,a,b,c,d,e,f),j===!1)return;"string"==typeof j&&(b=j)}if(a.tail&&(a=this.skip(a,e,b)),b&&a.path&&a.def.serialized)switch(h=this.engine.getOperationSolution(a,b,c),typeof h){case"string":if(a.def.virtual&&h.charAt(0)!==this.engine.PAIR)return h;b=h,h=void 0;break;case"object":return h;case"boolean":return}if(void 0===h){if(g=this.descend(a,b,c,d,e,f),g===!1)return;a.name&&!a.def.hidden&&this.engine.console.row(a,g,b||""),a.def.noop?h=g:(h=this.execute(a,b,c,g),b=this.engine.getOperationPath(a,b,c))}return this.ascend(a,b,h,c,d,e)},a.prototype.execute=function(a,b,c,d){var e,f,g,h,i,j,k,l;if(c||(c=this.engine.scope),d?i=this.engine.getContext(d,a,c,i):(i=c,(d||(d=[])).unshift(c)),(g=a.func)||(h=a.method)&&(i&&(g=i[h])&&(d[0]===i&&d.shift(),f=i),g||(!f&&(g=c[h])?f=c:(e=this.engine.methods[h])&&(g=this.engine[e.displayName],a.def.scoped&&a.bound&&d.unshift(c)))),!g)throw new Error("Couldn't find method: "+a.method);return(k=a.def.before)&&(l=this.engine[k](f||i||c,d,a,b,c)),void 0===l&&(l=g.apply(f||this.engine,d)),(j=a.def.after)&&(l=this.engine[j](f||i||c,d,l,a,b,c)),l},a.prototype.descend=function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q;for(g=l=void 0,n=a.skip,m=0,k=a.offset||0,j=p=0,q=a.length;q>p;j=++p)if(h=a[j],!(k>j))if(k||0!==j||a.def.noop){if(e===j)h=f;else{if(n===j){m--;continue}h instanceof Array&&(i=null!=e?this.engine.getDescendingContinuation(a,b,e):b,h=this.solve(h,i,c,d,void 0,l))}if(void 0!==h)(g||(g=[]))[j-k+m]=l=h;else{if(!this.engine.eager&&!a.def.eager||null!=e)if(a.def.capture&&(a.parent?a.def.noop:!a.name))o=!0;else if(!a.def.noop||a.name)return!1;k+=1}}else g=[a,b||a.path,c,d],m+=3;return g},a.prototype.ascend=function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p;if(null!=c){if((i=a.parent)&&(j=i.def),!i||!j&&!a.def.noop||i.domain!==a.domain&&i.domain!==this.engine.document&&i.domain!==this.engine)return i&&("string"==typeof i[0]||a.exported)&&i.domain!==a.domain?(b||"get"!==a[0]||(b=a[3]),l=["value",c,b||"",a.toString()],(k=d!==this.engine.scope&&d)||"get"===a[0]&&a[4]&&(k=this.engine.identity.solve(a[4])),(a.exported||k)&&l.push(null!=(p=a.exported)?p:null),k&&l.push(this.engine.identity.provide(k)),l.operation=a,l.parent=a.parent,l.domain=a.domain,l.index=a.index,i[a.index]=l,void this.engine.engine.provide(l)):this.engine.provide(c);if(i&&this.engine.isCollection(c)){for(this.engine.console.group("%s 				%O			%c%s",this.engine.ASCEND,a.parent,"font-weight: normal; color: #999",b),m=0,n=c.length;n>m;m++)h=c[m],g=this.engine.getAscendingContinuation(b,h),this.ascend(a,g,h,d,e,a.index);return void this.engine.console.groupEnd()}if(null!=j&&null!=(o=j.capture)?o.call(this.engine,c,a,b,d,e,f):void 0)return;if(a.def.noop&&a.name&&1===c.length)return;if(i.name){if(i&&(null!=f||(c.nodeType||a.def.serialized)&&(!a.def.hidden||i.tail===i)))return void this.solve(i,b,d,e,a.index,c)}else if(!(!c||i&&(j&&!j.noop||i.parent&&1!==i.length)&&null==f))return 1===c.length&&(c=c[0]),this.engine.provide(c);return c}return c},a.prototype.skip=function(a,b,c){var d;return a.tail.path===a.tail.key||null!=b||c&&c.lastIndexOf(this.engine.PAIR)!==c.indexOf(this.engine.PAIR)?(d=a.tail).shortcut||(d.shortcut=this.engine.methods[a.def.group].perform.call(this.engine,a)):a.tail[1]},a.prototype.analyze=function(a,b){var c,d,e,f,g,h,i,j,k;if("string"==typeof a[0]&&(a.name=a[0]),d=this.engine.methods[a.name],b&&(null==a.parent&&(a.parent=b),null==a.index&&(a.index=b.indexOf(a)),(b.bound||(null!=(k=b.def)?k.bound:void 0)===a.index)&&(a.bound=b)),a.arity=a.length-1,d&&d.lookup)switch(a.arity>1?(a.arity--,a.skip=a.length-a.arity):a.skip=1,a.name=(d.prefix||"")+a[a.skip]+(d.suffix||""),h=d,typeof d.lookup){case"function":d=d.lookup.call(this,a);break;case"string":d=this.engine.methods[d.lookup+a.name];break;default:d=this.engine.methods[a.name]}for(a.def=d||(d={noop:!0}),a.domain=this.engine,"function"==typeof d.onAnalyze&&d.onAnalyze(a),f=i=0,j=a.length;j>i;f=++i)c=a[f],c instanceof Array&&this.analyze(c,a);return b&&(g=a.def.mark||a.marked)&&b&&!b.def.capture&&(b.marked=g),d.noop?void 0:(d.serialized&&(a.key=this.serialize(a,h,!1),a.path=this.serialize(a,h),d.group&&(a.groupped=this.serialize(a,h,d.group))),d.init&&this.engine[d.init](a,!1),"function"==typeof d?(e=d,a.offset=1):(e=d[a.arity])?a.offset=1:e=d.command,d.offset&&null==a.offset&&(a.offset=d.offset),"string"==typeof e?a.method=e:a.func=e,a)},a.prototype.serialize=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;if(g=a.def,m=g.prefix||(null!=b?b.prefix:void 0)||a.def.noop&&a.name||"",o=g.suffix||(null!=b?b.suffix:void 0)||"",(n=a.def.separator)&&c)for(j=q=1,s=a.length;s>=1?s>q:q>s;j=s>=1?++q:--q)if((l=a[j])&&l.path!==l.groupped)return;for(d=e="",j=r=1,t=a.length;t>=1?t>r:r>t;j=t>=1?++r:--r)if(l=a[j])if("object"!=typeof l)a.def.binary&&d&&!f?(d=l+d,f=!0):f?a.def.quote&&(d+='"'+l+'"'):d+=l;else if(l.key&&c!==!1)if(c&&(i=this.engine.methods[c])){if(l.def.group!==c){c=!1;continue}for(h=j,k=void 0;k=a[++h];)if(k.def&&(k.def.group!==c||k.marked!==l.marked)){c=!1;break}if(!k){if(!(p=l.tail||(l.tail=i.condition(l)&&l)))continue;a.groupped=i.promise(l,a),p.head=a,a.tail=p,e+=(e&&n||"")+l.groupped||l.key}}else e+=n?(e&&n||"")+l.path:l.path;return e+m+d+o},a}(),this.module||(this.module={}),c.exports=d}),a.register("gss/lib/modules/Identity.js",function(a,b,c){var d;d=function(){function a(){}return a.uid=0,a.prototype.provide=function(b,c){var d,e;return"string"==typeof b?"$"!==b.charAt(0)?"$"+b:b:((d=b._gss_id)||(b===document?d="::document":b===window&&(d="::window"),c!==!1&&((e=b._gss_uid)&&(b._gss_id=e),b._gss_id=d||(d="$"+(b.id||b._gss_id||++a.uid)),this[d]=b)),d)},a.prototype.get=function(a){return this[a]},a.prototype.solve=function(a){return this[a]},a.prototype.unset=function(a){return delete this[a._gss_id]},a.prototype.find=function(a){return this.provide(a,!1)},a}(),c.exports=d}),a.register("gss/lib/modules/Positions.js",function(a,b,c){var d;d=function(){function a(a){this.engine=a}return a.prototype.provide=function(a,b,c,d){var e,f,g;if(null==a){if(g=b,f=g.lastIndexOf("["),-1===f)return;b=g.substring(f+1,g.length-1),a=g.substring(0,f)}else g=this.engine.getPath(a,b);if(":"!==a.charAt(0)){if(!(e=this.engine.identity[a])){if(a.indexOf('"')>-1)return;if(!(e=this.engine.getElementById(this.engine.scope,a.substring(1))))return}return!d||"x"!==b&&"y"!==b?this.engine.intrinsic.restyle(e,b,c):(d[a]||(d[a]={}))[b]=c}},a.prototype.solve=function(a,b){var c,d,e,f,g,h,i,j;if(b||(b=this.reflown||this.engine.scope),null!=(i=this.engine.mutations)&&i.disconnect(),e={},a)for(d in a)h=a[d],void 0!==h&&this.provide(null,d,h,e);this.engine.intrinsic.each(b,this.placehold,null,null,null,e,!!a);for(c in e){g=e[c];for(f in g)h=g[f],this.provide(c,f,h)}return null!=(j=this.engine.mutations)&&j.connect(),a},a.prototype.placehold=function(a,b,c,d){var e,f,g,h,i,j,k,l;if(f=void 0,(j=a._gss_id)&&(h=null!=d?d[j]:void 0,(l=this.engine.values)&&(void 0===(null!=h?h.x:void 0)&&null!=(e=l[j+"[x]"])&&((h||(h=d[j]||(d[j]={}))).x=e),void 0===(null!=h?h.y:void 0)&&null!=(i=l[j+"[y]"])&&((h||(h=d[j]||(d[j]={}))).y=i)),h))for(g in h)if(k=h[g],null!==k)switch(g){case"x":h.x=k-b,(f||(f={})).x=k-b;break;case"y":h.y=k-c,(f||(f={})).y=k-c}return f},a}(),c.exports=d}),a.register("gss/lib/modules/Queries.js",function(a,b,c){var d;d=function(){function a(a){this.engine=a,this.watchers={},this.mutations=[]}return a.prototype.onBeforeSolve=function(){var a,b,c,d,e,f,g,h,i,j;for(d=0;this.mutations[d];)g=this.mutations.splice(0,3),this.engine.document.solve(g[0],g[1],g[2]);if(d=0,this.ascending){for(;this.ascending[d];){if(b=this.ascending[d+1],a=this[b],f=null!=(i=this.engine.updating)&&null!=(j=i.collections)?j[b]:void 0)for(a=a.slice(),a.isCollection=!0,c=h=a.length-1;h>=0;c=h+=-1)e=a[c],f.indexOf(e)>-1&&a.splice(c,1);(null!=a?a.length:void 0)&&this.engine.document.expressions.ascend(this.ascending[d],b,a,this.ascending[d+2]),d+=3}this.ascending=void 0}return this},a.prototype.addMatch=function(a,b){var c;if(1===a.nodeType)return(c=b.indexOf(this.engine.DESCEND))>-1&&(b=b.substring(c+1)),b=this.engine.getCanonicalSelector(b),a.setAttribute("matches",(a.getAttribute("matches")||"")+" "+b.replace(/\s+/,this.engine.DESCEND))},a.prototype.removeMatch=function(a,b){var c,d,e;if(1===a.nodeType)return(d=a.getAttribute("matches"))&&((c=b.indexOf(this.engine.DESCEND))>-1&&(b=b.substring(c+1)),e=" "+this.engine.getCanonicalSelector(b),d.indexOf(e)>-1)?a.setAttribute("matches",d.replace(e,"")):void 0},a.prototype.add=function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r;if(g=this[b]||(this[b]=[]),g.push){if(g.isCollection=!0,l=g.continuations||(g.continuations=[]),m=g.paths||(g.paths=[]),n=g.scopes||(g.scopes=[]),this.snapshot(b,g),-1===(k=g.indexOf(a))){for(k=o=0,q=g.length;q>o&&(j=g[k],this.comparePosition(j,a,l[k],e));k=++o);return g.splice(k,0,a),l.splice(k,0,e),m.splice(k,0,f),n.splice(k,0,d),this.chain(g[k-1],a,b),this.chain(a,g[k+1],b),"rule"===c.parent.name&&this.addMatch(a,b),!0}for(i=g.duplicates||(g.duplicates=[]),k=p=0,r=i.length;r>p;k=++p)if(h=i[k],h===a&&l[k]===e&&n[k]===d&&m[k]===f)return;return i.push(a),l.push(e),m.push(f),void n.push(d)}},a.prototype.get=function(a){var b;return"string"==typeof a?b=this[a]:void 0},a.prototype.unobserve=function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p;if(b!==!0&&(l=this.engine.getPossibleContinuations(b)),h=0,o="object"==typeof a&&a||this.watchers[a]){for(;n=o[h];)if(k=o[h+1],l&&(-1===l.indexOf(k)||f&&f!==o[h+2]||g&&this.engine.pairs.getTopmostOperation(n)!==g))h+=3;else{if(d){for(j=n,i=!1;j;){if(j.path===d||"::this"===(null!=(p=j.path)?p.substring(0,6):void 0)&&"::this"+d===j.path){i=!0;break}j=j.parent}if(!i){h+=3;continue}}m=o[h+2],o.splice(h,3),c||this.clean(n,k,n,m,!0,null!=e?e:k)}return o.length||o!==this.watchers[a]?void 0:delete this.watchers[a]}},a.prototype.filterByScope=function(a,b,c,d){var e,f,g,h,i,j,k,l;if(!(null!=a?a.scopes:void 0))return a;for(f=a.length,g=[],c&&(c=this.engine.pairs.getTopmostOperation(c)),l=a.scopes,e=j=0,k=l.length;k>j;e=++j)if(h=l[e],h===b){if(c&&a.continuations&&(d=this.engine.pairs.getTopmostOperation(a.continuations[e]),d!==c))continue;i=f>e?a[e]:a.duplicates[e-f],-1===g.indexOf(i)&&g.push(i)}return g},a.prototype.snapshot=function(a,b){var c,d,e;if(!(d=(e=this.engine.updating).collections||(e.collections={})).hasOwnProperty(a))return(null!=b?b.push:void 0)&&(c=b.slice(),b.isCollection&&(c.isCollection=!0),b.duplicates&&(c.duplicates=b.duplicates.slice()),b.scopes&&(c.scopes=b.scopes.slice()),b.continuations&&(c.continuations=b.continuations.slice()),b=c),d[a]=b},a.prototype.removeFromCollection=function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s,t;if(!(null!=(t=g=this.get(b))?t.continuations:void 0))return null;if(m=g.length,l=g.continuations,o=g.paths,q=g.scopes,i=null,p=null==f?[void 0]:this.engine.getPossibleContinuations(f),j=g.duplicates)for(k=r=0,s=j.length;s>r;k=++r)if(h=j[k],h===a){if(p.indexOf(o[m+k])>-1&&l[m+k]===e&&q[m+k]===d)return this.snapshot(b,g),j.splice(k,1),l.splice(m+k,1),o.splice(m+k,1),q.splice(m+k,1),!1;null==i&&(i=k)}if(c&&m&&null!=e&&(this.snapshot(b,g),(k=g.indexOf(a))>-1)){if(l){if(n=p?null:!1,q[k]!==d)return n;if(-1===p.indexOf(o[k]))return n;if(l[k]!==e)return n;if(this.snapshot(b,g),null!=i)return j.splice(i,1),o[k]=o[i+m],o.splice(i+m,1),l[k]=l[i+m],l.splice(i+m,1),q[k]=q[i+m],q.splice(i+m,1),!1}return g.splice(k,1),l&&(l.splice(k,1),o.splice(k,1),q.splice(k,1)),this.chain(g[k-1],a,b),this.chain(a,g[k],b),"rule"===c.parent.name&&this.removeMatch(a,b),!0}},a.prototype.remove=function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o;return null==e&&(e=c),null==g&&(g=b),"object"==typeof a?(i=a,a=this.engine.identity.provide(a)):i=a.indexOf('"')>-1?a:this.engine.identity[a],b?(h=this.get(b),(j=null!=c?c.parent:void 0)&&(n=this.engine.isCollection(h)?b+a:b,null!=(o=j.def.release)&&o.call(this.engine,i,c,n,d)),h=this.get(b),h&&this.engine.isCollection(h)&&this.snapshot(b,h),k=m=this.removeFromCollection(i,b,c,d,e,g),this.engine.pairs.remove(a,b),l=b+(null!=(null!=h?h.length:void 0)&&a||""),this.unobserve(a,l,void 0,void 0,l),f!==b&&(null===m&&(null!=j?j.def.release:void 0)||this.updateCollections(c,b,d,f,i,b,g),this.engine.isCollection(h)&&m!==!1&&this.clean(b+a))):i&&this.unobserve(a,!0),m},a.prototype.clean=function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o;if(a.def&&(a=a.marked&&2===a.arity?(b||"")+(a.uid||"")+(a.path||""):(b||"")+(a.uid||"")+(a.key||"")),e&&(b=a),h=this.get(a),void 0!==(h=this.get(a,void 0,!0))&&this.each("remove",h,a,c,d,c,!1,f),d&&c.def.cleaning&&this.remove(this.engine.identity.find(d),a,c,d,c,void 0,f),this.engine.solved.remove(a),null!=(m=this.engine.stylesheets)&&m.remove(a),j=!1,this.engine.isCollection(h)&&h.scopes)for(n=h.scopes,g=k=0,l=n.length;l>k;g=++k)if(i=n[g],i!==d||c&&h.continuations[g]!==c){j=!0;break}return j||this.set(a,void 0),this.mutations&&this.unobserve(this.mutations,a,!0),this.unobserve(this.engine.scope._gss_id,a),h&&this.engine.isCollection(h)||a.charAt(0)!==this.engine.PAIR&&(f=this.engine.getContinuation(a),null!=(o=this.engine.updating)&&o.remove(f),this.engine.provide(["remove",f])),!0},a.prototype.fetch=function(a,b,c,d,e){var f,g,h;return a||(a=this.engine.getContext(b,c,e,a)),f=this.engine.getQueryPath(c,a),null!=(g=this.engine.updating)&&null!=(h=g.queries)?h[f]:void 0},a.prototype.chain=function(a,b,c){return a&&(this.match(a,"$pseudo","last",void 0,c),this.match(a,"$pseudo","next",void 0,c)),b?(this.match(b,"$pseudo","previous",void 0,c),this.match(b,"$pseudo","first",void 0,c)):void 0},a.prototype.updateCollections=function(a,b,c,d,e,f,g){var h;return h=this.engine.getCanonicalPath(b),b===h||this.engine.PAIR+h===b||f!==h&&this.updateCollection(a,h,c,d,e,h,b),this.updateCollection(a,b,c,d,e,f,g||"")},a.prototype.updateCollection=function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r=this;if(e&&this.each("remove",e,b,a,c,a,f,g),d&&this.each("add",d,b,a,c,a,g),null!=(p=h=this[b])?p.continuations:void 0){for(l=h.slice().sort(function(a,b){var c,d;return c=h.indexOf(a),d=h.indexOf(b),r.comparePosition(a,b,h.continuations[c],h.continuations[d])&&-1||1}),m=void 0,q=[],j=n=0,o=l.length;o>n;j=++n)k=l[j],k!==h[j]?(m||(m=h.slice(),this[b]&&(this[b]=m),m.continuations=h.continuations.slice(),m.paths=h.paths.slice(),m.scopes=h.scopes.slice(),m.duplicates=h.duplicates,m.isCollection=h.isCollection,m[j]=k),i=h.indexOf(k),m[j]=k,m.continuations[j]=h.continuations[i],m.paths[j]=h.paths[i],m.scopes[j]=h.scopes[i],this.chain(l[j-1],k,b),q.push(this.chain(k,l[j+1],b))):q.push(void 0);return q}},a.prototype.each=function(a,b,c,d,e,f,g,h){var i,j,k,l,m;if(null==b&&(b=void 0),this.engine.isCollection(b)){for(j=b.slice(),k=void 0,l=0,m=j.length;m>l;l++)i=j[l],this[a](i,c,d,e,f,g,h)&&(k=!0);return k}return"object"==typeof b?this[a](b,c,d,e,f,g,h):void 0},a.prototype.update=function(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;if(null==c&&(c=void 0),a||(a=this.engine.getContext(b,d,f,a)),m=this.engine.getQueryPath(d,e),l=this.get(m),!d.def.relative&&!d.marked&&(n=this.engine.getQueryPath(d,a,f))&&(null!=(x=this.engine.updating.queries)?x.hasOwnProperty(n):void 0)&&(c=this.engine.updating.queries[n]),(null!=(y=this.engine.updating.collections)?y.hasOwnProperty(m):void 0)?l=this.engine.updating.collections[m]:null==l&&c&&0===c.length&&e&&(l=this.get(this.engine.getCanonicalPath(m))),k=this.engine.isCollection(c),l)if(this.engine.isCollection(l))for((null!=e?e.charAt(0):void 0)===this.engine.PAIR&&(l=this.filterByScope(l,f,d)),o=void 0,j=t=0,v=l.length;v>t;j=++t)h=l[j],l.scopes&&(null!=(z=l.scopes)?z[j]:void 0)!==f||c&&-1!==Array.prototype.indexOf.call(c,h)||(o||(o=[])).push(h);else{if(c===l)return e.charAt(0)===this.engine.PAIR?((i=this.engine.identity.provide(a))&&(p=(q=this.watchers)[i]||(q[i]=[]),-1===this.engine.indexOfTriplet(p,d,e,f)&&p.push(d,e,f)),l):void 0;c||(o=l),this.clean(m,void 0,d,f)}if(k){for(this[m]||(this[m]=[]),g=void 0,u=0,w=c.length;w>u;u++)h=c[u],l&&-1!==Array.prototype.indexOf.call(l,h)||((g||(g=[])).push(h),g.isCollection=!0);c&&c.item&&(c=Array.prototype.slice.call(c,0))}else g=c,o=l;return(null!=c?c.continuations:void 0)?this.updateCollections(d,m,f,void 0,void 0,void 0,e):this.updateCollections(d,m,f,g,o,void 0,e),(i=this.engine.identity.provide(a))&&(p=(r=this.watchers)[i]||(r[i]=[]),-1===this.engine.indexOfTriplet(p,d,e,f)&&p.push(d,e,f)),n&&(this.snapshot(n,l),((s=this.engine.updating).queries||(s.queries={}))[n]=c),this.snapshot(m,l),c!==l?((null!=c?c.push:void 0)||this.set(m,c),g):void 0},a.prototype.set=function(a,b){var c,d;c=this[a],null==b&&this.snapshot(a,c),b?this[a]=b:delete this[a],null!=(d=this.engine.pairs)&&d.set(a,b)},a.prototype.match=function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r;if((i=this.engine.identity.provide(a))&&(n=this.watchers[i])){for(e&&(l=this.engine.getCanonicalPath(e)),j=o=0,q=n.length;q>o;j=o+=3)if(k=n[j],h=k[b]){if(g=n[j+1],l&&l!==this.engine.getCanonicalPath(g))continue;if(m=n[j+2],c)this.qualify(k,g,m,h,c);else if(d.nodeType)this.qualify(k,g,m,h,d.tagName,"*");else if("string"==typeof d)this.qualify(k,g,m,h,d,"*");else for(p=0,r=d.length;r>p;p++)f=d[p],"string"==typeof f?this.qualify(k,g,m,h,f,"*"):this.qualify(k,g,m,h,f.tagName,"*")}return this}},a.prototype.qualify=function(a,b,c,d,e,f){var g,h,i,j,k,l,m;if(((h=d[e])||f&&d[f])&&-1===this.engine.indexOfTriplet(this.mutations,a,b,c)){for(i=(b||"").length,m=this.mutations,g=k=0,l=m.length;l>k&&(j=m[g],!((this.mutations[g+1]||"").length>i));g=k+=3);this.mutations.splice(g,0,a,b,c)}return this},a.prototype.getParentScope=function(a,b){var c,d,e,f,g,h,i;for(this.ScopeSplitterRegExp||(this.ScopeSplitterRegExp=new RegExp(this.engine.DESCEND+"|"+this.engine.ASCEND+"::this","g")),d=a.split(this.ScopeSplitterRegExp),d[d.length-1]||d.pop(),d.pop(),g=i=d.length-1;i>=0;g=i+=-1){for(c=d[g],h=b.parent,e=this.engine.getCanonicalPath(c);(h=h.parent)&&("rule"!==h.name||h[1].path!==e););if(h)break;d.splice(g,1)}return a=d.join(this.engine.DESCEND),!a||1===d.length&&d[0].indexOf('style[type*="text/gss"]')>-1?this.engine.scope:(f=a.match(this.engine.pairs.TrailingIDRegExp))?f[1].indexOf('"')>-1?f[1]:this.engine.identity[f[1]]:this.engine.queries[a]},a.prototype.getScopedCollection=function(a,b,c){var d,e;return e=this.engine.getContinuation(this.engine.getCanonicalPath(b)),d=this.get(e),a[1].marked?d=this.filterByScope(d,c):a[1].def.mark&&(d=this.filterByScope(d,this.getParentScope(b,a))),d},a.prototype.comparePosition=function(a,b,c,d){var e,f,g,h;if(c!==d){for(c.index>d.index?(f=d,h=c):(f=c,h=d),e=f.index;(g=c.parent[++e])&&g!==h;)if("$virtual"===g[0])return c.index<d.index;if(!a.nodeType||!b.nodeType)return c.index<d.index}return a.compareDocumentPosition?4&a.compareDocumentPosition(b):a.sourceIndex<b.sourceIndex},a}(),c.exports=d}),a.register("gss/lib/modules/Mutations.js",function(a,b,c){var d;d=function(){function a(a){this.engine=a,this.Observer&&(this.listener=new this.Observer(this.solve.bind(this.engine)))}return a.prototype.options={subtree:!0,childList:!0,attributes:!0,characterData:!0,attributeOldValue:!0},a.prototype.Observer="undefined"!=typeof window&&null!==window&&(window.MutationObserver||window.WebKitMutationObserver||window.JsMutationObserver),a.prototype.connect=function(){var a;return null!=(a=this.listener)?a.observe(this.engine.scope,this.options):void 0},a.prototype.disconnect=function(){var a;return null!=(a=this.listener)?a.disconnect():void 0},a.prototype.filter=function(){return!0},a.prototype.solve=function(a){var b;return this.engine.engine.running?(b=this.engine.engine.solve("mutations",function(){var b,c,d;for(this.engine.updating.reset(),c=0,d=a.length;d>c;c++)if(b=a[c],this.mutations.filter(b)!==!1){switch(b.type){case"attributes":this.mutations.onAttributes(b.target,b.attributeName,b.oldValue);break;case"childList":this.mutations.onChildList(b.target,b);break;case"characterData":this.mutations.onCharacterData(b.target,b)}this.intrinsic.validate(b.target)}}),this.engine.scope.parentNode||1!==this.engine.scope.nodeType||this.engine.destroy(),b):this.engine.engine.compile(!0)},a.prototype.onChildList=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb;for(c=[],y=[],this.onCharacterData(a,a),ab=b.addedNodes,E=0,I=ab.length;I>E;E++)k=ab[E],1===k.nodeType&&c.push(k);for(bb=b.removedNodes,F=0,J=bb.length;J>F;F++)k=bb[F],1===k.nodeType&&((p=c.indexOf(k))>-1?c.splice(p,1):y.push(k));for(i=c.concat(y),j=[],G=0,O=i.length;O>G;G++)u=i[G],z=u.tagName,-1===j.indexOf(z)&&j.push(z);for(w=t=b,n=m=!0;w=w.previousSibling;)1===w.nodeType&&(n&&(this.engine.queries.match(w,"+",void 0,"*"),this.engine.queries.match(w,"++",void 0,"*"),n=!1),this.engine.queries.match(w,"~",void 0,j),this.engine.queries.match(w,"~~",void 0,j),t=w);for(;t=t.nextSibling;)1===t.nodeType&&(m&&(this.engine.queries.match(t,"!+",void 0,"*"),this.engine.queries.match(t,"++",void 0,"*"),m=!1),this.engine.queries.match(t,"!~",void 0,j),this.engine.queries.match(t,"~~",void 0,j));for(this.engine.queries.match(a,">",void 0,j),d=[],g=[],f=[],s=[],H=0,P=c.length;P>H;H++)for(k=c[H],this.engine.queries.match(k,"!>",void 0,a),d.push(k),cb=k.getElementsByTagName("*"),W=0,Q=cb.length;Q>W;W++)l=cb[W],d.push(l);for(X=0,R=y.length;R>X;X++)for(k=y[X],g.push(k),db=k.getElementsByTagName("*"),Y=0,S=db.length;S>Y;Y++)l=db[Y],g.push(l);for(e=d.concat(g,f),A={},Z=0,T=e.length;T>Z;Z++){for(u=e[Z],eb=u.attributes,$=0,U=eb.length;U>$;$++){switch(h=eb[$],h.name){case"class":for(fb=u.classList||u.className.split(/\s+/),_=0,V=fb.length;V>_;_++)r=fb[_],this.index(A," $class",r);break;case"id":this.index(A," $id",h.value)}this.index(A," $attribute",h.name)}for(w=t=u;w=w.previousSibling;)if(1===w.nodeType){this.index(A," +",w.tagName);break}for(;(t=t.nextSibling)&&1!==t.nodeType;);w||this.index(A," $pseudo","first-child"),t||this.index(A," $pseudo","last-child"),this.index(A," +",k.tagName)}for(v=a;v;){for(this.engine.queries.match(v," ",void 0,e),gb=0,K=e.length;K>gb;gb++)k=e[gb],this.engine.queries.match(k,"!",void 0,v);for(x in A)for(C=A[x],hb=0,L=C.length;L>hb;hb++)B=C[hb],"$"===x.charAt(1)?this.engine.queries.match(v,x,B):this.engine.queries.match(v,x,void 0,B);if(v===this.engine.scope)break;if(!(v=v.parentNode))break}for(ib=0,M=g.length;M>ib;ib++)y=g[ib],-1===d.indexOf(y)&&(o=this.engine.identity.find(y))&&((D=this.engine).removed||(D.removed=[])).push(o);if(this.engine.removed)for(jb=0,N=d.length;N>jb;jb++)c=d[jb],(q=this.engine.removed.indexOf(this.engine.identity.find(c)))>-1&&this.engine.removed.splice(q,1);return this},a.prototype.index=function(a,b,c){var d;if(d=a[b]){if(-1!==d.indexOf(c))return}else a[b]=[];return a[b].push(c)},a.prototype.onCharacterData=function(a,b){var c,d;return null==b&&(b=a.parentNode),(c=this.engine.identity.find(b))&&"STYLE"===b.tagName&&(null!=(d=b.getAttribute("type"))?d.indexOf("text/gss"):void 0)>-1?this.engine.eval(b):void 0},a.prototype.onAttributes=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p;if("style"===b&&(this.engine.engine.restyled=!0),"class"===b&&"string"==typeof c){for(f=a.classList||a.className.split(/\s+/),h=c.split(" "),c=[],j=0,m=h.length;m>j;j++)g=h[j],g&&(null!=(p=f.indexOf&&f.indexOf(g)>-1)?p:f.contains(g))||c.push(g);for(k=0,n=f.length;n>k;k++)g=f[k],g&&h.indexOf(g)>-1||c.push(g)}for(i=a;i;){if(d=a===i&&"$attribute"||" $attribute",this.engine.queries.match(i,d,b,a),(null!=c?c.length:void 0)&&"class"===b)for(e=a===i&&"$class"||" $class",l=0,o=c.length;o>l;l++)g=c[l],this.engine.queries.match(i,e,g,a);if(i===this.engine.scope)break;if(!(i=i.parentNode))break}return this},a}(),c.exports=d}),a.register("gss/lib/modules/Pairs.js",function(a,b,c){var d;d=function(){function a(a){this.engine=a,this.lefts=[],this.paths={}}return a.prototype.onLeft=function(a,b,c){var d,e,f;return e=this.engine.getCanonicalPath(b),f=this.getTopmostOperation(a),-1===this.engine.indexOfTriplet(this.lefts,f,e,c)?(this.lefts.push(f,e,c),d=this.engine.PAIR,this.engine.PAIR):((this.dirty||(this.dirty={}))[e]=!0,!1)
},a.prototype.getTopmostOperation=function(a){for(;!a.def.noop;)a=a.parent;return a},a.prototype.onRight=function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n;for(e=this.engine.getCanonicalPath(b.substring(0,b.length-1)),i=this.getTopmostOperation(a),n=this.lefts,f=l=0,m=n.length;m>l;f=l+=3)g=n[f],g===i&&this.lefts[f+2]===c&&(d=this.lefts[f+1],this.watch(a,b,c,d,e));return d?(d=this.engine.getCanonicalPath(d),h=(k=this.paths)[d]||(k[d]=[]),-1===h.indexOf(e)&&(j=h.push(e,a,c)),void 0===this.repairing&&((this.dirty||(this.dirty={}))[d]=!0),!1):void 0},a.prototype.remove=function(a,b){return this.paths[b]?(this.dirty||(this.dirty={}))[b]=!0:void 0},a.prototype.getSolution=function(a,b,c){var d,e,f,g,h,i,j,k,l,m;if(i=b.lastIndexOf(this.engine.PAIR),i>0){for(j=a;(j=j.parent)&&!j.def.noop;);if(e=b.indexOf(this.engine.PAIR),0===e&&i===b.length-1&&null!=this.onRight(a,b,c))return!1;if(a.def.serialized){for(k=-1;(h=b.indexOf(this.engine.PAIR,k+1))>-1;){if(m=this.getSolution(a,b.substring(k||0,h),c,!0))return m;k=h}if(e===b.length-1)return this.onLeft(a,b,c)}}else{if(1===b.length)return;if(d=this.engine.getCanonicalPath(b,!0),d.charAt(0)===this.engine.PAIR&&(d=d.substring(1)),"::this"===a.path.substring(0,6)&&(l=(f=d.lastIndexOf("::this"))>-1?d.substring(f):"::this"+d),d===a.path||l===a.path)return(g=b.match(this.TrailingIDRegExp))?g[1].indexOf('"')>-1?g[1]:this.engine.identity[g[1]]:this.engine.queries[b]}},a.prototype.TrailingIDRegExp=/(\$[a-z0-9-_"]+)[]?$/i,a.prototype.onBeforeSolve=function(){var a,b,c,d,e,f,g,h,i;if(a=this.dirty,delete this.dirty,this.repairing=!0,a)for(e in a)if(f=a[e],d=null!=(i=this.paths[e])?i.slice():void 0)for(b=g=0,h=d.length;h>g;b=g+=3)c=d[b],this.solve(e,c,d[b+1],d[b+2]);return delete this.repairing},a.prototype.match=function(a,b,c){var d,e;if((e=a.indexOf(b))>-1){if(a.scopes[e]===c)return!0;if(e=-1,d=a.duplicates)for(;(e=d.indexOf(b,e+1))>-1;)if(a.scopes[e+a.length]===c)return!0}},a.prototype.count=function(a){return(null!=a?a.push:void 0)?a.length:null!=a&&1||0},a.prototype.pad=function(a,b){var c,d,e;if(null!=a?a.push:void 0)return(null!=a?a.splice:void 0)?a.slice():a||[];for(d=[],c=e=0;b>=0?b>e:e>b;c=b>=0?++e:--e)d.push(a);return d.single=!0,d},a.prototype.solve=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J;for(g=this.engine.queries.get(a),i=this.engine.queries.get(b),v=this.engine.identity.provide(d),p=this.engine.updating.collections.hasOwnProperty(a)?this.engine.queries.filterByScope(this.engine.updating.collections[a],d):this.engine.queries.filterByScope(g,d),u=this.engine.updating.collections.hasOwnProperty(b)?this.engine.queries.filterByScope(this.engine.updating.collections[b],d):this.engine.queries.filterByScope(i,d),o=this.engine.queries.filterByScope(g,d,c),t=this.engine.queries.filterByScope(i,d,c,!0),e=Math.max(this.count(o),this.count(t)),f=Math.max(this.count(p),this.count(u)),o=this.pad(o,e),p=this.pad(p,f),t=this.pad(t,e),u=this.pad(u,f),s=[],h=[],n=x=0,B=p.length;B>x;n=++x)q=p[n],(o[n]!==q||u[n]!==t[n])&&(u&&u[n]&&s.push([q,u[n]]),o[n]&&t[n]&&h.push([o[n],t[n]]));if(p.length<o.length)for(n=y=I=p.length,J=o.length;J>=I?J>y:y>J;n=J>=I?++y:--y)t[n]&&h.push([o[n],t[n]]);for(j=[],z=0,C=s.length;C>z;z++)r=s[z],r[0]&&r[1]&&(l=a,p.single||(l+=this.engine.identity.provide(r[0])),l+=b,u.single||(l+=this.engine.identity.provide(r[1])),j.push(l));for(w=[],A=0,D=h.length;D>A;A++)r=h[A],l=a,o.single||(l+=this.engine.identity.provide(r[0])),l+=b,t.single||(l+=this.engine.identity.provide(r[1])),(n=j.indexOf(l))>-1?j.splice(n,1):this.engine.document.solve(c.parent,l+this.engine.PAIR,d,void 0,!0);for(G=0,E=j.length;E>G;G++)l=j[G],this.engine.queries.clean(l);for(k=!0,H=0,F=o.length;F>H;H++)if(m=o[H]){k=!1;break}return k&&this.clean(a,d,c),this.engine.console.row("repair",[[h,s],[o,t],[p,u]],this.engine.identity.provide(d)+a+b)},a.prototype.clean=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;if(l=null!=(y=this.paths)?y[a]:void 0){for(o=[],p=this.getTopmostOperation(c),g=q=0,u=l.length;u>q;g=q+=3)i=l[g],l[g+2]===b&&this.getTopmostOperation(l[g+1])===p&&o.push(g);d=o.slice(),p=this.getTopmostOperation(c),z=this.paths;for(m in z)for(k=z[m],f=r=0,v=k.length;v>r;f=r+=3)for(j=k[f],h=s=d.length-1;s>=0;h=s+=-1)g=d[h],j!==l[g]||k===l&&b===k[f+2]||d.splice(h,1);for(t=0,w=d.length;w>t;t++)g=d[t],delete this.engine.queries[n];for(x=o.length-1;x>=0;x+=-1)g=o[x],n=l[g],this.engine.queries.unobserve(b._gss_id,this.engine.PAIR,null,n.substring(1),void 0,b,p),l.splice(g,3);l.length||delete this.paths[a]}for(g=0;e=this.lefts[g+1];)e===a&&this.lefts[g+2]===b?this.lefts.splice(g,3):g+=3;return this},a.prototype.set=function(a){var b,c,d,e,f,g;if(c=null!=(e=this.paths)?e[a]:void 0)return(this.dirty||(this.dirty={}))[a]=!0;if(a.charAt(0)===this.engine.PAIR){a=this.engine.getCanonicalPath(a),f=this.paths,g=[];for(b in f)d=f[b],g.push(d.indexOf(a)>-1?(this.dirty||(this.dirty={}))[b]=!0:void 0);return g}},a.prototype.watch=function(a,b,c,d,e){var f,g;return f=(g=this.paths)[d]||(g[d]=[]),-1===this.engine.indexOfTriplet(f,e,a,c)?f.push(e,a,c):void 0},a.prototype.unwatch=function(a,b,c,d,e){var f,g,h;return g=(h=this.paths)[d]||(h[d]=[]),-1!==(f=this.engine.indexOfTriplet(g,e,a,c))?g.splice(f,3):void 0},a}(),c.exports=d}),a.register("gss/lib/modules/Stylesheets.js",function(a,b,c){var d;d=function(){function a(a){this.engine=a,this.watchers={},this.sheets={}}return a.prototype.initialize=[["eval",["$attribute",["$tag","style"],"*=","type","text/gss"]],["load",["$attribute",["$tag","link"],"*=","type","text/gss"]]],a.prototype.compile=function(){return this.engine.engine.solve("Document","stylesheets",this.initialize),this.inline=this.engine.queries['style[type*="text/gss"]'],this.remote=this.engine.queries['link[type*="text/gss"]'],this.collections=[this.inline,this.remote]},a.prototype.getRule=function(a){var b;for(b=a;b=b.parent;)if("rule"===b.name)return b},a.prototype.getStylesheet=function(a){var b;return(b=this.sheets[a._gss_id])||(b=this.sheets[a._gss_id]=document.createElement("STYLE"),a.parentNode.insertBefore(b,a.nextSibling)),b},a.prototype.getWatchers=function(a){var b,c;return(b=this.watchers)[c=a._gss_id]||(b[c]=[])},a.prototype.getOperation=function(a,b,c){var d,e,f,g,h,i;for(d=a.sourceIndex,h=c.properties,f=0,g=h.length;g>f;f++)if(e=h[f],null!=(i=b[e])?i.length:void 0){d=e;break}return d},a.prototype.getSelector=function(a){return this.engine.getOperationSelectors(a).join(", ")},a.prototype.solve=function(a,b,c,d,e,f){var g;return(g=this.getRule(b))?(this.watch(b,c,a)&&this.update(b,e,f,a,g)&&(this.engine.engine.restyled=!0),!0):void 0},a.prototype.update=function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;for(s=this.getWatchers(d),g=this.getStylesheet(d),r=g.sheet,k=this.getOperation(a,s,e),o=[],i=t=0,v=s.length;v>t&&(j=s[i],!(i>=k));i=++t)(m=s[i])&&(n=this.getRule(s[m[0]][0]),-1===o.indexOf(n)&&o.push(n));if(!r)return void(g.parentNode&&g.parentNode.removeChild(g));if(p=r.rules||r.cssRules,k!==a.sourceIndex||""===c){for(h=p[o.length],h.style[b]=c,l=void 0,k===a.sourceIndex&&k++,i=u=k,w=s.length;w>=k?w>u:u>w;i=w>=k?++u:--u)if(m=s[i]){l=this.getRule(s[m[0]][0]),l!==e&&r.deleteRule(o.length);break}l||r.deleteRule(o.length)}else f=b+":"+c,q=this.getSelector(a),i=r.insertRule(q+"{"+f+"}",o.length);return!0},a.prototype.watch=function(a,b,c){var d,e,f;return e=this.getWatchers(c),d=e[f=a.sourceIndex]||(e[f]=[]),d.indexOf(b)>-1?void 0:((e[b]||(e[b]=[])).push(a),1===d.push(b))},a.prototype.unwatch=function(a,b,c,d){var e,f,g;return null==d&&(d=this.getWatchers(c)),e=a.sourceIndex,f=d[e],f.splice(f.indexOf(b),1),g=d[b],g.splice(g.indexOf(a),1),g.length||delete d[b],f.length?void 0:(delete d[e],this.update(a,a[1],"",c,this.getRule(a)))},a.prototype["export"]=function(){var a,b,c,d,e,f,g,h,i;c=[],h=this.sheets;for(a in h)for(d=h[a],i=d.sheet.rules||d.sheet.cssRules,f=0,g=i.length;g>f;f++)b=i[f],e=b.cssText.replace(/\[matches~="(.*?)"\]/g,function(a,b){return b.replace(/@\d+/g,"").replace(//g," ")}),c.push(e);return c.join("")},a.prototype.remove=function(a){var b,c,d,e,f,g,h,i,j,k,l;if(this.collections)for(l=this.collections,g=0,j=l.length;j>g;g++)for(b=l[g],h=0,k=b.length;k>h;h++)if(e=b[h],(f=this.getWatchers(e))&&(d=f[a]))for(i=d.length-1;i>=0;i+=-1)c=d[i],this.unwatch(c,a,e,f)},a}(),c.exports=d}),a.register("gss/lib/properties/Axioms.js",function(a,b,c){var d;d=function(){function a(){}return a.prototype.right=function(a,b){return this["+"](this._get(a,"x",b),this._get(a,"width",b))},a.prototype.bottom=function(a,b){return this["+"](this._get(a,"y",b),this._get(a,"height",b))},a.prototype.center={x:function(a,b){return this["+"](this._get(a,"x",b),this["/"](this._get(a,"width",b),2))},y:function(a,b){return this["+"](this._get(a,"y",b),this["/"](this._get(a,"height",b),2))}},a}(),c.exports=d}),a.register("gss/lib/properties/Dimensions.js",function(a,b,c){var d;d=function(){function a(){}return a.prototype["::window"]={width:function(){return window.innerWidth},height:function(){return window.innerHeight},scroll:{left:function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft},top:function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}},x:0,y:0},a.prototype["::document"]={scroll:{left:"::window[scroll-left]",top:"::window[scroll-top]"},x:"::window[x]",y:"::window[y]"},a.prototype.intrinsic={height:function(a){return a.offsetHeight},width:function(a){return a.offsetWidth},y:function(a){var b;for(b=0;a&&(b+=a.offsetTop,a=a.offsetParent,a!==this.scope&&a);)a===this.scope.offsetParent&&(b-=this.scope.offsetTop);return b},x:function(a){var b;for(b=0;a&&(b+=a.offsetLeft,a=a.offsetParent,a!==this.scope&&a);)a===this.scope.offsetParent&&(b-=this.scope.offsetLeft);return b}},a.prototype.scroll={left:function(a){return a.scrollLeft},top:function(a){return a.scrollTop},height:function(a){return a.scrollHeight},width:function(a){return a.scrollWidth}},a.prototype.client={left:function(a){return a.clientLeft},top:function(a){return a.clientTop},height:function(a){return a.clientHeight},width:function(a){return a.clientWidth}},a.prototype.offset={left:function(a){return a.offsetLeft},top:function(a){return a.offsetTop},height:function(a){return a.offsetHeight},width:function(a){return a.offsetWidth}},a}(),c.exports=d}),a.register("gss/lib/properties/Properties.js",function(a,b,c){var d;d=function(){function a(){}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;for(a.prototype.transform=[[function(){return mat4.create()},"matrix"]],a.prototype.animation=[[[{name:["none","String"],duration:["time"],delay:["time"],direction:["normal","reverse","alternate"],"timing-function":["timing"],"iteration-count":[1,"infinite","Number"],"fill-mode":["none","both","forwards","backwards"],"play-state":["running","paused"]}]]],a.prototype.transition=[[[{property:["all","property","none"],duration:["time"],delay:["time"],direction:["reverse","normal"],"timing-function":["timing"]}]]],a.prototype.background=[[[{image:["Image","Gradient","none"],position:{x:["Length","Percentage","center","left","right"],y:["Length","Percentage","center","top","bottom"]},size:{x:["Length","Percentage","cover","contain"],y:["Length","Percentage"]},repeat:["repeat","no-repeat","repeat-x","repeat-y","space","round"],attachment:["fixed","scroll","local"],origin:["padding-box","border-box","content-box"],clip:["border-box","content-box","padding-box"]}]],[{color:["Color","transparent"]}]],a.prototype.text={shadow:[[[{offset:{x:["Length"],y:["Length"]},blur:["Length"],color:["Color"]}]]],decoration:["none","capitalize","uppercase","lowercase"],align:["left","right","center","justify"],ident:["Length","Percentage"]},a.prototype.box={shadow:[[[{inset:["inset"]}],{offset:{x:["Length"],y:["Length"]}},[{blur:["Length"],spread:["Length"]}],{color:["Color"]}]],sizing:["padding-box","border-box","content-box"]},a.prototype.outline=[{width:["medium","Length"],style:["none","dotted","dashed","solid","double","groove","ridge","inset","outset"],color:["invert","Color"]}],a.prototype["line-height"]=["normal","Number","Length","Percentage"],a.prototype.font=[[{style:["normal","italic","oblique"],variant:["normal","small-caps"],weight:["normal","Number","bold"]}],{size:["Size","Length","Percentage"]},[{"line-height":["normal","Number","Length","Percentage"]}],{family:["inherit","strings"]}],a.prototype["font-stretch"]=["normal","ultra-condensed","extra-condensed","condensed","semi-condensed","semi-expanded","expanded","extra-expanded","ultra-expanded"],a.prototype["font-size-adjust"]=["Float"],a.prototype["letter-spacing"]=["normal","Length"],a.prototype.list={style:[{type:["disc","circle","square","decimal","decimal-leading-zero","lower-roman","upper-roman","lower-greek","lower-latin","upper-latin","armenian","georgian","lower-alpha","none","upper-alpha"],image:["none","URL"],position:["outside","inside","none"]}]},a.prototype.height=["Length","auto"],a.prototype.min={width:["Length","auto"],height:["Length","auto"]},a.prototype.max={width:["Length","auto"],height:["Length","auto"]},a.prototype.display=["inline","inline-block","block","list-item","run-in","table","inline-table","none","table-row-group","table-header-group","table-footer-group","table-row","table-column-group","table-column","table-cell","table-caption"],a.prototype.visibility=["visible","hidden"],a.prototype.float=["none","left","right"],a.prototype.clear=["none","left","right","both"],a.prototype.overflow=["visible","hidden","scroll","auto"],a.prototype.position=["static","relative","absolute","fixed","sticky"],a.prototype.top=["Length","Percentage","auto"],a.prototype.left=["Length","Percentage","auto"],a.prototype.right=["Length","Percentage","auto"],a.prototype.bottom=["Length","Percentage","auto"],a.prototype["z-index"]=["Integer"],a.prototype.cursor=["auto","crosshair","default","hand","move","e-resize","ne-resize","nw-resize","n-resize","se-resize","sw-resize","s-resize","w-resize","text","wait","help"],a.prototype.color=["color"],s=e=["top","right","bottom","left"],c=m=0,p=s.length;p>m;c=++m){for(d=s[c],((g=a.prototype).margin||(g.margin=[{pad:"pad"}]))[0][d]=["Length","Percentage","auto"],((h=a.prototype).padding||(h.padding=[{pad:"pad"}]))[0][d]=["Length","Percentage","auto"],((i=a.prototype).border||(i.border=[{pad:"pad"}]))[0][d]=[[{width:["Length","thin","thick","medium"],style:["none","dotted","dashed","solid","double","groove","ridge","inset","outset","none"],color:["Color"]}]],t=["width","color","style"],n=0,q=t.length;q>n;n++)f=t[n],((j=a.prototype)[r="border-"+f]||(j[r]=[[{pad:"pad"}]]))[0][0]["border-"+d+"-"+f]=a.prototype.border[0][d][0][0][f];if(c%2)for(b=o=1;3>o;b=o+=2)((k=(l=a.prototype)["border-radius"]||(l["border-radius"]={pad:"pad"}))[d]||(k[d]={pad:"pad"}))[e[b+1]]=["Length","none"]}return a}(),c.exports=d}),a.register("gss/lib/properties/Styles.js",function(a,b,c){var d;d=function(){function a(){}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;for(a.prototype.transform=[[function(){return mat4.create()},"matrix"]],a.prototype.animation=[[[{name:["none","String"],duration:["time"],delay:["time"],direction:["normal","reverse","alternate"],"timing-function":["timing"],"iteration-count":[1,"infinite","Number"],"fill-mode":["none","both","forwards","backwards"],"play-state":["running","paused"]}]]],a.prototype.transition=[[[{property:["all","property","none"],duration:["time"],delay:["time"],direction:["reverse","normal"],"timing-function":["timing"]}]]],a.prototype.background=[[[{image:["Image","Gradient","none"],position:{x:["Length","Percentage","center","left","right"],y:["Length","Percentage","center","top","bottom"]},size:{x:["Length","Percentage","cover","contain"],y:["Length","Percentage"]},repeat:["repeat","no-repeat","repeat-x","repeat-y","space","round"],attachment:["fixed","scroll","local"],origin:["padding-box","border-box","content-box"],clip:["border-box","content-box","padding-box"]}]],[{color:["Color","transparent"]}]],a.prototype.text={shadow:[[[{offset:{x:["Length"],y:["Length"]},blur:["Length"],color:["Color"]}]]],decoration:["none","capitalize","uppercase","lowercase"],align:["left","right","center","justify"],ident:["Length","Percentage"]},a.prototype.box={shadow:[[[{inset:["inset"]}],{offset:{x:["Length"],y:["Length"]}},[{blur:["Length"],spread:["Length"]}],{color:["Color"]}]],sizing:["padding-box","border-box","content-box"]},a.prototype.outline=[{width:["medium","Length"],style:["none","dotted","dashed","solid","double","groove","ridge","inset","outset"],color:["invert","Color"]}],a.prototype["line-height"]=["normal","Number","Length","Percentage"],a.prototype.font=[[{style:["normal","italic","oblique"],variant:["normal","small-caps"],weight:["normal","Number","bold"]}],{size:["Size","Length","Percentage"]},[{"line-height":["normal","Number","Length","Percentage"]}],{family:["inherit","strings"]}],a.prototype["font-stretch"]=["normal","ultra-condensed","extra-condensed","condensed","semi-condensed","semi-expanded","expanded","extra-expanded","ultra-expanded"],a.prototype["font-size-adjust"]=["Float"],a.prototype["letter-spacing"]=["normal","Length"],a.prototype.list={style:[{type:["disc","circle","square","decimal","decimal-leading-zero","lower-roman","upper-roman","lower-greek","lower-latin","upper-latin","armenian","georgian","lower-alpha","none","upper-alpha"],image:["none","URL"],position:["outside","inside","none"]}]},a.prototype.width=["Length","auto"],a.prototype.height=["Length","auto"],a.prototype.min={width:["Length","auto"],height:["Length","auto"]},a.prototype.max={width:["Length","auto"],height:["Length","auto"]},a.prototype.display=["inline","inline-block","block","list-item","run-in","table","inline-table","none","table-row-group","table-header-group","table-footer-group","table-row","table-column-group","table-column","table-cell","table-caption"],a.prototype.visibility=["visible","hidden"],a.prototype.float=["none","left","right"],a.prototype.clear=["none","left","right","both"],a.prototype.overflow=["visible","hidden","scroll","auto"],a.prototype["overflow-x"]=["visible","hidden","scroll","auto"],a.prototype["overflow-y"]=["visible","hidden","scroll","auto"],a.prototype.position=["static","relative","absolute","fixed","sticky"],a.prototype.top=["Length","Percentage","auto"],a.prototype.left=["Length","Percentage","auto"],a.prototype.right=["Length","Percentage","auto"],a.prototype.bottom=["Length","Percentage","auto"],a.prototype.opacity=["Float"],a.prototype["z-index"]=["Integer"],a.prototype.cursor=["auto","crosshair","default","hand","move","e-resize","ne-resize","nw-resize","n-resize","se-resize","sw-resize","s-resize","w-resize","text","wait","help"],a.prototype.color=["color"],a.prototype.columns=["length"],a.prototype["column-gap"]=["length"],a.prototype["column-width"]=["length"],a.prototype["column-count"]=["Integer"],s=e=["top","right","bottom","left"],c=m=0,p=s.length;p>m;c=++m){for(d=s[c],((g=a.prototype).margin||(g.margin=[{pad:"pad"}]))[0][d]=["Length","Percentage","auto"],((h=a.prototype).padding||(h.padding=[{pad:"pad"}]))[0][d]=["Length","Percentage","auto"],((i=a.prototype).border||(i.border=[{pad:"pad"}]))[0][d]=[[{width:["Length","thin","thick","medium"],style:["none","dotted","dashed","solid","double","groove","ridge","inset","outset","none"],color:["Color"]}]],t=["width","color","style"],n=0,q=t.length;q>n;n++)f=t[n],((j=a.prototype)[r="border-"+f]||(j[r]=[[{pad:"pad"}]]))[0][0]["border-"+d+"-"+f]=a.prototype.border[0][d][0][0][f];if(c%2)for(b=o=1;3>o;b=o+=2)((k=((l=a.prototype)["border-radius"]||(l["border-radius"]=[{pad:"pad"}]))[0])[d]||(k[d]={pad:"pad"}))[e[b+1]]=["Length","none"]}return a}(),c.exports=d}),a.register("gss/vendor/gl-matrix.js",function(a){!function(b){"use strict";var c={};"undefined"==typeof a?"function"==typeof define&&"object"==typeof define.amd&&define.amd?(c.exports={},define(function(){return c.exports})):c.exports="undefined"!=typeof window?window:b:c.exports=a,function(a){if(!b)var b=1e-6;if(!c)var c="undefined"!=typeof Float32Array?Float32Array:Array;if(!d)var d=Math.random;var e={};e.setMatrixArrayType=function(a){c=a},"undefined"!=typeof a&&(a.glMatrix=e);var f=Math.PI/180;e.toRadian=function(a){return a*f};var g={};g.create=function(){var a=new c(2);return a[0]=0,a[1]=0,a},g.clone=function(a){var b=new c(2);return b[0]=a[0],b[1]=a[1],b},g.fromValues=function(a,b){var d=new c(2);return d[0]=a,d[1]=b,d},g.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a},g.set=function(a,b,c){return a[0]=b,a[1]=c,a},g.add=function(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a},g.subtract=function(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a},g.sub=g.subtract,g.multiply=function(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a},g.mul=g.multiply,g.divide=function(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a},g.div=g.divide,g.min=function(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a},g.max=function(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a},g.scale=function(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a},g.scaleAndAdd=function(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a},g.distance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1];return Math.sqrt(c*c+d*d)},g.dist=g.distance,g.squaredDistance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1];return c*c+d*d},g.sqrDist=g.squaredDistance,g.length=function(a){var b=a[0],c=a[1];return Math.sqrt(b*b+c*c)},g.len=g.length,g.squaredLength=function(a){var b=a[0],c=a[1];return b*b+c*c},g.sqrLen=g.squaredLength,g.negate=function(a,b){return a[0]=-b[0],a[1]=-b[1],a},g.normalize=function(a,b){var c=b[0],d=b[1],e=c*c+d*d;return e>0&&(e=1/Math.sqrt(e),a[0]=b[0]*e,a[1]=b[1]*e),a},g.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]},g.cross=function(a,b,c){var d=b[0]*c[1]-b[1]*c[0];return a[0]=a[1]=0,a[2]=d,a},g.lerp=function(a,b,c,d){var e=b[0],f=b[1];return a[0]=e+d*(c[0]-e),a[1]=f+d*(c[1]-f),a},g.random=function(a,b){b=b||1;var c=2*d()*Math.PI;return a[0]=Math.cos(c)*b,a[1]=Math.sin(c)*b,a},g.transformMat2=function(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[2]*e,a[1]=c[1]*d+c[3]*e,a},g.transformMat2d=function(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[2]*e+c[4],a[1]=c[1]*d+c[3]*e+c[5],a},g.transformMat3=function(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[3]*e+c[6],a[1]=c[1]*d+c[4]*e+c[7],a},g.transformMat4=function(a,b,c){var d=b[0],e=b[1];return a[0]=c[0]*d+c[4]*e+c[12],a[1]=c[1]*d+c[5]*e+c[13],a},g.forEach=function(){var a=g.create();return function(b,c,d,e,f,g){var h,i;for(c||(c=2),d||(d=0),i=e?Math.min(e*c+d,b.length):b.length,h=d;i>h;h+=c)a[0]=b[h],a[1]=b[h+1],f(a,a,g),b[h]=a[0],b[h+1]=a[1];return b}}(),g.str=function(a){return"vec2("+a[0]+", "+a[1]+")"},"undefined"!=typeof a&&(a.vec2=g);var h={};h.create=function(){var a=new c(3);return a[0]=0,a[1]=0,a[2]=0,a},h.clone=function(a){var b=new c(3);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b},h.fromValues=function(a,b,d){var e=new c(3);return e[0]=a,e[1]=b,e[2]=d,e},h.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a},h.set=function(a,b,c,d){return a[0]=b,a[1]=c,a[2]=d,a},h.add=function(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2],a},h.subtract=function(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a[2]=b[2]-c[2],a},h.sub=h.subtract,h.multiply=function(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a[2]=b[2]*c[2],a},h.mul=h.multiply,h.divide=function(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a[2]=b[2]/c[2],a},h.div=h.divide,h.min=function(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a[2]=Math.min(b[2],c[2]),a},h.max=function(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a[2]=Math.max(b[2],c[2]),a},h.scale=function(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a},h.scaleAndAdd=function(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a[2]=b[2]+c[2]*d,a},h.distance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2];return Math.sqrt(c*c+d*d+e*e)},h.dist=h.distance,h.squaredDistance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2];return c*c+d*d+e*e},h.sqrDist=h.squaredDistance,h.length=function(a){var b=a[0],c=a[1],d=a[2];return Math.sqrt(b*b+c*c+d*d)},h.len=h.length,h.squaredLength=function(a){var b=a[0],c=a[1],d=a[2];return b*b+c*c+d*d},h.sqrLen=h.squaredLength,h.negate=function(a,b){return a[0]=-b[0],a[1]=-b[1],a[2]=-b[2],a},h.normalize=function(a,b){var c=b[0],d=b[1],e=b[2],f=c*c+d*d+e*e;return f>0&&(f=1/Math.sqrt(f),a[0]=b[0]*f,a[1]=b[1]*f,a[2]=b[2]*f),a},h.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]},h.cross=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=c[0],h=c[1],i=c[2];return a[0]=e*i-f*h,a[1]=f*g-d*i,a[2]=d*h-e*g,a},h.lerp=function(a,b,c,d){var e=b[0],f=b[1],g=b[2];return a[0]=e+d*(c[0]-e),a[1]=f+d*(c[1]-f),a[2]=g+d*(c[2]-g),a},h.random=function(a,b){b=b||1;var c=2*d()*Math.PI,e=2*d()-1,f=Math.sqrt(1-e*e)*b;return a[0]=Math.cos(c)*f,a[1]=Math.sin(c)*f,a[2]=e*b,a},h.transformMat4=function(a,b,c){var d=b[0],e=b[1],f=b[2];return a[0]=c[0]*d+c[4]*e+c[8]*f+c[12],a[1]=c[1]*d+c[5]*e+c[9]*f+c[13],a[2]=c[2]*d+c[6]*e+c[10]*f+c[14],a},h.transformMat3=function(a,b,c){var d=b[0],e=b[1],f=b[2];return a[0]=d*c[0]+e*c[3]+f*c[6],a[1]=d*c[1]+e*c[4]+f*c[7],a[2]=d*c[2]+e*c[5]+f*c[8],a},h.transformQuat=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=c[0],h=c[1],i=c[2],j=c[3],k=j*d+h*f-i*e,l=j*e+i*d-g*f,m=j*f+g*e-h*d,n=-g*d-h*e-i*f;return a[0]=k*j+n*-g+l*-i-m*-h,a[1]=l*j+n*-h+m*-g-k*-i,a[2]=m*j+n*-i+k*-h-l*-g,a},h.forEach=function(){var a=h.create();return function(b,c,d,e,f,g){var h,i;for(c||(c=3),d||(d=0),i=e?Math.min(e*c+d,b.length):b.length,h=d;i>h;h+=c)a[0]=b[h],a[1]=b[h+1],a[2]=b[h+2],f(a,a,g),b[h]=a[0],b[h+1]=a[1],b[h+2]=a[2];return b}}(),h.str=function(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"},"undefined"!=typeof a&&(a.vec3=h);var i={};i.create=function(){var a=new c(4);return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a},i.clone=function(a){var b=new c(4);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b},i.fromValues=function(a,b,d,e){var f=new c(4);return f[0]=a,f[1]=b,f[2]=d,f[3]=e,f},i.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a},i.set=function(a,b,c,d,e){return a[0]=b,a[1]=c,a[2]=d,a[3]=e,a},i.add=function(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2],a[3]=b[3]+c[3],a},i.subtract=function(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a[2]=b[2]-c[2],a[3]=b[3]-c[3],a},i.sub=i.subtract,i.multiply=function(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a[2]=b[2]*c[2],a[3]=b[3]*c[3],a},i.mul=i.multiply,i.divide=function(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a[2]=b[2]/c[2],a[3]=b[3]/c[3],a},i.div=i.divide,i.min=function(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a[2]=Math.min(b[2],c[2]),a[3]=Math.min(b[3],c[3]),a},i.max=function(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a[2]=Math.max(b[2],c[2]),a[3]=Math.max(b[3],c[3]),a},i.scale=function(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a[3]=b[3]*c,a},i.scaleAndAdd=function(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a[2]=b[2]+c[2]*d,a[3]=b[3]+c[3]*d,a},i.distance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2],f=b[3]-a[3];return Math.sqrt(c*c+d*d+e*e+f*f)},i.dist=i.distance,i.squaredDistance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1],e=b[2]-a[2],f=b[3]-a[3];return c*c+d*d+e*e+f*f},i.sqrDist=i.squaredDistance,i.length=function(a){var b=a[0],c=a[1],d=a[2],e=a[3];return Math.sqrt(b*b+c*c+d*d+e*e)},i.len=i.length,i.squaredLength=function(a){var b=a[0],c=a[1],d=a[2],e=a[3];return b*b+c*c+d*d+e*e},i.sqrLen=i.squaredLength,i.negate=function(a,b){return a[0]=-b[0],a[1]=-b[1],a[2]=-b[2],a[3]=-b[3],a},i.normalize=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c*c+d*d+e*e+f*f;return g>0&&(g=1/Math.sqrt(g),a[0]=b[0]*g,a[1]=b[1]*g,a[2]=b[2]*g,a[3]=b[3]*g),a},i.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]},i.lerp=function(a,b,c,d){var e=b[0],f=b[1],g=b[2],h=b[3];return a[0]=e+d*(c[0]-e),a[1]=f+d*(c[1]-f),a[2]=g+d*(c[2]-g),a[3]=h+d*(c[3]-h),a},i.random=function(a,b){return b=b||1,a[0]=d(),a[1]=d(),a[2]=d(),a[3]=d(),i.normalize(a,a),i.scale(a,a,b),a},i.transformMat4=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3];return a[0]=c[0]*d+c[4]*e+c[8]*f+c[12]*g,a[1]=c[1]*d+c[5]*e+c[9]*f+c[13]*g,a[2]=c[2]*d+c[6]*e+c[10]*f+c[14]*g,a[3]=c[3]*d+c[7]*e+c[11]*f+c[15]*g,a},i.transformQuat=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=c[0],h=c[1],i=c[2],j=c[3],k=j*d+h*f-i*e,l=j*e+i*d-g*f,m=j*f+g*e-h*d,n=-g*d-h*e-i*f;return a[0]=k*j+n*-g+l*-i-m*-h,a[1]=l*j+n*-h+m*-g-k*-i,a[2]=m*j+n*-i+k*-h-l*-g,a},i.forEach=function(){var a=i.create();return function(b,c,d,e,f,g){var h,i;for(c||(c=4),d||(d=0),i=e?Math.min(e*c+d,b.length):b.length,h=d;i>h;h+=c)a[0]=b[h],a[1]=b[h+1],a[2]=b[h+2],a[3]=b[h+3],f(a,a,g),b[h]=a[0],b[h+1]=a[1],b[h+2]=a[2],b[h+3]=a[3];return b}}(),i.str=function(a){return"vec4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"},"undefined"!=typeof a&&(a.vec4=i);var j={};j.create=function(){var a=new c(4);return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a},j.clone=function(a){var b=new c(4);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b},j.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a},j.identity=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a},j.transpose=function(a,b){if(a===b){var c=b[1];a[1]=b[2],a[2]=c}else a[0]=b[0],a[1]=b[2],a[2]=b[1],a[3]=b[3];return a},j.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c*f-e*d;return g?(g=1/g,a[0]=f*g,a[1]=-d*g,a[2]=-e*g,a[3]=c*g,a):null},j.adjoint=function(a,b){var c=b[0];return a[0]=b[3],a[1]=-b[1],a[2]=-b[2],a[3]=c,a},j.determinant=function(a){return a[0]*a[3]-a[2]*a[1]},j.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[0],i=c[1],j=c[2],k=c[3];return a[0]=d*h+e*j,a[1]=d*i+e*k,a[2]=f*h+g*j,a[3]=f*i+g*k,a},j.mul=j.multiply,j.rotate=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i+e*h,a[1]=d*-h+e*i,a[2]=f*i+g*h,a[3]=f*-h+g*i,a},j.scale=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[0],i=c[1];return a[0]=d*h,a[1]=e*i,a[2]=f*h,a[3]=g*i,a},j.str=function(a){return"mat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"},"undefined"!=typeof a&&(a.mat2=j);var k={};k.create=function(){var a=new c(6);return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a},k.clone=function(a){var b=new c(6);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b},k.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a},k.identity=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a},k.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=c*f-d*e;return i?(i=1/i,a[0]=f*i,a[1]=-d*i,a[2]=-e*i,a[3]=c*i,a[4]=(e*h-f*g)*i,a[5]=(d*g-c*h)*i,a):null},k.determinant=function(a){return a[0]*a[3]-a[1]*a[2]},k.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=c[0],k=c[1],l=c[2],m=c[3],n=c[4],o=c[5];return a[0]=d*j+e*l,a[1]=d*k+e*m,a[2]=f*j+g*l,a[3]=f*k+g*m,a[4]=j*h+l*i+n,a[5]=k*h+m*i+o,a},k.mul=k.multiply,k.rotate=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=Math.sin(c),k=Math.cos(c);return a[0]=d*k+e*j,a[1]=-d*j+e*k,a[2]=f*k+g*j,a[3]=-f*j+k*g,a[4]=k*h+j*i,a[5]=k*i-j*h,a},k.scale=function(a,b,c){var d=c[0],e=c[1];return a[0]=b[0]*d,a[1]=b[1]*e,a[2]=b[2]*d,a[3]=b[3]*e,a[4]=b[4]*d,a[5]=b[5]*e,a},k.translate=function(a,b,c){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4]+c[0],a[5]=b[5]+c[1],a},k.str=function(a){return"mat2d("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+")"},"undefined"!=typeof a&&(a.mat2d=k);var l={};l.create=function(){var a=new c(9);return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a},l.fromMat4=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[4],a[4]=b[5],a[5]=b[6],a[6]=b[8],a[7]=b[9],a[8]=b[10],a},l.clone=function(a){var b=new c(9);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b},l.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a},l.identity=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=1,a[5]=0,a[6]=0,a[7]=0,a[8]=1,a
},l.transpose=function(a,b){if(a===b){var c=b[1],d=b[2],e=b[5];a[1]=b[3],a[2]=b[6],a[3]=c,a[5]=b[7],a[6]=d,a[7]=e}else a[0]=b[0],a[1]=b[3],a[2]=b[6],a[3]=b[1],a[4]=b[4],a[5]=b[7],a[6]=b[2],a[7]=b[5],a[8]=b[8];return a},l.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=k*g-h*j,m=-k*f+h*i,n=j*f-g*i,o=c*l+d*m+e*n;return o?(o=1/o,a[0]=l*o,a[1]=(-k*d+e*j)*o,a[2]=(h*d-e*g)*o,a[3]=m*o,a[4]=(k*c-e*i)*o,a[5]=(-h*c+e*f)*o,a[6]=n*o,a[7]=(-j*c+d*i)*o,a[8]=(g*c-d*f)*o,a):null},l.adjoint=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8];return a[0]=g*k-h*j,a[1]=e*j-d*k,a[2]=d*h-e*g,a[3]=h*i-f*k,a[4]=c*k-e*i,a[5]=e*f-c*h,a[6]=f*j-g*i,a[7]=d*i-c*j,a[8]=c*g-d*f,a},l.determinant=function(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7],j=a[8];return b*(j*f-g*i)+c*(-j*e+g*h)+d*(i*e-f*h)},l.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=c[0],n=c[1],o=c[2],p=c[3],q=c[4],r=c[5],s=c[6],t=c[7],u=c[8];return a[0]=m*d+n*g+o*j,a[1]=m*e+n*h+o*k,a[2]=m*f+n*i+o*l,a[3]=p*d+q*g+r*j,a[4]=p*e+q*h+r*k,a[5]=p*f+q*i+r*l,a[6]=s*d+t*g+u*j,a[7]=s*e+t*h+u*k,a[8]=s*f+t*i+u*l,a},l.mul=l.multiply,l.translate=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=c[0],n=c[1];return a[0]=d,a[1]=e,a[2]=f,a[3]=g,a[4]=h,a[5]=i,a[6]=m*d+n*g+j,a[7]=m*e+n*h+k,a[8]=m*f+n*i+l,a},l.rotate=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=Math.sin(c),n=Math.cos(c);return a[0]=n*d+m*g,a[1]=n*e+m*h,a[2]=n*f+m*i,a[3]=n*g-m*d,a[4]=n*h-m*e,a[5]=n*i-m*f,a[6]=j,a[7]=k,a[8]=l,a},l.scale=function(a,b,c){var d=c[0],e=c[1];return a[0]=d*b[0],a[1]=d*b[1],a[2]=d*b[2],a[3]=e*b[3],a[4]=e*b[4],a[5]=e*b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a},l.fromMat2d=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=0,a[3]=b[2],a[4]=b[3],a[5]=0,a[6]=b[4],a[7]=b[5],a[8]=1,a},l.fromQuat=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c+c,h=d+d,i=e+e,j=c*g,k=d*g,l=d*h,m=e*g,n=e*h,o=e*i,p=f*g,q=f*h,r=f*i;return a[0]=1-l-o,a[3]=k-r,a[6]=m+q,a[1]=k+r,a[4]=1-j-o,a[7]=n-p,a[2]=m-q,a[5]=n+p,a[8]=1-j-l,a},l.normalFromMat4=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11],o=b[12],p=b[13],q=b[14],r=b[15],s=c*h-d*g,t=c*i-e*g,u=c*j-f*g,v=d*i-e*h,w=d*j-f*h,x=e*j-f*i,y=k*p-l*o,z=k*q-m*o,A=k*r-n*o,B=l*q-m*p,C=l*r-n*p,D=m*r-n*q,E=s*D-t*C+u*B+v*A-w*z+x*y;return E?(E=1/E,a[0]=(h*D-i*C+j*B)*E,a[1]=(i*A-g*D-j*z)*E,a[2]=(g*C-h*A+j*y)*E,a[3]=(e*C-d*D-f*B)*E,a[4]=(c*D-e*A+f*z)*E,a[5]=(d*A-c*C-f*y)*E,a[6]=(p*x-q*w+r*v)*E,a[7]=(q*u-o*x-r*t)*E,a[8]=(o*w-p*u+r*s)*E,a):null},l.str=function(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"},"undefined"!=typeof a&&(a.mat3=l);var m={};m.create=function(){var a=new c(16);return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},m.clone=function(a){var b=new c(16);return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15],b},m.copy=function(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15],a},m.identity=function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},m.transpose=function(a,b){if(a===b){var c=b[1],d=b[2],e=b[3],f=b[6],g=b[7],h=b[11];a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=c,a[6]=b[9],a[7]=b[13],a[8]=d,a[9]=f,a[11]=b[14],a[12]=e,a[13]=g,a[14]=h}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a},m.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11],o=b[12],p=b[13],q=b[14],r=b[15],s=c*h-d*g,t=c*i-e*g,u=c*j-f*g,v=d*i-e*h,w=d*j-f*h,x=e*j-f*i,y=k*p-l*o,z=k*q-m*o,A=k*r-n*o,B=l*q-m*p,C=l*r-n*p,D=m*r-n*q,E=s*D-t*C+u*B+v*A-w*z+x*y;return E?(E=1/E,a[0]=(h*D-i*C+j*B)*E,a[1]=(e*C-d*D-f*B)*E,a[2]=(p*x-q*w+r*v)*E,a[3]=(m*w-l*x-n*v)*E,a[4]=(i*A-g*D-j*z)*E,a[5]=(c*D-e*A+f*z)*E,a[6]=(q*u-o*x-r*t)*E,a[7]=(k*x-m*u+n*t)*E,a[8]=(g*C-h*A+j*y)*E,a[9]=(d*A-c*C-f*y)*E,a[10]=(o*w-p*u+r*s)*E,a[11]=(l*u-k*w-n*s)*E,a[12]=(h*z-g*B-i*y)*E,a[13]=(c*B-d*z+e*y)*E,a[14]=(p*t-o*v-q*s)*E,a[15]=(k*v-l*t+m*s)*E,a):null},m.adjoint=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11],o=b[12],p=b[13],q=b[14],r=b[15];return a[0]=h*(m*r-n*q)-l*(i*r-j*q)+p*(i*n-j*m),a[1]=-(d*(m*r-n*q)-l*(e*r-f*q)+p*(e*n-f*m)),a[2]=d*(i*r-j*q)-h*(e*r-f*q)+p*(e*j-f*i),a[3]=-(d*(i*n-j*m)-h*(e*n-f*m)+l*(e*j-f*i)),a[4]=-(g*(m*r-n*q)-k*(i*r-j*q)+o*(i*n-j*m)),a[5]=c*(m*r-n*q)-k*(e*r-f*q)+o*(e*n-f*m),a[6]=-(c*(i*r-j*q)-g*(e*r-f*q)+o*(e*j-f*i)),a[7]=c*(i*n-j*m)-g*(e*n-f*m)+k*(e*j-f*i),a[8]=g*(l*r-n*p)-k*(h*r-j*p)+o*(h*n-j*l),a[9]=-(c*(l*r-n*p)-k*(d*r-f*p)+o*(d*n-f*l)),a[10]=c*(h*r-j*p)-g*(d*r-f*p)+o*(d*j-f*h),a[11]=-(c*(h*n-j*l)-g*(d*n-f*l)+k*(d*j-f*h)),a[12]=-(g*(l*q-m*p)-k*(h*q-i*p)+o*(h*m-i*l)),a[13]=c*(l*q-m*p)-k*(d*q-e*p)+o*(d*m-e*l),a[14]=-(c*(h*q-i*p)-g*(d*q-e*p)+o*(d*i-e*h)),a[15]=c*(h*m-i*l)-g*(d*m-e*l)+k*(d*i-e*h),a},m.determinant=function(a){var b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=a[6],i=a[7],j=a[8],k=a[9],l=a[10],m=a[11],n=a[12],o=a[13],p=a[14],q=a[15],r=b*g-c*f,s=b*h-d*f,t=b*i-e*f,u=c*h-d*g,v=c*i-e*g,w=d*i-e*h,x=j*o-k*n,y=j*p-l*n,z=j*q-m*n,A=k*p-l*o,B=k*q-m*o,C=l*q-m*p;return r*C-s*B+t*A+u*z-v*y+w*x},m.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=b[9],n=b[10],o=b[11],p=b[12],q=b[13],r=b[14],s=b[15],t=c[0],u=c[1],v=c[2],w=c[3];return a[0]=t*d+u*h+v*l+w*p,a[1]=t*e+u*i+v*m+w*q,a[2]=t*f+u*j+v*n+w*r,a[3]=t*g+u*k+v*o+w*s,t=c[4],u=c[5],v=c[6],w=c[7],a[4]=t*d+u*h+v*l+w*p,a[5]=t*e+u*i+v*m+w*q,a[6]=t*f+u*j+v*n+w*r,a[7]=t*g+u*k+v*o+w*s,t=c[8],u=c[9],v=c[10],w=c[11],a[8]=t*d+u*h+v*l+w*p,a[9]=t*e+u*i+v*m+w*q,a[10]=t*f+u*j+v*n+w*r,a[11]=t*g+u*k+v*o+w*s,t=c[12],u=c[13],v=c[14],w=c[15],a[12]=t*d+u*h+v*l+w*p,a[13]=t*e+u*i+v*m+w*q,a[14]=t*f+u*j+v*n+w*r,a[15]=t*g+u*k+v*o+w*s,a},m.mul=m.multiply,m.translate=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t=c[0],u=c[1],v=c[2];return d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=b[9],n=b[10],o=b[11],p=b[12],q=b[13],r=b[14],s=b[15],a[0]=d+g*t,a[1]=e+g*u,a[2]=f+g*v,a[3]=g,a[4]=h+k*t,a[5]=i+k*u,a[6]=j+k*v,a[7]=k,a[8]=l+o*t,a[9]=m+o*u,a[10]=n+o*v,a[11]=o,a[12]=p+s*t,a[13]=q+s*u,a[14]=r+s*v,a[15]=s,a},m.scale=function(a,b,c){var d=c[0],e=c[1],f=c[2];return a[0]=b[0]*d,a[1]=b[1]*d,a[2]=b[2]*d,a[3]=b[3]*d,a[4]=b[4]*e,a[5]=b[5]*e,a[6]=b[6]*e,a[7]=b[7]*e,a[8]=b[8]*f,a[9]=b[9]*f,a[10]=b[10]*f,a[11]=b[11]*f,a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15],a},m.rotate=function(a,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D=e[0],E=e[1],F=e[2],G=Math.sqrt(D*D+E*E+F*F);return Math.abs(G)<b?null:(G=1/G,D*=G,E*=G,F*=G,f=Math.sin(d),g=Math.cos(d),h=1-g,i=c[0],j=c[1],k=c[2],l=c[3],m=c[4],n=c[5],o=c[6],p=c[7],q=c[8],r=c[9],s=c[10],t=c[11],u=D*D*h+g,v=E*D*h+F*f,w=F*D*h-E*f,x=D*E*h-F*f,y=E*E*h+g,z=F*E*h+D*f,A=D*F*h+E*f,B=E*F*h-D*f,C=F*F*h+g,a[0]=i*u+m*v+q*w,a[1]=j*u+n*v+r*w,a[2]=k*u+o*v+s*w,a[3]=l*u+p*v+t*w,a[4]=i*x+m*y+q*z,a[5]=j*x+n*y+r*z,a[6]=k*x+o*y+s*z,a[7]=l*x+p*y+t*z,a[8]=i*A+m*B+q*C,a[9]=j*A+n*B+r*C,a[10]=k*A+o*B+s*C,a[11]=l*A+p*B+t*C,c!==a&&(a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]),a)},m.rotateX=function(a,b,c){var d=Math.sin(c),e=Math.cos(c),f=b[4],g=b[5],h=b[6],i=b[7],j=b[8],k=b[9],l=b[10],m=b[11];return b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a[4]=f*e+j*d,a[5]=g*e+k*d,a[6]=h*e+l*d,a[7]=i*e+m*d,a[8]=j*e-f*d,a[9]=k*e-g*d,a[10]=l*e-h*d,a[11]=m*e-i*d,a},m.rotateY=function(a,b,c){var d=Math.sin(c),e=Math.cos(c),f=b[0],g=b[1],h=b[2],i=b[3],j=b[8],k=b[9],l=b[10],m=b[11];return b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a[0]=f*e-j*d,a[1]=g*e-k*d,a[2]=h*e-l*d,a[3]=i*e-m*d,a[8]=f*d+j*e,a[9]=g*d+k*e,a[10]=h*d+l*e,a[11]=i*d+m*e,a},m.rotateZ=function(a,b,c){var d=Math.sin(c),e=Math.cos(c),f=b[0],g=b[1],h=b[2],i=b[3],j=b[4],k=b[5],l=b[6],m=b[7];return b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]),a[0]=f*e+j*d,a[1]=g*e+k*d,a[2]=h*e+l*d,a[3]=i*e+m*d,a[4]=j*e-f*d,a[5]=k*e-g*d,a[6]=l*e-h*d,a[7]=m*e-i*d,a},m.fromRotationTranslation=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=d+d,i=e+e,j=f+f,k=d*h,l=d*i,m=d*j,n=e*i,o=e*j,p=f*j,q=g*h,r=g*i,s=g*j;return a[0]=1-(n+p),a[1]=l+s,a[2]=m-r,a[3]=0,a[4]=l-s,a[5]=1-(k+p),a[6]=o+q,a[7]=0,a[8]=m+r,a[9]=o-q,a[10]=1-(k+n),a[11]=0,a[12]=c[0],a[13]=c[1],a[14]=c[2],a[15]=1,a},m.fromQuat=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c+c,h=d+d,i=e+e,j=c*g,k=d*g,l=d*h,m=e*g,n=e*h,o=e*i,p=f*g,q=f*h,r=f*i;return a[0]=1-l-o,a[1]=k+r,a[2]=m-q,a[3]=0,a[4]=k-r,a[5]=1-j-o,a[6]=n+p,a[7]=0,a[8]=m+q,a[9]=n-p,a[10]=1-j-l,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},m.frustum=function(a,b,c,d,e,f,g){var h=1/(c-b),i=1/(e-d),j=1/(f-g);return a[0]=2*f*h,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2*f*i,a[6]=0,a[7]=0,a[8]=(c+b)*h,a[9]=(e+d)*i,a[10]=(g+f)*j,a[11]=-1,a[12]=0,a[13]=0,a[14]=g*f*2*j,a[15]=0,a},m.perspective=function(a,b,c,d,e){var f=1/Math.tan(b/2),g=1/(d-e);return a[0]=f/c,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=f,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=(e+d)*g,a[11]=-1,a[12]=0,a[13]=0,a[14]=2*e*d*g,a[15]=0,a},m.ortho=function(a,b,c,d,e,f,g){var h=1/(b-c),i=1/(d-e),j=1/(f-g);return a[0]=-2*h,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*i,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2*j,a[11]=0,a[12]=(b+c)*h,a[13]=(e+d)*i,a[14]=(g+f)*j,a[15]=1,a},m.lookAt=function(a,c,d,e){var f,g,h,i,j,k,l,n,o,p,q=c[0],r=c[1],s=c[2],t=e[0],u=e[1],v=e[2],w=d[0],x=d[1],y=d[2];return Math.abs(q-w)<b&&Math.abs(r-x)<b&&Math.abs(s-y)<b?m.identity(a):(l=q-w,n=r-x,o=s-y,p=1/Math.sqrt(l*l+n*n+o*o),l*=p,n*=p,o*=p,f=u*o-v*n,g=v*l-t*o,h=t*n-u*l,p=Math.sqrt(f*f+g*g+h*h),p?(p=1/p,f*=p,g*=p,h*=p):(f=0,g=0,h=0),i=n*h-o*g,j=o*f-l*h,k=l*g-n*f,p=Math.sqrt(i*i+j*j+k*k),p?(p=1/p,i*=p,j*=p,k*=p):(i=0,j=0,k=0),a[0]=f,a[1]=i,a[2]=l,a[3]=0,a[4]=g,a[5]=j,a[6]=n,a[7]=0,a[8]=h,a[9]=k,a[10]=o,a[11]=0,a[12]=-(f*q+g*r+h*s),a[13]=-(i*q+j*r+k*s),a[14]=-(l*q+n*r+o*s),a[15]=1,a)},m.str=function(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"},"undefined"!=typeof a&&(a.mat4=m);var n={};n.create=function(){var a=new c(4);return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a},n.rotationTo=function(){var a=h.create(),b=h.fromValues(1,0,0),c=h.fromValues(0,1,0);return function(d,e,f){var g=h.dot(e,f);return-.999999>g?(h.cross(a,b,e),h.length(a)<1e-6&&h.cross(a,c,e),h.normalize(a,a),n.setAxisAngle(d,a,Math.PI),d):g>.999999?(d[0]=0,d[1]=0,d[2]=0,d[3]=1,d):(h.cross(a,e,f),d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=1+g,n.normalize(d,d))}}(),n.setAxes=function(){var a=l.create();return function(b,c,d,e){return a[0]=d[0],a[3]=d[1],a[6]=d[2],a[1]=e[0],a[4]=e[1],a[7]=e[2],a[2]=-c[0],a[5]=-c[1],a[8]=-c[2],n.normalize(b,n.fromMat3(b,a))}}(),n.clone=i.clone,n.fromValues=i.fromValues,n.copy=i.copy,n.set=i.set,n.identity=function(a){return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a},n.setAxisAngle=function(a,b,c){c=.5*c;var d=Math.sin(c);return a[0]=d*b[0],a[1]=d*b[1],a[2]=d*b[2],a[3]=Math.cos(c),a},n.add=i.add,n.multiply=function(a,b,c){var d=b[0],e=b[1],f=b[2],g=b[3],h=c[0],i=c[1],j=c[2],k=c[3];return a[0]=d*k+g*h+e*j-f*i,a[1]=e*k+g*i+f*h-d*j,a[2]=f*k+g*j+d*i-e*h,a[3]=g*k-d*h-e*i-f*j,a},n.mul=n.multiply,n.scale=i.scale,n.rotateX=function(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i+g*h,a[1]=e*i+f*h,a[2]=f*i-e*h,a[3]=g*i-d*h,a},n.rotateY=function(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i-f*h,a[1]=e*i+g*h,a[2]=f*i+d*h,a[3]=g*i-e*h,a},n.rotateZ=function(a,b,c){c*=.5;var d=b[0],e=b[1],f=b[2],g=b[3],h=Math.sin(c),i=Math.cos(c);return a[0]=d*i+e*h,a[1]=e*i-d*h,a[2]=f*i+g*h,a[3]=g*i-f*h,a},n.calculateW=function(a,b){var c=b[0],d=b[1],e=b[2];return a[0]=c,a[1]=d,a[2]=e,a[3]=-Math.sqrt(Math.abs(1-c*c-d*d-e*e)),a},n.dot=i.dot,n.lerp=i.lerp,n.slerp=function(a,b,c,d){var e,f,g,h,i,j=b[0],k=b[1],l=b[2],m=b[3],n=c[0],o=c[1],p=c[2],q=c[3];return f=j*n+k*o+l*p+m*q,0>f&&(f=-f,n=-n,o=-o,p=-p,q=-q),1-f>1e-6?(e=Math.acos(f),g=Math.sin(e),h=Math.sin((1-d)*e)/g,i=Math.sin(d*e)/g):(h=1-d,i=d),a[0]=h*j+i*n,a[1]=h*k+i*o,a[2]=h*l+i*p,a[3]=h*m+i*q,a},n.invert=function(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=c*c+d*d+e*e+f*f,h=g?1/g:0;return a[0]=-c*h,a[1]=-d*h,a[2]=-e*h,a[3]=f*h,a},n.conjugate=function(a,b){return a[0]=-b[0],a[1]=-b[1],a[2]=-b[2],a[3]=b[3],a},n.length=i.length,n.len=n.length,n.squaredLength=i.squaredLength,n.sqrLen=n.squaredLength,n.normalize=i.normalize,n.fromMat3=function(a,b){var c,d=b[0]+b[4]+b[8];if(d>0)c=Math.sqrt(d+1),a[3]=.5*c,c=.5/c,a[0]=(b[7]-b[5])*c,a[1]=(b[2]-b[6])*c,a[2]=(b[3]-b[1])*c;else{var e=0;b[4]>b[0]&&(e=1),b[8]>b[3*e+e]&&(e=2);var f=(e+1)%3,g=(e+2)%3;c=Math.sqrt(b[3*e+e]-b[3*f+f]-b[3*g+g]+1),a[e]=.5*c,c=.5/c,a[3]=(b[3*g+f]-b[3*f+g])*c,a[f]=(b[3*f+e]+b[3*e+f])*c,a[g]=(b[3*g+e]+b[3*e+g])*c}return a},n.str=function(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"},"undefined"!=typeof a&&(a.quat=n)}(c.exports)}(this)}),a.register("gss/vendor/MutationObserver.js",function(){!function(a){function b(a){u.push(a),t||(t=!0,q(d))}function c(a){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(a)||a}function d(){t=!1;var a=u;u=[],a.sort(function(a,b){return a.uid_-b.uid_});var b=!1;a.forEach(function(a){var c=a.takeRecords();e(a),c.length&&(a.callback_(c,a),b=!0)}),b&&d()}function e(a){a.nodes_.forEach(function(b){var c=p.get(b);c&&c.forEach(function(b){b.observer===a&&b.removeTransientObservers()})})}function f(a,b){for(var c=a;c;c=c.parentNode){var d=p.get(c);if(d)for(var e=0;e<d.length;e++){var f=d[e],g=f.options;if(c===a||g.subtree){var h=b(g);h&&f.enqueue(h)}}}}function g(a){this.callback_=a,this.nodes_=[],this.records_=[],this.uid_=++v}function h(a,b){this.type=a,this.target=b,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function i(a){var b=new h(a.type,a.target);return b.addedNodes=a.addedNodes.slice(),b.removedNodes=a.removedNodes.slice(),b.previousSibling=a.previousSibling,b.nextSibling=a.nextSibling,b.attributeName=a.attributeName,b.attributeNamespace=a.attributeNamespace,b.oldValue=a.oldValue,b}function j(a,b){return w=new h(a,b)}function k(a){return x?x:(x=i(w),x.oldValue=a,x)}function l(){w=x=void 0}function m(a){return a===x||a===w}function n(a,b){return a===b?a:x&&m(a)?x:null}function o(a,b,c){this.observer=a,this.target=b,this.options=c,this.transientObservedNodes=[]}var p=new WeakMap,q=window.msSetImmediate||window.setImmediate;if(!q){var r=[],s=String(Math.random());window.addEventListener("message",function(a){if(a.data===s){var b=r;r=[],b.forEach(function(a){a()})}}),q=function(a){r.push(a),window.postMessage(s,"*")}}var t=!1,u=[],v=0;g.prototype={observe:function(a,b){if(a=c(a),!b.childList&&!b.attributes&&!b.characterData||b.attributeOldValue&&!b.attributes||b.attributeFilter&&b.attributeFilter.length&&!b.attributes||b.characterDataOldValue&&!b.characterData)throw new SyntaxError;var d=p.get(a);d||p.set(a,d=[]);for(var e,f=0;f<d.length;f++)if(d[f].observer===this){e=d[f],e.removeListeners(),e.options=b;break}e||(e=new o(this,a,b),d.push(e),this.nodes_.push(a)),e.addListeners()},disconnect:function(){this.nodes_.forEach(function(a){for(var b=p.get(a),c=0;c<b.length;c++){var d=b[c];if(d.observer===this){d.removeListeners(),b.splice(c,1);break}}},this),this.records_=[]},takeRecords:function(){var a=this.records_;return this.records_=[],a}};var w,x;o.prototype={enqueue:function(a){var c=this.observer.records_,d=c.length;if(c.length>0){var e=c[d-1],f=n(e,a);if(f)return void(c[d-1]=f)}else b(this.observer);c[d]=a},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(a){var b=this.options;b.attributes&&a.addEventListener("DOMAttrModified",this,!0),b.characterData&&a.addEventListener("DOMCharacterDataModified",this,!0),b.childList&&a.addEventListener("DOMNodeInserted",this,!0),(b.childList||b.subtree)&&a.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(a){var b=this.options;b.attributes&&a.removeEventListener("DOMAttrModified",this,!0),b.characterData&&a.removeEventListener("DOMCharacterDataModified",this,!0),b.childList&&a.removeEventListener("DOMNodeInserted",this,!0),(b.childList||b.subtree)&&a.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(a){if(a!==this.target){this.addListeners_(a),this.transientObservedNodes.push(a);var b=p.get(a);b||p.set(a,b=[]),b.push(this)}},removeTransientObservers:function(){var a=this.transientObservedNodes;this.transientObservedNodes=[],a.forEach(function(a){this.removeListeners_(a);for(var b=p.get(a),c=0;c<b.length;c++)if(b[c]===this){b.splice(c,1);break}},this)},handleEvent:function(a){switch(a.stopImmediatePropagation(),a.type){case"DOMAttrModified":var b=a.attrName,c=a.relatedNode.namespaceURI,d=a.target,e=new j("attributes",d);e.attributeName=b,e.attributeNamespace=c;var g=a.attrChange===MutationEvent.ADDITION?null:a.prevValue;f(d,function(a){return!a.attributes||a.attributeFilter&&a.attributeFilter.length&&-1===a.attributeFilter.indexOf(b)&&-1===a.attributeFilter.indexOf(c)?void 0:a.attributeOldValue?k(g):e});break;case"DOMCharacterDataModified":var d=a.target,e=j("characterData",d),g=a.prevValue;f(d,function(a){return a.characterData?a.characterDataOldValue?k(g):e:void 0});break;case"DOMNodeRemoved":this.addTransientObserver(a.target);case"DOMNodeInserted":var h,i,d=a.relatedNode,m=a.target;"DOMNodeInserted"===a.type?(h=[m],i=[]):(h=[],i=[m]);var n=m.previousSibling,o=m.nextSibling,e=j("childList",d);e.addedNodes=h,e.removedNodes=i,e.previousSibling=n,e.nextSibling=o,f(d,function(a){return a.childList?e:void 0})}l()}},a.JsMutationObserver=g,a.MutationObserver||(a.MutationObserver=g)}(this)}),a.register("gss/vendor/MutationObserver.attributes.js",function(){var a=function(a){"___test___"==a[0].attributeName&&(delete HTMLElement.prototype.removeAttribute,delete HTMLElement.prototype.__removeAttribute,delete HTMLElement.prototype.setAttribute,delete HTMLElement.prototype.__setAttribute)},b=new MutationObserver(a),c=document.createElement("div");b.observe(c,{attributes:!0}),c.setAttribute("___test___",!0),setTimeout(function(){b.disconnect(),c.removeAttribute("___test___")},10),HTMLElement.prototype.__removeAttribute=HTMLElement.prototype.removeAttribute,HTMLElement.prototype.removeAttribute=function(a){var b=this.getAttribute(a);this.__removeAttribute(a);var c=document.createEvent("MutationEvent");c.initMutationEvent("DOMAttrModified",!0,!1,this,b,"",a,c.REMOVAL),this.dispatchEvent(c)},HTMLElement.prototype.__setAttribute=HTMLElement.prototype.setAttribute,HTMLElement.prototype.setAttribute=function(a,b){var c=this.getAttribute(a);if(this.__setAttribute(a,b),b=this.getAttribute(a),b!=c){var d=document.createEvent("MutationEvent");d.initMutationEvent("DOMAttrModified",!0,!1,this,c||"",b||"",a,null==c?d.ADDITION:d.MODIFICATION),d.prevValue=c,d.attrName=a,this.dispatchEvent(d)}}}),a.register("gss/vendor/MutationObserver.classList.js",function(){var a=function(a){"class"==a[0].attributeName&&delete HTMLElement.prototype.classList},b=new MutationObserver(a),c=document.createElement("div");b.observe(c,{attributes:!0}),c.classList.add("___test___"),setTimeout(function(){b.disconnect(),c.classList.remove("___test___")},10),"document"in self&&!function(a){if("Element"in a){var b="classList",c="prototype",d=a.Element[c],e=Object,f=String[c].trim||function(){return this.replace(/^\s+|\s+$/g,"")},g=Array[c].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1},h=function(a,b){this.name=a,this.code=DOMException[a],this.message=b},i=function(a,b){if(""===b)throw new h("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(b))throw new h("INVALID_CHARACTER_ERR","String contains an invalid character");return g.call(a,b)},j=function(a){for(var b=f.call(a.getAttribute("class")||""),c=b?b.split(/\s+/):[],d=0,e=c.length;e>d;d++)this.push(c[d]);this._updateClassName=function(){a.setAttribute("class",this.toString())}},k=j[c]=[],l=function(){return new j(this)};if(h[c]=Error[c],k.item=function(a){return this[a]||null},k.contains=function(a){return a+="",-1!==i(this,a)},k.add=function(){var a,b=arguments,c=0,d=b.length,e=!1;do a=b[c]+"",-1===i(this,a)&&(this.push(a),e=!0);while(++c<d);e&&this._updateClassName()},k.remove=function(){var a,b=arguments,c=0,d=b.length,e=!1;do{a=b[c]+"";var f=i(this,a);-1!==f&&(this.splice(f,1),e=!0)}while(++c<d);e&&this._updateClassName()},k.toggle=function(a,b){a+="";var c=this.contains(a),d=c?b!==!0&&"remove":b!==!1&&"add";return d&&this[d](a),!c},k.toString=function(){return this.join(" ")},klassList=HTMLElement.prototype.classList,e.defineProperty){var m={get:l,enumerable:!0,configurable:!0};try{e.defineProperty(d,b,m)}catch(n){-2146823252===n.number&&(m.enumerable=!1,e.defineProperty(d,b,m))}}else e[c].__defineGetter__&&d.__defineGetter__(b,l);try{HTMLElement.prototype.classList==klassList&&(HTMLElement.prototype.classList=j)}catch(o){}}}(self)}),a.register("gss-error-reporter/component.json",function(a,b,c){c.exports={name:"error-reporter",description:"Provide source code context when reporting errors.",author:"Paul Young",repo:"gss/error-reporter",version:"0.1.4",json:["component.json"],scripts:["lib/error-reporter.js"],main:"lib/error-reporter.js"}}),a.register("the-gss-error-reporter/component.json",function(a,b,c){c.exports={name:"error-reporter",description:"Provide source code context when reporting errors.",author:"Paul Young",repo:"gss/error-reporter",version:"0.1.4",json:["component.json"],scripts:["lib/error-reporter.js"],main:"lib/error-reporter.js"}}),a.register("gss-ccss-compiler/component.json",function(a,b,c){c.exports={name:"ccss-compiler",description:"Constraint Cascading Style Sheets compiler",author:"Dan Tocchini <d4@thegrid.io>",repo:"gss/ccss-compiler",version:"1.1.2-beta",json:["component.json"],scripts:["lib/compiler.js","lib/grammar.js","lib/parser.js"],dependencies:{"gss/error-reporter":"*","gss/vfl-compiler":"*","gss/vgl-compiler":"*"},main:"lib/compiler.js",license:"MIT"}}),a.register("gss/component.json",function(a,b,c){c.exports={name:"gss",repo:"the-gss/engine",description:"GSS runtime",version:"1.0.4-beta",author:"Dan Tocchini <d4@thegrid.io>",repo:"the-gss/engine",json:["component.json"],scripts:["lib/Engine.js","lib/methods/Algebra.js","lib/methods/Conventions.js","lib/methods/Native.js","lib/methods/Rules.js","lib/methods/Selectors.js","lib/methods/Transformations.js","lib/methods/Types.js","lib/methods/Units.js","lib/methods/Variables.js","lib/concepts/Console.js","lib/concepts/Wrapper.js","lib/concepts/Domain.js","lib/concepts/Events.js","lib/concepts/Method.js","lib/concepts/Parser.js","lib/concepts/Property.js","lib/concepts/Style.js","lib/concepts/Update.js","lib/domains/Numeric.js","lib/domains/Abstract.js","lib/domains/Boolean.js","lib/domains/Linear.js","lib/domains/Intrinsic.js","lib/domains/Finite.js","lib/domains/Document.js","lib/modules/Expressions.js","lib/modules/Identity.js","lib/modules/Positions.js","lib/modules/Queries.js","lib/modules/Mutations.js","lib/modules/Pairs.js","lib/modules/Stylesheets.js","lib/properties/Axioms.js","lib/properties/Dimensions.js","lib/properties/Properties.js","lib/properties/Styles.js","vendor/gl-matrix.js","vendor/MutationObserver.js","vendor/MutationObserver.attributes.js","vendor/MutationObserver.classList.js"],dependencies:{"gss/ccss-compiler":"new","d4tocchini/customevent-polyfill":"*","slightlyoff/cassowary.js":"*"},files:["vendor/observe.js","vendor/sidetable.js"],paths:["/Users/invizko/Sites/the-gss"],locals:["the-compiler","ccss-compiler"],main:"lib/Engine.js"}}),a.alias("gss-ccss-compiler/lib/compiler.js","gss/deps/ccss-compiler/lib/compiler.js"),a.alias("gss-ccss-compiler/lib/grammar.js","gss/deps/ccss-compiler/lib/grammar.js"),a.alias("gss-ccss-compiler/lib/parser.js","gss/deps/ccss-compiler/lib/parser.js"),a.alias("gss-ccss-compiler/lib/compiler.js","gss/deps/ccss-compiler/index.js"),a.alias("gss-ccss-compiler/lib/compiler.js","ccss-compiler/index.js"),a.alias("gss-error-reporter/lib/error-reporter.js","gss-ccss-compiler/deps/error-reporter/lib/error-reporter.js"),a.alias("gss-error-reporter/lib/error-reporter.js","gss-ccss-compiler/deps/error-reporter/index.js"),a.alias("gss-error-reporter/lib/error-reporter.js","gss-error-reporter/index.js"),a.alias("gss-vfl-compiler/lib/compiler.js","gss-ccss-compiler/deps/vfl-compiler/lib/compiler.js"),a.alias("gss-vfl-compiler/lib/parser.js","gss-ccss-compiler/deps/vfl-compiler/lib/parser.js"),a.alias("gss-vfl-compiler/lib/compiler.js","gss-ccss-compiler/deps/vfl-compiler/index.js"),a.alias("the-gss-error-reporter/lib/error-reporter.js","gss-vfl-compiler/deps/error-reporter/lib/error-reporter.js"),a.alias("the-gss-error-reporter/lib/error-reporter.js","gss-vfl-compiler/deps/error-reporter/index.js"),a.alias("the-gss-error-reporter/lib/error-reporter.js","the-gss-error-reporter/index.js"),a.alias("gss-vfl-compiler/lib/compiler.js","gss-vfl-compiler/index.js"),a.alias("gss-vgl-compiler/lib/compiler.js","gss-ccss-compiler/deps/vgl-compiler/lib/compiler.js"),a.alias("gss-vgl-compiler/lib/parser.js","gss-ccss-compiler/deps/vgl-compiler/lib/parser.js"),a.alias("gss-vgl-compiler/lib/compiler.js","gss-ccss-compiler/deps/vgl-compiler/index.js"),a.alias("the-gss-error-reporter/lib/error-reporter.js","gss-vgl-compiler/deps/error-reporter/lib/error-reporter.js"),a.alias("the-gss-error-reporter/lib/error-reporter.js","gss-vgl-compiler/deps/error-reporter/index.js"),a.alias("the-gss-error-reporter/lib/error-reporter.js","the-gss-error-reporter/index.js"),a.alias("gss-vgl-compiler/lib/compiler.js","gss-vgl-compiler/index.js"),a.alias("gss-ccss-compiler/lib/compiler.js","gss-ccss-compiler/index.js"),a.alias("d4tocchini-customevent-polyfill/CustomEvent.js","gss/deps/customevent-polyfill/CustomEvent.js"),a.alias("d4tocchini-customevent-polyfill/CustomEvent.js","gss/deps/customevent-polyfill/index.js"),a.alias("d4tocchini-customevent-polyfill/CustomEvent.js","customevent-polyfill/index.js"),a.alias("d4tocchini-customevent-polyfill/CustomEvent.js","d4tocchini-customevent-polyfill/index.js"),a.alias("slightlyoff-cassowary.js/index.js","gss/deps/cassowary/index.js"),a.alias("slightlyoff-cassowary.js/src/c.js","gss/deps/cassowary/src/c.js"),a.alias("slightlyoff-cassowary.js/src/HashTable.js","gss/deps/cassowary/src/HashTable.js"),a.alias("slightlyoff-cassowary.js/src/HashSet.js","gss/deps/cassowary/src/HashSet.js"),a.alias("slightlyoff-cassowary.js/src/Error.js","gss/deps/cassowary/src/Error.js"),a.alias("slightlyoff-cassowary.js/src/SymbolicWeight.js","gss/deps/cassowary/src/SymbolicWeight.js"),a.alias("slightlyoff-cassowary.js/src/Strength.js","gss/deps/cassowary/src/Strength.js"),a.alias("slightlyoff-cassowary.js/src/Variable.js","gss/deps/cassowary/src/Variable.js"),a.alias("slightlyoff-cassowary.js/src/Point.js","gss/deps/cassowary/src/Point.js"),a.alias("slightlyoff-cassowary.js/src/Expression.js","gss/deps/cassowary/src/Expression.js"),a.alias("slightlyoff-cassowary.js/src/Constraint.js","gss/deps/cassowary/src/Constraint.js"),a.alias("slightlyoff-cassowary.js/src/EditInfo.js","gss/deps/cassowary/src/EditInfo.js"),a.alias("slightlyoff-cassowary.js/src/Tableau.js","gss/deps/cassowary/src/Tableau.js"),a.alias("slightlyoff-cassowary.js/src/SimplexSolver.js","gss/deps/cassowary/src/SimplexSolver.js"),a.alias("slightlyoff-cassowary.js/src/Timer.js","gss/deps/cassowary/src/Timer.js"),a.alias("slightlyoff-cassowary.js/src/parser/parser.js","gss/deps/cassowary/src/parser/parser.js"),a.alias("slightlyoff-cassowary.js/src/parser/api.js","gss/deps/cassowary/src/parser/api.js"),a.alias("slightlyoff-cassowary.js/index.js","cassowary/index.js"),a.alias("gss/lib/Engine.js","gss/index.js"),"object"==typeof exports?module.exports=a("gss"):"function"==typeof define&&define.amd?define([],function(){return a("gss")}):this.gss=a("gss")}();